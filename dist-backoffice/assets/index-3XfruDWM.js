var _X=Object.defineProperty;var wX=(e,t,n)=>t in e?_X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var s0=(e,t,n)=>wX(e,typeof t!="symbol"?t+"":t,n);function A6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N6={exports:{}},px={},P6={exports:{}},Mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=Symbol.for("react.element"),SX=Symbol.for("react.portal"),CX=Symbol.for("react.fragment"),TX=Symbol.for("react.strict_mode"),kX=Symbol.for("react.profiler"),EX=Symbol.for("react.provider"),MX=Symbol.for("react.context"),AX=Symbol.for("react.forward_ref"),NX=Symbol.for("react.suspense"),PX=Symbol.for("react.memo"),BX=Symbol.for("react.lazy"),GB=Symbol.iterator;function RX(e){return e===null||typeof e!="object"?null:(e=GB&&e[GB]||e["@@iterator"],typeof e=="function"?e:null)}var B6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R6=Object.assign,j6={};function mp(e,t,n){this.props=e,this.context=t,this.refs=j6,this.updater=n||B6}mp.prototype.isReactComponent={};mp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};mp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I6(){}I6.prototype=mp.prototype;function gA(e,t,n){this.props=e,this.context=t,this.refs=j6,this.updater=n||B6}var vA=gA.prototype=new I6;vA.constructor=gA;R6(vA,mp.prototype);vA.isPureReactComponent=!0;var $B=Array.isArray,z6=Object.prototype.hasOwnProperty,yA={current:null},L6={key:!0,ref:!0,__self:!0,__source:!0};function D6(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)z6.call(t,r)&&!L6.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ev,type:e,key:o,ref:a,props:i,_owner:yA.current}}function jX(e,t){return{$$typeof:ev,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bA(e){return typeof e=="object"&&e!==null&&e.$$typeof===ev}function IX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var XB=/\/+/g;function y_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IX(""+e.key):t.toString(36)}function Sy(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ev:case SX:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+y_(a,0):r,$B(i)?(n="",e!=null&&(n=e.replace(XB,"$&/")+"/"),Sy(i,t,n,"",function(u){return u})):i!=null&&(bA(i)&&(i=jX(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(XB,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",$B(e))for(var s=0;s<e.length;s++){o=e[s];var c=r+y_(o,s);a+=Sy(o,t,n,c,i)}else if(c=RX(e),typeof c=="function")for(e=c.call(e),s=0;!(o=e.next()).done;)o=o.value,c=r+y_(o,s++),a+=Sy(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function l0(e,t,n){if(e==null)return e;var r=[],i=0;return Sy(e,r,"","",function(o){return t.call(n,o,i++)}),r}function zX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lo={current:null},Cy={transition:null},LX={ReactCurrentDispatcher:Lo,ReactCurrentBatchConfig:Cy,ReactCurrentOwner:yA};function O6(){throw Error("act(...) is not supported in production builds of React.")}Mn.Children={map:l0,forEach:function(e,t,n){l0(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return l0(e,function(){t++}),t},toArray:function(e){return l0(e,function(t){return t})||[]},only:function(e){if(!bA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mn.Component=mp;Mn.Fragment=CX;Mn.Profiler=kX;Mn.PureComponent=gA;Mn.StrictMode=TX;Mn.Suspense=NX;Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LX;Mn.act=O6;Mn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=R6({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=yA.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)z6.call(t,c)&&!L6.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ev,type:e.type,key:i,ref:o,props:r,_owner:a}};Mn.createContext=function(e){return e={$$typeof:MX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EX,_context:e},e.Consumer=e};Mn.createElement=D6;Mn.createFactory=function(e){var t=D6.bind(null,e);return t.type=e,t};Mn.createRef=function(){return{current:null}};Mn.forwardRef=function(e){return{$$typeof:AX,render:e}};Mn.isValidElement=bA;Mn.lazy=function(e){return{$$typeof:BX,_payload:{_status:-1,_result:e},_init:zX}};Mn.memo=function(e,t){return{$$typeof:PX,type:e,compare:t===void 0?null:t}};Mn.startTransition=function(e){var t=Cy.transition;Cy.transition={};try{e()}finally{Cy.transition=t}};Mn.unstable_act=O6;Mn.useCallback=function(e,t){return Lo.current.useCallback(e,t)};Mn.useContext=function(e){return Lo.current.useContext(e)};Mn.useDebugValue=function(){};Mn.useDeferredValue=function(e){return Lo.current.useDeferredValue(e)};Mn.useEffect=function(e,t){return Lo.current.useEffect(e,t)};Mn.useId=function(){return Lo.current.useId()};Mn.useImperativeHandle=function(e,t,n){return Lo.current.useImperativeHandle(e,t,n)};Mn.useInsertionEffect=function(e,t){return Lo.current.useInsertionEffect(e,t)};Mn.useLayoutEffect=function(e,t){return Lo.current.useLayoutEffect(e,t)};Mn.useMemo=function(e,t){return Lo.current.useMemo(e,t)};Mn.useReducer=function(e,t,n){return Lo.current.useReducer(e,t,n)};Mn.useRef=function(e){return Lo.current.useRef(e)};Mn.useState=function(e){return Lo.current.useState(e)};Mn.useSyncExternalStore=function(e,t,n){return Lo.current.useSyncExternalStore(e,t,n)};Mn.useTransition=function(){return Lo.current.useTransition()};Mn.version="18.3.1";P6.exports=Mn;var x=P6.exports;const Hd=Qg(x),Jy=A6({__proto__:null,default:Hd},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DX=x,OX=Symbol.for("react.element"),FX=Symbol.for("react.fragment"),UX=Object.prototype.hasOwnProperty,qX=DX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HX={key:!0,ref:!0,__self:!0,__source:!0};function F6(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)UX.call(t,r)&&!HX.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:OX,type:e,key:o,ref:a,props:i,_owner:qX.current}}px.Fragment=FX;px.jsx=F6;px.jsxs=F6;N6.exports=px;var l=N6.exports;const VX=Qg(l),WX=A6({__proto__:null,default:VX},[l]);var dE={},U6={exports:{}},Na={},q6={exports:{}},H6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,V){var H=F.length;F.push(V);e:for(;0<H;){var te=H-1>>>1,Z=F[te];if(0<i(Z,V))F[te]=V,F[H]=Z,H=te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],H=F.pop();if(H!==V){F[0]=H;e:for(var te=0,Z=F.length,Q=Z>>>1;te<Q;){var re=2*(te+1)-1,ue=F[re],oe=re+1,be=F[oe];if(0>i(ue,H))oe<Z&&0>i(be,ue)?(F[te]=be,F[oe]=H,te=oe):(F[te]=ue,F[re]=H,te=re);else if(oe<Z&&0>i(be,H))F[te]=be,F[oe]=H,te=oe;else break e}}return V}function i(F,V){var H=F.sortIndex-V.sortIndex;return H!==0?H:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var c=[],u=[],d=1,f=null,p=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=F)r(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(u)}}function C(F){if(v=!1,w(F),!g)if(n(c)!==null)g=!0,z(M);else{var V=n(u);V!==null&&W(C,V.startTime-F)}}function M(F,V){g=!1,v&&(v=!1,y(I),I=-1),m=!0;var H=p;try{for(w(V),f=n(c);f!==null&&(!(f.expirationTime>V)||F&&!D());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var Z=te(f.expirationTime<=V);V=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&r(c),w(V)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var re=n(u);re!==null&&W(C,re.startTime-V),Q=!1}return Q}finally{f=null,p=H,m=!1}}var A=!1,E=null,I=-1,N=5,P=-1;function D(){return!(e.unstable_now()-P<N)}function q(){if(E!==null){var F=e.unstable_now();P=F;var V=!0;try{V=E(!0,F)}finally{V?$():(A=!1,E=null)}}else A=!1}var $;if(typeof S=="function")$=function(){S(q)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,O=j.port2;j.port1.onmessage=q,$=function(){O.postMessage(null)}}else $=function(){_(q,0)};function z(F){E=F,A||(A=!0,$())}function W(F,V){I=_(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,z(M))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return F()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=p;p=F;try{return V()}finally{p=H}},e.unstable_scheduleCallback=function(F,V,H){var te=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,F={id:d++,callback:V,priorityLevel:F,startTime:H,expirationTime:Z,sortIndex:-1},H>te?(F.sortIndex=H,t(u,F),n(c)===null&&F===n(u)&&(v?(y(I),I=-1):v=!0,W(C,H-te))):(F.sortIndex=Z,t(c,F),g||m||(g=!0,z(M))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var V=p;return function(){var H=p;p=V;try{return F.apply(this,arguments)}finally{p=H}}}})(H6);q6.exports=H6;var GX=q6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $X=x,ka=GX;function vt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V6=new Set,dg={};function nf(e,t){Ih(e,t),Ih(e+"Capture",t)}function Ih(e,t){for(dg[e]=t,e=0;e<t.length;e++)V6.add(t[e])}var hc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fE=Object.prototype.hasOwnProperty,XX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZB={},KB={};function ZX(e){return fE.call(KB,e)?!0:fE.call(ZB,e)?!1:XX.test(e)?KB[e]=!0:(ZB[e]=!0,!1)}function KX(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function YX(e,t,n,r){if(t===null||typeof t>"u"||KX(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Do(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var no={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){no[e]=new Do(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];no[t]=new Do(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){no[e]=new Do(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){no[e]=new Do(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){no[e]=new Do(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){no[e]=new Do(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){no[e]=new Do(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){no[e]=new Do(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){no[e]=new Do(e,5,!1,e.toLowerCase(),null,!1,!1)});var xA=/[\-:]([a-z])/g;function _A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xA,_A);no[t]=new Do(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xA,_A);no[t]=new Do(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xA,_A);no[t]=new Do(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){no[e]=new Do(e,1,!1,e.toLowerCase(),null,!1,!1)});no.xlinkHref=new Do("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){no[e]=new Do(e,1,!1,e.toLowerCase(),null,!0,!0)});function wA(e,t,n,r){var i=no.hasOwnProperty(t)?no[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(YX(t,n,i,r)&&(n=null),r||i===null?ZX(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sc=$X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c0=Symbol.for("react.element"),oh=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),W6=Symbol.for("react.provider"),G6=Symbol.for("react.context"),CA=Symbol.for("react.forward_ref"),pE=Symbol.for("react.suspense"),mE=Symbol.for("react.suspense_list"),TA=Symbol.for("react.memo"),iu=Symbol.for("react.lazy"),$6=Symbol.for("react.offscreen"),YB=Symbol.iterator;function rm(e){return e===null||typeof e!="object"?null:(e=YB&&e[YB]||e["@@iterator"],typeof e=="function"?e:null)}var Kr=Object.assign,b_;function Nm(e){if(b_===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b_=t&&t[1]||""}return`
`+b_+e}var x_=!1;function __(e,t){if(!e||x_)return"";x_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=s);break}}}finally{x_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nm(e):""}function JX(e){switch(e.tag){case 5:return Nm(e.type);case 16:return Nm("Lazy");case 13:return Nm("Suspense");case 19:return Nm("SuspenseList");case 0:case 2:case 15:return e=__(e.type,!1),e;case 11:return e=__(e.type.render,!1),e;case 1:return e=__(e.type,!0),e;default:return""}}function gE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ah:return"Fragment";case oh:return"Portal";case hE:return"Profiler";case SA:return"StrictMode";case pE:return"Suspense";case mE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case G6:return(e.displayName||"Context")+".Consumer";case W6:return(e._context.displayName||"Context")+".Provider";case CA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case TA:return t=e.displayName||null,t!==null?t:gE(e.type)||"Memo";case iu:t=e._payload,e=e._init;try{return gE(e(t))}catch{}}return null}function QX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gE(t);case 8:return t===SA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eZ(e){var t=X6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function u0(e){e._valueTracker||(e._valueTracker=eZ(e))}function Z6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X6(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vE(e,t){var n=t.checked;return Kr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function JB(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K6(e,t){t=t.checked,t!=null&&wA(e,"checked",t,!1)}function yE(e,t){K6(e,t);var n=Pu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bE(e,t.type,n):t.hasOwnProperty("defaultValue")&&bE(e,t.type,Pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QB(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bE(e,t,n){(t!=="number"||Qy(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pm=Array.isArray;function Sh(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(vt(91));return Kr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eR(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(vt(92));if(Pm(n)){if(1<n.length)throw Error(vt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pu(n)}}function Y6(e,t){var n=Pu(t.value),r=Pu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function tR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _E(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var d0,Q6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(d0=d0||document.createElement("div"),d0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=d0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tZ=["Webkit","ms","Moz","O"];Object.keys(Wm).forEach(function(e){tZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wm[t]=Wm[e]})});function eU(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wm.hasOwnProperty(e)&&Wm[e]?(""+t).trim():t+"px"}function tU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eU(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var nZ=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wE(e,t){if(t){if(nZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(vt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(vt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(vt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(vt(62))}}function SE(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CE=null;function kA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var TE=null,Ch=null,Th=null;function nR(e){if(e=rv(e)){if(typeof TE!="function")throw Error(vt(280));var t=e.stateNode;t&&(t=bx(t),TE(e.stateNode,e.type,t))}}function nU(e){Ch?Th?Th.push(e):Th=[e]:Ch=e}function rU(){if(Ch){var e=Ch,t=Th;if(Th=Ch=null,nR(e),t)for(e=0;e<t.length;e++)nR(t[e])}}function iU(e,t){return e(t)}function oU(){}var w_=!1;function aU(e,t,n){if(w_)return e(t,n);w_=!0;try{return iU(e,t,n)}finally{w_=!1,(Ch!==null||Th!==null)&&(oU(),rU())}}function hg(e,t){var n=e.stateNode;if(n===null)return null;var r=bx(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(vt(231,t,typeof n));return n}var kE=!1;if(hc)try{var im={};Object.defineProperty(im,"passive",{get:function(){kE=!0}}),window.addEventListener("test",im,im),window.removeEventListener("test",im,im)}catch{kE=!1}function rZ(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Gm=!1,eb=null,tb=!1,EE=null,iZ={onError:function(e){Gm=!0,eb=e}};function oZ(e,t,n,r,i,o,a,s,c){Gm=!1,eb=null,rZ.apply(iZ,arguments)}function aZ(e,t,n,r,i,o,a,s,c){if(oZ.apply(this,arguments),Gm){if(Gm){var u=eb;Gm=!1,eb=null}else throw Error(vt(198));tb||(tb=!0,EE=u)}}function rf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rR(e){if(rf(e)!==e)throw Error(vt(188))}function sZ(e){var t=e.alternate;if(!t){if(t=rf(e),t===null)throw Error(vt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return rR(i),e;if(o===r)return rR(i),t;o=o.sibling}throw Error(vt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(vt(189))}}if(n.alternate!==r)throw Error(vt(190))}if(n.tag!==3)throw Error(vt(188));return n.stateNode.current===n?e:t}function lU(e){return e=sZ(e),e!==null?cU(e):null}function cU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cU(e);if(t!==null)return t;e=e.sibling}return null}var uU=ka.unstable_scheduleCallback,iR=ka.unstable_cancelCallback,lZ=ka.unstable_shouldYield,cZ=ka.unstable_requestPaint,li=ka.unstable_now,uZ=ka.unstable_getCurrentPriorityLevel,EA=ka.unstable_ImmediatePriority,dU=ka.unstable_UserBlockingPriority,nb=ka.unstable_NormalPriority,dZ=ka.unstable_LowPriority,fU=ka.unstable_IdlePriority,mx=null,pl=null;function fZ(e){if(pl&&typeof pl.onCommitFiberRoot=="function")try{pl.onCommitFiberRoot(mx,e,void 0,(e.current.flags&128)===128)}catch{}}var Bs=Math.clz32?Math.clz32:mZ,hZ=Math.log,pZ=Math.LN2;function mZ(e){return e>>>=0,e===0?32:31-(hZ(e)/pZ|0)|0}var f0=64,h0=4194304;function Bm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rb(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Bm(s):(o&=a,o!==0&&(r=Bm(o)))}else a=n&~i,a!==0?r=Bm(a):o!==0&&(r=Bm(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bs(t),i=1<<n,r|=e[n],t&=~i;return r}function gZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vZ(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Bs(o),s=1<<a,c=i[a];c===-1?(!(s&n)||s&r)&&(i[a]=gZ(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}function ME(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hU(){var e=f0;return f0<<=1,!(f0&4194240)&&(f0=64),e}function S_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tv(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bs(t),e[t]=n}function yZ(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Bs(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function MA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var sr=0;function pU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mU,AA,gU,vU,yU,AE=!1,p0=[],vu=null,yu=null,bu=null,pg=new Map,mg=new Map,au=[],bZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oR(e,t){switch(e){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":yu=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":pg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mg.delete(t.pointerId)}}function om(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=rv(t),t!==null&&AA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xZ(e,t,n,r,i){switch(t){case"focusin":return vu=om(vu,e,t,n,r,i),!0;case"dragenter":return yu=om(yu,e,t,n,r,i),!0;case"mouseover":return bu=om(bu,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return pg.set(o,om(pg.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mg.set(o,om(mg.get(o)||null,e,t,n,r,i)),!0}return!1}function bU(e){var t=Td(e.target);if(t!==null){var n=rf(t);if(n!==null){if(t=n.tag,t===13){if(t=sU(n),t!==null){e.blockedOn=t,yU(e.priority,function(){gU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ty(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=NE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);CE=r,n.target.dispatchEvent(r),CE=null}else return t=rv(n),t!==null&&AA(t),e.blockedOn=n,!1;t.shift()}return!0}function aR(e,t,n){Ty(e)&&n.delete(t)}function _Z(){AE=!1,vu!==null&&Ty(vu)&&(vu=null),yu!==null&&Ty(yu)&&(yu=null),bu!==null&&Ty(bu)&&(bu=null),pg.forEach(aR),mg.forEach(aR)}function am(e,t){e.blockedOn===t&&(e.blockedOn=null,AE||(AE=!0,ka.unstable_scheduleCallback(ka.unstable_NormalPriority,_Z)))}function gg(e){function t(i){return am(i,e)}if(0<p0.length){am(p0[0],e);for(var n=1;n<p0.length;n++){var r=p0[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vu!==null&&am(vu,e),yu!==null&&am(yu,e),bu!==null&&am(bu,e),pg.forEach(t),mg.forEach(t),n=0;n<au.length;n++)r=au[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<au.length&&(n=au[0],n.blockedOn===null);)bU(n),n.blockedOn===null&&au.shift()}var kh=Sc.ReactCurrentBatchConfig,ib=!0;function wZ(e,t,n,r){var i=sr,o=kh.transition;kh.transition=null;try{sr=1,NA(e,t,n,r)}finally{sr=i,kh.transition=o}}function SZ(e,t,n,r){var i=sr,o=kh.transition;kh.transition=null;try{sr=4,NA(e,t,n,r)}finally{sr=i,kh.transition=o}}function NA(e,t,n,r){if(ib){var i=NE(e,t,n,r);if(i===null)R_(e,t,r,ob,n),oR(e,r);else if(xZ(i,e,t,n,r))r.stopPropagation();else if(oR(e,r),t&4&&-1<bZ.indexOf(e)){for(;i!==null;){var o=rv(i);if(o!==null&&mU(o),o=NE(e,t,n,r),o===null&&R_(e,t,r,ob,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else R_(e,t,r,null,n)}}var ob=null;function NE(e,t,n,r){if(ob=null,e=kA(r),e=Td(e),e!==null)if(t=rf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ob=e,null}function xU(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uZ()){case EA:return 1;case dU:return 4;case nb:case dZ:return 16;case fU:return 536870912;default:return 16}default:return 16}}var fu=null,PA=null,ky=null;function _U(){if(ky)return ky;var e,t=PA,n=t.length,r,i="value"in fu?fu.value:fu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return ky=i.slice(e,1<r?1-r:void 0)}function Ey(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function m0(){return!0}function sR(){return!1}function Pa(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?m0:sR,this.isPropagationStopped=sR,this}return Kr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m0)},persist:function(){},isPersistent:m0}),t}var gp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BA=Pa(gp),nv=Kr({},gp,{view:0,detail:0}),CZ=Pa(nv),C_,T_,sm,gx=Kr({},nv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sm&&(sm&&e.type==="mousemove"?(C_=e.screenX-sm.screenX,T_=e.screenY-sm.screenY):T_=C_=0,sm=e),C_)},movementY:function(e){return"movementY"in e?e.movementY:T_}}),lR=Pa(gx),TZ=Kr({},gx,{dataTransfer:0}),kZ=Pa(TZ),EZ=Kr({},nv,{relatedTarget:0}),k_=Pa(EZ),MZ=Kr({},gp,{animationName:0,elapsedTime:0,pseudoElement:0}),AZ=Pa(MZ),NZ=Kr({},gp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PZ=Pa(NZ),BZ=Kr({},gp,{data:0}),cR=Pa(BZ),RZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IZ[e])?!!t[e]:!1}function RA(){return zZ}var LZ=Kr({},nv,{key:function(e){if(e.key){var t=RZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ey(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RA,charCode:function(e){return e.type==="keypress"?Ey(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ey(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DZ=Pa(LZ),OZ=Kr({},gx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uR=Pa(OZ),FZ=Kr({},nv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RA}),UZ=Pa(FZ),qZ=Kr({},gp,{propertyName:0,elapsedTime:0,pseudoElement:0}),HZ=Pa(qZ),VZ=Kr({},gx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WZ=Pa(VZ),GZ=[9,13,27,32],jA=hc&&"CompositionEvent"in window,$m=null;hc&&"documentMode"in document&&($m=document.documentMode);var $Z=hc&&"TextEvent"in window&&!$m,wU=hc&&(!jA||$m&&8<$m&&11>=$m),dR=" ",fR=!1;function SU(e,t){switch(e){case"keyup":return GZ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CU(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sh=!1;function XZ(e,t){switch(e){case"compositionend":return CU(t);case"keypress":return t.which!==32?null:(fR=!0,dR);case"textInput":return e=t.data,e===dR&&fR?null:e;default:return null}}function ZZ(e,t){if(sh)return e==="compositionend"||!jA&&SU(e,t)?(e=_U(),ky=PA=fu=null,sh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wU&&t.locale!=="ko"?null:t.data;default:return null}}var KZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!KZ[e.type]:t==="textarea"}function TU(e,t,n,r){nU(r),t=ab(t,"onChange"),0<t.length&&(n=new BA("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xm=null,vg=null;function YZ(e){zU(e,0)}function vx(e){var t=uh(e);if(Z6(t))return e}function JZ(e,t){if(e==="change")return t}var kU=!1;if(hc){var E_;if(hc){var M_="oninput"in document;if(!M_){var pR=document.createElement("div");pR.setAttribute("oninput","return;"),M_=typeof pR.oninput=="function"}E_=M_}else E_=!1;kU=E_&&(!document.documentMode||9<document.documentMode)}function mR(){Xm&&(Xm.detachEvent("onpropertychange",EU),vg=Xm=null)}function EU(e){if(e.propertyName==="value"&&vx(vg)){var t=[];TU(t,vg,e,kA(e)),aU(YZ,t)}}function QZ(e,t,n){e==="focusin"?(mR(),Xm=t,vg=n,Xm.attachEvent("onpropertychange",EU)):e==="focusout"&&mR()}function eK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vx(vg)}function tK(e,t){if(e==="click")return vx(t)}function nK(e,t){if(e==="input"||e==="change")return vx(t)}function rK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var js=typeof Object.is=="function"?Object.is:rK;function yg(e,t){if(js(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fE.call(t,i)||!js(e[i],t[i]))return!1}return!0}function gR(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vR(e,t){var n=gR(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gR(n)}}function MU(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MU(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AU(){for(var e=window,t=Qy();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qy(e.document)}return t}function IA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iK(e){var t=AU(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&MU(n.ownerDocument.documentElement,n)){if(r!==null&&IA(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=vR(n,o);var a=vR(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oK=hc&&"documentMode"in document&&11>=document.documentMode,lh=null,PE=null,Zm=null,BE=!1;function yR(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;BE||lh==null||lh!==Qy(r)||(r=lh,"selectionStart"in r&&IA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zm&&yg(Zm,r)||(Zm=r,r=ab(PE,"onSelect"),0<r.length&&(t=new BA("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lh)))}function g0(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ch={animationend:g0("Animation","AnimationEnd"),animationiteration:g0("Animation","AnimationIteration"),animationstart:g0("Animation","AnimationStart"),transitionend:g0("Transition","TransitionEnd")},A_={},NU={};hc&&(NU=document.createElement("div").style,"AnimationEvent"in window||(delete ch.animationend.animation,delete ch.animationiteration.animation,delete ch.animationstart.animation),"TransitionEvent"in window||delete ch.transitionend.transition);function yx(e){if(A_[e])return A_[e];if(!ch[e])return e;var t=ch[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NU)return A_[e]=t[n];return e}var PU=yx("animationend"),BU=yx("animationiteration"),RU=yx("animationstart"),jU=yx("transitionend"),IU=new Map,bR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uu(e,t){IU.set(e,t),nf(t,[e])}for(var N_=0;N_<bR.length;N_++){var P_=bR[N_],aK=P_.toLowerCase(),sK=P_[0].toUpperCase()+P_.slice(1);Uu(aK,"on"+sK)}Uu(PU,"onAnimationEnd");Uu(BU,"onAnimationIteration");Uu(RU,"onAnimationStart");Uu("dblclick","onDoubleClick");Uu("focusin","onFocus");Uu("focusout","onBlur");Uu(jU,"onTransitionEnd");Ih("onMouseEnter",["mouseout","mouseover"]);Ih("onMouseLeave",["mouseout","mouseover"]);Ih("onPointerEnter",["pointerout","pointerover"]);Ih("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rm));function xR(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,aZ(r,t,void 0,e),e.currentTarget=null}function zU(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;xR(i,s,u),o=c}else for(a=0;a<r.length;a++){if(s=r[a],c=s.instance,u=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;xR(i,s,u),o=c}}}if(tb)throw e=EE,tb=!1,EE=null,e}function wr(e,t){var n=t[LE];n===void 0&&(n=t[LE]=new Set);var r=e+"__bubble";n.has(r)||(LU(t,e,2,!1),n.add(r))}function B_(e,t,n){var r=0;t&&(r|=4),LU(n,e,r,t)}var v0="_reactListening"+Math.random().toString(36).slice(2);function bg(e){if(!e[v0]){e[v0]=!0,V6.forEach(function(n){n!=="selectionchange"&&(lK.has(n)||B_(n,!1,e),B_(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[v0]||(t[v0]=!0,B_("selectionchange",!1,t))}}function LU(e,t,n,r){switch(xU(t)){case 1:var i=wZ;break;case 4:i=SZ;break;default:i=NA}n=i.bind(null,t,n,e),i=void 0,!kE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function R_(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Td(s),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}s=s.parentNode}}r=r.return}aU(function(){var u=o,d=kA(n),f=[];e:{var p=IU.get(e);if(p!==void 0){var m=BA,g=e;switch(e){case"keypress":if(Ey(n)===0)break e;case"keydown":case"keyup":m=DZ;break;case"focusin":g="focus",m=k_;break;case"focusout":g="blur",m=k_;break;case"beforeblur":case"afterblur":m=k_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UZ;break;case PU:case BU:case RU:m=AZ;break;case jU:m=HZ;break;case"scroll":m=CZ;break;case"wheel":m=WZ;break;case"copy":case"cut":case"paste":m=PZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uR}var v=(t&4)!==0,_=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var S=u,w;S!==null;){w=S;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,y!==null&&(C=hg(S,y),C!=null&&v.push(xg(S,C,w)))),_)break;S=S.return}0<v.length&&(p=new m(p,g,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==CE&&(g=n.relatedTarget||n.fromElement)&&(Td(g)||g[pc]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Td(g):null,g!==null&&(_=rf(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=lR,C="onMouseLeave",y="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(v=uR,C="onPointerLeave",y="onPointerEnter",S="pointer"),_=m==null?p:uh(m),w=g==null?p:uh(g),p=new v(C,S+"leave",m,n,d),p.target=_,p.relatedTarget=w,C=null,Td(d)===u&&(v=new v(y,S+"enter",g,n,d),v.target=w,v.relatedTarget=_,C=v),_=C,m&&g)t:{for(v=m,y=g,S=0,w=v;w;w=Rf(w))S++;for(w=0,C=y;C;C=Rf(C))w++;for(;0<S-w;)v=Rf(v),S--;for(;0<w-S;)y=Rf(y),w--;for(;S--;){if(v===y||y!==null&&v===y.alternate)break t;v=Rf(v),y=Rf(y)}v=null}else v=null;m!==null&&_R(f,p,m,v,!1),g!==null&&_!==null&&_R(f,_,g,v,!0)}}e:{if(p=u?uh(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=JZ;else if(hR(p))if(kU)M=nK;else{M=eK;var A=QZ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=tK);if(M&&(M=M(e,u))){TU(f,M,n,d);break e}A&&A(e,p,u),e==="focusout"&&(A=p._wrapperState)&&A.controlled&&p.type==="number"&&bE(p,"number",p.value)}switch(A=u?uh(u):window,e){case"focusin":(hR(A)||A.contentEditable==="true")&&(lh=A,PE=u,Zm=null);break;case"focusout":Zm=PE=lh=null;break;case"mousedown":BE=!0;break;case"contextmenu":case"mouseup":case"dragend":BE=!1,yR(f,n,d);break;case"selectionchange":if(oK)break;case"keydown":case"keyup":yR(f,n,d)}var E;if(jA)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else sh?SU(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(wU&&n.locale!=="ko"&&(sh||I!=="onCompositionStart"?I==="onCompositionEnd"&&sh&&(E=_U()):(fu=d,PA="value"in fu?fu.value:fu.textContent,sh=!0)),A=ab(u,I),0<A.length&&(I=new cR(I,e,null,n,d),f.push({event:I,listeners:A}),E?I.data=E:(E=CU(n),E!==null&&(I.data=E)))),(E=$Z?XZ(e,n):ZZ(e,n))&&(u=ab(u,"onBeforeInput"),0<u.length&&(d=new cR("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}zU(f,t)})}function xg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ab(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=hg(e,n),o!=null&&r.unshift(xg(e,o,i)),o=hg(e,t),o!=null&&r.push(xg(e,o,i))),e=e.return}return r}function Rf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _R(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(c!==null&&c===r)break;s.tag===5&&u!==null&&(s=u,i?(c=hg(n,o),c!=null&&a.unshift(xg(n,c,s))):i||(c=hg(n,o),c!=null&&a.push(xg(n,c,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var cK=/\r\n?/g,uK=/\u0000|\uFFFD/g;function wR(e){return(typeof e=="string"?e:""+e).replace(cK,`
`).replace(uK,"")}function y0(e,t,n){if(t=wR(t),wR(e)!==t&&n)throw Error(vt(425))}function sb(){}var RE=null,jE=null;function IE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zE=typeof setTimeout=="function"?setTimeout:void 0,dK=typeof clearTimeout=="function"?clearTimeout:void 0,SR=typeof Promise=="function"?Promise:void 0,fK=typeof queueMicrotask=="function"?queueMicrotask:typeof SR<"u"?function(e){return SR.resolve(null).then(e).catch(hK)}:zE;function hK(e){setTimeout(function(){throw e})}function j_(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),gg(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gg(t)}function xu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vp=Math.random().toString(36).slice(2),sl="__reactFiber$"+vp,_g="__reactProps$"+vp,pc="__reactContainer$"+vp,LE="__reactEvents$"+vp,pK="__reactListeners$"+vp,mK="__reactHandles$"+vp;function Td(e){var t=e[sl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pc]||n[sl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=CR(e);e!==null;){if(n=e[sl])return n;e=CR(e)}return t}e=n,n=e.parentNode}return null}function rv(e){return e=e[sl]||e[pc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(vt(33))}function bx(e){return e[_g]||null}var DE=[],dh=-1;function qu(e){return{current:e}}function Cr(e){0>dh||(e.current=DE[dh],DE[dh]=null,dh--)}function yr(e,t){dh++,DE[dh]=e.current,e.current=t}var Bu={},vo=qu(Bu),ea=qu(!1),Vd=Bu;function zh(e,t){var n=e.type.contextTypes;if(!n)return Bu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ta(e){return e=e.childContextTypes,e!=null}function lb(){Cr(ea),Cr(vo)}function TR(e,t,n){if(vo.current!==Bu)throw Error(vt(168));yr(vo,t),yr(ea,n)}function DU(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(vt(108,QX(e)||"Unknown",i));return Kr({},n,r)}function cb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bu,Vd=vo.current,yr(vo,e),yr(ea,ea.current),!0}function kR(e,t,n){var r=e.stateNode;if(!r)throw Error(vt(169));n?(e=DU(e,t,Vd),r.__reactInternalMemoizedMergedChildContext=e,Cr(ea),Cr(vo),yr(vo,e)):Cr(ea),yr(ea,n)}var Kl=null,xx=!1,I_=!1;function OU(e){Kl===null?Kl=[e]:Kl.push(e)}function gK(e){xx=!0,OU(e)}function Hu(){if(!I_&&Kl!==null){I_=!0;var e=0,t=sr;try{var n=Kl;for(sr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kl=null,xx=!1}catch(i){throw Kl!==null&&(Kl=Kl.slice(e+1)),uU(EA,Hu),i}finally{sr=t,I_=!1}}return null}var fh=[],hh=0,ub=null,db=0,Ua=[],qa=0,Wd=null,Yl=1,Jl="";function gd(e,t){fh[hh++]=db,fh[hh++]=ub,ub=e,db=t}function FU(e,t,n){Ua[qa++]=Yl,Ua[qa++]=Jl,Ua[qa++]=Wd,Wd=e;var r=Yl;e=Jl;var i=32-Bs(r)-1;r&=~(1<<i),n+=1;var o=32-Bs(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yl=1<<32-Bs(t)+i|n<<i|r,Jl=o+e}else Yl=1<<o|n<<i|r,Jl=e}function zA(e){e.return!==null&&(gd(e,1),FU(e,1,0))}function LA(e){for(;e===ub;)ub=fh[--hh],fh[hh]=null,db=fh[--hh],fh[hh]=null;for(;e===Wd;)Wd=Ua[--qa],Ua[qa]=null,Jl=Ua[--qa],Ua[qa]=null,Yl=Ua[--qa],Ua[qa]=null}var _a=null,xa=null,Br=!1,Cs=null;function UU(e,t){var n=Za(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ER(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_a=e,xa=xu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_a=e,xa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wd!==null?{id:Yl,overflow:Jl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Za(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_a=e,xa=null,!0):!1;default:return!1}}function OE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function FE(e){if(Br){var t=xa;if(t){var n=t;if(!ER(e,t)){if(OE(e))throw Error(vt(418));t=xu(n.nextSibling);var r=_a;t&&ER(e,t)?UU(r,n):(e.flags=e.flags&-4097|2,Br=!1,_a=e)}}else{if(OE(e))throw Error(vt(418));e.flags=e.flags&-4097|2,Br=!1,_a=e}}}function MR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_a=e}function b0(e){if(e!==_a)return!1;if(!Br)return MR(e),Br=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!IE(e.type,e.memoizedProps)),t&&(t=xa)){if(OE(e))throw qU(),Error(vt(418));for(;t;)UU(e,t),t=xu(t.nextSibling)}if(MR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(vt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xa=xu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xa=null}}else xa=_a?xu(e.stateNode.nextSibling):null;return!0}function qU(){for(var e=xa;e;)e=xu(e.nextSibling)}function Lh(){xa=_a=null,Br=!1}function DA(e){Cs===null?Cs=[e]:Cs.push(e)}var vK=Sc.ReactCurrentBatchConfig;function lm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(vt(309));var r=n.stateNode}if(!r)throw Error(vt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(vt(284));if(!n._owner)throw Error(vt(290,e))}return e}function x0(e,t){throw e=Object.prototype.toString.call(t),Error(vt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AR(e){var t=e._init;return t(e._payload)}function HU(e){function t(y,S){if(e){var w=y.deletions;w===null?(y.deletions=[S],y.flags|=16):w.push(S)}}function n(y,S){if(!e)return null;for(;S!==null;)t(y,S),S=S.sibling;return null}function r(y,S){for(y=new Map;S!==null;)S.key!==null?y.set(S.key,S):y.set(S.index,S),S=S.sibling;return y}function i(y,S){return y=Cu(y,S),y.index=0,y.sibling=null,y}function o(y,S,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<S?(y.flags|=2,S):w):(y.flags|=2,S)):(y.flags|=1048576,S)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,S,w,C){return S===null||S.tag!==6?(S=q_(w,y.mode,C),S.return=y,S):(S=i(S,w),S.return=y,S)}function c(y,S,w,C){var M=w.type;return M===ah?d(y,S,w.props.children,C,w.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===iu&&AR(M)===S.type)?(C=i(S,w.props),C.ref=lm(y,S,w),C.return=y,C):(C=jy(w.type,w.key,w.props,null,y.mode,C),C.ref=lm(y,S,w),C.return=y,C)}function u(y,S,w,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=H_(w,y.mode,C),S.return=y,S):(S=i(S,w.children||[]),S.return=y,S)}function d(y,S,w,C,M){return S===null||S.tag!==7?(S=jd(w,y.mode,C,M),S.return=y,S):(S=i(S,w),S.return=y,S)}function f(y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=q_(""+S,y.mode,w),S.return=y,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case c0:return w=jy(S.type,S.key,S.props,null,y.mode,w),w.ref=lm(y,null,S),w.return=y,w;case oh:return S=H_(S,y.mode,w),S.return=y,S;case iu:var C=S._init;return f(y,C(S._payload),w)}if(Pm(S)||rm(S))return S=jd(S,y.mode,w,null),S.return=y,S;x0(y,S)}return null}function p(y,S,w,C){var M=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:s(y,S,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c0:return w.key===M?c(y,S,w,C):null;case oh:return w.key===M?u(y,S,w,C):null;case iu:return M=w._init,p(y,S,M(w._payload),C)}if(Pm(w)||rm(w))return M!==null?null:d(y,S,w,C,null);x0(y,w)}return null}function m(y,S,w,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(w)||null,s(S,y,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case c0:return y=y.get(C.key===null?w:C.key)||null,c(S,y,C,M);case oh:return y=y.get(C.key===null?w:C.key)||null,u(S,y,C,M);case iu:var A=C._init;return m(y,S,w,A(C._payload),M)}if(Pm(C)||rm(C))return y=y.get(w)||null,d(S,y,C,M,null);x0(S,C)}return null}function g(y,S,w,C){for(var M=null,A=null,E=S,I=S=0,N=null;E!==null&&I<w.length;I++){E.index>I?(N=E,E=null):N=E.sibling;var P=p(y,E,w[I],C);if(P===null){E===null&&(E=N);break}e&&E&&P.alternate===null&&t(y,E),S=o(P,S,I),A===null?M=P:A.sibling=P,A=P,E=N}if(I===w.length)return n(y,E),Br&&gd(y,I),M;if(E===null){for(;I<w.length;I++)E=f(y,w[I],C),E!==null&&(S=o(E,S,I),A===null?M=E:A.sibling=E,A=E);return Br&&gd(y,I),M}for(E=r(y,E);I<w.length;I++)N=m(E,y,I,w[I],C),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?I:N.key),S=o(N,S,I),A===null?M=N:A.sibling=N,A=N);return e&&E.forEach(function(D){return t(y,D)}),Br&&gd(y,I),M}function v(y,S,w,C){var M=rm(w);if(typeof M!="function")throw Error(vt(150));if(w=M.call(w),w==null)throw Error(vt(151));for(var A=M=null,E=S,I=S=0,N=null,P=w.next();E!==null&&!P.done;I++,P=w.next()){E.index>I?(N=E,E=null):N=E.sibling;var D=p(y,E,P.value,C);if(D===null){E===null&&(E=N);break}e&&E&&D.alternate===null&&t(y,E),S=o(D,S,I),A===null?M=D:A.sibling=D,A=D,E=N}if(P.done)return n(y,E),Br&&gd(y,I),M;if(E===null){for(;!P.done;I++,P=w.next())P=f(y,P.value,C),P!==null&&(S=o(P,S,I),A===null?M=P:A.sibling=P,A=P);return Br&&gd(y,I),M}for(E=r(y,E);!P.done;I++,P=w.next())P=m(E,y,I,P.value,C),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?I:P.key),S=o(P,S,I),A===null?M=P:A.sibling=P,A=P);return e&&E.forEach(function(q){return t(y,q)}),Br&&gd(y,I),M}function _(y,S,w,C){if(typeof w=="object"&&w!==null&&w.type===ah&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case c0:e:{for(var M=w.key,A=S;A!==null;){if(A.key===M){if(M=w.type,M===ah){if(A.tag===7){n(y,A.sibling),S=i(A,w.props.children),S.return=y,y=S;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===iu&&AR(M)===A.type){n(y,A.sibling),S=i(A,w.props),S.ref=lm(y,A,w),S.return=y,y=S;break e}n(y,A);break}else t(y,A);A=A.sibling}w.type===ah?(S=jd(w.props.children,y.mode,C,w.key),S.return=y,y=S):(C=jy(w.type,w.key,w.props,null,y.mode,C),C.ref=lm(y,S,w),C.return=y,y=C)}return a(y);case oh:e:{for(A=w.key;S!==null;){if(S.key===A)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(y,S.sibling),S=i(S,w.children||[]),S.return=y,y=S;break e}else{n(y,S);break}else t(y,S);S=S.sibling}S=H_(w,y.mode,C),S.return=y,y=S}return a(y);case iu:return A=w._init,_(y,S,A(w._payload),C)}if(Pm(w))return g(y,S,w,C);if(rm(w))return v(y,S,w,C);x0(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(y,S.sibling),S=i(S,w),S.return=y,y=S):(n(y,S),S=q_(w,y.mode,C),S.return=y,y=S),a(y)):n(y,S)}return _}var Dh=HU(!0),VU=HU(!1),fb=qu(null),hb=null,ph=null,OA=null;function FA(){OA=ph=hb=null}function UA(e){var t=fb.current;Cr(fb),e._currentValue=t}function UE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eh(e,t){hb=e,OA=ph=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jo=!0),e.firstContext=null)}function es(e){var t=e._currentValue;if(OA!==e)if(e={context:e,memoizedValue:t,next:null},ph===null){if(hb===null)throw Error(vt(308));ph=e,hb.dependencies={lanes:0,firstContext:e}}else ph=ph.next=e;return t}var kd=null;function qA(e){kd===null?kd=[e]:kd.push(e)}function WU(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qA(t)):(n.next=i.next,i.next=n),t.interleaved=n,mc(e,r)}function mc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ou=!1;function HA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _u(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mc(e,n)}return i=r.interleaved,i===null?(t.next=t,qA(r)):(t.next=i.next,i.next=t),r.interleaved=t,mc(e,n)}function My(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,MA(e,n)}}function NR(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pb(e,t,n,r){var i=e.updateQueue;ou=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;a=0,d=u=c=null,s=o;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,v=s;switch(p=t,m=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=Kr({},f,p);break e;case 2:ou=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$d|=a,e.lanes=a,e.memoizedState=f}}function PR(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(vt(191,i));i.call(r)}}}var iv={},ml=qu(iv),wg=qu(iv),Sg=qu(iv);function Ed(e){if(e===iv)throw Error(vt(174));return e}function VA(e,t){switch(yr(Sg,t),yr(wg,e),yr(ml,iv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_E(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_E(t,e)}Cr(ml),yr(ml,t)}function Oh(){Cr(ml),Cr(wg),Cr(Sg)}function $U(e){Ed(Sg.current);var t=Ed(ml.current),n=_E(t,e.type);t!==n&&(yr(wg,e),yr(ml,n))}function WA(e){wg.current===e&&(Cr(ml),Cr(wg))}var Gr=qu(0);function mb(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var z_=[];function GA(){for(var e=0;e<z_.length;e++)z_[e]._workInProgressVersionPrimary=null;z_.length=0}var Ay=Sc.ReactCurrentDispatcher,L_=Sc.ReactCurrentBatchConfig,Gd=0,Zr=null,Ti=null,Fi=null,gb=!1,Km=!1,Cg=0,yK=0;function lo(){throw Error(vt(321))}function $A(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!js(e[n],t[n]))return!1;return!0}function XA(e,t,n,r,i,o){if(Gd=o,Zr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ay.current=e===null||e.memoizedState===null?wK:SK,e=n(r,i),Km){o=0;do{if(Km=!1,Cg=0,25<=o)throw Error(vt(301));o+=1,Fi=Ti=null,t.updateQueue=null,Ay.current=CK,e=n(r,i)}while(Km)}if(Ay.current=vb,t=Ti!==null&&Ti.next!==null,Gd=0,Fi=Ti=Zr=null,gb=!1,t)throw Error(vt(300));return e}function ZA(){var e=Cg!==0;return Cg=0,e}function tl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?Zr.memoizedState=Fi=e:Fi=Fi.next=e,Fi}function ts(){if(Ti===null){var e=Zr.alternate;e=e!==null?e.memoizedState:null}else e=Ti.next;var t=Fi===null?Zr.memoizedState:Fi.next;if(t!==null)Fi=t,Ti=e;else{if(e===null)throw Error(vt(310));Ti=e,e={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},Fi===null?Zr.memoizedState=Fi=e:Fi=Fi.next=e}return Fi}function Tg(e,t){return typeof t=="function"?t(e):t}function D_(e){var t=ts(),n=t.queue;if(n===null)throw Error(vt(311));n.lastRenderedReducer=e;var r=Ti,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,c=null,u=o;do{var d=u.lane;if((Gd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,a=r):c=c.next=f,Zr.lanes|=d,$d|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=s,js(r,t.memoizedState)||(Jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Zr.lanes|=o,$d|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function O_(e){var t=ts(),n=t.queue;if(n===null)throw Error(vt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);js(o,t.memoizedState)||(Jo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function XU(){}function ZU(e,t){var n=Zr,r=ts(),i=t(),o=!js(r.memoizedState,i);if(o&&(r.memoizedState=i,Jo=!0),r=r.queue,KA(JU.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Fi!==null&&Fi.memoizedState.tag&1){if(n.flags|=2048,kg(9,YU.bind(null,n,r,i,t),void 0,null),Gi===null)throw Error(vt(349));Gd&30||KU(n,t,i)}return i}function KU(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Zr.updateQueue,t===null?(t={lastEffect:null,stores:null},Zr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YU(e,t,n,r){t.value=n,t.getSnapshot=r,QU(t)&&e8(e)}function JU(e,t,n){return n(function(){QU(t)&&e8(e)})}function QU(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!js(e,n)}catch{return!0}}function e8(e){var t=mc(e,1);t!==null&&Rs(t,e,1,-1)}function BR(e){var t=tl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:e},t.queue=e,e=e.dispatch=_K.bind(null,Zr,e),[t.memoizedState,e]}function kg(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Zr.updateQueue,t===null?(t={lastEffect:null,stores:null},Zr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function t8(){return ts().memoizedState}function Ny(e,t,n,r){var i=tl();Zr.flags|=e,i.memoizedState=kg(1|t,n,void 0,r===void 0?null:r)}function _x(e,t,n,r){var i=ts();r=r===void 0?null:r;var o=void 0;if(Ti!==null){var a=Ti.memoizedState;if(o=a.destroy,r!==null&&$A(r,a.deps)){i.memoizedState=kg(t,n,o,r);return}}Zr.flags|=e,i.memoizedState=kg(1|t,n,o,r)}function RR(e,t){return Ny(8390656,8,e,t)}function KA(e,t){return _x(2048,8,e,t)}function n8(e,t){return _x(4,2,e,t)}function r8(e,t){return _x(4,4,e,t)}function i8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o8(e,t,n){return n=n!=null?n.concat([e]):null,_x(4,4,i8.bind(null,t,e),n)}function YA(){}function a8(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$A(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s8(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$A(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function l8(e,t,n){return Gd&21?(js(n,t)||(n=hU(),Zr.lanes|=n,$d|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jo=!0),e.memoizedState=n)}function bK(e,t){var n=sr;sr=n!==0&&4>n?n:4,e(!0);var r=L_.transition;L_.transition={};try{e(!1),t()}finally{sr=n,L_.transition=r}}function c8(){return ts().memoizedState}function xK(e,t,n){var r=Su(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},u8(e))d8(t,n);else if(n=WU(e,t,n,r),n!==null){var i=Bo();Rs(n,e,r,i),f8(n,t,r)}}function _K(e,t,n){var r=Su(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(u8(e))d8(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,js(s,a)){var c=t.interleaved;c===null?(i.next=i,qA(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=WU(e,t,i,r),n!==null&&(i=Bo(),Rs(n,e,r,i),f8(n,t,r))}}function u8(e){var t=e.alternate;return e===Zr||t!==null&&t===Zr}function d8(e,t){Km=gb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function f8(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,MA(e,n)}}var vb={readContext:es,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useInsertionEffect:lo,useLayoutEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useDeferredValue:lo,useTransition:lo,useMutableSource:lo,useSyncExternalStore:lo,useId:lo,unstable_isNewReconciler:!1},wK={readContext:es,useCallback:function(e,t){return tl().memoizedState=[e,t===void 0?null:t],e},useContext:es,useEffect:RR,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ny(4194308,4,i8.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ny(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ny(4,2,e,t)},useMemo:function(e,t){var n=tl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=tl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=xK.bind(null,Zr,e),[r.memoizedState,e]},useRef:function(e){var t=tl();return e={current:e},t.memoizedState=e},useState:BR,useDebugValue:YA,useDeferredValue:function(e){return tl().memoizedState=e},useTransition:function(){var e=BR(!1),t=e[0];return e=bK.bind(null,e[1]),tl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Zr,i=tl();if(Br){if(n===void 0)throw Error(vt(407));n=n()}else{if(n=t(),Gi===null)throw Error(vt(349));Gd&30||KU(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,RR(JU.bind(null,r,o,e),[e]),r.flags|=2048,kg(9,YU.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=tl(),t=Gi.identifierPrefix;if(Br){var n=Jl,r=Yl;n=(r&~(1<<32-Bs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yK++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},SK={readContext:es,useCallback:a8,useContext:es,useEffect:KA,useImperativeHandle:o8,useInsertionEffect:n8,useLayoutEffect:r8,useMemo:s8,useReducer:D_,useRef:t8,useState:function(){return D_(Tg)},useDebugValue:YA,useDeferredValue:function(e){var t=ts();return l8(t,Ti.memoizedState,e)},useTransition:function(){var e=D_(Tg)[0],t=ts().memoizedState;return[e,t]},useMutableSource:XU,useSyncExternalStore:ZU,useId:c8,unstable_isNewReconciler:!1},CK={readContext:es,useCallback:a8,useContext:es,useEffect:KA,useImperativeHandle:o8,useInsertionEffect:n8,useLayoutEffect:r8,useMemo:s8,useReducer:O_,useRef:t8,useState:function(){return O_(Tg)},useDebugValue:YA,useDeferredValue:function(e){var t=ts();return Ti===null?t.memoizedState=e:l8(t,Ti.memoizedState,e)},useTransition:function(){var e=O_(Tg)[0],t=ts().memoizedState;return[e,t]},useMutableSource:XU,useSyncExternalStore:ZU,useId:c8,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=Kr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Kr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wx={isMounted:function(e){return(e=e._reactInternals)?rf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bo(),i=Su(e),o=oc(r,i);o.payload=t,n!=null&&(o.callback=n),t=_u(e,o,i),t!==null&&(Rs(t,e,i,r),My(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bo(),i=Su(e),o=oc(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=_u(e,o,i),t!==null&&(Rs(t,e,i,r),My(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bo(),r=Su(e),i=oc(n,r);i.tag=2,t!=null&&(i.callback=t),t=_u(e,i,r),t!==null&&(Rs(t,e,r,n),My(t,e,r))}};function jR(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!yg(n,r)||!yg(i,o):!0}function h8(e,t,n){var r=!1,i=Bu,o=t.contextType;return typeof o=="object"&&o!==null?o=es(o):(i=ta(t)?Vd:vo.current,r=t.contextTypes,o=(r=r!=null)?zh(e,i):Bu),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function IR(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wx.enqueueReplaceState(t,t.state,null)}function HE(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},HA(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=es(o):(o=ta(t)?Vd:vo.current,i.context=zh(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qE(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wx.enqueueReplaceState(i,i.state,null),pb(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fh(e,t){try{var n="",r=t;do n+=JX(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function F_(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function VE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var TK=typeof WeakMap=="function"?WeakMap:Map;function p8(e,t,n){n=oc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){bb||(bb=!0,eM=r),VE(e,t)},n}function m8(e,t,n){n=oc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){VE(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){VE(e,t),typeof r!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function zR(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new TK;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=OK.bind(null,e,t,n),t.then(e,e))}function LR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function DR(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oc(-1,1),t.tag=2,_u(n,t,1))),n.lanes|=1),e)}var kK=Sc.ReactCurrentOwner,Jo=!1;function Ao(e,t,n,r){t.child=e===null?VU(t,null,n,r):Dh(t,e.child,n,r)}function OR(e,t,n,r,i){n=n.render;var o=t.ref;return Eh(t,i),r=XA(e,t,n,r,o,i),n=ZA(),e!==null&&!Jo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gc(e,t,i)):(Br&&n&&zA(t),t.flags|=1,Ao(e,t,r,i),t.child)}function FR(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!oN(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,g8(e,t,o,r,i)):(e=jy(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:yg,n(a,r)&&e.ref===t.ref)return gc(e,t,i)}return t.flags|=1,e=Cu(o,r),e.ref=t.ref,e.return=t,t.child=e}function g8(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(yg(o,r)&&e.ref===t.ref)if(Jo=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Jo=!0);else return t.lanes=e.lanes,gc(e,t,i)}return WE(e,t,n,r,i)}function v8(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(gh,ha),ha|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yr(gh,ha),ha|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,yr(gh,ha),ha|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,yr(gh,ha),ha|=r;return Ao(e,t,i,n),t.child}function y8(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function WE(e,t,n,r,i){var o=ta(n)?Vd:vo.current;return o=zh(t,o),Eh(t,i),n=XA(e,t,n,r,o,i),r=ZA(),e!==null&&!Jo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gc(e,t,i)):(Br&&r&&zA(t),t.flags|=1,Ao(e,t,n,i),t.child)}function UR(e,t,n,r,i){if(ta(n)){var o=!0;cb(t)}else o=!1;if(Eh(t,i),t.stateNode===null)Py(e,t),h8(t,n,r),HE(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=es(u):(u=ta(n)?Vd:vo.current,u=zh(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||c!==u)&&IR(t,a,r,u),ou=!1;var p=t.memoizedState;a.state=p,pb(t,r,a,i),c=t.memoizedState,s!==r||p!==c||ea.current||ou?(typeof d=="function"&&(qE(t,n,d,r),c=t.memoizedState),(s=ou||jR(t,n,s,r,p,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,GU(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:bs(t.type,s),a.props=u,f=t.pendingProps,p=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=es(c):(c=ta(n)?Vd:vo.current,c=zh(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||p!==c)&&IR(t,a,r,c),ou=!1,p=t.memoizedState,a.state=p,pb(t,r,a,i);var g=t.memoizedState;s!==f||p!==g||ea.current||ou?(typeof m=="function"&&(qE(t,n,m,r),g=t.memoizedState),(u=ou||jR(t,n,u,r,p,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return GE(e,t,n,r,o,i)}function GE(e,t,n,r,i,o){y8(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&kR(t,n,!1),gc(e,t,o);r=t.stateNode,kK.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Dh(t,e.child,null,o),t.child=Dh(t,null,s,o)):Ao(e,t,s,o),t.memoizedState=r.state,i&&kR(t,n,!0),t.child}function b8(e){var t=e.stateNode;t.pendingContext?TR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TR(e,t.context,!1),VA(e,t.containerInfo)}function qR(e,t,n,r,i){return Lh(),DA(i),t.flags|=256,Ao(e,t,n,r),t.child}var $E={dehydrated:null,treeContext:null,retryLane:0};function XE(e){return{baseLanes:e,cachePool:null,transitions:null}}function x8(e,t,n){var r=t.pendingProps,i=Gr.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),yr(Gr,i&1),e===null)return FE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Tx(a,r,0,null),e=jd(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=XE(n),t.memoizedState=$E,e):JA(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return EK(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Cu(s,o):(o=jd(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?XE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=$E,r}return o=e.child,e=o.sibling,r=Cu(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function JA(e,t){return t=Tx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _0(e,t,n,r){return r!==null&&DA(r),Dh(t,e.child,null,n),e=JA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EK(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=F_(Error(vt(422))),_0(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Tx({mode:"visible",children:r.children},i,0,null),o=jd(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Dh(t,e.child,null,a),t.child.memoizedState=XE(a),t.memoizedState=$E,o);if(!(t.mode&1))return _0(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(vt(419)),r=F_(o,r,void 0),_0(e,t,a,r)}if(s=(a&e.childLanes)!==0,Jo||s){if(r=Gi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,mc(e,i),Rs(r,e,i,-1))}return iN(),r=F_(Error(vt(421))),_0(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=FK.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,xa=xu(i.nextSibling),_a=t,Br=!0,Cs=null,e!==null&&(Ua[qa++]=Yl,Ua[qa++]=Jl,Ua[qa++]=Wd,Yl=e.id,Jl=e.overflow,Wd=t),t=JA(t,r.children),t.flags|=4096,t)}function HR(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),UE(e.return,t,n)}function U_(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _8(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ao(e,t,r.children,n),r=Gr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HR(e,n,t);else if(e.tag===19)HR(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yr(Gr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&mb(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),U_(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mb(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}U_(t,!0,n,null,o);break;case"together":U_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Py(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$d|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(vt(153));if(t.child!==null){for(e=t.child,n=Cu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MK(e,t,n){switch(t.tag){case 3:b8(t),Lh();break;case 5:$U(t);break;case 1:ta(t.type)&&cb(t);break;case 4:VA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;yr(fb,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(yr(Gr,Gr.current&1),t.flags|=128,null):n&t.child.childLanes?x8(e,t,n):(yr(Gr,Gr.current&1),e=gc(e,t,n),e!==null?e.sibling:null);yr(Gr,Gr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _8(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yr(Gr,Gr.current),r)break;return null;case 22:case 23:return t.lanes=0,v8(e,t,n)}return gc(e,t,n)}var w8,ZE,S8,C8;w8=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ZE=function(){};S8=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ed(ml.current);var o=null;switch(n){case"input":i=vE(e,i),r=vE(e,r),o=[];break;case"select":i=Kr({},i,{value:void 0}),r=Kr({},r,{value:void 0}),o=[];break;case"textarea":i=xE(e,i),r=xE(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=sb)}wE(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dg.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&wr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};C8=function(e,t,n,r){n!==r&&(t.flags|=4)};function cm(e,t){if(!Br)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function co(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AK(e,t,n){var r=t.pendingProps;switch(LA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return co(t),null;case 1:return ta(t.type)&&lb(),co(t),null;case 3:return r=t.stateNode,Oh(),Cr(ea),Cr(vo),GA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(b0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cs!==null&&(rM(Cs),Cs=null))),ZE(e,t),co(t),null;case 5:WA(t);var i=Ed(Sg.current);if(n=t.type,e!==null&&t.stateNode!=null)S8(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(vt(166));return co(t),null}if(e=Ed(ml.current),b0(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[sl]=t,r[_g]=o,e=(t.mode&1)!==0,n){case"dialog":wr("cancel",r),wr("close",r);break;case"iframe":case"object":case"embed":wr("load",r);break;case"video":case"audio":for(i=0;i<Rm.length;i++)wr(Rm[i],r);break;case"source":wr("error",r);break;case"img":case"image":case"link":wr("error",r),wr("load",r);break;case"details":wr("toggle",r);break;case"input":JB(r,o),wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},wr("invalid",r);break;case"textarea":eR(r,o),wr("invalid",r)}wE(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&y0(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&y0(r.textContent,s,e),i=["children",""+s]):dg.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&wr("scroll",r)}switch(n){case"input":u0(r),QB(r,o,!0);break;case"textarea":u0(r),tR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sb)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J6(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[sl]=t,e[_g]=r,w8(e,t,!1,!1),t.stateNode=e;e:{switch(a=SE(n,r),n){case"dialog":wr("cancel",e),wr("close",e),i=r;break;case"iframe":case"object":case"embed":wr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rm.length;i++)wr(Rm[i],e);i=r;break;case"source":wr("error",e),i=r;break;case"img":case"image":case"link":wr("error",e),wr("load",e),i=r;break;case"details":wr("toggle",e),i=r;break;case"input":JB(e,r),i=vE(e,r),wr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Kr({},r,{value:void 0}),wr("invalid",e);break;case"textarea":eR(e,r),i=xE(e,r),wr("invalid",e);break;default:i=r}wE(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?tU(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Q6(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fg(e,c):typeof c=="number"&&fg(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dg.hasOwnProperty(o)?c!=null&&o==="onScroll"&&wr("scroll",e):c!=null&&wA(e,o,c,a))}switch(n){case"input":u0(e),QB(e,r,!1);break;case"textarea":u0(e),tR(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pu(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Sh(e,!!r.multiple,o,!1):r.defaultValue!=null&&Sh(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=sb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return co(t),null;case 6:if(e&&t.stateNode!=null)C8(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(vt(166));if(n=Ed(Sg.current),Ed(ml.current),b0(t)){if(r=t.stateNode,n=t.memoizedProps,r[sl]=t,(o=r.nodeValue!==n)&&(e=_a,e!==null))switch(e.tag){case 3:y0(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&y0(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sl]=t,t.stateNode=r}return co(t),null;case 13:if(Cr(Gr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Br&&xa!==null&&t.mode&1&&!(t.flags&128))qU(),Lh(),t.flags|=98560,o=!1;else if(o=b0(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(vt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(vt(317));o[sl]=t}else Lh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;co(t),o=!1}else Cs!==null&&(rM(Cs),Cs=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Gr.current&1?Mi===0&&(Mi=3):iN())),t.updateQueue!==null&&(t.flags|=4),co(t),null);case 4:return Oh(),ZE(e,t),e===null&&bg(t.stateNode.containerInfo),co(t),null;case 10:return UA(t.type._context),co(t),null;case 17:return ta(t.type)&&lb(),co(t),null;case 19:if(Cr(Gr),o=t.memoizedState,o===null)return co(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)cm(o,!1);else{if(Mi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=mb(e),a!==null){for(t.flags|=128,cm(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return yr(Gr,Gr.current&1|2),t.child}e=e.sibling}o.tail!==null&&li()>Uh&&(t.flags|=128,r=!0,cm(o,!1),t.lanes=4194304)}else{if(!r)if(e=mb(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Br)return co(t),null}else 2*li()-o.renderingStartTime>Uh&&n!==1073741824&&(t.flags|=128,r=!0,cm(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=li(),t.sibling=null,n=Gr.current,yr(Gr,r?n&1|2:n&1),t):(co(t),null);case 22:case 23:return rN(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ha&1073741824&&(co(t),t.subtreeFlags&6&&(t.flags|=8192)):co(t),null;case 24:return null;case 25:return null}throw Error(vt(156,t.tag))}function NK(e,t){switch(LA(t),t.tag){case 1:return ta(t.type)&&lb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oh(),Cr(ea),Cr(vo),GA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return WA(t),null;case 13:if(Cr(Gr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(vt(340));Lh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cr(Gr),null;case 4:return Oh(),null;case 10:return UA(t.type._context),null;case 22:case 23:return rN(),null;case 24:return null;default:return null}}var w0=!1,po=!1,PK=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function mh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ni(e,t,r)}else n.current=null}function KE(e,t,n){try{n()}catch(r){ni(e,t,r)}}var VR=!1;function BK(e,t){if(RE=ib,e=AU(),IA(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===i&&(s=a),p===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||c===-1?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jE={focusedElem:e,selectionRange:n},ib=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){t=Lt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,y=t.stateNode,S=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:bs(t.type,v),_);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vt(163))}}catch(C){ni(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}return g=VR,VR=!1,g}function Ym(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&KE(t,n,o)}i=i.next}while(i!==r)}}function Sx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function YE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function T8(e){var t=e.alternate;t!==null&&(e.alternate=null,T8(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sl],delete t[_g],delete t[LE],delete t[pK],delete t[mK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k8(e){return e.tag===5||e.tag===3||e.tag===4}function WR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k8(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function JE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sb));else if(r!==4&&(e=e.child,e!==null))for(JE(e,t,n),e=e.sibling;e!==null;)JE(e,t,n),e=e.sibling}function QE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(QE(e,t,n),e=e.sibling;e!==null;)QE(e,t,n),e=e.sibling}var Ki=null,xs=!1;function Hc(e,t,n){for(n=n.child;n!==null;)E8(e,t,n),n=n.sibling}function E8(e,t,n){if(pl&&typeof pl.onCommitFiberUnmount=="function")try{pl.onCommitFiberUnmount(mx,n)}catch{}switch(n.tag){case 5:po||mh(n,t);case 6:var r=Ki,i=xs;Ki=null,Hc(e,t,n),Ki=r,xs=i,Ki!==null&&(xs?(e=Ki,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ki.removeChild(n.stateNode));break;case 18:Ki!==null&&(xs?(e=Ki,n=n.stateNode,e.nodeType===8?j_(e.parentNode,n):e.nodeType===1&&j_(e,n),gg(e)):j_(Ki,n.stateNode));break;case 4:r=Ki,i=xs,Ki=n.stateNode.containerInfo,xs=!0,Hc(e,t,n),Ki=r,xs=i;break;case 0:case 11:case 14:case 15:if(!po&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&KE(n,t,a),i=i.next}while(i!==r)}Hc(e,t,n);break;case 1:if(!po&&(mh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ni(n,t,s)}Hc(e,t,n);break;case 21:Hc(e,t,n);break;case 22:n.mode&1?(po=(r=po)||n.memoizedState!==null,Hc(e,t,n),po=r):Hc(e,t,n);break;default:Hc(e,t,n)}}function GR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PK),t.forEach(function(r){var i=UK.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ki=s.stateNode,xs=!1;break e;case 3:Ki=s.stateNode.containerInfo,xs=!0;break e;case 4:Ki=s.stateNode.containerInfo,xs=!0;break e}s=s.return}if(Ki===null)throw Error(vt(160));E8(o,a,i),Ki=null,xs=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ni(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M8(t,e),t=t.sibling}function M8(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fs(t,e),Qs(e),r&4){try{Ym(3,e,e.return),Sx(3,e)}catch(v){ni(e,e.return,v)}try{Ym(5,e,e.return)}catch(v){ni(e,e.return,v)}}break;case 1:fs(t,e),Qs(e),r&512&&n!==null&&mh(n,n.return);break;case 5:if(fs(t,e),Qs(e),r&512&&n!==null&&mh(n,n.return),e.flags&32){var i=e.stateNode;try{fg(i,"")}catch(v){ni(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&K6(i,o),SE(s,a);var u=SE(s,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?tU(i,f):d==="dangerouslySetInnerHTML"?Q6(i,f):d==="children"?fg(i,f):wA(i,d,f,u)}switch(s){case"input":yE(i,o);break;case"textarea":Y6(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Sh(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Sh(i,!!o.multiple,o.defaultValue,!0):Sh(i,!!o.multiple,o.multiple?[]:"",!1))}i[_g]=o}catch(v){ni(e,e.return,v)}}break;case 6:if(fs(t,e),Qs(e),r&4){if(e.stateNode===null)throw Error(vt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){ni(e,e.return,v)}}break;case 3:if(fs(t,e),Qs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gg(t.containerInfo)}catch(v){ni(e,e.return,v)}break;case 4:fs(t,e),Qs(e);break;case 13:fs(t,e),Qs(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tN=li())),r&4&&GR(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(po=(u=po)||d,fs(t,e),po=u):fs(t,e),Qs(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Lt=e,d=e.child;d!==null;){for(f=Lt=d;Lt!==null;){switch(p=Lt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ym(4,p,p.return);break;case 1:mh(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){ni(r,n,v)}}break;case 5:mh(p,p.return);break;case 22:if(p.memoizedState!==null){XR(f);continue}}m!==null?(m.return=p,Lt=m):XR(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=eU("display",a))}catch(v){ni(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ni(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fs(t,e),Qs(e),r&4&&GR(e);break;case 21:break;default:fs(t,e),Qs(e)}}function Qs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k8(n)){var r=n;break e}n=n.return}throw Error(vt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fg(i,""),r.flags&=-33);var o=WR(e);QE(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=WR(e);JE(e,s,a);break;default:throw Error(vt(161))}}catch(c){ni(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RK(e,t,n){Lt=e,A8(e)}function A8(e,t,n){for(var r=(e.mode&1)!==0;Lt!==null;){var i=Lt,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||w0;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||po;s=w0;var u=po;if(w0=a,(po=c)&&!u)for(Lt=i;Lt!==null;)a=Lt,c=a.child,a.tag===22&&a.memoizedState!==null?ZR(i):c!==null?(c.return=a,Lt=c):ZR(i);for(;o!==null;)Lt=o,A8(o),o=o.sibling;Lt=i,w0=s,po=u}$R(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Lt=o):$R(e)}}function $R(e){for(;Lt!==null;){var t=Lt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:po||Sx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!po)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&PR(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}PR(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vt(163))}po||t.flags&512&&YE(t)}catch(p){ni(t,t.return,p)}}if(t===e){Lt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Lt=n;break}Lt=t.return}}function XR(e){for(;Lt!==null;){var t=Lt;if(t===e){Lt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Lt=n;break}Lt=t.return}}function ZR(e){for(;Lt!==null;){var t=Lt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sx(4,t)}catch(c){ni(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){ni(t,i,c)}}var o=t.return;try{YE(t)}catch(c){ni(t,o,c)}break;case 5:var a=t.return;try{YE(t)}catch(c){ni(t,a,c)}}}catch(c){ni(t,t.return,c)}if(t===e){Lt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Lt=s;break}Lt=t.return}}var jK=Math.ceil,yb=Sc.ReactCurrentDispatcher,QA=Sc.ReactCurrentOwner,Ya=Sc.ReactCurrentBatchConfig,$n=0,Gi=null,gi=null,Ji=0,ha=0,gh=qu(0),Mi=0,Eg=null,$d=0,Cx=0,eN=0,Jm=null,Ko=null,tN=0,Uh=1/0,Zl=null,bb=!1,eM=null,wu=null,S0=!1,hu=null,xb=0,Qm=0,tM=null,By=-1,Ry=0;function Bo(){return $n&6?li():By!==-1?By:By=li()}function Su(e){return e.mode&1?$n&2&&Ji!==0?Ji&-Ji:vK.transition!==null?(Ry===0&&(Ry=hU()),Ry):(e=sr,e!==0||(e=window.event,e=e===void 0?16:xU(e.type)),e):1}function Rs(e,t,n,r){if(50<Qm)throw Qm=0,tM=null,Error(vt(185));tv(e,n,r),(!($n&2)||e!==Gi)&&(e===Gi&&(!($n&2)&&(Cx|=n),Mi===4&&su(e,Ji)),na(e,r),n===1&&$n===0&&!(t.mode&1)&&(Uh=li()+500,xx&&Hu()))}function na(e,t){var n=e.callbackNode;vZ(e,t);var r=rb(e,e===Gi?Ji:0);if(r===0)n!==null&&iR(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&iR(n),t===1)e.tag===0?gK(KR.bind(null,e)):OU(KR.bind(null,e)),fK(function(){!($n&6)&&Hu()}),n=null;else{switch(pU(r)){case 1:n=EA;break;case 4:n=dU;break;case 16:n=nb;break;case 536870912:n=fU;break;default:n=nb}n=L8(n,N8.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N8(e,t){if(By=-1,Ry=0,$n&6)throw Error(vt(327));var n=e.callbackNode;if(Mh()&&e.callbackNode!==n)return null;var r=rb(e,e===Gi?Ji:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_b(e,r);else{t=r;var i=$n;$n|=2;var o=B8();(Gi!==e||Ji!==t)&&(Zl=null,Uh=li()+500,Rd(e,t));do try{LK();break}catch(s){P8(e,s)}while(!0);FA(),yb.current=o,$n=i,gi!==null?t=0:(Gi=null,Ji=0,t=Mi)}if(t!==0){if(t===2&&(i=ME(e),i!==0&&(r=i,t=nM(e,i))),t===1)throw n=Eg,Rd(e,0),su(e,r),na(e,li()),n;if(t===6)su(e,r);else{if(i=e.current.alternate,!(r&30)&&!IK(i)&&(t=_b(e,r),t===2&&(o=ME(e),o!==0&&(r=o,t=nM(e,o))),t===1))throw n=Eg,Rd(e,0),su(e,r),na(e,li()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(vt(345));case 2:vd(e,Ko,Zl);break;case 3:if(su(e,r),(r&130023424)===r&&(t=tN+500-li(),10<t)){if(rb(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zE(vd.bind(null,e,Ko,Zl),t);break}vd(e,Ko,Zl);break;case 4:if(su(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Bs(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=li()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jK(r/1960))-r,10<r){e.timeoutHandle=zE(vd.bind(null,e,Ko,Zl),r);break}vd(e,Ko,Zl);break;case 5:vd(e,Ko,Zl);break;default:throw Error(vt(329))}}}return na(e,li()),e.callbackNode===n?N8.bind(null,e):null}function nM(e,t){var n=Jm;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=_b(e,t),e!==2&&(t=Ko,Ko=n,t!==null&&rM(t)),e}function rM(e){Ko===null?Ko=e:Ko.push.apply(Ko,e)}function IK(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!js(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function su(e,t){for(t&=~eN,t&=~Cx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bs(t),r=1<<n;e[n]=-1,t&=~r}}function KR(e){if($n&6)throw Error(vt(327));Mh();var t=rb(e,0);if(!(t&1))return na(e,li()),null;var n=_b(e,t);if(e.tag!==0&&n===2){var r=ME(e);r!==0&&(t=r,n=nM(e,r))}if(n===1)throw n=Eg,Rd(e,0),su(e,t),na(e,li()),n;if(n===6)throw Error(vt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vd(e,Ko,Zl),na(e,li()),null}function nN(e,t){var n=$n;$n|=1;try{return e(t)}finally{$n=n,$n===0&&(Uh=li()+500,xx&&Hu())}}function Xd(e){hu!==null&&hu.tag===0&&!($n&6)&&Mh();var t=$n;$n|=1;var n=Ya.transition,r=sr;try{if(Ya.transition=null,sr=1,e)return e()}finally{sr=r,Ya.transition=n,$n=t,!($n&6)&&Hu()}}function rN(){ha=gh.current,Cr(gh)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dK(n)),gi!==null)for(n=gi.return;n!==null;){var r=n;switch(LA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lb();break;case 3:Oh(),Cr(ea),Cr(vo),GA();break;case 5:WA(r);break;case 4:Oh();break;case 13:Cr(Gr);break;case 19:Cr(Gr);break;case 10:UA(r.type._context);break;case 22:case 23:rN()}n=n.return}if(Gi=e,gi=e=Cu(e.current,null),Ji=ha=t,Mi=0,Eg=null,eN=Cx=$d=0,Ko=Jm=null,kd!==null){for(t=0;t<kd.length;t++)if(n=kd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}kd=null}return e}function P8(e,t){do{var n=gi;try{if(FA(),Ay.current=vb,gb){for(var r=Zr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gb=!1}if(Gd=0,Fi=Ti=Zr=null,Km=!1,Cg=0,QA.current=null,n===null||n.return===null){Mi=1,Eg=t,gi=null;break}e:{var o=e,a=n.return,s=n,c=t;if(t=Ji,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=LR(a);if(m!==null){m.flags&=-257,DR(m,a,s,o,t),m.mode&1&&zR(o,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){zR(o,u,t),iN();break e}c=Error(vt(426))}}else if(Br&&s.mode&1){var _=LR(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),DR(_,a,s,o,t),DA(Fh(c,s));break e}}o=c=Fh(c,s),Mi!==4&&(Mi=2),Jm===null?Jm=[o]:Jm.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=p8(o,c,t);NR(o,y);break e;case 1:s=c;var S=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(wu===null||!wu.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=m8(o,s,t);NR(o,C);break e}}o=o.return}while(o!==null)}j8(n)}catch(M){t=M,gi===n&&n!==null&&(gi=n=n.return);continue}break}while(!0)}function B8(){var e=yb.current;return yb.current=vb,e===null?vb:e}function iN(){(Mi===0||Mi===3||Mi===2)&&(Mi=4),Gi===null||!($d&268435455)&&!(Cx&268435455)||su(Gi,Ji)}function _b(e,t){var n=$n;$n|=2;var r=B8();(Gi!==e||Ji!==t)&&(Zl=null,Rd(e,t));do try{zK();break}catch(i){P8(e,i)}while(!0);if(FA(),$n=n,yb.current=r,gi!==null)throw Error(vt(261));return Gi=null,Ji=0,Mi}function zK(){for(;gi!==null;)R8(gi)}function LK(){for(;gi!==null&&!lZ();)R8(gi)}function R8(e){var t=z8(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?j8(e):gi=t,QA.current=null}function j8(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=NK(n,t),n!==null){n.flags&=32767,gi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mi=6,gi=null;return}}else if(n=AK(n,t,ha),n!==null){gi=n;return}if(t=t.sibling,t!==null){gi=t;return}gi=t=e}while(t!==null);Mi===0&&(Mi=5)}function vd(e,t,n){var r=sr,i=Ya.transition;try{Ya.transition=null,sr=1,DK(e,t,n,r)}finally{Ya.transition=i,sr=r}return null}function DK(e,t,n,r){do Mh();while(hu!==null);if($n&6)throw Error(vt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(vt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(yZ(e,o),e===Gi&&(gi=Gi=null,Ji=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S0||(S0=!0,L8(nb,function(){return Mh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ya.transition,Ya.transition=null;var a=sr;sr=1;var s=$n;$n|=4,QA.current=null,BK(e,n),M8(n,e),iK(jE),ib=!!RE,jE=RE=null,e.current=n,RK(n),cZ(),$n=s,sr=a,Ya.transition=o}else e.current=n;if(S0&&(S0=!1,hu=e,xb=i),o=e.pendingLanes,o===0&&(wu=null),fZ(n.stateNode),na(e,li()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bb)throw bb=!1,e=eM,eM=null,e;return xb&1&&e.tag!==0&&Mh(),o=e.pendingLanes,o&1?e===tM?Qm++:(Qm=0,tM=e):Qm=0,Hu(),null}function Mh(){if(hu!==null){var e=pU(xb),t=Ya.transition,n=sr;try{if(Ya.transition=null,sr=16>e?16:e,hu===null)var r=!1;else{if(e=hu,hu=null,xb=0,$n&6)throw Error(vt(331));var i=$n;for($n|=4,Lt=e.current;Lt!==null;){var o=Lt,a=o.child;if(Lt.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(Lt=u;Lt!==null;){var d=Lt;switch(d.tag){case 0:case 11:case 15:Ym(8,d,o)}var f=d.child;if(f!==null)f.return=d,Lt=f;else for(;Lt!==null;){d=Lt;var p=d.sibling,m=d.return;if(T8(d),d===u){Lt=null;break}if(p!==null){p.return=m,Lt=p;break}Lt=m}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Lt=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Lt=a;else e:for(;Lt!==null;){if(o=Lt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ym(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Lt=y;break e}Lt=o.return}}var S=e.current;for(Lt=S;Lt!==null;){a=Lt;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Lt=w;else e:for(a=S;Lt!==null;){if(s=Lt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Sx(9,s)}}catch(M){ni(s,s.return,M)}if(s===a){Lt=null;break e}var C=s.sibling;if(C!==null){C.return=s.return,Lt=C;break e}Lt=s.return}}if($n=i,Hu(),pl&&typeof pl.onPostCommitFiberRoot=="function")try{pl.onPostCommitFiberRoot(mx,e)}catch{}r=!0}return r}finally{sr=n,Ya.transition=t}}return!1}function YR(e,t,n){t=Fh(n,t),t=p8(e,t,1),e=_u(e,t,1),t=Bo(),e!==null&&(tv(e,1,t),na(e,t))}function ni(e,t,n){if(e.tag===3)YR(e,e,n);else for(;t!==null;){if(t.tag===3){YR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wu===null||!wu.has(r))){e=Fh(n,e),e=m8(t,e,1),t=_u(t,e,1),e=Bo(),t!==null&&(tv(t,1,e),na(t,e));break}}t=t.return}}function OK(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bo(),e.pingedLanes|=e.suspendedLanes&n,Gi===e&&(Ji&n)===n&&(Mi===4||Mi===3&&(Ji&130023424)===Ji&&500>li()-tN?Rd(e,0):eN|=n),na(e,t)}function I8(e,t){t===0&&(e.mode&1?(t=h0,h0<<=1,!(h0&130023424)&&(h0=4194304)):t=1);var n=Bo();e=mc(e,t),e!==null&&(tv(e,t,n),na(e,n))}function FK(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I8(e,n)}function UK(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(vt(314))}r!==null&&r.delete(t),I8(e,n)}var z8;z8=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ea.current)Jo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Jo=!1,MK(e,t,n);Jo=!!(e.flags&131072)}else Jo=!1,Br&&t.flags&1048576&&FU(t,db,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Py(e,t),e=t.pendingProps;var i=zh(t,vo.current);Eh(t,n),i=XA(null,t,r,e,i,n);var o=ZA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ta(r)?(o=!0,cb(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HA(t),i.updater=wx,t.stateNode=i,i._reactInternals=t,HE(t,r,e,n),t=GE(null,t,r,!0,o,n)):(t.tag=0,Br&&o&&zA(t),Ao(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Py(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=HK(r),e=bs(r,e),i){case 0:t=WE(null,t,r,e,n);break e;case 1:t=UR(null,t,r,e,n);break e;case 11:t=OR(null,t,r,e,n);break e;case 14:t=FR(null,t,r,bs(r.type,e),n);break e}throw Error(vt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),WE(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),UR(e,t,r,i,n);case 3:e:{if(b8(t),e===null)throw Error(vt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,GU(e,t),pb(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fh(Error(vt(423)),t),t=qR(e,t,r,n,i);break e}else if(r!==i){i=Fh(Error(vt(424)),t),t=qR(e,t,r,n,i);break e}else for(xa=xu(t.stateNode.containerInfo.firstChild),_a=t,Br=!0,Cs=null,n=VU(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lh(),r===i){t=gc(e,t,n);break e}Ao(e,t,r,n)}t=t.child}return t;case 5:return $U(t),e===null&&FE(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,IE(r,i)?a=null:o!==null&&IE(r,o)&&(t.flags|=32),y8(e,t),Ao(e,t,a,n),t.child;case 6:return e===null&&FE(t),null;case 13:return x8(e,t,n);case 4:return VA(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Dh(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),OR(e,t,r,i,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:return Ao(e,t,t.pendingProps.children,n),t.child;case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,yr(fb,r._currentValue),r._currentValue=a,o!==null)if(js(o.value,a)){if(o.children===i.children&&!ea.current){t=gc(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=oc(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),UE(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(vt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),UE(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ao(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eh(t,n),i=es(i),r=r(i),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return r=t.type,i=bs(r,t.pendingProps),i=bs(r.type,i),FR(e,t,r,i,n);case 15:return g8(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),Py(e,t),t.tag=1,ta(r)?(e=!0,cb(t)):e=!1,Eh(t,n),h8(t,r,i),HE(t,r,i,n),GE(null,t,r,!0,e,n);case 19:return _8(e,t,n);case 22:return v8(e,t,n)}throw Error(vt(156,t.tag))};function L8(e,t){return uU(e,t)}function qK(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(e,t,n,r){return new qK(e,t,n,r)}function oN(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HK(e){if(typeof e=="function")return oN(e)?1:0;if(e!=null){if(e=e.$$typeof,e===CA)return 11;if(e===TA)return 14}return 2}function Cu(e,t){var n=e.alternate;return n===null?(n=Za(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jy(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")oN(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ah:return jd(n.children,i,o,t);case SA:a=8,i|=8;break;case hE:return e=Za(12,n,t,i|2),e.elementType=hE,e.lanes=o,e;case pE:return e=Za(13,n,t,i),e.elementType=pE,e.lanes=o,e;case mE:return e=Za(19,n,t,i),e.elementType=mE,e.lanes=o,e;case $6:return Tx(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W6:a=10;break e;case G6:a=9;break e;case CA:a=11;break e;case TA:a=14;break e;case iu:a=16,r=null;break e}throw Error(vt(130,e==null?e:typeof e,""))}return t=Za(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function jd(e,t,n,r){return e=Za(7,e,r,t),e.lanes=n,e}function Tx(e,t,n,r){return e=Za(22,e,r,t),e.elementType=$6,e.lanes=n,e.stateNode={isHidden:!1},e}function q_(e,t,n){return e=Za(6,e,null,t),e.lanes=n,e}function H_(e,t,n){return t=Za(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VK(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S_(0),this.expirationTimes=S_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function aN(e,t,n,r,i,o,a,s,c){return e=new VK(e,t,n,s,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Za(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HA(o),e}function WK(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function D8(e){if(!e)return Bu;e=e._reactInternals;e:{if(rf(e)!==e||e.tag!==1)throw Error(vt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(vt(171))}if(e.tag===1){var n=e.type;if(ta(n))return DU(e,n,t)}return t}function O8(e,t,n,r,i,o,a,s,c){return e=aN(n,r,!0,e,i,o,a,s,c),e.context=D8(null),n=e.current,r=Bo(),i=Su(n),o=oc(r,i),o.callback=t??null,_u(n,o,i),e.current.lanes=i,tv(e,i,r),na(e,r),e}function kx(e,t,n,r){var i=t.current,o=Bo(),a=Su(i);return n=D8(n),t.context===null?t.context=n:t.pendingContext=n,t=oc(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_u(i,t,a),e!==null&&(Rs(e,i,a,o),My(e,i,a)),a}function wb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sN(e,t){JR(e,t),(e=e.alternate)&&JR(e,t)}function GK(){return null}var F8=typeof reportError=="function"?reportError:function(e){console.error(e)};function lN(e){this._internalRoot=e}Ex.prototype.render=lN.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(vt(409));kx(e,t,null,null)};Ex.prototype.unmount=lN.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){kx(null,e,null,null)}),t[pc]=null}};function Ex(e){this._internalRoot=e}Ex.prototype.unstable_scheduleHydration=function(e){if(e){var t=vU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<au.length&&t!==0&&t<au[n].priority;n++);au.splice(n,0,e),n===0&&bU(e)}};function cN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QR(){}function $K(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=wb(a);o.call(u)}}var a=O8(t,r,e,0,null,!1,!1,"",QR);return e._reactRootContainer=a,e[pc]=a.current,bg(e.nodeType===8?e.parentNode:e),Xd(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=wb(c);s.call(u)}}var c=aN(e,0,!1,null,null,!1,!1,"",QR);return e._reactRootContainer=c,e[pc]=c.current,bg(e.nodeType===8?e.parentNode:e),Xd(function(){kx(t,c,n,r)}),c}function Ax(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=wb(a);s.call(c)}}kx(t,a,e,i)}else a=$K(n,t,e,i,r);return wb(a)}mU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Bm(t.pendingLanes);n!==0&&(MA(t,n|1),na(t,li()),!($n&6)&&(Uh=li()+500,Hu()))}break;case 13:Xd(function(){var r=mc(e,1);if(r!==null){var i=Bo();Rs(r,e,1,i)}}),sN(e,1)}};AA=function(e){if(e.tag===13){var t=mc(e,134217728);if(t!==null){var n=Bo();Rs(t,e,134217728,n)}sN(e,134217728)}};gU=function(e){if(e.tag===13){var t=Su(e),n=mc(e,t);if(n!==null){var r=Bo();Rs(n,e,t,r)}sN(e,t)}};vU=function(){return sr};yU=function(e,t){var n=sr;try{return sr=e,t()}finally{sr=n}};TE=function(e,t,n){switch(t){case"input":if(yE(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bx(r);if(!i)throw Error(vt(90));Z6(r),yE(r,i)}}}break;case"textarea":Y6(e,n);break;case"select":t=n.value,t!=null&&Sh(e,!!n.multiple,t,!1)}};iU=nN;oU=Xd;var XK={usingClientEntryPoint:!1,Events:[rv,uh,bx,nU,rU,nN]},um={findFiberByHostInstance:Td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZK={bundleType:um.bundleType,version:um.version,rendererPackageName:um.rendererPackageName,rendererConfig:um.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lU(e),e===null?null:e.stateNode},findFiberByHostInstance:um.findFiberByHostInstance||GK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C0.isDisabled&&C0.supportsFiber)try{mx=C0.inject(ZK),pl=C0}catch{}}Na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XK;Na.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cN(t))throw Error(vt(200));return WK(e,t,null,n)};Na.createRoot=function(e,t){if(!cN(e))throw Error(vt(299));var n=!1,r="",i=F8;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=aN(e,1,!1,null,null,n,!1,r,i),e[pc]=t.current,bg(e.nodeType===8?e.parentNode:e),new lN(t)};Na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(vt(188)):(e=Object.keys(e).join(","),Error(vt(268,e)));return e=lU(t),e=e===null?null:e.stateNode,e};Na.flushSync=function(e){return Xd(e)};Na.hydrate=function(e,t,n){if(!Mx(t))throw Error(vt(200));return Ax(null,e,t,!0,n)};Na.hydrateRoot=function(e,t,n){if(!cN(e))throw Error(vt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=F8;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=O8(t,null,e,1,n??null,i,!1,o,a),e[pc]=t.current,bg(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ex(t)};Na.render=function(e,t,n){if(!Mx(t))throw Error(vt(200));return Ax(null,e,t,!1,n)};Na.unmountComponentAtNode=function(e){if(!Mx(e))throw Error(vt(40));return e._reactRootContainer?(Xd(function(){Ax(null,null,e,!1,function(){e._reactRootContainer=null,e[pc]=null})}),!0):!1};Na.unstable_batchedUpdates=nN;Na.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mx(n))throw Error(vt(200));if(e==null||e._reactInternals===void 0)throw Error(vt(38));return Ax(e,t,n,!1,r)};Na.version="18.3.1-next-f1338f8080-20240426";function U8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U8)}catch(e){console.error(e)}}U8(),U6.exports=Na;var qh=U6.exports,ej=qh;dE.createRoot=ej.createRoot,dE.hydrateRoot=ej.hydrateRoot;var iM=function(e,t){return iM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},iM(e,t)};function KK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iM(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Oi=function(){return Oi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Oi.apply(this,arguments)};function tj(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function sd(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):i(d.value).then(s,c)}u((r=r.apply(e,t||[])).next())})}function ld(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function YK(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function il(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dN(e,t){return e(t={exports:{}},t.exports),t.exports}var yd=dN(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,a){var s=i.locked.get(o);s===void 0?a===void 0?i.locked.set(o,[]):i.locked.set(o,[a]):a!==void 0&&(s.unshift(a),i.locked.set(o,s))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){i.isLocked(o)?i.addToLocked(o,a):(i.addToLocked(o),a())})},this.unlock=function(o){var a=i.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();i.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();t.default=function(){return n.getInstance()}});uN(yd);var JK=uN(dN(function(e,t){var n=wd&&wd.__awaiter||function(d,f,p,m){return new(p||(p=Promise))(function(g,v){function _(w){try{S(m.next(w))}catch(C){v(C)}}function y(w){try{S(m.throw(w))}catch(C){v(C)}}function S(w){w.done?g(w.value):new p(function(C){C(w.value)}).then(_,y)}S((m=m.apply(d,f||[])).next())})},r=wd&&wd.__generator||function(d,f){var p,m,g,v,_={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(S){return function(w){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;_;)try{if(p=1,m&&(g=2&C[0]?m.return:C[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,C[1])).done)return g;switch(m=0,g&&(C=[2&C[0],g.value]),C[0]){case 0:case 1:g=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,m=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(g=_.trys,!((g=g.length>0&&g[g.length-1])||C[0]!==6&&C[0]!==2)){_=0;continue}if(C[0]===3&&(!g||C[1]>g[0]&&C[1]<g[3])){_.label=C[1];break}if(C[0]===6&&_.label<g[1]){_.label=g[1],g=C;break}if(g&&_.label<g[2]){_.label=g[2],_.ops.push(C);break}g[2]&&_.ops.pop(),_.trys.pop();continue}C=f.call(d,_)}catch(M){C=[6,M],m=0}finally{p=g=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([S,w])}}},i=wd;Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(d){return n(i,void 0,void 0,function(){return r(this,function(f){throw new Error("Unsupported")})})},getItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(f){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(f){throw new Error("Unsupported")})})},setItem:function(d,f){return n(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,f){return window.localStorage.setItem(d,f)}};function s(d){return new Promise(function(f){return setTimeout(f,d)})}function c(d){for(var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="",m=0;m<d;m++)p+=f[Math.floor(Math.random()*f.length)];return p}var u=function(){function d(f){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=f,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(f,p){return p===void 0&&(p=5e3),n(this,void 0,void 0,function(){var m,g,v,_,y,S,w;return r(this,function(C){switch(C.label){case 0:m=Date.now()+c(4),g=Date.now()+p,v=o+"-"+f,_=this.storageHandler===void 0?a:this.storageHandler,C.label=1;case 1:return Date.now()<g?[4,s(30)]:[3,8];case 2:return C.sent(),_.getItemSync(v)!==null?[3,5]:(y=this.id+"-"+f+"-"+m,[4,s(Math.floor(25*Math.random()))]);case 3:return C.sent(),_.setItemSync(v,JSON.stringify({id:this.id,iat:m,timeoutKey:y,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return C.sent(),(S=_.getItemSync(v))!==null&&(w=JSON.parse(S)).id===this.id&&w.iat===m?(this.acquiredIatSet.add(m),this.refreshLockWhileAcquired(v,m),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(g)];case 6:C.sent(),C.label=7;case 7:return m=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(f,p){return n(this,void 0,void 0,function(){var m=this;return r(this,function(g){return setTimeout(function(){return n(m,void 0,void 0,function(){var v,_,y;return r(this,function(S){switch(S.label){case 0:return[4,yd.default().lock(p)];case 1:return S.sent(),this.acquiredIatSet.has(p)?(v=this.storageHandler===void 0?a:this.storageHandler,(_=v.getItemSync(f))===null?(yd.default().unlock(p),[2]):((y=JSON.parse(_)).timeRefreshed=Date.now(),v.setItemSync(f,JSON.stringify(y)),yd.default().unlock(p),this.refreshLockWhileAcquired(f,p),[2])):(yd.default().unlock(p),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(f){return n(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(m){var g=!1,v=Date.now(),_=!1;function y(){if(_||(window.removeEventListener("storage",y),d.removeFromWaiting(y),clearTimeout(S),_=!0),!g){g=!0;var w=50-(Date.now()-v);w>0?setTimeout(m,w):m(null)}}window.addEventListener("storage",y),d.addToWaiting(y);var S=setTimeout(y,Math.max(0,f-Date.now()))})];case 1:return p.sent(),[2]}})})},d.addToWaiting=function(f){this.removeFromWaiting(f),d.waiters!==void 0&&d.waiters.push(f)},d.removeFromWaiting=function(f){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(p){return p!==f}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(f){return f()})},d.prototype.releaseLock=function(f){return n(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this.releaseLock__private__(f)];case 1:return[2,p.sent()]}})})},d.prototype.releaseLock__private__=function(f){return n(this,void 0,void 0,function(){var p,m,g,v;return r(this,function(_){switch(_.label){case 0:return p=this.storageHandler===void 0?a:this.storageHandler,m=o+"-"+f,(g=p.getItemSync(m))===null?[2]:(v=JSON.parse(g)).id!==this.id?[3,2]:[4,yd.default().lock(v.iat)];case 1:_.sent(),this.acquiredIatSet.delete(v.iat),p.removeItemSync(m),yd.default().unlock(v.iat),d.notifyWaiters(),_.label=2;case 2:return[2]}})})},d.lockCorrector=function(f){for(var p=Date.now()-5e3,m=f,g=[],v=0;;){var _=m.keySync(v);if(_===null)break;g.push(_),v++}for(var y=!1,S=0;S<g.length;S++){var w=g[S];if(w.includes(o)){var C=m.getItemSync(w);if(C!==null){var M=JSON.parse(C);(M.timeRefreshed===void 0&&M.timeAcquired<p||M.timeRefreshed!==void 0&&M.timeRefreshed<p)&&(m.removeItemSync(w),y=!0)}}}y&&d.notifyWaiters()},d.waiters=void 0,d}();t.default=u}));const QK={timeoutInSeconds:60},q8={name:"auth0-spa-js",version:"2.11.0"},H8=()=>Date.now();class ri extends Error{constructor(t,n){super(n),this.error=t,this.error_description=n,Object.setPrototypeOf(this,ri.prototype)}static fromPayload({error:t,error_description:n}){return new ri(t,n)}}class fN extends ri{constructor(t,n,r,i=null){super(t,n),this.state=r,this.appState=i,Object.setPrototypeOf(this,fN.prototype)}}class hN extends ri{constructor(t,n,r,i,o=null){super(t,n),this.connection=r,this.state=i,this.appState=o,Object.setPrototypeOf(this,hN.prototype)}}class Mg extends ri{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Mg.prototype)}}class pN extends Mg{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,pN.prototype)}}class mN extends ri{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,mN.prototype)}}class gN extends ri{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,gN.prototype)}}class vN extends ri{constructor(t,n,r){super(t,n),this.mfa_token=r,Object.setPrototypeOf(this,vN.prototype)}}class Nx extends ri{constructor(t,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${Sb(t,["default"])}', scope: '${Sb(n)}')`),this.audience=t,this.scope=n,Object.setPrototypeOf(this,Nx.prototype)}}class yN extends ri{constructor(t,n){super("missing_scopes",`Missing requested scopes after refresh (audience: '${Sb(t,["default"])}', missing scope: '${Sb(n)}')`),this.audience=t,this.scope=n,Object.setPrototypeOf(this,yN.prototype)}}class Px extends ri{constructor(t){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=t,Object.setPrototypeOf(this,Px.prototype)}}function Sb(e,t=[]){return e&&!t.includes(e)?e:""}const Cb=()=>window.crypto,dm=()=>{const e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let t="";return Array.from(Cb().getRandomValues(new Uint8Array(43))).forEach(n=>t+=e[n%e.length]),t},V_=e=>btoa(e),eY=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],tY=e=>Object.keys(e).reduce((t,n)=>{const r=eY.find(i=>i.key===n);return r&&r.type.includes(typeof e[n])&&(t[n]=e[n]),t},{}),oM=e=>{var{clientId:t}=e,n=il(e,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:t},n))).toString()},nj=async e=>await Cb().subtle.digest({name:"SHA-256"},new TextEncoder().encode(e)),rj=e=>(t=>decodeURIComponent(atob(t).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),ij=e=>{const t=new Uint8Array(e);return(n=>{const r={"+":"-","/":"_","=":""};return n.replace(/[+/=]/g,i=>r[i])})(window.btoa(String.fromCharCode(...Array.from(t))))},nY=new TextEncoder,rY=new TextDecoder;function eg(e){return typeof e=="string"?nY.encode(e):rY.decode(e)}function oj(e){if(typeof e.modulusLength!="number"||e.modulusLength<2048)throw new oY(`${e.name} modulusLength must be at least 2048 bits`)}async function iY(e,t,n){if(n.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const r=`${tg(eg(JSON.stringify(e)))}.${tg(eg(JSON.stringify(t)))}`;return`${r}.${tg(await crypto.subtle.sign(function(i){switch(i.algorithm.name){case"ECDSA":return{name:i.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return oj(i.algorithm),{name:i.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return oj(i.algorithm),{name:i.algorithm.name};case"Ed25519":return{name:i.algorithm.name}}throw new Md}(n),n,eg(r)))}`}let aM;Uint8Array.prototype.toBase64?aM=e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):aM=t=>{t instanceof ArrayBuffer&&(t=new Uint8Array(t));const n=[];for(let r=0;r<t.byteLength;r+=32768)n.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return btoa(n.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function tg(e){return aM(e)}class Md extends Error{constructor(t){var n;super(t??"operation not supported"),this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class oY extends Error{constructor(t){var n;super(t),this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}function aY(e){switch(e.algorithm.name){case"RSA-PSS":return function(t){if(t.algorithm.hash.name==="SHA-256")return"PS256";throw new Md("unsupported RsaHashedKeyAlgorithm hash name")}(e);case"RSASSA-PKCS1-v1_5":return function(t){if(t.algorithm.hash.name==="SHA-256")return"RS256";throw new Md("unsupported RsaHashedKeyAlgorithm hash name")}(e);case"ECDSA":return function(t){if(t.algorithm.namedCurve==="P-256")return"ES256";throw new Md("unsupported EcKeyAlgorithm namedCurve")}(e);case"Ed25519":return"Ed25519";default:throw new Md("unsupported CryptoKey algorithm name")}}function V8(e){return e instanceof CryptoKey}function W8(e){return V8(e)&&e.type==="public"}async function sY(e,t,n,r,i,o){const a=e==null?void 0:e.privateKey,s=e==null?void 0:e.publicKey;if(!V8(c=a)||c.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var c;if(!W8(s))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(s.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof t!="string")throw new TypeError('"htu" must be a string');if(typeof n!="string")throw new TypeError('"htm" must be a string');if(r!==void 0&&typeof r!="string")throw new TypeError('"nonce" must be a string or undefined');if(i!==void 0&&typeof i!="string")throw new TypeError('"accessToken" must be a string or undefined');return iY({alg:aY(a),typ:"dpop+jwt",jwk:await G8(s)},Object.assign(Object.assign({},o),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:n,nonce:r,htu:t,ath:i?tg(await crypto.subtle.digest("SHA-256",eg(i))):void 0}),a)}async function G8(e){const{kty:t,e:n,n:r,x:i,y:o,crv:a}=await crypto.subtle.exportKey("jwk",e);return{kty:t,crv:a,e:n,n:r,x:i,y:o}}const lY=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];function cY(){return async function(e,t){var n;let r;if(e.length===0)throw new TypeError('"alg" must be a non-empty string');switch(e){case"PS256":r={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":r={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":r={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":r={name:"Ed25519"};break;default:throw new Md}return crypto.subtle.generateKey(r,(n=t==null?void 0:t.extractable)!==null&&n!==void 0&&n,["sign","verify"])}("ES256",{extractable:!1})}function uY(e){return async function(t){if(!W8(t))throw new TypeError('"publicKey" must be a public CryptoKey');if(t.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const n=await G8(t);let r;switch(n.kty){case"EC":r={crv:n.crv,kty:n.kty,x:n.x,y:n.y};break;case"OKP":r={crv:n.crv,kty:n.kty,x:n.x};break;case"RSA":r={e:n.e,kty:n.kty,n:n.n};break;default:throw new Md("unsupported JWK kty")}return tg(await crypto.subtle.digest({name:"SHA-256"},eg(JSON.stringify(r))))}(e.publicKey)}function dY({keyPair:e,url:t,method:n,nonce:r,accessToken:i}){const o=function(a){const s=new URL(a);return s.search="",s.hash="",s.href}(t);return sY(e,o,n,r,i)}const fY=async(e,t)=>{const n=await fetch(e,t);return{ok:n.ok,json:await n.json(),headers:(r=n.headers,[...r].reduce((i,[o,a])=>(i[o]=a,i),{}))};var r},hY=async(e,t,n)=>{const r=new AbortController;let i;return t.signal=r.signal,Promise.race([fY(e,t),new Promise((o,a)=>{i=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})},pY=async(e,t,n,r,i,o,a,s)=>{return c={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:r,useFormData:a,useMrrt:s},u=o,new Promise(function(d,f){const p=new MessageChannel;p.port1.onmessage=function(m){m.data.error?f(new Error(m.data.error)):d(m.data),p.port1.close()},u.postMessage(c,[p.port2])});var c,u},mY=async(e,t,n,r,i,o,a=1e4,s)=>i?pY(e,t,n,r,a,i,o,s):hY(e,r,a);async function $8(e,t,n,r,i,o,a,s,c,u){if(c){const w=await c.generateProof({url:e,method:i.method||"GET",nonce:await c.getNonce()});i.headers=Object.assign(Object.assign({},i.headers),{dpop:w})}let d,f=null;for(let w=0;w<3;w++)try{d=await mY(e,n,r,i,o,a,t,s),f=null;break}catch(C){f=C}if(f)throw f;const p=d.json,{error:m,error_description:g}=p,v=il(p,["error","error_description"]),{headers:_,ok:y}=d;let S;if(c&&(S=_["dpop-nonce"],S&&await c.setNonce(S)),!y){const w=g||`HTTP error. Unable to fetch ${e}`;if(m==="mfa_required")throw new vN(m,w,v.mfa_token);if(m==="missing_refresh_token")throw new Nx(n,r);if(m==="use_dpop_nonce"){if(!c||!S||u)throw new Px(S);return $8(e,t,n,r,i,o,a,s,c,!0)}throw new ri(m||"request_error",w)}return v}async function gY(e,t){var{baseUrl:n,timeout:r,audience:i,scope:o,auth0Client:a,useFormData:s,useMrrt:c,dpop:u}=e,d=il(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const f=d.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",p=d.grant_type==="refresh_token"&&c,m=Object.assign(Object.assign(Object.assign(Object.assign({},d),f&&i&&{audience:i}),f&&o&&{scope:o}),p&&{audience:i,scope:o}),g=s?oM(m):JSON.stringify(m),v=(_=d.grant_type,lY.includes(_));var _;return await $8(`${n}/oauth/token`,r,i||"default",o,{method:"POST",body:g,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(tY(a||q8)))}},t,s,c,v?u:void 0)}const Iy=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t},T0=(e,t,n)=>{let r;return n&&(r=e[n]),r||(r=e.default),Iy(r,t)};class $a{constructor(t,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){const[n,r,i,o]=t.split("::");return new $a({clientId:r,scope:o,audience:i},n)}static fromCacheEntry(t){const{scope:n,audience:r,client_id:i}=t;return new $a({scope:n,audience:r,clientId:i})}}class vY{set(t,n){localStorage.setItem(t,JSON.stringify(n))}get(t){const n=window.localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}}class X8{constructor(){this.enclosedCache=function(){let t={};return{set(n,r){t[n]=r},get(n){const r=t[n];if(r)return r},remove(n){delete t[n]},allKeys:()=>Object.keys(t)}}()}}class yY{constructor(t,n,r){this.cache=t,this.keyManifest=n,this.nowProvider=r||H8}async setIdToken(t,n,r){var i;const o=this.getIdTokenCacheKey(t);await this.cache.set(o,{id_token:n,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(o))}async getIdToken(t){const n=await this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!n&&t.scope&&t.audience){const r=await this.get(t);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(t,n=0,r=!1,i){var o;let a=await this.cache.get(t.toKey());if(!a){const u=await this.getCacheKeys();if(!u)return;const d=this.matchExistingCacheKey(t,u);if(d&&(a=await this.cache.get(d)),!d&&r&&i!=="cache-only")return this.getEntryWithRefreshToken(t,u)}if(!a)return;const s=await this.nowProvider(),c=Math.floor(s/1e3);return a.expiresAt-n<c?a.body.refresh_token?this.modifiedCachedEntry(a,t):(await this.cache.remove(t.toKey()),void await((o=this.keyManifest)===null||o===void 0?void 0:o.remove(t.toKey()))):a.body}async modifiedCachedEntry(t,n){return t.body={refresh_token:t.body.refresh_token,audience:t.body.audience,scope:t.body.scope},await this.cache.set(n.toKey(),t),{refresh_token:t.body.refresh_token,audience:t.body.audience,scope:t.body.scope}}async set(t){var n;const r=new $a({clientId:t.client_id,scope:t.scope,audience:t.audience}),i=await this.wrapCacheEntry(t);await this.cache.set(r.toKey(),i),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey()))}async remove(t,n,r){const i=new $a({clientId:t,scope:r,audience:n});await this.cache.remove(i.toKey())}async clear(t){var n;const r=await this.getCacheKeys();r&&(await r.filter(i=>!t||i.includes(t)).reduce(async(i,o)=>{await i,await this.cache.remove(o)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(t){const n=await this.nowProvider();return{body:t,expiresAt:Math.floor(n/1e3)+t.expires_in}}async getCacheKeys(){var t;return this.keyManifest?(t=await this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(t){return new $a({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,n){return n.filter(r=>{var i;const o=$a.fromKey(r),a=new Set(o.scope&&o.scope.split(" ")),s=((i=t.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&s.reduce((u,d)=>u&&a.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===t.clientId&&o.audience===t.audience&&c})[0]}async getEntryWithRefreshToken(t,n){var r;for(const i of n){const o=$a.fromKey(i);if(o.prefix==="@@auth0spajs@@"&&o.clientId===t.clientId){const a=await this.cache.get(i);if(!((r=a==null?void 0:a.body)===null||r===void 0)&&r.refresh_token)return this.modifiedCachedEntry(a,t)}}}async updateEntry(t,n){var r;const i=await this.getCacheKeys();if(i)for(const o of i){const a=await this.cache.get(o);if(((r=a==null?void 0:a.body)===null||r===void 0?void 0:r.refresh_token)===t){const s=Object.assign(Object.assign({},a.body),{refresh_token:n});await this.set(s)}}}}class bY{constructor(t,n,r){this.storage=t,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const fm=e=>typeof e=="number",xY=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],_Y=e=>{if(!e.id_token)throw new Error("ID token is required but missing");const t=(o=>{const a=o.split("."),[s,c,u]=a;if(a.length!==3||!s||!c||!u)throw new Error("ID token could not be decoded");const d=JSON.parse(rj(c)),f={__raw:o},p={};return Object.keys(d).forEach(m=>{f[m]=d[m],xY.includes(m)||(p[m]=d[m])}),{encoded:{header:s,payload:c,signature:u},header:JSON.parse(rj(s)),claims:f,user:p}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!fm(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!fm(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!fm(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=e.leeway||60,r=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(t.claims.exp+n),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(t.claims.nbf!=null&&fm(t.claims.nbf)){const o=new Date(0);if(o.setUTCSeconds(t.claims.nbf-n),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(t.claims.auth_time!=null&&fm(t.claims.auth_time)){const o=new Date(0);if(o.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(e.organization){const o=e.organization.trim();if(o.startsWith("org_")){const a=o;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${t.claims.org_id}"`)}else{const a=o.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${t.claims.org_name}"`)}}return t};var Ad=dN(function(e,t){var n=wd&&wd.__assign||function(){return n=Object.assign||function(c){for(var u,d=1,f=arguments.length;d<f;d++)for(var p in u=arguments[d])Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p]);return c},n.apply(this,arguments)};function r(c,u){if(!u)return"";var d="; "+c;return u===!0?d:d+"="+u}function i(c,u,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(f){if(typeof f.expires=="number"){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*f.expires),f.expires=p}return r("Expires",f.expires?f.expires.toUTCString():"")+r("Domain",f.domain)+r("Path",f.path)+r("Secure",f.secure)+r("SameSite",f.sameSite)}(d)}function o(c){for(var u={},d=c?c.split("; "):[],f=/(%[\dA-F]{2})+/gi,p=0;p<d.length;p++){var m=d[p].split("="),g=m.slice(1).join("=");g.charAt(0)==='"'&&(g=g.slice(1,-1));try{u[m[0].replace(f,decodeURIComponent)]=g.replace(f,decodeURIComponent)}catch{}}return u}function a(){return o(document.cookie)}function s(c,u,d){document.cookie=i(c,u,n({path:"/"},d))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(c){return a()[c]},t.set=s,t.remove=function(c,u){s(c,"",n(n({},u),{expires:-1}))}});uN(Ad),Ad.encode,Ad.parse,Ad.getAll;var wY=Ad.get,Z8=Ad.set,K8=Ad.remove;const rh={get(e){const t=wY(e);if(t!==void 0)return JSON.parse(t)},save(e,t,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),Z8(e,JSON.stringify(t),r)},remove(e,t){let n={};t!=null&&t.cookieDomain&&(n.domain=t.cookieDomain),K8(e,n)}},SY={get(e){return rh.get(e)||rh.get(`_legacy_${e}`)},save(e,t,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),Z8(`_legacy_${e}`,JSON.stringify(t),r),rh.save(e,t,n)},remove(e,t){let n={};t!=null&&t.cookieDomain&&(n.domain=t.cookieDomain),K8(e,n),rh.remove(e,t),rh.remove(`_legacy_${e}`,t)}},CY={get(e){if(typeof sessionStorage>"u")return;const t=sessionStorage.getItem(e);return t!=null?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};var lu;(function(e){e.Code="code",e.ConnectCode="connect_code"})(lu||(lu={}));function TY(e,t,n){var r=t===void 0?null:t,i=function(c,u){var d=atob(c);if(u){for(var f=new Uint8Array(d.length),p=0,m=d.length;p<m;++p)f[p]=d.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(f.buffer))}return d}(e,n!==void 0&&n),o=i.indexOf(`
`,10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var aj,sj,lj,W_,kY=(aj="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg==",sj=null,lj=!1,function(e){return W_=W_||TY(aj,sj,lj),new Worker(W_,e)});const G_={};class EY{constructor(t,n){this.cache=t,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(t){var n;const r=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(t),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(t){const n=await this.cache.get(this.manifestKey);if(n){const r=new Set(n.keys);return r.delete(t),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}}const MY={memory:()=>new X8().enclosedCache,localstorage:()=>new vY},cj=e=>MY[e],uj=e=>{const{openUrl:t,onRedirect:n}=e,r=il(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:t===!1||t?t:n})},dj=(e,t)=>{const n=(t==null?void 0:t.split(" "))||[];return((e==null?void 0:e.split(" "))||[]).every(r=>n.includes(r))},cd={NONCE:"nonce",KEYPAIR:"keypair"};class AY{constructor(t){this.clientId=t}getVersion(){return 1}createDbHandle(){const t=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise((n,r)=>{t.onupgradeneeded=()=>Object.values(cd).forEach(i=>t.result.createObjectStore(i)),t.onerror=()=>r(t.error),t.onsuccess=()=>n(t.result)})}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(t,n,r){const i=r((await this.getDbHandle()).transaction(t,n).objectStore(t));return new Promise((o,a)=>{i.onsuccess=()=>o(i.result),i.onerror=()=>a(i.error)})}buildKey(t){const n=t?`_${t}`:"auth0";return`${this.clientId}::${n}`}setNonce(t,n){return this.save(cd.NONCE,this.buildKey(n),t)}setKeyPair(t){return this.save(cd.KEYPAIR,this.buildKey(),t)}async save(t,n,r){await this.executeDbRequest(t,"readwrite",i=>i.put(r,n))}findNonce(t){return this.find(cd.NONCE,this.buildKey(t))}findKeyPair(){return this.find(cd.KEYPAIR,this.buildKey())}find(t,n){return this.executeDbRequest(t,"readonly",r=>r.get(n))}async deleteBy(t,n){const r=await this.executeDbRequest(t,"readonly",i=>i.getAllKeys());r==null||r.filter(n).map(i=>this.executeDbRequest(t,"readwrite",o=>o.delete(i)))}deleteByClientId(t,n){return this.deleteBy(t,r=>typeof r=="string"&&r.startsWith(`${n}::`))}clearNonces(){return this.deleteByClientId(cd.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(cd.KEYPAIR,this.clientId)}}class NY{constructor(t){this.storage=new AY(t)}getNonce(t){return this.storage.findNonce(t)}setNonce(t,n){return this.storage.setNonce(t,n)}async getOrGenerateKeyPair(){let t=await this.storage.findKeyPair();return t||(t=await cY(),await this.storage.setKeyPair(t)),t}async generateProof(t){const n=await this.getOrGenerateKeyPair();return dY(Object.assign({keyPair:n},t))}async calculateThumbprint(){return uY(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var vh;(function(e){e.Bearer="Bearer",e.DPoP="DPoP"})(vh||(vh={}));class PY{constructor(t,n){this.hooks=n,this.config=Object.assign(Object.assign({},t),{fetch:t.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(t){return/^(https?:)?\/\//i.test(t)}buildUrl(t,n){if(n){if(this.isAbsoluteUrl(n))return n;if(t)return`${t.replace(/\/?\/$/,"")}/${n.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(t){return this.config.getAccessToken?this.config.getAccessToken(t):this.hooks.getAccessToken(t)}extractUrl(t){return typeof t=="string"?t:t instanceof URL?t.href:t.url}buildBaseRequest(t,n){if(!this.config.baseUrl)return new Request(t,n);const r=this.buildUrl(this.config.baseUrl,this.extractUrl(t)),i=t instanceof Request?new Request(r,t):r;return new Request(i,n)}setAuthorizationHeader(t,n,r=vh.Bearer){t.headers.set("authorization",`${r} ${n}`)}async setDpopProofHeader(t,n){if(!this.config.dpopNonceId)return;const r=await this.hooks.getDpopNonce(),i=await this.hooks.generateDpopProof({accessToken:n,method:t.method,nonce:r,url:t.url});t.headers.set("dpop",i)}async prepareRequest(t,n){const r=await this.getAccessToken(n);let i,o;typeof r=="string"?(i=this.config.dpopNonceId?vh.DPoP:vh.Bearer,o=r):(i=r.token_type,o=r.access_token),this.setAuthorizationHeader(t,o,i),i===vh.DPoP&&await this.setDpopProofHeader(t,o)}getHeader(t,n){return Array.isArray(t)?new Headers(t).get(n)||"":typeof t.get=="function"?t.get(n)||"":t[n]||""}hasUseDpopNonceError(t){if(t.status!==401)return!1;const n=this.getHeader(t.headers,"www-authenticate");return n.includes("invalid_dpop_nonce")||n.includes("use_dpop_nonce")}async handleResponse(t,n){const r=this.getHeader(t.headers,"dpop-nonce");if(r&&await this.hooks.setDpopNonce(r),!this.hasUseDpopNonceError(t))return t;if(!r||!n.onUseDpopNonceError)throw new Px(r);return n.onUseDpopNonceError()}async internalFetchWithAuth(t,n,r,i){const o=this.buildBaseRequest(t,n);await this.prepareRequest(o,i);const a=await this.config.fetch(o);return this.handleResponse(a,r)}fetchWithAuth(t,n,r){const i={onUseDpopNonceError:()=>this.internalFetchWithAuth(t,n,Object.assign(Object.assign({},i),{onUseDpopNonceError:void 0}),r)};return this.internalFetchWithAuth(t,n,i,r)}}class BY{constructor(t,n){this.myAccountFetcher=t,this.apiBase=n}async connectAccount(t){const n=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return this._handleResponse(n)}async completeAccount(t){const n=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return this._handleResponse(n)}async _handleResponse(t){let n;try{n=await t.text(),n=JSON.parse(n)}catch(r){throw new Tb({type:"invalid_json",status:t.status,title:"Invalid JSON response",detail:n||String(r)})}if(t.ok)return n;throw new Tb(n)}}class Tb extends Error{constructor({type:t,status:n,title:r,detail:i,validation_errors:o}){super(i),this.name="MyAccountApiError",this.type=t,this.status=n,this.title=r,this.detail=i,this.validation_errors=o,Object.setPrototypeOf(this,Tb.prototype)}}const $_=new JK;class RY{constructor(t){let n,r;if(this.userCache=new X8().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const c=Array.from(this.activeLockKeys);for(const u of c)await $_.releaseLock(u);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!Cb())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Cb().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(n=t.cacheLocation||"memory",!cj(n))throw new Error(`Invalid cache location "${n}"`);r=cj(n)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?rh:SY,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(c=>`auth0.${c}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;const i=t.useCookiesForTransactions?this.cookieStorage:CY;var o;this.scope=((c,u,...d)=>{if(typeof c!="object")return{default:Iy(u,c,...d)};let f={default:Iy(u,...d)};return Object.keys(c).forEach(p=>{const m=c[p];f[p]=Iy(u,m,...d)}),f})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new bY(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||H8,this.cacheManager=new yY(r,r.allKeys?void 0:new EY(r,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new NY(this.options.clientId):void 0,this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((c,u)=>c?c.startsWith("https://")?c:`https://${c}/`:`${u}/`)(this.options.issuer,this.domainUrl);const a=`${this.domainUrl}/me/`,s=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:a},detailedResponse:!0})}));this.myAccountApi=new BY(s,a),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new kY)}_url(t){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||q8)));return`${this.domainUrl}${t}&auth0Client=${n}`}_authorizeUrl(t){return this._url(`/authorize?${oM(t)}`)}async _verifyIdToken(t,n,r){const i=await this.nowProvider();return _Y({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:n,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(t,n,r){var i;const o=V_(dm()),a=V_(dm()),s=dm(),c=await nj(s),u=ij(c),d=await((i=this.dpop)===null||i===void 0?void 0:i.calculateThumbprint()),f=((m,g,v,_,y,S,w,C,M)=>Object.assign(Object.assign(Object.assign({client_id:m.clientId},m.authorizationParams),v),{scope:T0(g,v.scope,v.audience),response_type:"code",response_mode:C||"query",state:_,nonce:y,redirect_uri:w||m.authorizationParams.redirect_uri,code_challenge:S,code_challenge_method:"S256",dpop_jkt:M}))(this.options,this.scope,t,o,a,u,t.redirect_uri||this.options.authorizationParams.redirect_uri||r,n==null?void 0:n.response_mode,d),p=this._authorizeUrl(f);return{nonce:a,code_verifier:s,scope:f.scope,audience:f.audience||"default",redirect_uri:f.redirect_uri,state:o,url:p}}async loginWithPopup(t,n){var r;if(t=t||{},!(n=n||{}).popup&&(n.popup=(s=>{const c=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new gN;const i=await this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;const o=await(s=>new Promise((c,u)=>{let d;const f=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(f),clearTimeout(p),window.removeEventListener("message",d,!1),u(new mN(s.popup)))},1e3),p=setTimeout(()=>{clearInterval(f),u(new pN(s.popup)),window.removeEventListener("message",d,!1)},1e3*(s.timeoutInSeconds||60));d=function(m){if(m.data&&m.data.type==="authorization_response"){if(clearTimeout(p),clearInterval(f),window.removeEventListener("message",d,!1),s.popup.close(),m.data.response.error)return u(ri.fromPayload(m.data.response));c(m.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new ri("state_mismatch","Invalid state");const a=((r=t.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:a})}async getUser(){var t;const n=await this._getIdTokenFromCache();return(t=n==null?void 0:n.decodedToken)===null||t===void 0?void 0:t.user}async getIdTokenClaims(){var t;const n=await this._getIdTokenFromCache();return(t=n==null?void 0:n.decodedToken)===null||t===void 0?void 0:t.claims}async loginWithRedirect(t={}){var n;const r=uj(t),{openUrl:i,fragment:o,appState:a}=r,s=il(r,["openUrl","fragment","appState"]),c=((n=s.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:d}=u,f=il(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},f),{appState:a,response_type:lu.Code}),c&&{organization:c}));const p=o?`${d}#${o}`:d;i?await i(p):window.location.assign(p)}async handleRedirectCallback(t=window.location.href){const n=t.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const r=this.transactionManager.get();if(!r)throw new ri("missing_transaction","Invalid state");this.transactionManager.remove();const i=(o=>{o.indexOf("#")>-1&&(o=o.substring(0,o.indexOf("#")));const a=new URLSearchParams(o);return{state:a.get("state"),code:a.get("code")||void 0,connect_code:a.get("connect_code")||void 0,error:a.get("error")||void 0,error_description:a.get("error_description")||void 0}})(n.join(""));return r.response_type===lu.ConnectCode?this._handleConnectAccountRedirectCallback(i,r):this._handleLoginRedirectCallback(i,r)}async _handleLoginRedirectCallback(t,n){const{code:r,state:i,error:o,error_description:a}=t;if(o)throw new fN(o,a||o,i,n.appState);if(!n.code_verifier||n.state&&n.state!==i)throw new ri("state_mismatch","Invalid state");const s=n.organization,c=n.nonce,u=n.redirect_uri;return await this._requestToken(Object.assign({audience:n.audience,scope:n.scope,code_verifier:n.code_verifier,grant_type:"authorization_code",code:r},u?{redirect_uri:u}:{}),{nonceIn:c,organization:s}),{appState:n.appState,response_type:lu.Code}}async _handleConnectAccountRedirectCallback(t,n){const{connect_code:r,state:i,error:o,error_description:a}=t;if(o)throw new hN(o,a||o,n.connection,i,n.appState);if(!r)throw new ri("missing_connect_code","Missing connect code");if(!(n.code_verifier&&n.state&&n.auth_session&&n.redirect_uri&&n.state===i))throw new ri("state_mismatch","Invalid state");const s=await this.myAccountApi.completeAccount({auth_session:n.auth_session,connect_code:r,redirect_uri:n.redirect_uri,code_verifier:n.code_verifier});return Object.assign(Object.assign({},s),{appState:n.appState,response_type:lu.ConnectCode})}async checkSession(t){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(t)}catch{}}async getTokenSilently(t={}){var n,r;const i=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:T0(this.scope,(n=t.authorizationParams)===null||n===void 0?void 0:n.scope,((r=t.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})}),o=await((a,s)=>{let c=G_[s];return c||(c=a().finally(()=>{delete G_[s],c=null}),G_[s]=c),c})(()=>this._getTokenSilently(i),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return t.detailedResponse?o:o==null?void 0:o.access_token}async _getTokenSilently(t){const{cacheMode:n}=t,r=il(t,["cacheMode"]);if(n!=="off"){const s=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:n});if(s)return s}if(n==="cache-only")return;const i=(o=this.options.clientId,a=r.authorizationParams.audience||"default",`auth0.lock.getTokenSilently.${o}.${a}`);var o,a;if(!await(async(s,c=3)=>{for(let u=0;u<c;u++)if(await s())return!0;return!1})(()=>$_.acquireLock(i,5e3),10))throw new Mg;this.activeLockKeys.add(i),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(n!=="off"){const m=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(m)return m}const s=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:c,token_type:u,access_token:d,oauthTokenScope:f,expires_in:p}=s;return Object.assign(Object.assign({id_token:c,token_type:u,access_token:d},f?{scope:f}:null),{expires_in:p})}finally{await $_.releaseLock(i),this.activeLockKeys.delete(i),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(t={},n={}){var r,i;const o=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:T0(this.scope,(r=t.authorizationParams)===null||r===void 0?void 0:r.scope,((i=t.authorizationParams)===null||i===void 0?void 0:i.audience)||this.options.authorizationParams.audience)})});return n=Object.assign(Object.assign({},QK),n),await this.loginWithPopup(o,n),(await this.cacheManager.get(new $a({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const n=t.logoutParams||{},{federated:r}=n,i=il(n,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${oM(Object.assign({clientId:t.clientId},i))}`)+o}async logout(t={}){var n;const r=uj(t),{openUrl:i}=r,o=il(r,["openUrl"]);t.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((n=this.dpop)===null||n===void 0?void 0:n.clear());const a=this._buildLogoutUrl(o);i?await i(a):i!==!1&&window.location.assign(a)}async _getTokenFromIFrame(t){const n=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);const{url:i,state:o,nonce:a,code_verifier:s,redirect_uri:c,scope:u,audience:d}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new ri("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const f=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let p;try{p=new URL(this.domainUrl).origin}catch{p=this.domainUrl}const m=await((v,_,y=60)=>new Promise((S,w)=>{const C=window.document.createElement("iframe");C.setAttribute("width","0"),C.setAttribute("height","0"),C.style.display="none";const M=()=>{window.document.body.contains(C)&&(window.document.body.removeChild(C),window.removeEventListener("message",A,!1))};let A;const E=setTimeout(()=>{w(new Mg),M()},1e3*y);A=function(I){if(I.origin!=_||!I.data||I.data.type!=="authorization_response")return;const N=I.source;N&&N.close(),I.data.response.error?w(ri.fromPayload(I.data.response)):S(I.data.response),clearTimeout(E),window.removeEventListener("message",A,!1),setTimeout(M,2e3)},window.addEventListener("message",A,!1),window.document.body.appendChild(C),C.setAttribute("src",v)}))(i,p,f);if(o!==m.state)throw new ri("state_mismatch","Invalid state");const g=await this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:s,code:m.code,grant_type:"authorization_code",redirect_uri:c,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:n.organization});return Object.assign(Object.assign({},g),{scope:u,oauthTokenScope:g.scope,audience:d})}catch(f){throw f.error==="login_required"&&this.logout({openUrl:!1}),f}}async _getTokenUsingRefreshToken(t){const n=await this.cacheManager.get(new $a({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw new Nx(t.authorizationParams.audience||"default",t.authorizationParams.scope)}const r=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null,o=((d,f,p,m)=>{var g;if(d&&p&&m){if(f.audience!==p)return f.scope;const v=m.split(" "),_=((g=f.scope)===null||g===void 0?void 0:g.split(" "))||[],y=_.every(S=>v.includes(S));return v.length>=_.length&&y?m:f.scope}return f.scope})(this.options.useMrrt,t.authorizationParams,n==null?void 0:n.audience,n==null?void 0:n.scope);try{const d=await this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),i&&{timeout:i}),{scopesToRequest:o});if(d.refresh_token&&this.options.useMrrt&&(n!=null&&n.refresh_token)&&await this.cacheManager.updateEntry(n.refresh_token,d.refresh_token),this.options.useMrrt&&(a=n==null?void 0:n.audience,s=n==null?void 0:n.scope,c=t.authorizationParams.audience,u=t.authorizationParams.scope,(a!==c||!dj(u,s))&&!dj(o,d.scope))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);await this.cacheManager.remove(this.options.clientId,t.authorizationParams.audience,t.authorizationParams.scope);const f=((p,m)=>{const g=(p==null?void 0:p.split(" "))||[],v=(m==null?void 0:m.split(" "))||[];return g.filter(_=>v.indexOf(_)==-1).join(",")})(o,d.scope);throw new yN(t.authorizationParams.audience||"default",f)}return Object.assign(Object.assign({},d),{scope:t.authorizationParams.scope,oauthTokenScope:d.scope,audience:t.authorizationParams.audience||"default"})}catch(d){if((d.message.indexOf("Missing Refresh Token")>-1||d.message&&d.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw d}var a,s,c,u}async _saveEntryInCache(t){const{id_token:n,decodedToken:r}=t,i=il(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const t=this.options.authorizationParams.audience||"default",n=this.scope[t],r=await this.cacheManager.getIdToken(new $a({clientId:this.options.clientId,audience:t,scope:n})),i=this.userCache.get("@@user@@");return r&&r.id_token===(i==null?void 0:i.id_token)?i:(this.userCache.set("@@user@@",r),r)}async _getEntryFromCache({scope:t,audience:n,clientId:r,cacheMode:i}){const o=await this.cacheManager.get(new $a({scope:t,audience:n,clientId:r}),60,this.options.useMrrt,i);if(o&&o.access_token){const{token_type:a,access_token:s,oauthTokenScope:c,expires_in:u}=o,d=await this._getIdTokenFromCache();return d&&Object.assign(Object.assign({id_token:d.id_token,token_type:a||"Bearer",access_token:s},c?{scope:c}:null),{expires_in:u})}}async _requestToken(t,n){const{nonceIn:r,organization:i,scopesToRequest:o}=n||{},a=await gY(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},t),{scope:o||t.scope}),this.worker),s=await this._verifyIdToken(a.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:s,scope:t.scope,audience:t.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||s.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:s})}async exchangeToken(t){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:t.subject_token,subject_token_type:t.subject_token_type,scope:T0(this.scope,t.scope,t.audience||this.options.authorizationParams.audience),audience:t.audience||this.options.authorizationParams.audience,organization:t.organization||this.options.authorizationParams.organization})}_assertDpop(t){if(!t)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(t){return this._assertDpop(this.dpop),this.dpop.getNonce(t)}setDpopNonce(t,n){return this._assertDpop(this.dpop),this.dpop.setNonce(t,n)}generateDpopProof(t){return this._assertDpop(this.dpop),this.dpop.generateProof(t)}createFetcher(t={}){return new PY(t,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:n=>{var r;return this.getTokenSilently({authorizationParams:{scope:(r=n==null?void 0:n.scope)===null||r===void 0?void 0:r.join(" "),audience:n==null?void 0:n.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(t.dpopNonceId),setDpopNonce:n=>this.setDpopNonce(n,t.dpopNonceId),generateDpopProof:n=>this.generateDpopProof(n)})}async connectAccountWithRedirect(t){const{openUrl:n,appState:r,connection:i,scopes:o,authorization_params:a,redirectUri:s=this.options.authorizationParams.redirect_uri||window.location.origin}=t;if(!i)throw new Error("connection is required");const c=V_(dm()),u=dm(),d=await nj(u),f=ij(d),{connect_uri:p,connect_params:m,auth_session:g}=await this.myAccountApi.connectAccount({connection:i,scopes:o,redirect_uri:s,state:c,code_challenge:f,code_challenge_method:"S256",authorization_params:a});this.transactionManager.create({state:c,code_verifier:u,auth_session:g,redirect_uri:s,appState:r,connection:i,response_type:lu.ConnectCode});const v=new URL(p);v.searchParams.set("ticket",m.ticket),n?await n(v.toString()):window.location.assign(v)}}var Y8={isAuthenticated:!1,isLoading:!0,error:void 0,user:void 0},To=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},jY=Oi(Oi({},Y8),{buildAuthorizeUrl:To,buildLogoutUrl:To,getAccessTokenSilently:To,getAccessTokenWithPopup:To,getIdTokenClaims:To,exchangeToken:To,loginWithRedirect:To,loginWithPopup:To,connectAccountWithRedirect:To,logout:To,handleRedirectCallback:To,getDpopNonce:To,setDpopNonce:To,generateDpopProof:To,createFetcher:To}),J8=x.createContext(jY),fj=function(e){KK(t,e);function t(n,r){var i=e.call(this,r??n)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,t.prototype),i}return t}(Error),IY=/[?&](?:connect_)?code=[^&]+/,zY=/[?&]state=[^&]+/,LY=/[?&]error=[^&]+/,DY=function(e){return e===void 0&&(e=window.location.search),(IY.test(e)||LY.test(e))&&zY.test(e)},Q8=function(e){return function(t){if(t instanceof Error)return t;if(t!==null&&typeof t=="object"&&"error"in t&&typeof t.error=="string"){if("error_description"in t&&typeof t.error_description=="string"){var n=t;return new fj(n.error,n.error_description)}var r=t;return new fj(r.error)}return new Error(e)}},hj=Q8("Login failed"),k0=Q8("Get access token failed"),e7=function(e){var t,n;e!=null&&e.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),e.authorizationParams=(t=e.authorizationParams)!==null&&t!==void 0?t:{},e.authorizationParams.redirect_uri=e.redirectUri,delete e.redirectUri),!((n=e==null?void 0:e.authorizationParams)===null||n===void 0)&&n.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),e.authorizationParams.redirect_uri=e.authorizationParams.redirectUri,delete e.authorizationParams.redirectUri)},OY=function(e,t){switch(t.type){case"LOGIN_POPUP_STARTED":return Oi(Oi({},e),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return Oi(Oi({},e),{isAuthenticated:!!t.user,user:t.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return e.user===t.user?e:Oi(Oi({},e),{isAuthenticated:!!t.user,user:t.user});case"LOGOUT":return Oi(Oi({},e),{isAuthenticated:!1,user:void 0});case"ERROR":return Oi(Oi({},e),{isLoading:!1,error:t.error})}},FY=function(e){return e7(e),Oi(Oi({},e),{auth0Client:{name:"auth0-react",version:"2.11.0"}})},UY=function(e){var t;window.history.replaceState({},document.title,(t=e.returnTo)!==null&&t!==void 0?t:window.location.pathname)},qY=function(e){var t=e.children,n=e.skipRedirectCallback,r=e.onRedirectCallback,i=r===void 0?UY:r,o=e.context,a=o===void 0?J8:o,s=tj(e,["children","skipRedirectCallback","onRedirectCallback","context"]),c=x.useState(function(){return new RY(FY(s))})[0],u=x.useReducer(OY,Y8),d=u[0],f=u[1],p=x.useRef(!1),m=x.useCallback(function(q){return f({type:"ERROR",error:q}),q},[]);x.useEffect(function(){p.current||(p.current=!0,function(){return sd(void 0,void 0,void 0,function(){var q,$,j,O,z,W,F;return ld(this,function(V){switch(V.label){case 0:return V.trys.push([0,7,,8]),q=void 0,DY()&&!n?[4,c.handleRedirectCallback()]:[3,3];case 1:return $=V.sent(),j=$.appState,O=j===void 0?{}:j,z=$.response_type,W=tj($,["appState","response_type"]),[4,c.getUser()];case 2:return q=V.sent(),O.response_type=z,z===lu.ConnectCode&&(O.connectedAccount=W),i(O,q),[3,6];case 3:return[4,c.checkSession()];case 4:return V.sent(),[4,c.getUser()];case 5:q=V.sent(),V.label=6;case 6:return f({type:"INITIALISED",user:q}),[3,8];case 7:return F=V.sent(),m(hj(F)),[3,8];case 8:return[2]}})})}())},[c,i,n,m]);var g=x.useCallback(function(q){return e7(q),c.loginWithRedirect(q)},[c]),v=x.useCallback(function(q,$){return sd(void 0,void 0,void 0,function(){var j,O;return ld(this,function(z){switch(z.label){case 0:f({type:"LOGIN_POPUP_STARTED"}),z.label=1;case 1:return z.trys.push([1,3,,4]),[4,c.loginWithPopup(q,$)];case 2:return z.sent(),[3,4];case 3:return j=z.sent(),m(hj(j)),[2];case 4:return[4,c.getUser()];case 5:return O=z.sent(),f({type:"LOGIN_POPUP_COMPLETE",user:O}),[2]}})})},[c,m]),_=x.useCallback(function(){for(var q=[],$=0;$<arguments.length;$++)q[$]=arguments[$];return sd(void 0,YK([],q),void 0,function(j){return j===void 0&&(j={}),ld(this,function(O){switch(O.label){case 0:return[4,c.logout(j)];case 1:return O.sent(),(j.openUrl||j.openUrl===!1)&&f({type:"LOGOUT"}),[2]}})})},[c]),y=x.useCallback(function(q){return sd(void 0,void 0,void 0,function(){var $,j,O,z;return ld(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,3,5]),[4,c.getTokenSilently(q)];case 1:return $=W.sent(),[3,5];case 2:throw j=W.sent(),k0(j);case 3:return O=f,z={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return O.apply(void 0,[(z.user=W.sent(),z)]),[7];case 5:return[2,$]}})})},[c]),S=x.useCallback(function(q,$){return sd(void 0,void 0,void 0,function(){var j,O,z,W;return ld(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,3,5]),[4,c.getTokenWithPopup(q,$)];case 1:return j=F.sent(),[3,5];case 2:throw O=F.sent(),k0(O);case 3:return z=f,W={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return z.apply(void 0,[(W.user=F.sent(),W)]),[7];case 5:return[2,j]}})})},[c]),w=x.useCallback(function(q){return c.connectAccountWithRedirect(q)},[c]),C=x.useCallback(function(){return c.getIdTokenClaims()},[c]),M=x.useCallback(function(q){return sd(void 0,void 0,void 0,function(){var $,j,O,z;return ld(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,3,5]),[4,c.exchangeToken(q)];case 1:return $=W.sent(),[3,5];case 2:throw j=W.sent(),k0(j);case 3:return O=f,z={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,c.getUser()];case 4:return O.apply(void 0,[(z.user=W.sent(),z)]),[7];case 5:return[2,$]}})})},[c]),A=x.useCallback(function(q){return sd(void 0,void 0,void 0,function(){var $,j,O;return ld(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,3,5]),[4,c.handleRedirectCallback(q)];case 1:return[2,z.sent()];case 2:throw $=z.sent(),k0($);case 3:return j=f,O={type:"HANDLE_REDIRECT_COMPLETE"},[4,c.getUser()];case 4:return j.apply(void 0,[(O.user=z.sent(),O)]),[7];case 5:return[2]}})})},[c]),E=x.useCallback(function(q){return c.getDpopNonce(q)},[c]),I=x.useCallback(function(q,$){return c.setDpopNonce(q,$)},[c]),N=x.useCallback(function(q){return c.generateDpopProof(q)},[c]),P=x.useCallback(function(q){return c.createFetcher(q)},[c]),D=x.useMemo(function(){return Oi(Oi({},d),{getAccessTokenSilently:y,getAccessTokenWithPopup:S,getIdTokenClaims:C,exchangeToken:M,loginWithRedirect:g,loginWithPopup:v,connectAccountWithRedirect:w,logout:_,handleRedirectCallback:A,getDpopNonce:E,setDpopNonce:I,generateDpopProof:N,createFetcher:P})},[d,y,S,C,M,g,v,w,_,A,E,I,N,P]);return Hd.createElement(a.Provider,{value:D},t)},HY=function(e){return e===void 0&&(e=J8),x.useContext(e)};const VY=["Top","Right","Bottom","Left"];function ov(e,t,...n){const[r,i=r,o=r,a=i]=n,s=[r,i,o,a],c={};for(let u=0;u<s.length;u+=1)if(s[u]||s[u]===0){const d=e+VY[u]+t;c[d]=s[u]}return c}function sM(...e){return ov("border","Width",...e)}function lM(...e){return ov("border","Style",...e)}function cM(...e){return ov("border","Color",...e)}const WY=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"];function av(e){return WY.includes(e)}function GY(...e){return av(e[0])?Object.assign({},lM(e[0]),e[1]&&sM(e[1]),e[2]&&cM(e[2])):Object.assign({},sM(e[0]),e[1]&&lM(e[1]),e[2]&&cM(e[2]))}function $Y(...e){return av(e[0])?Object.assign({borderLeftStyle:e[0]},e[1]&&{borderLeftWidth:e[1]},e[2]&&{borderLeftColor:e[2]}):Object.assign({borderLeftWidth:e[0]},e[1]&&{borderLeftStyle:e[1]},e[2]&&{borderLeftColor:e[2]})}function XY(...e){return av(e[0])?Object.assign({borderBottomStyle:e[0]},e[1]&&{borderBottomWidth:e[1]},e[2]&&{borderBottomColor:e[2]}):Object.assign({borderBottomWidth:e[0]},e[1]&&{borderBottomStyle:e[1]},e[2]&&{borderBottomColor:e[2]})}function ZY(...e){return av(e[0])?Object.assign({borderRightStyle:e[0]},e[1]&&{borderRightWidth:e[1]},e[2]&&{borderRightColor:e[2]}):Object.assign({borderRightWidth:e[0]},e[1]&&{borderRightStyle:e[1]},e[2]&&{borderRightColor:e[2]})}function KY(...e){return av(e[0])?Object.assign({borderTopStyle:e[0]},e[1]&&{borderTopWidth:e[1]},e[2]&&{borderTopColor:e[2]}):Object.assign({borderTopWidth:e[0]},e[1]&&{borderTopStyle:e[1]},e[2]&&{borderTopColor:e[2]})}function YY(e,t=e,n=e,r=t){return{borderBottomRightRadius:n,borderBottomLeftRadius:r,borderTopRightRadius:t,borderTopLeftRadius:e}}const JY=e=>typeof e=="string"&&/(\d+(\w+|%))/.test(e),E0=e=>typeof e=="number"&&!Number.isNaN(e),QY=e=>e==="initial",pj=e=>e==="auto",eJ=e=>e==="none",tJ=["content","fit-content","max-content","min-content"],X_=e=>tJ.some(t=>e===t)||JY(e);function nJ(...e){const t=e.length===1,n=e.length===2,r=e.length===3;if(t){const[i]=e;if(QY(i))return{flexGrow:0,flexShrink:1,flexBasis:"auto"};if(pj(i))return{flexGrow:1,flexShrink:1,flexBasis:"auto"};if(eJ(i))return{flexGrow:0,flexShrink:0,flexBasis:"auto"};if(E0(i))return{flexGrow:i,flexShrink:1,flexBasis:0};if(X_(i))return{flexGrow:1,flexShrink:1,flexBasis:i}}if(n){const[i,o]=e;if(E0(o))return{flexGrow:i,flexShrink:o,flexBasis:0};if(X_(o))return{flexGrow:i,flexShrink:1,flexBasis:o}}if(r){const[i,o,a]=e;if(E0(i)&&E0(o)&&(pj(a)||X_(a)))return{flexGrow:i,flexShrink:o,flexBasis:a}}return{}}function rJ(e,t=e){return{columnGap:e,rowGap:t}}const iJ=/var\(.*\)/gi;function oJ(e){return e===void 0||typeof e=="number"||typeof e=="string"&&!iJ.test(e)}const aJ=/^[a-zA-Z0-9\-_\\#;]+$/,sJ=/^-moz-initial$|^auto$|^initial$|^inherit$|^revert$|^unset$|^span \d+$|^\d.*/;function Z_(e){return e!==void 0&&typeof e=="string"&&aJ.test(e)&&!sJ.test(e)}function lJ(...e){if(e.some(o=>!oJ(o)))return{};const t=e[0]!==void 0?e[0]:"auto",n=e[1]!==void 0?e[1]:Z_(t)?t:"auto",r=e[2]!==void 0?e[2]:Z_(t)?t:"auto",i=e[3]!==void 0?e[3]:Z_(n)?n:"auto";return{gridRowStart:t,gridColumnStart:n,gridRowEnd:r,gridColumnEnd:i}}function cJ(...e){return ov("margin","",...e)}function uJ(e,t=e){return{marginBlockStart:e,marginBlockEnd:t}}function dJ(e,t=e){return{marginInlineStart:e,marginInlineEnd:t}}function fJ(...e){return ov("padding","",...e)}function hJ(e,t=e){return{paddingBlockStart:e,paddingBlockEnd:t}}function pJ(e,t=e){return{paddingInlineStart:e,paddingInlineEnd:t}}function mJ(e,t=e){return{overflowX:e,overflowY:t}}function gJ(...e){const[t,n=t,r=t,i=n]=e;return{top:t,right:n,bottom:r,left:i}}function vJ(e,t,n){return Object.assign({outlineWidth:e},t&&{outlineStyle:t},n&&{outlineColor:n})}function yJ(...e){return xJ(e)?{transitionDelay:e[0],transitionDuration:e[0],transitionProperty:e[0],transitionTimingFunction:e[0]}:_J(e).reduce((n,[r,i="0s",o="0s",a="ease"],s)=>(s===0?(n.transitionProperty=r,n.transitionDuration=i,n.transitionDelay=o,n.transitionTimingFunction=a):(n.transitionProperty+=`, ${r}`,n.transitionDuration+=`, ${i}`,n.transitionDelay+=`, ${o}`,n.transitionTimingFunction+=`, ${a}`),n),{})}const bJ=["-moz-initial","inherit","initial","revert","unset"];function xJ(e){return e.length===1&&bJ.includes(e[0])}function _J(e){return e.length===1&&Array.isArray(e[0])?e[0]:[e]}function wJ(e,...t){if(t.length===0)return CJ(e)?{textDecorationStyle:e}:{textDecorationLine:e};const[n,r,i]=t;return Object.assign({textDecorationLine:e},n&&{textDecorationStyle:n},r&&{textDecorationColor:r},i&&{textDecorationThickness:i})}const SJ=["dashed","dotted","double","solid","wavy"];function CJ(e){return SJ.includes(e)}const K_=typeof window>"u"?global:window,Y_="@griffel/";function TJ(e,t){return K_[Symbol.for(Y_+e)]||(K_[Symbol.for(Y_+e)]=t),K_[Symbol.for(Y_+e)]}const uM=TJ("DEFINITION_LOOKUP_TABLE",{}),ng="data-make-styles-bucket",kJ="data-priority",dM="f",fM=7,bN="___",EJ=bN.length+fM,MJ=0,AJ=1,NJ={all:1,borderColor:1,borderStyle:1,borderWidth:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1},hM="DO_NOT_USE_DIRECTLY: @griffel/reset-value";function Ag(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}function PJ(e){const t=e.length;if(t===fM)return e;for(let n=t;n<fM;n++)e+="0";return e}function t7(e,t,n=[]){return bN+PJ(Ag(e+t))}function n7(e,t){let n="",r="";for(const i in e){const o=e[i];if(o===0){r+=i+" ";continue}const a=Array.isArray(o),s=t==="rtl"?(a?o[1]:o)+" ":(a?o[0]:o)+" ";n+=s,r+=s}return[n.slice(0,-1),r.slice(0,-1)]}function kb(e,t){const n={};for(const r in e){const[i,o]=n7(e[r],t);if(o===""){n[r]="";continue}const a=t7(o,t),s=a+(i===""?"":" "+i);uM[a]=[e[r],t],n[r]=s}return n}const mj={};function Ce(){let e=null,t="",n="";const r=new Array(arguments.length);for(let f=0;f<arguments.length;f++){const p=arguments[f];if(typeof p=="string"&&p!==""){const m=p.indexOf(bN);if(m===-1)t+=p+" ";else{const g=p.substr(m,EJ);m>0&&(t+=p.slice(0,m)),n+=g,r[f]=g}}}if(n==="")return t.slice(0,-1);const i=mj[n];if(i!==void 0)return t+i;const o=[];for(let f=0;f<arguments.length;f++){const p=r[f];if(p){const m=uM[p];m&&(o.push(m[MJ]),e=m[AJ])}}const a=Object.assign.apply(Object,[{}].concat(o)),[s,c]=n7(a,e),u=t7(c,e,r),d=u+" "+s;return mj[n]=d,uM[u]=[a,e],t+d}function BJ(e){return Array.isArray(e)?e:[e]}function RJ(e,t,n,r){const i=[];if(r[ng]=t,r[kJ]=String(n),e)for(const a in r)e.setAttribute(a,r[a]);function o(a){return e!=null&&e.sheet?e.sheet.insertRule(a,e.sheet.cssRules.length):i.push(a)}return{elementAttributes:r,insertRule:o,element:e,bucketName:t,cssRules(){return e!=null&&e.sheet?Array.from(e.sheet.cssRules).map(a=>a.cssText):i}}}const jJ=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"],gj=jJ.reduce((e,t,n)=>(e[t]=n,e),{});function IJ(e,t,n){return(e==="m"?e+t:e)+n}function zJ(e,t,n,r,i={}){var o,a;const s=e==="m",c=(o=i.m)!==null&&o!==void 0?o:"0",u=(a=i.p)!==null&&a!==void 0?a:0,d=IJ(e,c,u);if(!r.stylesheets[d]){const f=t&&t.createElement("style"),p=RJ(f,e,u,Object.assign({},r.styleElementAttributes,s&&{media:c}));r.stylesheets[d]=p,t!=null&&t.head&&f&&t.head.insertBefore(f,DJ(t,n,e,r,i))}return r.stylesheets[d]}function LJ(e,t,n){var r,i;const o=t+((r=n.m)!==null&&r!==void 0?r:""),a=e.getAttribute(ng)+((i=e.media)!==null&&i!==void 0?i:"");return o===a}function DJ(e,t,n,r,i={}){var o,a;const s=gj[n],c=(o=i.m)!==null&&o!==void 0?o:"",u=(a=i.p)!==null&&a!==void 0?a:0;let d=v=>s-gj[v.getAttribute(ng)],f=e.head.querySelectorAll(`[${ng}]`);if(n==="m"){const v=e.head.querySelectorAll(`[${ng}="${n}"]`);v.length&&(f=v,d=_=>r.compareMediaQueries(c,_.media))}const p=v=>LJ(v,n,i)?u-Number(v.getAttribute("data-priority")):d(v),m=f.length;let g=m-1;for(;g>=0;){const v=f.item(g);if(p(v)>0)return v.nextSibling;g--}return m>0?f.item(0):t?t.nextSibling:null}function vj(e,t){try{e.insertRule(t)}catch{}}let OJ=0;const FJ=(e,t)=>e<t?-1:e>t?1:0;function UJ(e=typeof document>"u"?void 0:document,t={}){const{classNameHashSalt:n,unstable_filterCSSRule:r,insertionPoint:i,styleElementAttributes:o,compareMediaQueries:a=FJ}=t,s={classNameHashSalt:n,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(o),compareMediaQueries:a,id:`d${OJ++}`,insertCSSRules(c){for(const u in c){const d=c[u];for(let f=0,p=d.length;f<p;f++){const[m,g]=BJ(d[f]),v=zJ(u,e,i||null,s,g);s.insertionCache[m]||(s.insertionCache[m]=u,r?r(m)&&vj(v,m):vj(v,m))}}}};return s}const xN=()=>{const e={};return function(n,r){e[n.id]===void 0&&(n.insertCSSRules(r),e[n.id]=!0)}};function r7(e){return e.reduce(function(t,n){var r=n[0],i=n[1];return t[r]=i,t[i]=r,t},{})}function qJ(e){return typeof e=="boolean"}function HJ(e){return typeof e=="function"}function jm(e){return typeof e=="number"}function VJ(e){return e===null||typeof e>"u"}function WJ(e){return e&&typeof e=="object"}function GJ(e){return typeof e=="string"}function zy(e,t){return e.indexOf(t)!==-1}function $J(e){return parseFloat(e)===0?e:e[0]==="-"?e.slice(1):"-"+e}function M0(e,t,n,r){return t+$J(n)+r}function XJ(e){var t=e.indexOf(".");if(t===-1)e=100-parseFloat(e)+"%";else{var n=e.length-t-2;e=100-parseFloat(e),e=e.toFixed(n)+"%"}return e}function i7(e){return e.replace(/ +/g," ").split(" ").map(function(t){return t.trim()}).filter(Boolean).reduce(function(t,n){var r=t.list,i=t.state,o=(n.match(/\(/g)||[]).length,a=(n.match(/\)/g)||[]).length;return i.parensDepth>0?r[r.length-1]=r[r.length-1]+" "+n:r.push(n),i.parensDepth+=o-a,{list:r,state:i}},{list:[],state:{parensDepth:0}}).list}function yj(e){var t=i7(e);if(t.length<=3||t.length>4)return e;var n=t[0],r=t[1],i=t[2],o=t[3];return[n,o,i,r].join(" ")}function ZJ(e){return!qJ(e)&&!VJ(e)}function KJ(e){for(var t=[],n=0,r=0,i=!1;r<e.length;)!i&&e[r]===","?(t.push(e.substring(n,r).trim()),r++,n=r):e[r]==="("?(i=!0,r++):(e[r]===")"&&(i=!1),r++);return n!=r&&t.push(e.substring(n,r+1)),t}var ft={padding:function(t){var n=t.value;return jm(n)?n:yj(n)},textShadow:function(t){var n=t.value,r=KJ(n).map(function(i){return i.replace(/(^|\s)(-*)([.|\d]+)/,function(o,a,s,c){if(c==="0")return o;var u=s===""?"-":"";return""+a+u+c})});return r.join(",")},borderColor:function(t){var n=t.value;return yj(n)},borderRadius:function(t){var n=t.value;if(jm(n))return n;if(zy(n,"/")){var r=n.split("/"),i=r[0],o=r[1],a=ft.borderRadius({value:i.trim()}),s=ft.borderRadius({value:o.trim()});return a+" / "+s}var c=i7(n);switch(c.length){case 2:return c.reverse().join(" ");case 4:{var u=c[0],d=c[1],f=c[2],p=c[3];return[d,u,p,f].join(" ")}default:return n}},background:function(t){var n=t.value,r=t.valuesToConvert,i=t.isRtl,o=t.bgImgDirectionRegex,a=t.bgPosDirectionRegex;if(jm(n))return n;var s=n.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return n=n.replace(s,ft.backgroundPosition({value:s,valuesToConvert:r,isRtl:i,bgPosDirectionRegex:a})),ft.backgroundImage({value:n,valuesToConvert:r,bgImgDirectionRegex:o})},backgroundImage:function(t){var n=t.value,r=t.valuesToConvert,i=t.bgImgDirectionRegex;return!zy(n,"url(")&&!zy(n,"linear-gradient(")?n:n.replace(i,function(o,a,s){return o.replace(s,r[s])})},backgroundPosition:function(t){var n=t.value,r=t.valuesToConvert,i=t.isRtl,o=t.bgPosDirectionRegex;return n.replace(i?/^((-|\d|\.)+%)/:null,function(a,s){return XJ(s)}).replace(o,function(a){return r[a]})},backgroundPositionX:function(t){var n=t.value,r=t.valuesToConvert,i=t.isRtl,o=t.bgPosDirectionRegex;return jm(n)?n:ft.backgroundPosition({value:n,valuesToConvert:r,isRtl:i,bgPosDirectionRegex:o})},transition:function(t){var n=t.value,r=t.propertiesToConvert;return n.split(/,\s*/g).map(function(i){var o=i.split(" ");return o[0]=r[o[0]]||o[0],o.join(" ")}).join(", ")},transitionProperty:function(t){var n=t.value,r=t.propertiesToConvert;return n.split(/,\s*/g).map(function(i){return r[i]||i}).join(", ")},transform:function(t){var n=t.value,r="[^\\u0020-\\u007e]",i="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",o="((?:-?"+("(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|"+("-?"+("(?:[_a-z]|"+r+"|"+i+")")+("(?:[_a-z0-9-]|"+r+"|"+i+")")+"*")+")?")+")|(?:inherit|auto))",a=new RegExp("(translateX\\s*\\(\\s*)"+o+"(\\s*\\))","gi"),s=new RegExp("(translate\\s*\\(\\s*)"+o+"((?:\\s*,\\s*"+o+"){0,1}\\s*\\))","gi"),c=new RegExp("(translate3d\\s*\\(\\s*)"+o+"((?:\\s*,\\s*"+o+"){0,2}\\s*\\))","gi"),u=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+o+"(\\s*\\))","gi");return n.replace(a,M0).replace(s,M0).replace(c,M0).replace(u,M0)}};ft.objectPosition=ft.backgroundPosition;ft.margin=ft.padding;ft.borderWidth=ft.padding;ft.boxShadow=ft.textShadow;ft.webkitBoxShadow=ft.boxShadow;ft.mozBoxShadow=ft.boxShadow;ft.WebkitBoxShadow=ft.boxShadow;ft.MozBoxShadow=ft.boxShadow;ft.borderStyle=ft.borderColor;ft.webkitTransform=ft.transform;ft.mozTransform=ft.transform;ft.WebkitTransform=ft.transform;ft.MozTransform=ft.transform;ft.transformOrigin=ft.backgroundPosition;ft.webkitTransformOrigin=ft.transformOrigin;ft.mozTransformOrigin=ft.transformOrigin;ft.WebkitTransformOrigin=ft.transformOrigin;ft.MozTransformOrigin=ft.transformOrigin;ft.webkitTransition=ft.transition;ft.mozTransition=ft.transition;ft.WebkitTransition=ft.transition;ft.MozTransition=ft.transition;ft.webkitTransitionProperty=ft.transitionProperty;ft.mozTransitionProperty=ft.transitionProperty;ft.WebkitTransitionProperty=ft.transitionProperty;ft.MozTransitionProperty=ft.transitionProperty;ft["text-shadow"]=ft.textShadow;ft["border-color"]=ft.borderColor;ft["border-radius"]=ft.borderRadius;ft["background-image"]=ft.backgroundImage;ft["background-position"]=ft.backgroundPosition;ft["background-position-x"]=ft.backgroundPositionX;ft["object-position"]=ft.objectPosition;ft["border-width"]=ft.padding;ft["box-shadow"]=ft.textShadow;ft["-webkit-box-shadow"]=ft.textShadow;ft["-moz-box-shadow"]=ft.textShadow;ft["border-style"]=ft.borderColor;ft["-webkit-transform"]=ft.transform;ft["-moz-transform"]=ft.transform;ft["transform-origin"]=ft.transformOrigin;ft["-webkit-transform-origin"]=ft.transformOrigin;ft["-moz-transform-origin"]=ft.transformOrigin;ft["-webkit-transition"]=ft.transition;ft["-moz-transition"]=ft.transition;ft["transition-property"]=ft.transitionProperty;ft["-webkit-transition-property"]=ft.transitionProperty;ft["-moz-transition-property"]=ft.transitionProperty;var o7=r7([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),YJ=["content"],bj=r7([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),JJ=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),QJ=new RegExp("(left)|(right)");function a7(e){return Object.keys(e).reduce(function(t,n){var r=e[n];if(GJ(r)&&(r=r.trim()),zy(YJ,n))return t[n]=r,t;var i=pM(n,r),o=i.key,a=i.value;return t[o]=a,t},Array.isArray(e)?[]:{})}function pM(e,t){var n=/\/\*\s?@noflip\s?\*\//.test(t),r=n?e:eQ(e),i=n?t:tQ(r,t);return{key:r,value:i}}function eQ(e){return o7[e]||e}function tQ(e,t){if(!ZJ(t))return t;if(WJ(t))return a7(t);var n=jm(t),r=HJ(t),i=n||r?t:t.replace(/ !important.*?$/,""),o=!n&&i.length!==t.length,a=ft[e],s;return a?s=a({value:i,valuesToConvert:bj,propertiesToConvert:o7,isRtl:!0,bgImgDirectionRegex:JJ,bgPosDirectionRegex:QJ}):s=bj[i]||i,o?s+" !important":s}const nQ=/[A-Z]/g,rQ=/^ms-/,J_={};function iQ(e){return"-"+e.toLowerCase()}function yh(e){if(Object.prototype.hasOwnProperty.call(J_,e))return J_[e];if(e.substr(0,2)==="--")return e;const t=e.replace(nQ,iQ);return J_[e]=rQ.test(t)?"-"+t:t}function s7(e){return e.charAt(0)==="&"?e.slice(1):e}var rg="-moz-",gs="-webkit-",l7="comm",Bx="rule",_N="decl",oQ="@media",aQ="@import",sQ="@supports",lQ="@namespace",cQ="@keyframes",c7="@layer",u7=Math.abs,Rx=String.fromCharCode,uQ=Object.assign;function dQ(e,t){return go(e,0)^45?(((t<<2^go(e,0))<<2^go(e,1))<<2^go(e,2))<<2^go(e,3):0}function d7(e){return e.trim()}function f7(e,t){return(e=t.exec(e))?e[0]:e}function Xo(e,t,n){return e.replace(t,n)}function h7(e,t,n){return e.indexOf(t,n)}function go(e,t){return e.charCodeAt(t)|0}function Hh(e,t,n){return e.slice(t,n)}function _s(e){return e.length}function p7(e){return e.length}function Nd(e,t){return t.push(e),e}function fQ(e,t){return e.map(t).join("")}var jx=1,Vh=1,m7=0,Ea=0,Xr=0,yp="";function Ix(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:jx,column:Vh,length:a,return:"",siblings:s}}function Q_(e,t){return uQ(Ix("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function hQ(){return Xr}function pQ(){return Xr=Ea>0?go(yp,--Ea):0,Vh--,Xr===10&&(Vh=1,jx--),Xr}function Ja(){return Xr=Ea<m7?go(yp,Ea++):0,Vh++,Xr===10&&(Vh=1,jx++),Xr}function pu(){return go(yp,Ea)}function Ly(){return Ea}function zx(e,t){return Hh(yp,e,t)}function Wh(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function g7(e){return jx=Vh=1,m7=_s(yp=e),Ea=0,[]}function v7(e){return yp="",e}function Dy(e){return d7(zx(Ea-1,mM(e===91?e+2:e===40?e+1:e)))}function mQ(e){return v7(vQ(g7(e)))}function gQ(e){for(;(Xr=pu())&&Xr<33;)Ja();return Wh(e)>2||Wh(Xr)>3?"":" "}function vQ(e){for(;Ja();)switch(Wh(Xr)){case 0:Nd(y7(Ea-1),e);break;case 2:Nd(Dy(Xr),e);break;default:Nd(Rx(Xr),e)}return e}function yQ(e,t){for(;--t&&Ja()&&!(Xr<48||Xr>102||Xr>57&&Xr<65||Xr>70&&Xr<97););return zx(e,Ly()+(t<6&&pu()==32&&Ja()==32))}function mM(e){for(;Ja();)switch(Xr){case e:return Ea;case 34:case 39:e!==34&&e!==39&&mM(Xr);break;case 40:e===41&&mM(e);break;case 92:Ja();break}return Ea}function bQ(e,t){for(;Ja()&&e+Xr!==57;)if(e+Xr===84&&pu()===47)break;return"/*"+zx(t,Ea-1)+"*"+Rx(e===47?e:Ja())}function y7(e){for(;!Wh(pu());)Ja();return zx(e,Ea)}function b7(e){return v7(Oy("",null,null,null,[""],e=g7(e),0,[0],e))}function Oy(e,t,n,r,i,o,a,s,c){for(var u=0,d=0,f=a,p=0,m=0,g=0,v=1,_=1,y=1,S=0,w="",C=i,M=o,A=r,E=w;_;)switch(g=S,S=Ja()){case 40:if(g!=108&&go(E,f-1)==58){h7(E+=Xo(Dy(S),"&","&\f"),"&\f",u7(u?s[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:E+=Dy(S);break;case 9:case 10:case 13:case 32:E+=gQ(g);break;case 92:E+=yQ(Ly()-1,7);continue;case 47:switch(pu()){case 42:case 47:Nd(xQ(bQ(Ja(),Ly()),t,n,c),c),(Wh(g||1)==5||Wh(pu()||1)==5)&&_s(E)&&Hh(E,-1,void 0)!==" "&&(E+=" ");break;default:E+="/"}break;case 123*v:s[u++]=_s(E)*y;case 125*v:case 59:case 0:switch(S){case 0:case 125:_=0;case 59+d:y==-1&&(E=Xo(E,/\f/g,"")),m>0&&(_s(E)-f||v===0&&g===47)&&Nd(m>32?_j(E+";",r,n,f-1,c):_j(Xo(E," ","")+";",r,n,f-2,c),c);break;case 59:E+=";";default:if(Nd(A=xj(E,t,n,u,d,i,s,w,C=[],M=[],f,o),o),S===123)if(d===0)Oy(E,t,A,A,C,o,f,s,M);else{switch(p){case 99:if(go(E,3)===110)break;case 108:if(go(E,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Oy(e,A,A,r&&Nd(xj(e,A,A,0,0,i,s,w,i,C=[],f,M),M),i,M,f,s,r?C:M):Oy(E,A,A,A,[""],M,0,s,M)}}u=d=m=0,v=y=1,w=E="",f=a;break;case 58:f=1+_s(E),m=g;default:if(v<1){if(S==123)--v;else if(S==125&&v++==0&&pQ()==125)continue}switch(E+=Rx(S),S*v){case 38:y=d>0?1:(E+="\f",-1);break;case 44:s[u++]=(_s(E)-1)*y,y=1;break;case 64:pu()===45&&(E+=Dy(Ja())),p=pu(),d=f=_s(w=E+=y7(Ly())),S++;break;case 45:g===45&&_s(E)==2&&(v=0)}}return o}function xj(e,t,n,r,i,o,a,s,c,u,d,f){for(var p=i-1,m=i===0?o:[""],g=p7(m),v=0,_=0,y=0;v<r;++v)for(var S=0,w=Hh(e,p+1,p=u7(_=a[v])),C=e;S<g;++S)(C=d7(_>0?m[S]+" "+w:Xo(w,/&\f/g,m[S])))&&(c[y++]=C);return Ix(e,t,n,i===0?Bx:s,c,u,d,f)}function xQ(e,t,n,r){return Ix(e,t,n,l7,Rx(hQ()),Hh(e,2,-2),0,r)}function _j(e,t,n,r,i){return Ix(e,t,n,_N,Hh(e,0,r),Hh(e,r+1,-1),r,i)}function Gh(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function x7(e,t,n,r){switch(e.type){case c7:if(e.children.length)break;case aQ:case lQ:case _N:return e.return=e.return||e.value;case l7:return"";case cQ:return e.return=e.value+"{"+Gh(e.children,r)+"}";case Bx:if(!_s(e.value=e.props.join(",")))return""}return _s(n=Gh(e.children,r))?e.return=e.value+"{"+n+"}":""}function _7(e){var t=p7(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function w7(e){return function(t){t.root||(t=t.return)&&e(t)}}const _Q=e=>{switch(e.type){case Bx:if(typeof e.props=="string")return;e.props=e.props.map(t=>t.indexOf(":global(")===-1?t:mQ(t).reduce((n,r,i,o)=>{if(r==="")return n;if(r===":"&&o[i+1]==="global"){const a=o[i+2].slice(1,-1)+" ";return n.unshift(a),o[i+1]="",o[i+2]="",n}return n.push(r),n},[]).join(""))}};function S7(e,t,n){switch(dQ(e,t)){case 5103:return gs+"print-"+e+e;case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:return gs+e+e;case 4215:if(go(e,9)===102||go(e,t+1)===116)return gs+e+e;break;case 4789:return rg+e+e;case 5349:case 4246:case 6968:return gs+e+rg+e+e;case 6187:if(!f7(e,/grab/))return Xo(Xo(Xo(e,/(zoom-|grab)/,gs+"$1"),/(image-set)/,gs+"$1"),e,"")+e;case 5495:case 3959:return Xo(e,/(image-set\([^]*)/,gs+"$1$`$1");case 4095:case 3583:case 4068:case 2532:return Xo(e,/(.+)-inline(.+)/,gs+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_s(e)-1-t>6)switch(go(e,t+1)){case 102:if(go(e,t+3)===108)return Xo(e,/(.+:)(.+)-([^]+)/,"$1"+gs+"$2-$3$1"+rg+(go(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~h7(e,"stretch")?S7(Xo(e,"stretch","fill-available"),t)+e:e}break}return e}function C7(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case _N:e.return=S7(e.value,e.length);return;case Bx:if(e.length)return fQ(e.props,function(i){switch(f7(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Gh([Q_(e,{props:[Xo(i,/:(read-\w+)/,":"+rg+"$1")]})],r);case"::placeholder":return Gh([Q_(e,{props:[Xo(i,/:(plac\w+)/,":"+gs+"input-$1")]}),Q_(e,{props:[Xo(i,/:(plac\w+)/,":"+rg+"$1")]})],r)}return""})}}function wQ(e){switch(e.type){case"@container":case oQ:case sQ:case c7:return!0}return!1}const SQ=e=>{wQ(e)&&Array.isArray(e.children)&&e.children.sort((t,n)=>t.props[0]>n.props[0]?1:-1)};function CQ(e,t){const n=[];return Gh(b7(e),_7([_Q,SQ,C7,x7,w7(r=>n.push(r))])),n}const TQ=/,( *[^ &])/g;function kQ(e){return"&"+s7(e.replace(TQ,",&$1"))}function wj(e,t,n){let r=t;return n.length>0&&(r=n.reduceRight((i,o)=>`${kQ(o)} { ${i} }`,t)),`${e}{${r}}`}function Sj(e,t){const{className:n,selectors:r,property:i,rtlClassName:o,rtlProperty:a,rtlValue:s,value:c}=e,{container:u,layer:d,media:f,supports:p}=t,m=`.${n}`,g=Array.isArray(c)?`${c.map(_=>`${yh(i)}: ${_}`).join(";")};`:`${yh(i)}: ${c};`;let v=wj(m,g,r);if(a&&o){const _=`.${o}`,y=Array.isArray(s)?`${s.map(S=>`${yh(a)}: ${S}`).join(";")};`:`${yh(a)}: ${s};`;v+=wj(_,y,r)}return f&&(v=`@media ${f} { ${v} }`),d&&(v=`@layer ${d} { ${v} }`),p&&(v=`@supports ${p} { ${v} }`),u&&(v=`@container ${u} { ${v} }`),CQ(v)}function EQ(e){let t="";for(const n in e){const r=e[n];if(typeof r=="string"||typeof r=="number"){t+=yh(n)+":"+r+";";continue}if(Array.isArray(r))for(const i of r)t+=yh(n)+":"+i+";"}return t}function Cj(e){let t="";for(const n in e)t+=`${n}{${EQ(e[n])}}`;return t}function Tj(e,t){const n=`@keyframes ${e} {${t}}`,r=[];return Gh(b7(n),_7([x7,C7,w7(i=>r.push(i))])),r}const MQ={animation:[-1,["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimeline","animationTimingFunction"]],animationRange:[-1,["animationRangeEnd","animationRangeStart"]],background:[-2,["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"]],backgroundPosition:[-1,["backgroundPositionX","backgroundPositionY"]],border:[-2,["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderTop","borderTopColor","borderTopStyle","borderTopWidth"]],borderBottom:[-1,["borderBottomColor","borderBottomStyle","borderBottomWidth"]],borderImage:[-1,["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"]],borderLeft:[-1,["borderLeftColor","borderLeftStyle","borderLeftWidth"]],borderRadius:[-1,["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"]],borderRight:[-1,["borderRightColor","borderRightStyle","borderRightWidth"]],borderTop:[-1,["borderTopColor","borderTopStyle","borderTopWidth"]],caret:[-1,["caretColor","caretShape"]],columnRule:[-1,["columnRuleColor","columnRuleStyle","columnRuleWidth"]],columns:[-1,["columnCount","columnWidth"]],containIntrinsicSize:[-1,["containIntrinsicHeight","containIntrinsicWidth"]],container:[-1,["containerName","containerType"]],flex:[-1,["flexBasis","flexGrow","flexShrink"]],flexFlow:[-1,["flexDirection","flexWrap"]],font:[-1,["fontFamily","fontSize","fontStretch","fontStyle","fontVariant","fontWeight","lineHeight"]],gap:[-1,["columnGap","rowGap"]],grid:[-1,["columnGap","gridAutoColumns","gridAutoFlow","gridAutoRows","gridColumnGap","gridRowGap","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","rowGap"]],gridArea:[-1,["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"]],gridColumn:[-1,["gridColumnEnd","gridColumnStart"]],gridRow:[-1,["gridRowEnd","gridRowStart"]],gridTemplate:[-1,["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"]],inset:[-1,["bottom","left","right","top"]],insetBlock:[-1,["insetBlockEnd","insetBlockStart"]],insetInline:[-1,["insetInlineEnd","insetInlineStart"]],listStyle:[-1,["listStyleImage","listStylePosition","listStyleType"]],margin:[-1,["marginBottom","marginLeft","marginRight","marginTop"]],marginBlock:[-1,["marginBlockEnd","marginBlockStart"]],marginInline:[-1,["marginInlineEnd","marginInlineStart"]],mask:[-1,["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPosition","maskRepeat","maskSize"]],maskBorder:[-1,["maskBorderMode","maskBorderOutset","maskBorderRepeat","maskBorderSlice","maskBorderSource","maskBorderWidth"]],offset:[-1,["offsetAnchor","offsetDistance","offsetPath","offsetPosition","offsetRotate"]],outline:[-1,["outlineColor","outlineStyle","outlineWidth"]],overflow:[-1,["overflowX","overflowY"]],overscrollBehavior:[-1,["overscrollBehaviorX","overscrollBehaviorY"]],padding:[-1,["paddingBottom","paddingLeft","paddingRight","paddingTop"]],paddingBlock:[-1,["paddingBlockEnd","paddingBlockStart"]],paddingInline:[-1,["paddingInlineEnd","paddingInlineStart"]],placeContent:[-1,["alignContent","justifyContent"]],placeItems:[-1,["alignItems","justifyItems"]],placeSelf:[-1,["alignSelf","justifySelf"]],scrollMargin:[-1,["scrollMarginBottom","scrollMarginLeft","scrollMarginRight","scrollMarginTop"]],scrollMarginBlock:[-1,["scrollMarginBlockEnd","scrollMarginBlockStart"]],scrollMarginInline:[-1,["scrollMarginInlineEnd","scrollMarginInlineStart"]],scrollPadding:[-1,["scrollPaddingBottom","scrollPaddingLeft","scrollPaddingRight","scrollPaddingTop"]],scrollPaddingBlock:[-1,["scrollPaddingBlockEnd","scrollPaddingBlockStart"]],scrollPaddingInline:[-1,["scrollPaddingInlineEnd","scrollPaddingInlineStart"]],scrollTimeline:[-1,["scrollTimelineAxis","scrollTimelineName"]],textDecoration:[-1,["textDecorationColor","textDecorationLine","textDecorationStyle","textDecorationThickness"]],textEmphasis:[-1,["textEmphasisColor","textEmphasisStyle"]],transition:[-1,["transitionBehavior","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]],viewTimeline:[-1,["viewTimelineAxis","viewTimelineName"]]};function kj(e,t){return e.length===0?t:`${e} and ${t}`}function AQ(e){return e.substr(0,6)==="@media"}function NQ(e){return e.substr(0,6)==="@layer"}const PQ=/^(:|\[|>|&)/;function BQ(e){return PQ.test(e)}function RQ(e){return e.substr(0,9)==="@supports"}function jQ(e){return e.substring(0,10)==="@container"}function IQ(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}const Ej={"us-w":"w","us-v":"i",nk:"l",si:"v",cu:"f",ve:"h",ti:"a"};function Mj(e,t){if(t.media)return"m";if(t.layer||t.supports)return"t";if(t.container)return"c";if(e.length>0){const n=e[0].trim();if(n.charCodeAt(0)===58)return Ej[n.slice(4,8)]||Ej[n.slice(3,5)]||"d"}return"d"}function A0(e,t){return e&&t+e}function T7(e){return A0(e.container,"c")+A0(e.media,"m")+A0(e.layer,"l")+A0(e.supports,"s")}function ew(e,t,n){const r=e+T7(n)+t,i=Ag(r),o=i.charCodeAt(0);return o>=48&&o<=57?String.fromCharCode(o+17)+i.slice(1):i}function N0({property:e,selector:t,salt:n,value:r},i){return dM+Ag(n+t+T7(i)+e+r.trim())}function zQ(e){return e===hM}function tw(e){return e.replace(/>\s+/g,">")}function Aj(e){return MQ[e]}function Nj(e){var t;return(t=e==null?void 0:e[0])!==null&&t!==void 0?t:0}function nw(e,t,n,r){e[t]=r?[n,r]:n}function Pj(e,t){return t.length>0?[e,Object.fromEntries(t)]:e}function rw(e,t,n,r,i,o){var a;const s=[];o!==0&&s.push(["p",o]),t==="m"&&i&&s.push(["m",i]),(a=e[t])!==null&&a!==void 0||(e[t]=[]),n&&e[t].push(Pj(n,s)),r&&e[t].push(Pj(r,s))}function Gl(e,t="",n=[],r={container:"",layer:"",media:"",supports:""},i={},o={},a){for(const s in e){if(NJ.hasOwnProperty(s)){e[s];continue}const c=e[s];if(c!=null){if(zQ(c)){const u=tw(n.join("")),d=ew(u,s,r);nw(i,d,0,void 0);continue}if(typeof c=="string"||typeof c=="number"){const u=tw(n.join("")),d=Aj(s);if(d){const C=d[1],M=Object.fromEntries(C.map(A=>[A,hM]));Gl(M,t,n,r,i,o)}const f=ew(u,s,r),p=N0({value:c.toString(),salt:t,selector:u,property:s},r),m=a&&{key:s,value:a}||pM(s,c),g=m.key!==s||m.value!==c,v=g?N0({value:m.value.toString(),property:m.key,salt:t,selector:u},r):void 0,_=g?{rtlClassName:v,rtlProperty:m.key,rtlValue:m.value}:void 0,y=Mj(n,r),[S,w]=Sj(Object.assign({className:p,selectors:n,property:s,value:c},_),r);nw(i,f,p,v),rw(o,y,S,w,r.media,Nj(d))}else if(s==="animationName"){const u=Array.isArray(c)?c:[c],d=[],f=[];for(const p of u){const m=Cj(p),g=Cj(a7(p)),v=dM+Ag(m);let _;const y=Tj(v,m);let S=[];m===g?_=v:(_=dM+Ag(g),S=Tj(_,g));for(let w=0;w<y.length;w++)rw(o,"k",y[w],S[w],r.media,0);d.push(v),f.push(_)}Gl({animationName:d.join(", ")},t,n,r,i,o,f.join(", "))}else if(Array.isArray(c)){if(c.length===0)continue;const u=tw(n.join("")),d=Aj(s);if(d){const M=d[1],A=Object.fromEntries(M.map(E=>[E,hM]));Gl(A,t,n,r,i,o)}const f=ew(u,s,r),p=N0({value:c.map(M=>(M??"").toString()).join(";"),salt:t,selector:u,property:s},r),m=c.map(M=>pM(s,M));if(!!m.some(M=>M.key!==m[0].key))continue;const v=m[0].key!==s||m.some((M,A)=>M.value!==c[A]),_=v?N0({value:m.map(M=>{var A;return((A=M==null?void 0:M.value)!==null&&A!==void 0?A:"").toString()}).join(";"),salt:t,property:m[0].key,selector:u},r):void 0,y=v?{rtlClassName:_,rtlProperty:m[0].key,rtlValue:m.map(M=>M.value)}:void 0,S=Mj(n,r),[w,C]=Sj(Object.assign({className:p,selectors:n,property:s,value:c},y),r);nw(i,f,p,_),rw(o,S,w,C,r.media,Nj(d))}else if(IQ(c)){if(BQ(s))Gl(c,t,n.concat(s7(s)),r,i,o);else if(AQ(s)){const u=kj(r.media,s.slice(6).trim());Gl(c,t,n,Object.assign({},r,{media:u}),i,o)}else if(NQ(s)){const u=(r.layer?`${r.layer}.`:"")+s.slice(6).trim();Gl(c,t,n,Object.assign({},r,{layer:u}),i,o)}else if(RQ(s)){const u=kj(r.supports,s.slice(9).trim());Gl(c,t,n,Object.assign({},r,{supports:u}),i,o)}else if(jQ(s)){const u=s.slice(10).trim();Gl(c,t,n,Object.assign({},r,{container:u}),i,o)}}}}return[i,o]}function LQ(e,t=""){const n={},r={};for(const i in e){const o=e[i],[a,s]=Gl(o,t);n[i]=a,Object.keys(s).forEach(c=>{r[c]=(r[c]||[]).concat(s[c])})}return[n,r]}function DQ(e,t=xN){const n=t();let r=null,i=null,o=null,a=null;function s(c){const{dir:u,renderer:d}=c;r===null&&([r,i]=LQ(e,d.classNameHashSalt));const f=u==="ltr";return f?o===null&&(o=kb(r,u)):a===null&&(a=kb(r,u)),n(d,i),f?o:a}return s}function k7(e,t,n=xN){const r=n();let i=null,o=null;function a(s){const{dir:c,renderer:u}=s,d=c==="ltr";return d?i===null&&(i=kb(e,c)):o===null&&(o=kb(e,c)),r(u,t),d?i:o}return a}function OQ(e,t,n,r=xN){const i=r();function o(a){const{dir:s,renderer:c}=a,u=s==="ltr"?e:t||e;return i(c,Array.isArray(n)?{r:n}:n),u}return o}const it={border:GY,borderLeft:$Y,borderBottom:XY,borderRight:ZY,borderTop:KY,borderColor:cM,borderStyle:lM,borderRadius:YY,borderWidth:sM,flex:nJ,gap:rJ,gridArea:lJ,margin:cJ,marginBlock:uJ,marginInline:dJ,padding:fJ,paddingBlock:hJ,paddingInline:pJ,overflow:mJ,inset:gJ,outline:vJ,transition:yJ,textDecoration:wJ};function FQ(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}const Bj=Jy.useInsertionEffect?Jy.useInsertionEffect:void 0,wN=()=>{const e={};return function(n,r){if(Bj&&FQ()){Bj(()=>{n.insertCSSRules(r)},[n,r]);return}e[n.id]===void 0&&(n.insertCSSRules(r),e[n.id]=!0)}},UQ=x.createContext(UJ());function sv(){return x.useContext(UQ)}const E7=x.createContext("ltr"),qQ=({children:e,dir:t})=>x.createElement(E7.Provider,{value:t},e);function SN(){return x.useContext(E7)}function Tr(e){const t=DQ(e,wN);return function(){const r=SN(),i=sv();return t({dir:r,renderer:i})}}function Fe(e,t){const n=k7(e,t,wN);return function(){const i=SN(),o=sv();return n({dir:i,renderer:o})}}function Rt(e,t,n){const r=OQ(e,t,n,wN);return function(){const o=SN(),a=sv();return r({dir:o,renderer:a})}}function HQ(e,t){if(t){const n=Object.keys(t).reduce((r,i)=>`${r}--${i}: ${t[i]}; `,"");return`${e} { ${n} }`}return`${e} {}`}const Eb=Symbol.for("fui.slotRenderFunction"),$h=Symbol.for("fui.slotElementType"),M7=Symbol.for("fui.slotClassNameProp");function Ct(e,t){const{defaultProps:n,elementType:r}=t,i=CN(e),o={...n,...i,[$h]:r,[M7]:i==null?void 0:i.className};return i&&typeof i.children=="function"&&(o[Eb]=i.children,o.children=n==null?void 0:n.children),o}function zt(e,t){if(!(e===null||e===void 0&&!t.renderByDefault))return Ct(e,t)}function CN(e){return typeof e=="string"||typeof e=="number"||VQ(e)||x.isValidElement(e)?{children:e}:e}const VQ=e=>typeof e=="object"&&e!==null&&Symbol.iterator in e;function Ng(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)&&!x.isValidElement(e)}function Rj(e){return!!(e!=null&&e.hasOwnProperty($h))}const br=(...e)=>{const t={};for(const n of e){const r=Array.isArray(n)?n:Object.keys(n);for(const i of r)t[i]=1}return t},WQ=br(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),GQ=br(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),$Q=br(["itemID","itemProp","itemRef","itemScope","itemType"]),yi=br(GQ,WQ,$Q),XQ=br(yi,["form"]),A7=br(yi,["height","loop","muted","preload","src","width"]),ZQ=br(A7,["poster"]),KQ=br(yi,["start"]),YQ=br(yi,["value"]),JQ=br(yi,["download","href","hrefLang","media","referrerPolicy","rel","target","type"]),QQ=br(yi,["dateTime"]),Lx=br(yi,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),eee=br(Lx,["accept","alt","autoCorrect","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","minLength","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),tee=br(Lx,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),nee=br(Lx,["form","multiple","required"]),ree=br(yi,["selected","value"]),iee=br(yi,["cellPadding","cellSpacing"]),oee=yi,aee=br(yi,["colSpan","rowSpan","scope"]),see=br(yi,["colSpan","headers","rowSpan","scope"]),lee=br(yi,["span"]),cee=br(yi,["span"]),uee=br(yi,["disabled","form"]),dee=br(yi,["acceptCharset","action","encType","encType","method","noValidate","target"]),fee=br(yi,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),hee=br(yi,["alt","crossOrigin","height","src","srcSet","useMap","width"]),pee=br(yi,["open","onCancel","onClose"]);function mee(e,t,n){const r=Array.isArray(t),i={},o=Object.keys(e);for(const a of o)(!r&&t[a]||r&&t.indexOf(a)>=0||a.indexOf("data-")===0||a.indexOf("aria-")===0)&&(!n||(n==null?void 0:n.indexOf(a))===-1)&&(i[a]=e[a]);return i}const gee={label:XQ,audio:A7,video:ZQ,ol:KQ,li:YQ,a:JQ,button:Lx,input:eee,textarea:tee,select:nee,option:ree,table:iee,tr:oee,th:aee,td:see,colGroup:lee,col:cee,fieldset:uee,form:dee,iframe:fee,img:hee,time:QQ,dialog:pee};function N7(e,t,n){const r=e&&gee[e]||yi;return r.as=1,mee(t,r,n)}const of=({primarySlotTagName:e,props:t,excludedPropNames:n})=>({root:{style:t.style,className:t.className},primary:N7(e,t,[...n||[],"style","className"])}),Qt=(e,t,n)=>{var r;return N7((r=t.as)!==null&&r!==void 0?r:e,t,n)};function vee(e,t){const n={};for(const r in e)t.indexOf(r)===-1&&e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function P7(e,t){const n=x.useRef(void 0),r=x.useCallback((o,a)=>(n.current!==void 0&&t(n.current),n.current=e(o,a),n.current),[t,e]),i=x.useCallback(()=>{n.current!==void 0&&(t(n.current),n.current=void 0)},[t]);return x.useEffect(()=>i,[i]),[r,i]}const B7=x.createContext(void 0),yee=B7.Provider,R7=x.createContext(void 0),bee="",xee=R7.Provider;function _ee(){var e;return(e=x.useContext(R7))!==null&&e!==void 0?e:bee}const j7=x.createContext(void 0),wee={},See=j7.Provider;function Cee(){var e;return(e=x.useContext(j7))!==null&&e!==void 0?e:wee}const I7=x.createContext(void 0),Tee={targetDocument:typeof document=="object"?document:void 0,dir:"ltr"},kee=I7.Provider;function gn(){var e;return(e=x.useContext(I7))!==null&&e!==void 0?e:Tee}const z7=x.createContext(void 0),Eee=z7.Provider;function Dx(){var e;return(e=x.useContext(z7))!==null&&e!==void 0?e:{}}const TN=x.createContext(void 0),Mee=()=>{},Aee=TN.Provider,Ft=e=>{var t,n;return(n=(t=x.useContext(TN))===null||t===void 0?void 0:t[e])!==null&&n!==void 0?n:Mee},L7=x.createContext(void 0);L7.Provider;function Nee(){return x.useContext(L7)}const D7=x.createContext(void 0);D7.Provider;function Pee(){var e;return(e=x.useContext(D7))!==null&&e!==void 0?e:{announce:()=>{}}}const Bee=e=>(e(0),0),Ree=e=>e;function Mb(){const{targetDocument:e}=gn(),t=e==null?void 0:e.defaultView,n=t?t.requestAnimationFrame:Bee,r=t?t.cancelAnimationFrame:Ree;return P7(n,r)}function jee(e){return typeof e=="function"}const ro=e=>{"use no memo";const[t,n]=x.useState(()=>e.defaultState===void 0?e.initialState:Iee(e.defaultState)?e.defaultState():e.defaultState),r=x.useRef(e.state);x.useEffect(()=>{r.current=e.state},[e.state]);const i=x.useCallback(o=>{jee(o)&&o(r.current)},[]);return zee(e.state)?[e.state,i]:[t,n]};function Iee(e){return typeof e=="function"}const zee=e=>{"use no memo";const[t]=x.useState(()=>e!==void 0);return t};function Ox(){return typeof window<"u"&&!!(window.document&&window.document.createElement)}const O7={current:0},Lee=x.createContext(void 0);function F7(){var e;return(e=x.useContext(Lee))!==null&&e!==void 0?e:O7}function Dee(){const e=F7()!==O7,[t,n]=x.useState(e);return Ox()&&e&&x.useLayoutEffect(()=>{n(!1)},[]),t}const Ni=Ox()?x.useLayoutEffect:x.useEffect,pt=e=>{const t=x.useRef(()=>{throw new Error("Cannot call an event handler while rendering")});return Ni(()=>{t.current=e},[e]),x.useCallback((...n)=>{const r=t.current;return r(...n)},[t])};function kN(){const e=x.useRef(!0);return x.useEffect(()=>{e.current&&(e.current=!1)},[]),e.current}function U7(){return x.useReducer(e=>e+1,0)[1]}const q7=x.createContext(void 0);q7.Provider;function Oee(){return x.useContext(q7)||""}function vi(e="fui-",t){"use no memo";const n=F7(),r=Oee(),i=Jy.useId;if(i){const o=i(),a=x.useMemo(()=>o.replace(/:/g,""),[o]);return t||`${r}${e}${a}`}return x.useMemo(()=>t||`${r}${e}${++n.current}`,[r,e,t,n])}function dn(...e){"use no memo";const t=x.useCallback(n=>{t.current=n;for(const r of e)typeof r=="function"?r(n):r&&(r.current=n)},[...e]);return t}const H7=(e,t)=>!!(e!=null&&e.contains(t)),EN=e=>{const{targetDocument:t}=gn(),n=t==null?void 0:t.defaultView,{refs:r,callback:i,element:o,disabled:a,disabledFocusOnIframe:s,contains:c=H7}=e,u=x.useRef(void 0);Uee({element:o,disabled:s||a,callback:i,refs:r,contains:c});const d=x.useRef(!1),f=pt(m=>{if(d.current){d.current=!1;return}const g=m.composedPath()[0];r.every(_=>!c(_.current||null,g))&&!a&&i(m)}),p=pt(m=>{d.current=r.some(g=>c(g.current||null,m.target))});x.useEffect(()=>{if(a)return;let m=Fee(n);const g=v=>{if(v===m){m=void 0;return}f(v)};return o==null||o.addEventListener("click",g,!0),o==null||o.addEventListener("touchstart",g,!0),o==null||o.addEventListener("contextmenu",g,!0),o==null||o.addEventListener("mousedown",p,!0),u.current=n==null?void 0:n.setTimeout(()=>{m=void 0},1),()=>{o==null||o.removeEventListener("click",g,!0),o==null||o.removeEventListener("touchstart",g,!0),o==null||o.removeEventListener("contextmenu",g,!0),o==null||o.removeEventListener("mousedown",p,!0),n==null||n.clearTimeout(u.current),m=void 0}},[f,o,a,p,n])},Fee=e=>{if(e){var t,n;if(typeof e.window=="object"&&e.window===e)return e.event;var r;return(r=(n=e.ownerDocument)===null||n===void 0||(t=n.defaultView)===null||t===void 0?void 0:t.event)!==null&&r!==void 0?r:void 0}},iw="fuiframefocus",Uee=e=>{const{disabled:t,element:n,callback:r,contains:i=H7,pollDuration:o=100,refs:a}=e,s=x.useRef(void 0),c=pt(u=>{a.every(f=>!i(f.current||null,u.target))&&!t&&r(u)});x.useEffect(()=>{if(!t)return n==null||n.addEventListener(iw,c,!0),()=>{n==null||n.removeEventListener(iw,c,!0)}},[n,t,c]),x.useEffect(()=>{var u;if(!t)return s.current=n==null||(u=n.defaultView)===null||u===void 0?void 0:u.setInterval(()=>{const d=n==null?void 0:n.activeElement;if((d==null?void 0:d.tagName)==="IFRAME"||(d==null?void 0:d.tagName)==="WEBVIEW"){const f=new CustomEvent(iw,{bubbles:!0});d.dispatchEvent(f)}},o),()=>{var d;n==null||(d=n.defaultView)===null||d===void 0||d.clearInterval(s.current)}},[n,t,o])},V7=e=>{const{refs:t,callback:n,element:r,disabled:i,contains:o}=e,a=pt(s=>{const c=o||((f,p)=>!!(f!=null&&f.contains(p))),u=s.composedPath()[0];t.every(f=>!c(f.current||null,u))&&!i&&n(s)});x.useEffect(()=>{if(!i)return r==null||r.addEventListener("wheel",a),r==null||r.addEventListener("touchmove",a),()=>{r==null||r.removeEventListener("wheel",a),r==null||r.removeEventListener("touchmove",a)}},[a,r,i])},qee=e=>-1,Hee=e=>{};function af(){const{targetDocument:e}=gn(),t=e==null?void 0:e.defaultView,n=t?t.setTimeout:qee,r=t?t.clearTimeout:Hee;return P7(n,r)}const Vee=parseInt(x.version,10)>=19;function lv(e){if(e)return Vee?e.props.ref:e.ref}function un(e,t){return(...n)=>{e==null||e(...n),t==null||t(...n)}}function Ar(e,t){var n;const r=e;var i;return!!(!(r==null||(n=r.ownerDocument)===null||n===void 0)&&n.defaultView&&r instanceof r.ownerDocument.defaultView[(i=void 0)!==null&&i!==void 0?i:"HTMLElement"])}function W7(e){const t=[];let n=0;const r=(p,m)=>{const g=t[p];t[p]=t[m],t[m]=g},i=p=>{let m=p;const g=Wee(p),v=Gee(p);g<n&&e(t[g],t[m])<0&&(m=g),v<n&&e(t[v],t[m])<0&&(m=v),m!==p&&(r(m,p),i(m))};return{all:()=>t.slice(0,n),clear:()=>{n=0},contains:p=>{const m=t.indexOf(p);return m>=0&&m<n},dequeue:()=>{if(n===0)throw new Error("Priority queue empty");const p=t[0];return t[0]=t[--n],i(0),p},enqueue:p=>{t[n++]=p;let m=n-1,g=jj(m);for(;m>0&&e(t[g],t[m])>0;)r(g,m),m=g,g=jj(m)},peek:()=>n===0?null:t[0],remove:p=>{const m=t.indexOf(p);m===-1||m>=n||(t[m]=t[--n],i(m))},size:()=>n}}const Wee=e=>2*e+1,Gee=e=>2*e+2,jj=e=>Math.floor((e-1)/2);function G7(e){return!!e.type.isFluentTriggerComponent}function Fx(e,t){return typeof e=="function"?e(t):e?$7(e,t):e||null}function $7(e,t){if(!x.isValidElement(e)||e.type===x.Fragment)throw new Error("A trigger element must be a single element for this component. Please ensure that you're not using React Fragments.");if(G7(e)){const n=$7(e.props.children,t);return x.cloneElement(e,void 0,n)}else return x.cloneElement(e,t)}function cv(e){return x.isValidElement(e)?G7(e)?cv(e.props.children):e:null}function $ee(e){return e&&!!e._virtual}function Xee(e){return $ee(e)&&e._virtual.parent||null}function X7(e,t={}){if(!e)return null;if(!t.skipVirtual){const r=Xee(e);if(r)return r}const n=e.parentNode;return n&&n.nodeType===11?n.host:n}function ga(e,t){if(!e||!t)return!1;if(e===t)return!0;{const n=new WeakSet;for(;t;){const r=X7(t,{skipVirtual:n.has(t)});if(n.add(t),r===e)return!0;t=r}}return!1}function Ij(e,t){e&&Object.assign(e,{_virtual:{parent:t}})}function Zee(e,t){return{...t,[$h]:e}}function Z7(e,t){return function(r,i,o,a,s){return Rj(i)?t(Zee(r,i),null,o,a,s):Rj(r)?t(r,i,o,a,s):e(r,i,o,a,s)}}function K7(e){const{as:t,[M7]:n,[$h]:r,[Eb]:i,...o}=e,a=o,s=typeof r=="string"?t??r:r;return typeof s!="string"&&t&&(a.as=t),{elementType:s,props:a,renderFunction:i}}const Id=WX,Kee=(e,t,n)=>{const{elementType:r,renderFunction:i,props:o}=K7(e),a={...o,...t};return i?Id.jsx(x.Fragment,{children:i(r,a)},n):Id.jsx(r,a,n)},Yee=(e,t,n)=>{const{elementType:r,renderFunction:i,props:o}=K7(e),a={...o,...t};return i?Id.jsx(x.Fragment,{children:i(r,{...a,children:Id.jsxs(x.Fragment,{children:a.children},void 0)})},n):Id.jsxs(r,a,n)},Se=Z7(Id.jsx,Kee),an=Z7(Id.jsxs,Yee),Y7=x.createContext(void 0),Jee={},Qee=Y7.Provider,ete=()=>{const e=x.useContext(Y7);return e??Jee},tte=(e,t)=>Se(kee,{value:t.provider,children:Se(yee,{value:t.theme,children:Se(xee,{value:t.themeClassName,children:Se(Aee,{value:t.customStyleHooks_unstable,children:Se(See,{value:t.tooltip,children:Se(qQ,{dir:t.textDirection,children:Se(Qee,{value:t.iconDirection,children:Se(Eee,{value:t.overrides_unstable,children:an(e.root,{children:[Ox()?null:Se("style",{dangerouslySetInnerHTML:{__html:e.serverStyleProps.cssRule},...e.serverStyleProps.attributes}),e.root.children]})})})})})})})})});var nte=typeof WeakRef<"u",zj=class{constructor(e){nte&&typeof e=="object"?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,t;let n;return this._weakRef?(n=(e=this._weakRef)==null?void 0:e.deref(),n||delete this._weakRef):(n=this._instance,(t=n==null?void 0:n.isDisposed)!=null&&t.call(n)&&delete this._instance),n}},Ma="keyborg:focusin",Pg="keyborg:focusout";function rte(e){const t=e.HTMLElement,n=t.prototype.focus;let r=!1;return t.prototype.focus=function(){r=!0},e.document.createElement("button").focus(),t.prototype.focus=n,r}var ow=!1;function bl(e){const t=e.focus;t.__keyborgNativeFocus?t.__keyborgNativeFocus.call(e):e.focus()}function ite(e){const t=e;ow||(ow=rte(t));const n=t.HTMLElement.prototype.focus;if(n.__keyborgNativeFocus)return;t.HTMLElement.prototype.focus=c;const r=new Set,i=d=>{const f=d.target;if(!f)return;const p=new CustomEvent(Pg,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:d}});f.dispatchEvent(p)},o=d=>{const f=d.target;if(!f)return;let p=d.composedPath()[0];const m=new Set;for(;p;)p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(m.add(p),p=p.host):p=p.parentNode;for(const g of r){const v=g.deref();(!v||!m.has(v))&&(r.delete(g),v&&(v.removeEventListener("focusin",o,!0),v.removeEventListener("focusout",i,!0)))}a(f,d.relatedTarget||void 0)},a=(d,f,p)=>{var m;const g=d.shadowRoot;if(g){for(const y of r)if(y.deref()===g)return;g.addEventListener("focusin",o,!0),g.addEventListener("focusout",i,!0),r.add(new zj(g));return}const v={relatedTarget:f,originalEvent:p},_=new CustomEvent(Ma,{cancelable:!0,bubbles:!0,composed:!0,detail:v});_.details=v,(ow||s.lastFocusedProgrammatically)&&(v.isFocusedProgrammatically=d===((m=s.lastFocusedProgrammatically)==null?void 0:m.deref()),s.lastFocusedProgrammatically=void 0),d.dispatchEvent(_)},s=t.__keyborgData={focusInHandler:o,focusOutHandler:i,shadowTargets:r};t.document.addEventListener("focusin",t.__keyborgData.focusInHandler,!0),t.document.addEventListener("focusout",t.__keyborgData.focusOutHandler,!0);function c(){const d=t.__keyborgData;return d&&(d.lastFocusedProgrammatically=new zj(this)),n.apply(this,arguments)}let u=t.document.activeElement;for(;u&&u.shadowRoot;)a(u),u=u.shadowRoot.activeElement;c.__keyborgNativeFocus=n}function ote(e){const t=e,n=t.HTMLElement.prototype,r=n.focus.__keyborgNativeFocus,i=t.__keyborgData;if(i){t.document.removeEventListener("focusin",i.focusInHandler,!0),t.document.removeEventListener("focusout",i.focusOutHandler,!0);for(const o of i.shadowTargets){const a=o.deref();a&&(a.removeEventListener("focusin",i.focusInHandler,!0),a.removeEventListener("focusout",i.focusOutHandler,!0))}i.shadowTargets.clear(),delete t.__keyborgData}r&&(n.focus=r)}var ate=500,J7=0,ste=class{constructor(e,t){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=r=>{if(this._isMouseOrTouchUsedTimer||this.isNavigatingWithKeyboard)return;const i=r.detail;i.relatedTarget&&(i.isFocusedProgrammatically||i.isFocusedProgrammatically===void 0||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=r=>{r.buttons===0||r.clientX===0&&r.clientY===0&&r.screenX===0&&r.screenY===0||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{const r=this._win;r&&(this._isMouseOrTouchUsedTimer&&r.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=r.setTimeout(()=>{delete this._isMouseOrTouchUsedTimer},1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=r=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(r)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(r)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++J7,this._win=e;const n=e.document;if(t){const r=t.triggerKeys,i=t.dismissKeys;r!=null&&r.length&&(this._triggerKeys=new Set(r)),i!=null&&i.length&&(this._dismissKeys=new Set(i))}n.addEventListener(Ma,this._onFocusIn,!0),n.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),n.addEventListener("touchstart",this._onMouseOrTouch,!0),n.addEventListener("touchend",this._onMouseOrTouch,!0),n.addEventListener("touchcancel",this._onMouseOrTouch,!0),ite(e)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(e){this._isNavigatingWithKeyboard_DO_NOT_USE!==e&&(this._isNavigatingWithKeyboard_DO_NOT_USE=e,this.update())}dispose(){const e=this._win;if(e){this._isMouseOrTouchUsedTimer&&(e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),ote(e);const t=e.document;t.removeEventListener(Ma,this._onFocusIn,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("touchstart",this._onMouseOrTouch,!0),t.removeEventListener("touchend",this._onMouseOrTouch,!0),t.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var e,t;const n=(t=(e=this._win)==null?void 0:e.__keyborg)==null?void 0:t.refs;if(n)for(const r of Object.keys(n))MN.update(n[r],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(e){var t;if(e.key==="Tab")return!0;const n=(t=this._win)==null?void 0:t.document.activeElement,r=!this._triggerKeys||this._triggerKeys.has(e.keyCode),i=n&&(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable);return r&&!i}_shouldDismissKeyboardNavigation(e){var t;return(t=this._dismissKeys)==null?void 0:t.has(e.keyCode)}_scheduleDismiss(){const e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const t=e.document.activeElement;this._dismissTimer=e.setTimeout(()=>{this._dismissTimer=void 0;const n=e.document.activeElement;t&&n&&t===n&&(this.isNavigatingWithKeyboard=!1)},ate)}}},MN=class Q7{constructor(t,n){this._cb=[],this._id="k"+ ++J7,this._win=t;const r=t.__keyborg;r?(this._core=r.core,r.refs[this._id]=this):(this._core=new ste(t,n),t.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(t,n){return new Q7(t,n)}static dispose(t){t.dispose()}static update(t,n){t._cb.forEach(r=>r(n))}dispose(){var t;const n=(t=this._win)==null?void 0:t.__keyborg;n!=null&&n.refs[this._id]&&(delete n.refs[this._id],Object.keys(n.refs).length===0&&(n.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var t;return!!((t=this._core)!=null&&t.isNavigatingWithKeyboard)}subscribe(t){this._cb.push(t)}unsubscribe(t){const n=this._cb.indexOf(t);n>=0&&this._cb.splice(n,1)}setVal(t){this._core&&(this._core.isNavigatingWithKeyboard=t)}};function Ux(e,t){return MN.create(e,t)}function qx(e){MN.dispose(e)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 *//*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const ac="data-tabster",lte="data-tabster-dummy",e9=`:is(${["a[href]","button","input","select","textarea","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", ")}):not(:disabled)`,sc={EscapeGroupper:1,Restorer:2,Deloser:3},Vc={Invisible:0,PartiallyVisible:1,Visible:2},Ru={Source:0,Target:1},Ts={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},ai={ArrowUp:1,ArrowDown:2,ArrowLeft:3,ArrowRight:4,PageUp:5,PageDown:6,Home:7,End:8},Fy={Unlimited:0,Limited:1,LimitedTrapFocus:2},Lj={Enter:1},cte={Outside:2};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Qi(e,t){var n;return(n=e.storageEntry(t))===null||n===void 0?void 0:n.tabster}function t9(e,t,n){var r,i,o;const a=n||e._noop?void 0:t.getAttribute(ac);let s=e.storageEntry(t),c;if(a)if(a!==((r=s==null?void 0:s.attr)===null||r===void 0?void 0:r.string))try{const p=JSON.parse(a);if(typeof p!="object")throw new Error(`Value is not a JSON object, got '${a}'.`);c={string:a,object:p}}catch{}else return;else if(!s)return;s||(s=e.storageEntry(t,!0)),s.tabster||(s.tabster={});const u=s.tabster||{},d=((i=s.attr)===null||i===void 0?void 0:i.object)||{},f=(c==null?void 0:c.object)||{};for(const p of Object.keys(d))if(!f[p]){if(p==="root"){const m=u[p];m&&e.root.onRoot(m,!0)}switch(p){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const m=u[p];m&&(m.dispose(),delete u[p]);break;case"observed":delete u[p],e.observedElement&&e.observedElement.onObservedElementUpdate(t);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete u[p];break}}for(const p of Object.keys(f)){const m=f.sys;switch(p){case"deloser":u.deloser?u.deloser.setProps(f.deloser):e.deloser&&(u.deloser=e.deloser.createDeloser(t,f.deloser));break;case"root":u.root?u.root.setProps(f.root):u.root=e.root.createRoot(t,f.root,m),e.root.onRoot(u.root);break;case"modalizer":{let g;const v=e.modalizer;if(u.modalizer){const _=f.modalizer,y=_.id;y&&((o=d==null?void 0:d.modalizer)===null||o===void 0?void 0:o.id)!==y?(u.modalizer.dispose(),g=_):u.modalizer.setProps(_)}else v&&(g=f.modalizer);v&&g&&(u.modalizer=v.createModalizer(t,g,m))}break;case"restorer":u.restorer?u.restorer.setProps(f.restorer):e.restorer&&f.restorer&&(u.restorer=e.restorer.createRestorer(t,f.restorer));break;case"focusable":u.focusable=f.focusable;break;case"groupper":u.groupper?u.groupper.setProps(f.groupper):e.groupper&&(u.groupper=e.groupper.createGroupper(t,f.groupper,m));break;case"mover":u.mover?u.mover.setProps(f.mover):e.mover&&(u.mover=e.mover.createMover(t,f.mover,m));break;case"observed":e.observedElement&&(u.observed=f.observed,e.observedElement.onObservedElementUpdate(t));break;case"uncontrolled":u.uncontrolled=f.uncontrolled;break;case"outline":e.outline&&(u.outline=f.outline);break;case"sys":u.sys=f.sys;break;default:console.error(`Unknown key '${p}' in data-tabster attribute value.`)}}c?s.attr=c:(Object.keys(u).length===0&&(delete s.tabster,delete s.attr),e.storageEntry(t,!1))}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const ute="tabster:focusin",dte="tabster:focusout",gM="tabster:movefocus",fte="tabster:modalizer:active",hte="tabster:modalizer:inactive",pte="tabster:mover:state",Dj="tabster:mover:movefocus",Oj="tabster:mover:memorized-element",Fj="tabster:groupper:movefocus",vM="tabster:restorer:restore-focus",mte="tabster:root:focus",gte="tabster:root:blur",vte=typeof CustomEvent<"u"?CustomEvent:function(){};class Cc extends vte{constructor(t,n){super(t,{bubbles:!0,cancelable:!0,composed:!0,detail:n}),this.details=n}}class yte extends Cc{constructor(t){super(ute,t)}}class bte extends Cc{constructor(t){super(dte,t)}}class Tu extends Cc{constructor(t){super(gM,t)}}class Uj extends Cc{constructor(t){super(pte,t)}}class xte extends Cc{constructor(t){super(fte,t)}}class _te extends Cc{constructor(t){super(hte,t)}}class qj extends Cc{constructor(){super(vM)}}class wte extends Cc{constructor(t){super(mte,t)}}class Ste extends Cc{constructor(t){super(gte,t)}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Cte=e=>new MutationObserver(e),Tte=(e,t,n,r)=>e.createTreeWalker(t,n,r),kte=e=>e?e.parentNode:null,Ete=e=>e?e.parentElement:null,Mte=(e,t)=>!!(t&&(e!=null&&e.contains(t))),Ate=e=>e.activeElement,Nte=(e,t)=>e.querySelector(t),Pte=(e,t)=>Array.prototype.slice.call(e.querySelectorAll(t),0),Bte=(e,t)=>e.getElementById(t),Rte=e=>(e==null?void 0:e.firstChild)||null,jte=e=>(e==null?void 0:e.lastChild)||null,Ite=e=>(e==null?void 0:e.nextSibling)||null,zte=e=>(e==null?void 0:e.previousSibling)||null,Lte=e=>(e==null?void 0:e.firstElementChild)||null,Dte=e=>(e==null?void 0:e.lastElementChild)||null,Ote=e=>(e==null?void 0:e.nextElementSibling)||null,Fte=e=>(e==null?void 0:e.previousElementSibling)||null,Ute=(e,t)=>e.appendChild(t),qte=(e,t,n)=>e.insertBefore(t,n),Hte=e=>{var t;return((t=e.ownerDocument)===null||t===void 0?void 0:t.getSelection())||null},Vte=(e,t)=>e.ownerDocument.getElementsByName(t),ct={createMutationObserver:Cte,createTreeWalker:Tte,getParentNode:kte,getParentElement:Ete,nodeContains:Mte,getActiveElement:Ate,querySelector:Nte,querySelectorAll:Pte,getElementById:Bte,getFirstChild:Rte,getLastChild:jte,getNextSibling:Ite,getPreviousSibling:zte,getFirstElementChild:Lte,getLastElementChild:Dte,getNextElementSibling:Ote,getPreviousElementSibling:Fte,appendChild:Ute,insertBefore:qte,getSelection:Hte,getElementsByName:Vte};function Wte(e){for(const t of Object.keys(e))ct[t]=e[t]}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let yM;const Hj=typeof DOMRect<"u"?DOMRect:class{constructor(e,t,n,r){this.left=e||0,this.top=t||0,this.right=(e||0)+(n||0),this.bottom=(t||0)+(r||0)}};let Gte=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),yM=!1}catch{yM=!0}const aw=100;function Tc(e){const t=e();let n=t.__tabsterInstanceContext;return n||(n={elementByUId:{},basics:{Promise:t.Promise||void 0,WeakRef:t.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},t.__tabsterInstanceContext=n),n}function $te(e){const t=e.__tabsterInstanceContext;t&&(t.elementByUId={},delete t.WeakRef,t.containerBoundingRectCache={},t.containerBoundingRectCacheTimer&&e.clearTimeout(t.containerBoundingRectCacheTimer),t.fakeWeakRefsTimer&&e.clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefs=[],delete e.__tabsterInstanceContext)}function Xte(e){const t=e.__tabsterInstanceContext;return new((t==null?void 0:t.basics.WeakMap)||WeakMap)}function Zte(e){return!!e.querySelector(e9)}class n9{constructor(t){this._target=t}deref(){return this._target}static cleanup(t,n){return t._target?n||!NN(t._target.ownerDocument,t._target)?(delete t._target,!0):!1:!0}}class wa{constructor(t,n,r){const i=Tc(t);let o;i.WeakRef?o=new i.WeakRef(n):(o=new n9(n),i.fakeWeakRefs.push(o)),this._ref=o,this._data=r}get(){const t=this._ref;let n;return t&&(n=t.deref(),n||delete this._ref),n}getData(){return this._data}}function r9(e,t){const n=Tc(e);n.fakeWeakRefs=n.fakeWeakRefs.filter(r=>!n9.cleanup(r,t))}function i9(e){const t=Tc(e);t.fakeWeakRefsStarted||(t.fakeWeakRefsStarted=!0,t.WeakRef=tne(t)),t.fakeWeakRefsTimer||(t.fakeWeakRefsTimer=e().setTimeout(()=>{t.fakeWeakRefsTimer=void 0,r9(e),i9(e)},2*60*1e3))}function Kte(e){const t=Tc(e);t.fakeWeakRefsStarted=!1,t.fakeWeakRefsTimer&&(e().clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefsTimer=void 0,t.fakeWeakRefs=[])}function AN(e,t,n){if(t.nodeType!==Node.ELEMENT_NODE)return;const r=yM?n:{acceptNode:n};return ct.createTreeWalker(e,t,NodeFilter.SHOW_ELEMENT,r,!1)}function o9(e,t){let n=t.__tabsterCacheId;const r=Tc(e),i=n?r.containerBoundingRectCache[n]:void 0;if(i)return i.rect;const o=t.ownerDocument&&t.ownerDocument.documentElement;if(!o)return new Hj;let a=0,s=0,c=o.clientWidth,u=o.clientHeight;if(t!==o){const f=t.getBoundingClientRect();a=Math.max(a,f.left),s=Math.max(s,f.top),c=Math.min(c,f.right),u=Math.min(u,f.bottom)}const d=new Hj(a<c?a:-1,s<u?s:-1,a<c?c-a:0,s<u?u-s:0);return n||(n="r-"+ ++r.lastContainerBoundingRectCacheId,t.__tabsterCacheId=n),r.containerBoundingRectCache[n]={rect:d,element:t},r.containerBoundingRectCacheTimer||(r.containerBoundingRectCacheTimer=window.setTimeout(()=>{r.containerBoundingRectCacheTimer=void 0;for(const f of Object.keys(r.containerBoundingRectCache))delete r.containerBoundingRectCache[f].element.__tabsterCacheId;r.containerBoundingRectCache={}},50)),d}function Vj(e,t,n){const r=a9(t);if(!r)return!1;const i=o9(e,r),o=t.getBoundingClientRect(),a=o.height*(1-n),s=Math.max(0,i.top-o.top),c=Math.max(0,o.bottom-i.bottom),u=s+c;return u===0||u<=a}function Yte(e,t,n){const r=a9(t);if(r){const i=o9(e,r),o=t.getBoundingClientRect();n?r.scrollTop+=o.top-i.top:r.scrollTop+=o.bottom-i.bottom}}function a9(e){const t=e.ownerDocument;if(t){for(let n=ct.getParentElement(e);n;n=ct.getParentElement(n))if(n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight)return n;return t.documentElement}return null}function Jte(e){e.__shouldIgnoreFocus=!0}function s9(e){return!!e.__shouldIgnoreFocus}function Qte(e){const t=new Uint32Array(4);if(e.crypto&&e.crypto.getRandomValues)e.crypto.getRandomValues(t);else if(e.msCrypto&&e.msCrypto.getRandomValues)e.msCrypto.getRandomValues(t);else for(let r=0;r<t.length;r++)t[r]=4294967295*Math.random();const n=[];for(let r=0;r<t.length;r++)n.push(t[r].toString(36));return n.push("|"),n.push((++Gte).toString(36)),n.push("|"),n.push(Date.now().toString(36)),n.join("")}function Uy(e,t){const n=Tc(e);let r=t.__tabsterElementUID;return r||(r=t.__tabsterElementUID=Qte(e())),!n.elementByUId[r]&&NN(t.ownerDocument,t)&&(n.elementByUId[r]=new wa(e,t)),r}function Wj(e,t){const n=Tc(e);for(const r of Object.keys(n.elementByUId)){const i=n.elementByUId[r],o=i&&i.get();o&&t&&!ct.nodeContains(t,o)||delete n.elementByUId[r]}}function NN(e,t){return ct.nodeContains(e==null?void 0:e.body,t)}function l9(e,t){const n=e.matches||e.matchesSelector||e.msMatchesSelector||e.webkitMatchesSelector;return n&&n.call(e,t)}function ene(e){const t=Tc(e);if(t.basics.Promise)return t.basics.Promise;throw new Error("No Promise defined.")}function tne(e){return e.basics.WeakRef}let nne=0;class uv{constructor(t,n,r){const i=t.getWindow;this._tabster=t,this._element=new wa(i,n),this._props={...r},this.id="i"+ ++nne}getElement(){return this._element.get()}getProps(){return this._props}setProps(t){this._props={...t}}}class Ab{constructor(t,n,r,i,o){var a;this._focusIn=d=>{if(this._fixedTarget){const p=this._fixedTarget.get();p&&bl(p);return}const f=this.input;if(this.onFocusIn&&f){const p=d.relatedTarget;this.onFocusIn(this,this._isBackward(!0,f,p),p)}},this._focusOut=d=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const f=this.input;if(this.onFocusOut&&f){const p=d.relatedTarget;this.onFocusOut(this,this._isBackward(!1,f,p),p)}};const s=t(),c=s.document.createElement("i");c.tabIndex=0,c.setAttribute("role","none"),c.setAttribute(lte,""),c.setAttribute("aria-hidden","true");const u=c.style;u.position="fixed",u.width=u.height="1px",u.opacity="0.001",u.zIndex="-1",u.setProperty("content-visibility","hidden"),Jte(c),this.input=c,this.isFirst=r.isFirst,this.isOutside=n,this._isPhantom=(a=r.isPhantom)!==null&&a!==void 0?a:!1,this._fixedTarget=o,c.addEventListener("focusin",this._focusIn),c.addEventListener("focusout",this._focusOut),c.__tabsterDummyContainer=i,this._isPhantom&&(this._disposeTimer=s.setTimeout(()=>{delete this._disposeTimer,this.dispose()},0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(s.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var t;this._clearDisposeTimeout&&this._clearDisposeTimeout();const n=this.input;n&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,n.removeEventListener("focusin",this._focusIn),n.removeEventListener("focusout",this._focusOut),delete n.__tabsterDummyContainer,(t=ct.getParentNode(n))===null||t===void 0||t.removeChild(n))}setTopLeft(t,n){var r;const i=(r=this.input)===null||r===void 0?void 0:r.style;i&&(i.top=`${t}px`,i.left=`${n}px`)}_isBackward(t,n,r){return t&&!r?!this.isFirst:!!(r&&n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING)}}const Hx={Root:1,Modalizer:2,Mover:3,Groupper:4};class Xh{constructor(t,n,r,i,o,a){this._element=n,this._instance=new ine(t,n,this,r,i,o,a)}_setHandlers(t,n){this._onFocusIn=t,this._onFocusOut=n}moveOut(t){var n;(n=this._instance)===null||n===void 0||n.moveOut(t)}moveOutWithDefaultAction(t,n){var r;(r=this._instance)===null||r===void 0||r.moveOutWithDefaultAction(t,n)}getHandler(t){return t?this._onFocusIn:this._onFocusOut}setTabbable(t){var n;(n=this._instance)===null||n===void 0||n.setTabbable(this,t)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(t,n,r,i,o){const s=new Ab(t.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(s){let c,u;if(n.tagName==="BODY")c=n,u=r&&i||!r&&!i?ct.getFirstElementChild(n):null;else{r&&(!i||i&&!t.focusable.isFocusable(n,!1,!0,!0))?(c=n,u=i?n.firstElementChild:null):(c=ct.getParentElement(n),u=r&&i||!r&&!i?n:ct.getNextElementSibling(n));let d,f;do d=r&&i||!r&&!i?ct.getPreviousElementSibling(u):u,f=Zh(d),f===n?u=r&&i||!r&&!i?d:ct.getNextElementSibling(d):f=null;while(f)}c!=null&&c.dispatchEvent(new Tu({by:"root",owner:c,next:null,relatedEvent:o}))&&(ct.insertBefore(c,s,u),bl(s))}}static addPhantomDummyWithTarget(t,n,r,i){const a=new Ab(t.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new wa(t.getWindow,i)).input;if(a){let s,c;Zte(n)&&!r?(s=n,c=ct.getFirstElementChild(n)):(s=ct.getParentElement(n),c=r?n:ct.getNextElementSibling(n)),s&&ct.insertBefore(s,a,c)}}}class rne{constructor(t){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=n=>{var r;this._changedParents.has(n)||(this._changedParents.add(n),!this._updateDummyInputsTimer&&(this._updateDummyInputsTimer=(r=this._win)===null||r===void 0?void 0:r.call(this).setTimeout(()=>{delete this._updateDummyInputsTimer;for(const i of this._dummyElements){const o=i.get();if(o){const a=this._dummyCallbacks.get(o);if(a){const s=ct.getParentNode(o);(!s||this._changedParents.has(s))&&a()}}}this._changedParents=new WeakSet},aw)))},this._win=t}add(t,n){!this._dummyCallbacks.has(t)&&this._win&&(this._dummyElements.push(new wa(this._win,t)),this._dummyCallbacks.set(t,n),this.domChanged=this._domChanged)}remove(t){this._dummyElements=this._dummyElements.filter(n=>{const r=n.get();return r&&r!==t}),this._dummyCallbacks.delete(t),this._dummyElements.length===0&&delete this.domChanged}dispose(){var t;const n=(t=this._win)===null||t===void 0?void 0:t.call(this);this._updateTimer&&(n==null||n.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(n==null||n.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(t){this._win&&(this._updateQueue.add(t),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var t;this._updateTimer||(this._updateTimer=(t=this._win)===null||t===void 0?void 0:t.call(this).setTimeout(()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+aw<=Date.now()){const n=new Map,r=[];for(const i of this._updateQueue)r.push(i(n));this._updateQueue.clear();for(const i of r)i();n.clear()}else this._scheduledUpdatePositions()},aw))}}class ine{constructor(t,n,r,i,o,a,s){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(m,g,v)=>{this._onFocus(!0,m,g,v)},this._onFocusOut=(m,g,v)=>{this._onFocus(!1,m,g,v)},this.moveOut=m=>{var g;const v=this._firstDummy,_=this._lastDummy;if(v&&_){this._ensurePosition();const y=v.input,S=_.input,w=(g=this._element)===null||g===void 0?void 0:g.get();if(y&&S&&w){let C;m?(y.tabIndex=0,C=y):(S.tabIndex=0,C=S),C&&bl(C)}}},this.moveOutWithDefaultAction=(m,g)=>{var v;const _=this._firstDummy,y=this._lastDummy;if(_&&y){this._ensurePosition();const S=_.input,w=y.input,C=(v=this._element)===null||v===void 0?void 0:v.get();if(S&&w&&C){let M;m?!_.isOutside&&this._tabster.focusable.isFocusable(C,!0,!0,!0)?M=C:(_.useDefaultAction=!0,S.tabIndex=0,M=S):(y.useDefaultAction=!0,w.tabIndex=0,M=w),M&&C.dispatchEvent(new Tu({by:"root",owner:C,next:null,relatedEvent:g}))&&bl(M)}}},this.setTabbable=(m,g)=>{var v,_;for(const S of this._wrappers)if(S.manager===m){S.tabbable=g;break}const y=this._getCurrent();if(y){const S=y.tabbable?0:-1;let w=(v=this._firstDummy)===null||v===void 0?void 0:v.input;w&&(w.tabIndex=S),w=(_=this._lastDummy)===null||_===void 0?void 0:_.input,w&&(w.tabIndex=S)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout(()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()},0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=m=>{var g,v;const _=((g=this._firstDummy)===null||g===void 0?void 0:g.input)||((v=this._lastDummy)===null||v===void 0?void 0:v.input),y=this._transformElements,S=new Set;let w=0,C=0;const M=this._getWindow();for(let A=_;A&&A.nodeType===Node.ELEMENT_NODE;A=ct.getParentElement(A)){let E=m.get(A);if(E===void 0){const I=M.getComputedStyle(A).transform;I&&I!=="none"&&(E={scrollTop:A.scrollTop,scrollLeft:A.scrollLeft}),m.set(A,E||null)}E&&(S.add(A),y.has(A)||A.addEventListener("scroll",this._addTransformOffsets),w+=E.scrollTop,C+=E.scrollLeft)}for(const A of y)S.has(A)||A.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=S,()=>{var A,E;(A=this._firstDummy)===null||A===void 0||A.setTopLeft(w,C),(E=this._lastDummy)===null||E===void 0||E.setTopLeft(w,C)}};const c=n.get();if(!c)throw new Error("No element");this._tabster=t,this._getWindow=t.getWindow,this._callForDefaultAction=s;const u=c.__tabsterDummy;if((u||this)._wrappers.push({manager:r,priority:i,tabbable:!0}),u)return u;c.__tabsterDummy=this;const d=o==null?void 0:o.dummyInputsPosition,f=c.tagName;this._isOutside=d?d===cte.Outside:(a||f==="UL"||f==="OL"||f==="TABLE")&&!(f==="LI"||f==="TD"||f==="TH"),this._firstDummy=new Ab(this._getWindow,this._isOutside,{isFirst:!0},n),this._lastDummy=new Ab(this._getWindow,this._isOutside,{isFirst:!1},n);const p=this._firstDummy.input;p&&t._dummyObserver.add(p,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=n,this._addDummyInputs()}dispose(t,n){var r,i,o,a;if((this._wrappers=this._wrappers.filter(c=>c.manager!==t&&!n)).length===0){delete((r=this._element)===null||r===void 0?void 0:r.get()).__tabsterDummy;for(const d of this._transformElements)d.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const c=this._getWindow();this._addTimer&&(c.clearTimeout(this._addTimer),delete this._addTimer);const u=(i=this._firstDummy)===null||i===void 0?void 0:i.input;u&&this._tabster._dummyObserver.remove(u),(o=this._firstDummy)===null||o===void 0||o.dispose(),(a=this._lastDummy)===null||a===void 0||a.dispose()}}_onFocus(t,n,r,i){var o;const a=this._getCurrent();a&&(!n.useDefaultAction||this._callForDefaultAction)&&((o=a.manager.getHandler(t))===null||o===void 0||o(n,r,i))}_getCurrent(){return this._wrappers.sort((t,n)=>t.tabbable!==n.tabbable?t.tabbable?-1:1:t.priority-n.priority),this._wrappers[0]}_ensurePosition(){var t,n,r;const i=(t=this._element)===null||t===void 0?void 0:t.get(),o=(n=this._firstDummy)===null||n===void 0?void 0:n.input,a=(r=this._lastDummy)===null||r===void 0?void 0:r.input;if(!(!i||!o||!a))if(this._isOutside){const s=ct.getParentNode(i);if(s){const c=ct.getNextSibling(i);c!==a&&ct.insertBefore(s,a,c),ct.getPreviousElementSibling(i)!==o&&ct.insertBefore(s,o,i)}}else{ct.getLastElementChild(i)!==a&&ct.appendChild(i,a);const s=ct.getFirstElementChild(i);s&&s!==o&&s.parentNode&&ct.insertBefore(s.parentNode,o,s)}}}function c9(e){let t=null;for(let n=ct.getLastElementChild(e);n;n=ct.getLastElementChild(n))t=n;return t||void 0}function one(e,t){let n=e,r=null;for(;n&&!r;)r=t?ct.getPreviousElementSibling(n):ct.getNextElementSibling(n),n=ct.getParentElement(n);return r||void 0}function sw(e,t,n,r){const i=e.storageEntry(t,!0);let o=!1;if(!i.aug){if(r===void 0)return o;i.aug={}}if(r===void 0){if(n in i.aug){const a=i.aug[n];delete i.aug[n],a===null?t.removeAttribute(n):t.setAttribute(n,a),o=!0}}else{let a;n in i.aug||(a=t.getAttribute(n)),a!==void 0&&a!==r&&(i.aug[n]=a,r===null?t.removeAttribute(n):t.setAttribute(n,r),o=!0)}return r===void 0&&Object.keys(i.aug).length===0&&(delete i.aug,e.storageEntry(t,!1)),o}function ane(e){var t,n;const r=e.ownerDocument,i=(t=r.defaultView)===null||t===void 0?void 0:t.getComputedStyle(e);return e.offsetParent===null&&r.body!==e&&(i==null?void 0:i.position)!=="fixed"||(i==null?void 0:i.visibility)==="hidden"||(i==null?void 0:i.position)==="fixed"&&(i.display==="none"||((n=e.parentElement)===null||n===void 0?void 0:n.offsetParent)===null&&r.body!==e.parentElement)}function bM(e){return e.tagName==="INPUT"&&!!e.name&&e.type==="radio"}function sne(e){if(!bM(e))return;const t=e.name;let n=Array.from(ct.getElementsByName(e,t)),r;return n=n.filter(i=>bM(i)?(i.checked&&(r=i),!0):!1),{name:t,buttons:new Set(n),checked:r}}function Zh(e){var t;return((t=e==null?void 0:e.__tabsterDummyContainer)===null||t===void 0?void 0:t.get())||null}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function Vx(e,t){const n=JSON.stringify(e);return t===!0?n:{[ac]:n}}function lne(e,t){for(const n of Object.keys(t)){const r=t[n];r?e[n]=r:delete e[n]}}function cne(e,t,n){let r;{const i=e.getAttribute(ac);if(i)try{r=JSON.parse(i)}catch{}}r||(r={}),lne(r,t),Object.keys(r).length>0?e.setAttribute(ac,Vx(r,!0)):e.removeAttribute(ac)}class Gj extends Xh{constructor(t,n,r,i){super(t,n,Hx.Root,i,void 0,!0),this._onDummyInputFocus=o=>{var a;if(o.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const s=this._element.get();if(s){this._setFocused(!0);const c=this._tabster.focusedElement.getFirstOrLastTabbable(o.isFirst,{container:s,ignoreAccessibility:!0});if(c){bl(c);return}}(a=o.input)===null||a===void 0||a.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=t,this._setFocused=r}}class une extends uv{constructor(t,n,r,i,o){super(t,n,i),this._isFocused=!1,this._setFocused=u=>{var d;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===u)return;const f=this._element.get();f&&(u?(this._isFocused=!0,(d=this._dummyManager)===null||d===void 0||d.setTabbable(!1),f.dispatchEvent(new wte({element:f}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout(()=>{var p;delete this._setFocusedTimer,this._isFocused=!1,(p=this._dummyManager)===null||p===void 0||p.setTabbable(!0),f.dispatchEvent(new Ste({element:f}))},0))},this._onFocusIn=u=>{const d=this._tabster.getParent,f=this._element.get();let p=u.composedPath()[0];do{if(p===f){this._setFocused(!0);return}p=p&&d(p)}while(p)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=r;const a=t.getWindow;this.uid=Uy(a,n),this._sys=o,(t.controlTab||t.rootDummyInputs)&&this.addDummyInputs();const c=a().document;c.addEventListener(Ma,this._onFocusIn),c.addEventListener(Pg,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new Gj(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var t;this._onDispose(this);const n=this._tabster.getWindow(),r=n.document;r.removeEventListener(Ma,this._onFocusIn),r.removeEventListener(Pg,this._onFocusOut),this._setFocusedTimer&&(n.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),(t=this._dummyManager)===null||t===void 0||t.dispose(),this._remove()}moveOutWithDefaultAction(t,n){const r=this._dummyManager;if(r)r.moveOutWithDefaultAction(t,n);else{const i=this.getElement();i&&Gj.moveWithPhantomDummy(this._tabster,i,!0,t,n)}}_add(){}_remove(){}}class ar{constructor(t,n){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var r;const i=this._win().document,o=i.body;if(o){this._autoRootUnwait(i);const a=this._autoRoot;if(a)return cne(o,{root:a}),t9(this._tabster,o),(r=Qi(this._tabster,o))===null||r===void 0?void 0:r.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,i.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=r=>{delete this._roots[r.id]},this._tabster=t,this._win=t.getWindow,this._autoRoot=n,t.queueInit(()=>{this._autoRoot&&this._autoRootCreate()})}_autoRootUnwait(t){t.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const t=this._win();this._autoRootUnwait(t.document),delete this._autoRoot,Object.keys(this._roots).forEach(n=>{this._roots[n]&&(this._roots[n].dispose(),delete this._roots[n])}),this.rootById={}}createRoot(t,n,r){const i=new une(this._tabster,t,this._onRootDispose,n,r);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const t=this._roots;for(const n of Object.keys(t))t[n].addDummyInputs()}static getRootByUId(t,n){const r=t().__tabsterInstance;return r&&r.root.rootById[n]}static getTabsterContext(t,n,r={}){var i,o,a,s;if(!n.ownerDocument)return;const{checkRtl:c,referenceElement:u}=r,d=t.getParent;t.drainInitQueue();let f,p,m,g,v=!1,_,y,S,w,C=u||n;const M={};for(;C&&(!f||c);){const E=Qi(t,C);if(c&&S===void 0){const q=C.dir;q&&(S=q.toLowerCase()==="rtl")}if(!E){C=d(C);continue}const I=C.tagName;(E.uncontrolled||I==="IFRAME"||I==="WEBVIEW")&&t.focusable.isVisible(C)&&(w=C),!g&&(!((i=E.focusable)===null||i===void 0)&&i.excludeFromMover)&&!m&&(v=!0);const N=E.modalizer,P=E.groupper,D=E.mover;!p&&N&&(p=N),!m&&P&&(!p||N)&&(p?(!P.isActive()&&P.getProps().tabbability&&p.userId!==((o=t.modalizer)===null||o===void 0?void 0:o.activeId)&&(p=void 0,m=P),y=P):m=P),!g&&D&&(!p||N)&&(!P||C!==n)&&C.contains(n)&&(g=D,_=!!m&&m!==P),E.root&&(f=E.root),!((a=E.focusable)===null||a===void 0)&&a.ignoreKeydown&&Object.assign(M,E.focusable.ignoreKeydown),C=d(C)}if(!f){const E=t.root;E._autoRoot&&!((s=n.ownerDocument)===null||s===void 0)&&s.body&&(f=E._autoRootCreate())}return m&&!g&&(_=!0),f?{root:f,modalizer:p,groupper:m,mover:g,groupperBeforeMover:_,modalizerInGroupper:y,rtl:c?!!S:void 0,uncontrolled:w,excludedFromMover:v,ignoreKeydown:E=>!!M[E.key]}:void 0}static getRoot(t,n){var r;const i=t.getParent;for(let o=n;o;o=i(o)){const a=(r=Qi(t,o))===null||r===void 0?void 0:r.root;if(a)return a}}onRoot(t,n){n?delete this.rootById[t.uid]:this.rootById[t.uid]=t}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class u9{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(t){const n=this._callbacks;n.indexOf(t)<0&&n.push(t)}subscribeFirst(t){const n=this._callbacks,r=n.indexOf(t);r>=0&&n.splice(r,1),n.unshift(t)}unsubscribe(t){const n=this._callbacks.indexOf(t);n>=0&&this._callbacks.splice(n,1)}setVal(t,n){this._val!==t&&(this._val=t,this._callCallbacks(t,n))}getVal(){return this._val}trigger(t,n){this._callCallbacks(t,n)}_callCallbacks(t,n){this._callbacks.forEach(r=>r(t,n))}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class dne{constructor(t){this._tabster=t}dispose(){}getProps(t){const n=Qi(this._tabster,t);return n&&n.focusable||{}}isFocusable(t,n,r,i){return l9(t,e9)&&(n||t.tabIndex!==-1)?(r||this.isVisible(t))&&(i||this.isAccessible(t)):!1}isVisible(t){if(!t.ownerDocument||t.nodeType!==Node.ELEMENT_NODE||ane(t))return!1;const n=t.ownerDocument.body.getBoundingClientRect();return!(n.width===0&&n.height===0)}isAccessible(t){var n;for(let r=t;r;r=ct.getParentElement(r)){const i=Qi(this._tabster,r);if(this._isHidden(r)||!((n=i==null?void 0:i.focusable)===null||n===void 0?void 0:n.ignoreAriaDisabled)&&this._isDisabled(r))return!1}return!0}_isDisabled(t){return t.hasAttribute("disabled")}_isHidden(t){var n;const r=t.getAttribute("aria-hidden");return!!(r&&r.toLowerCase()==="true"&&!(!((n=this._tabster.modalizer)===null||n===void 0)&&n.isAugmented(t)))}findFirst(t,n){return this.findElement({...t},n)}findLast(t,n){return this.findElement({isBackward:!0,...t},n)}findNext(t,n){return this.findElement({...t},n)}findPrev(t,n){return this.findElement({...t,isBackward:!0},n)}findDefault(t,n){return this.findElement({...t,acceptCondition:r=>this.isFocusable(r,t.includeProgrammaticallyFocusable)&&!!this.getProps(r).isDefault},n)||null}findAll(t){return this._findElements(!0,t)||[]}findElement(t,n){const r=this._findElements(!1,t,n);return r&&r[0]}_findElements(t,n,r){var i,o,a;const{container:s,currentElement:c=null,includeProgrammaticallyFocusable:u,useActiveModalizer:d,ignoreAccessibility:f,modalizerId:p,isBackward:m,onElement:g}=n;r||(r={});const v=[];let{acceptCondition:_}=n;const y=!!_;if(!s)return null;_||(_=M=>this.isFocusable(M,u,!1,f));const S={container:s,modalizerUserId:p===void 0&&d?(i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId:p||((a=(o=ar.getTabsterContext(this._tabster,s))===null||o===void 0?void 0:o.modalizer)===null||a===void 0?void 0:a.userId),from:c||s,isBackward:m,isFindAll:t,acceptCondition:_,hasCustomCondition:y,includeProgrammaticallyFocusable:u,ignoreAccessibility:f,cachedGrouppers:{},cachedRadioGroups:{}},w=AN(s.ownerDocument,s,M=>this._acceptElement(M,S));if(!w)return null;const C=M=>{var A,E;const I=(A=S.foundElement)!==null&&A!==void 0?A:S.foundBackward;return I&&v.push(I),t?I&&(S.found=!1,delete S.foundElement,delete S.foundBackward,delete S.fromCtx,S.from=I,g&&!g(I))?!1:!!(I||M):(I&&r&&(r.uncontrolled=(E=ar.getTabsterContext(this._tabster,I))===null||E===void 0?void 0:E.uncontrolled),!!(M&&!I))};if(c||(r.outOfDOMOrder=!0),c&&ct.nodeContains(s,c))w.currentNode=c;else if(m){const M=c9(s);if(!M)return null;if(this._acceptElement(M,S)===NodeFilter.FILTER_ACCEPT&&!C(!0))return S.skippedFocusable&&(r.outOfDOMOrder=!0),v;w.currentNode=M}do m?w.previousNode():w.nextNode();while(C());return S.skippedFocusable&&(r.outOfDOMOrder=!0),v.length?v:null}_acceptElement(t,n){var r,i,o;if(n.found)return NodeFilter.FILTER_ACCEPT;const a=n.foundBackward;if(a&&(t===a||!ct.nodeContains(a,t)))return n.found=!0,n.foundElement=a,NodeFilter.FILTER_ACCEPT;const s=n.container;if(t===s)return NodeFilter.FILTER_SKIP;if(!ct.nodeContains(s,t)||Zh(t)||ct.nodeContains(n.rejectElementsFrom,t))return NodeFilter.FILTER_REJECT;const c=n.currentCtx=ar.getTabsterContext(this._tabster,t);if(!c)return NodeFilter.FILTER_SKIP;if(s9(t))return this.isFocusable(t,void 0,!0,!0)&&(n.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!n.hasCustomCondition&&(t.tagName==="IFRAME"||t.tagName==="WEBVIEW"))return this.isVisible(t)&&((r=c.modalizer)===null||r===void 0?void 0:r.userId)===((i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId)?(n.found=!0,n.rejectElementsFrom=n.foundElement=t,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!n.ignoreAccessibility&&!this.isAccessible(t))return this.isFocusable(t,!1,!0,!0)&&(n.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let u,d=n.fromCtx;d||(d=n.fromCtx=ar.getTabsterContext(this._tabster,n.from));const f=d==null?void 0:d.mover;let p=c.groupper,m=c.mover;if(u=(o=this._tabster.modalizer)===null||o===void 0?void 0:o.acceptElement(t,n),u!==void 0&&(n.skippedFocusable=!0),u===void 0&&(p||m||f)){const g=p==null?void 0:p.getElement(),v=f==null?void 0:f.getElement();let _=m==null?void 0:m.getElement();if(_&&ct.nodeContains(v,_)&&ct.nodeContains(s,v)&&(!g||!m||ct.nodeContains(v,g))&&(m=f,_=v),g){if(g===s||!ct.nodeContains(s,g))p=void 0;else if(!ct.nodeContains(g,t))return NodeFilter.FILTER_REJECT}if(_){if(!ct.nodeContains(s,_))m=void 0;else if(!ct.nodeContains(_,t))return NodeFilter.FILTER_REJECT}p&&m&&(_&&g&&!ct.nodeContains(g,_)?m=void 0:p=void 0),p&&(u=p.acceptElement(t,n)),m&&(u=m.acceptElement(t,n))}if(u===void 0&&(u=n.acceptCondition(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,u===NodeFilter.FILTER_SKIP&&this.isFocusable(t,!1,!0,!0)&&(n.skippedFocusable=!0)),u===NodeFilter.FILTER_ACCEPT&&!n.found){if(!n.isFindAll&&bM(t)&&!t.checked){const g=t.name;let v=n.cachedRadioGroups[g];if(v||(v=sne(t),v&&(n.cachedRadioGroups[g]=v)),v!=null&&v.checked&&v.checked!==t)return NodeFilter.FILTER_SKIP}n.isBackward?(n.foundBackward=t,u=NodeFilter.FILTER_SKIP):(n.found=!0,n.foundElement=t)}return u}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const Qr={Tab:"Tab",Enter:"Enter",Escape:"Escape",PageUp:"PageUp",PageDown:"PageDown",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown"};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function fne(e,t){var n;const r=e.getParent;let i=t;do{const o=(n=Qi(e,i))===null||n===void 0?void 0:n.uncontrolled;if(o&&e.uncontrolled.isUncontrolledCompletely(i,!!o.completely))return i;i=r(i)}while(i)}const $j={[sc.Restorer]:0,[sc.Deloser]:1,[sc.EscapeGroupper]:2};class ei extends u9{constructor(t,n){super(),this._init=()=>{const r=this._win(),i=r.document;i.addEventListener(Ma,this._onFocusIn,!0),i.addEventListener(Pg,this._onFocusOut,!0),r.addEventListener("keydown",this._onKeyDown,!0);const o=ct.getActiveElement(i);o&&o!==i.body&&this._setFocusedElement(o),this.subscribe(this._onChanged)},this._onFocusIn=r=>{const i=r.composedPath()[0];i&&this._setFocusedElement(i,r.detail.relatedTarget,r.detail.isFocusedProgrammatically)},this._onFocusOut=r=>{var i;this._setFocusedElement(void 0,(i=r.detail)===null||i===void 0?void 0:i.originalEvent.relatedTarget)},this._validateFocusedElement=r=>{},this._onKeyDown=r=>{if(r.key!==Qr.Tab||r.ctrlKey)return;const i=this.getVal();if(!i||!i.ownerDocument||i.contentEditable==="true")return;const o=this._tabster,a=o.controlTab,s=ar.getTabsterContext(o,i);if(!s||s.ignoreKeydown(r))return;const c=r.shiftKey,u=ei.findNextTabbable(o,s,void 0,i,void 0,c,!0),d=s.root.getElement();if(!d)return;const f=u==null?void 0:u.element,p=fne(o,i);if(f){const m=u.uncontrolled;if(s.uncontrolled||ct.nodeContains(m,i)){if(!u.outOfDOMOrder&&m===s.uncontrolled||p&&!ct.nodeContains(p,f))return;Xh.addPhantomDummyWithTarget(o,i,c,f);return}if(m&&o.focusable.isVisible(m)||f.tagName==="IFRAME"&&o.focusable.isVisible(f)){d.dispatchEvent(new Tu({by:"root",owner:d,next:f,relatedEvent:r}))&&Xh.moveWithPhantomDummy(o,m??f,!1,c,r);return}(a||u!=null&&u.outOfDOMOrder)&&d.dispatchEvent(new Tu({by:"root",owner:d,next:f,relatedEvent:r}))&&(r.preventDefault(),r.stopImmediatePropagation(),bl(f))}else!p&&d.dispatchEvent(new Tu({by:"root",owner:d,next:null,relatedEvent:r}))&&s.root.moveOutWithDefaultAction(c,r)},this._onChanged=(r,i)=>{var o,a;if(r)r.dispatchEvent(new yte(i));else{const s=(o=this._lastVal)===null||o===void 0?void 0:o.get();if(s){const c={...i},u=ar.getTabsterContext(this._tabster,s),d=(a=u==null?void 0:u.modalizer)===null||a===void 0?void 0:a.userId;d&&(c.modalizerId=d),s.dispatchEvent(new bte(c))}}},this._tabster=t,this._win=n,t.queueInit(this._init)}dispose(){super.dispose();const t=this._win(),n=t.document;n.removeEventListener(Ma,this._onFocusIn,!0),n.removeEventListener(Pg,this._onFocusOut,!0),t.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);const r=this._asyncFocus;r&&(t.clearTimeout(r.timeout),delete this._asyncFocus),delete ei._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(t,n){var r,i;let o=ei._lastResetElement,a=o&&o.get();a&&ct.nodeContains(n,a)&&delete ei._lastResetElement,a=(i=(r=t._nextVal)===null||r===void 0?void 0:r.element)===null||i===void 0?void 0:i.get(),a&&ct.nodeContains(n,a)&&delete t._nextVal,o=t._lastVal,a=o&&o.get(),a&&ct.nodeContains(n,a)&&delete t._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var t;let n=(t=this._lastVal)===null||t===void 0?void 0:t.get();return(!n||n&&!NN(n.ownerDocument,n))&&(this._lastVal=n=void 0),n}focus(t,n,r,i){return this._tabster.focusable.isFocusable(t,n,!1,r)?(t.focus({preventScroll:i}),!0):!1}focusDefault(t){const n=this._tabster.focusable.findDefault({container:t});return n?(this._tabster.focusedElement.focus(n),!0):!1}getFirstOrLastTabbable(t,n){var r;const{container:i,ignoreAccessibility:o}=n;let a;if(i){const s=ar.getTabsterContext(this._tabster,i);s&&(a=(r=ei.findNextTabbable(this._tabster,s,i,void 0,void 0,!t,o))===null||r===void 0?void 0:r.element)}return a&&!ct.nodeContains(i,a)&&(a=void 0),a||void 0}_focusFirstOrLast(t,n){const r=this.getFirstOrLastTabbable(t,n);return r?(this.focus(r,!1,!0),!0):!1}focusFirst(t){return this._focusFirstOrLast(!0,t)}focusLast(t){return this._focusFirstOrLast(!1,t)}resetFocus(t){if(!this._tabster.focusable.isVisible(t))return!1;if(this._tabster.focusable.isFocusable(t,!0,!0,!0))this.focus(t);else{const n=t.getAttribute("tabindex"),r=t.getAttribute("aria-hidden");t.tabIndex=-1,t.setAttribute("aria-hidden","true"),ei._lastResetElement=new wa(this._win,t),this.focus(t,!0,!0),this._setOrRemoveAttribute(t,"tabindex",n),this._setOrRemoveAttribute(t,"aria-hidden",r)}return!0}requestAsyncFocus(t,n,r){const i=this._tabster.getWindow(),o=this._asyncFocus;if(o){if($j[t]>$j[o.source])return;i.clearTimeout(o.timeout)}this._asyncFocus={source:t,callback:n,timeout:i.setTimeout(()=>{this._asyncFocus=void 0,n()},r)}}cancelAsyncFocus(t){const n=this._asyncFocus;(n==null?void 0:n.source)===t&&(this._tabster.getWindow().clearTimeout(n.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(t,n,r){r===null?t.removeAttribute(n):t.setAttribute(n,r)}_setFocusedElement(t,n,r){var i,o;if(this._tabster._noop)return;const a={relatedTarget:n};if(t){const c=(i=ei._lastResetElement)===null||i===void 0?void 0:i.get();if(ei._lastResetElement=void 0,c===t||s9(t))return;a.isFocusedProgrammatically=r;const u=ar.getTabsterContext(this._tabster,t),d=(o=u==null?void 0:u.modalizer)===null||o===void 0?void 0:o.userId;d&&(a.modalizerId=d)}const s=this._nextVal={element:t?new wa(this._win,t):void 0,detail:a};t&&t!==this._val&&this._validateFocusedElement(t),this._nextVal===s&&this.setVal(t,a),this._nextVal=void 0}setVal(t,n){super.setVal(t,n),t&&(this._lastVal=new wa(this._win,t))}static findNextTabbable(t,n,r,i,o,a,s){const c=r||n.root.getElement();if(!c)return null;let u=null;const d=ei._isTabbingTimer,f=t.getWindow();d&&f.clearTimeout(d),ei.isTabbing=!0,ei._isTabbingTimer=f.setTimeout(()=>{delete ei._isTabbingTimer,ei.isTabbing=!1},0);const p=n.modalizer,m=n.groupper,g=n.mover,v=_=>{if(u=_.findNextTabbable(i,o,a,s),i&&!(u!=null&&u.element)){const y=_!==p&&ct.getParentElement(_.getElement());if(y){const S=ar.getTabsterContext(t,i,{referenceElement:y});if(S){const w=_.getElement(),C=a?w:w&&c9(w)||w;C&&(u=ei.findNextTabbable(t,S,r,C,y,a,s),u&&(u.outOfDOMOrder=!0))}}}};if(m&&g)v(n.groupperBeforeMover?m:g);else if(m)v(m);else if(g)v(g);else if(p)v(p);else{const _={container:c,currentElement:i,referenceElement:o,ignoreAccessibility:s,useActiveModalizer:!0},y={};u={element:t.focusable[a?"findPrev":"findNext"](_,y),outOfDOMOrder:y.outOfDOMOrder,uncontrolled:y.uncontrolled}}return u}}ei.isTabbing=!1;/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class hne extends Xh{constructor(t,n,r,i){super(r,t,Hx.Groupper,i,!0),this._setHandlers((o,a,s)=>{var c,u;const d=t.get(),f=o.input;if(d&&f){const p=ar.getTabsterContext(r,f);if(p){let m;m=(c=n.findNextTabbable(s||void 0,void 0,a,!0))===null||c===void 0?void 0:c.element,m||(m=(u=ei.findNextTabbable(r,p,void 0,o.isOutside?f:one(d,!a),void 0,a,!0))===null||u===void 0?void 0:u.element),m&&bl(m)}}})}}class pne extends uv{constructor(t,n,r,i,o){super(t,n,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=r,t.controlTab||(this.dummyManager=new hne(this._element,this,t,o))}dispose(){var t;this._onDispose(this),this._element.get(),(t=this.dummyManager)===null||t===void 0||t.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(t,n,r,i){const o=this.getElement();if(!o)return null;const a=Zh(t)===o;if(!this._shouldTabInside&&t&&ct.nodeContains(o,t)&&!a)return{element:void 0,outOfDOMOrder:!0};const s=this.getFirst(!0);if(!t||!ct.nodeContains(o,t)||a)return{element:s,outOfDOMOrder:!0};const c=this._tabster;let u=null,d=!1,f;if(this._shouldTabInside&&s){const p={container:o,currentElement:t,referenceElement:n,ignoreAccessibility:i,useActiveModalizer:!0},m={};u=c.focusable[r?"findPrev":"findNext"](p,m),d=!!m.outOfDOMOrder,!u&&this._props.tabbability===Fy.LimitedTrapFocus&&(u=c.focusable[r?"findLast":"findFirst"]({container:o,ignoreAccessibility:i,useActiveModalizer:!0},m),d=!0),f=m.uncontrolled}return{element:u,uncontrolled:f,outOfDOMOrder:d}}makeTabbable(t){this._shouldTabInside=t||!this._props.tabbability}isActive(t){var n;const r=this.getElement()||null;let i=!0;for(let a=ct.getParentElement(r);a;a=ct.getParentElement(a)){const s=(n=Qi(this._tabster,a))===null||n===void 0?void 0:n.groupper;s&&(s._shouldTabInside||(i=!1))}let o=i?this._props.tabbability?this._shouldTabInside:!1:void 0;if(o&&t){const a=this._tabster.focusedElement.getFocusedElement();a&&(o=a!==this.getFirst(!0))}return o}getFirst(t){var n;const r=this.getElement();let i;if(r){if(t&&this._tabster.focusable.isFocusable(r))return r;i=(n=this._first)===null||n===void 0?void 0:n.get(),i||(i=this._tabster.focusable.findFirst({container:r,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(t){t?this._first=new wa(this._tabster.getWindow,t):delete this._first}acceptElement(t,n){const r=n.cachedGrouppers,i=ct.getParentElement(this.getElement()),o=i&&ar.getTabsterContext(this._tabster,i),a=o==null?void 0:o.groupper,s=o!=null&&o.groupperBeforeMover?a:void 0;let c;const u=p=>{let m=r[p.id],g;return m?g=m.isActive:(g=this.isActive(!0),m=r[p.id]={isActive:g}),g};if(s&&(c=s.getElement(),!u(s)&&c&&n.container!==c&&ct.nodeContains(n.container,c)))return n.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const d=u(this),f=this.getElement();if(f&&d!==!0){if(f===t&&a&&(c||(c=a.getElement()),c&&!u(a)&&ct.nodeContains(n.container,c)&&c!==n.container)||f!==t&&ct.nodeContains(f,t))return n.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const p=r[this.id];let m;if("first"in p?m=p.first:m=p.first=this.getFirst(!0),m&&n.acceptCondition(m))return n.rejectElementsFrom=f,n.skippedFocusable=!0,m!==n.from?(n.found=!0,n.foundElement=m,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class mne{constructor(t,n){this._current={},this._grouppers={},this._init=()=>{const r=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus);const i=r.document,o=ct.getActiveElement(i);o&&this._onFocus(o),i.addEventListener("mousedown",this._onMouseDown,!0),r.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener(Fj,this._onMoveFocus)},this._onGroupperDispose=r=>{delete this._grouppers[r.id]},this._onFocus=r=>{r&&this._updateCurrent(r)},this._onMouseDown=r=>{let i=r.target;for(;i&&!this._tabster.focusable.isFocusable(i);)i=this._tabster.getParent(i);i&&this._updateCurrent(i)},this._onKeyDown=r=>{if(r.key!==Qr.Enter&&r.key!==Qr.Escape||r.ctrlKey||r.altKey||r.shiftKey||r.metaKey)return;const i=this._tabster.focusedElement.getFocusedElement();i&&this.handleKeyPress(i,r)},this._onMoveFocus=r=>{var i;const o=r.composedPath()[0],a=(i=r.detail)===null||i===void 0?void 0:i.action;o&&a!==void 0&&!r.defaultPrevented&&(a===Lj.Enter?this._enterGroupper(o):this._escapeGroupper(o),r.stopImmediatePropagation())},this._tabster=t,this._win=n,t.queueInit(this._init)}dispose(){const t=this._win();this._tabster.focusedElement.cancelAsyncFocus(sc.EscapeGroupper),this._current={},this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),t.document.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener(Fj,this._onMoveFocus),Object.keys(this._grouppers).forEach(n=>{this._grouppers[n]&&(this._grouppers[n].dispose(),delete this._grouppers[n])})}createGroupper(t,n,r){const i=this._tabster,o=new pne(i,t,this._onGroupperDispose,n,r);this._grouppers[o.id]=o;const a=i.focusedElement.getFocusedElement();return a&&ct.nodeContains(t,a)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout(()=>{delete this._updateTimer,a===i.focusedElement.getFocusedElement()&&this._updateCurrent(a)},0)),o}forgetCurrentGrouppers(){this._current={}}_updateCurrent(t){var n;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const r=this._tabster,i={};for(let o=r.getParent(t);o;o=r.getParent(o)){const a=(n=Qi(r,o))===null||n===void 0?void 0:n.groupper;if(a){i[a.id]=!0,this._current[a.id]=a;const s=a.isActive()||t!==o&&(!a.getProps().delegated||a.getFirst(!1)!==t);a.makeTabbable(s)}}for(const o of Object.keys(this._current)){const a=this._current[o];a.id in i||(a.makeTabbable(!1),a.setFirst(void 0),delete this._current[o])}}_enterGroupper(t,n){const r=this._tabster,i=ar.getTabsterContext(r,t),o=(i==null?void 0:i.groupper)||(i==null?void 0:i.modalizerInGroupper),a=o==null?void 0:o.getElement();if(o&&a&&(t===a||o.getProps().delegated&&t===o.getFirst(!1))){const s=r.focusable.findNext({container:a,currentElement:t,useActiveModalizer:!0});if(s&&(!n||n&&a.dispatchEvent(new Tu({by:"groupper",owner:a,next:s,relatedEvent:n}))))return n&&(n.preventDefault(),n.stopImmediatePropagation()),s.focus(),s}return null}_escapeGroupper(t,n,r){const i=this._tabster,o=ar.getTabsterContext(i,t);let a=(o==null?void 0:o.groupper)||(o==null?void 0:o.modalizerInGroupper);const s=a==null?void 0:a.getElement();if(a&&s&&ct.nodeContains(s,t)){let c;if(t!==s||r)c=a.getFirst(!0);else{const u=ct.getParentElement(s),d=u?ar.getTabsterContext(i,u):void 0;a=d==null?void 0:d.groupper,c=a==null?void 0:a.getFirst(!0)}if(c&&(!n||n&&s.dispatchEvent(new Tu({by:"groupper",owner:s,next:c,relatedEvent:n}))))return a&&a.makeTabbable(!1),c.focus(),c}return null}moveFocus(t,n){return n===Lj.Enter?this._enterGroupper(t):this._escapeGroupper(t)}handleKeyPress(t,n,r){const i=this._tabster,o=ar.getTabsterContext(i,t);if(o&&(o!=null&&o.groupper||o!=null&&o.modalizerInGroupper)){if(i.focusedElement.cancelAsyncFocus(sc.EscapeGroupper),o.ignoreKeydown(n))return;if(n.key===Qr.Enter)this._enterGroupper(t,n);else if(n.key===Qr.Escape){const a=i.focusedElement.getFocusedElement();i.focusedElement.requestAsyncFocus(sc.EscapeGroupper,()=>{a!==i.focusedElement.getFocusedElement()&&(r&&!a||!r)||this._escapeGroupper(t,n,r)},0)}}}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class gne extends u9{constructor(t){super(),this._onChange=n=>{this.setVal(n,void 0)},this._keyborg=Ux(t()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),qx(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(t){var n;(n=this._keyborg)===null||n===void 0||n.setVal(t)}isNavigatingWithKeyboard(){var t;return!!(!((t=this._keyborg)===null||t===void 0)&&t.isNavigatingWithKeyboard())}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let vne=0;const lw="aria-hidden";class yne extends Xh{constructor(t,n,r){super(n,t,Hx.Modalizer,r),this._setHandlers((i,o)=>{var a,s;const c=t.get(),u=c&&((a=ar.getRoot(n,c))===null||a===void 0?void 0:a.getElement()),d=i.input;let f;if(u&&d){const p=Zh(d),m=ar.getTabsterContext(n,p||d);m&&(f=(s=ei.findNextTabbable(n,m,u,d,void 0,o,!0))===null||s===void 0?void 0:s.element),f&&bl(f)}})}}class bne extends uv{constructor(t,n,r,i,o,a){super(t,n,i),this._wasFocused=0,this.userId=i.id,this._onDispose=r,this._activeElements=a,t.controlTab||(this.dummyManager=new yne(this._element,t,o))}makeActive(t){if(this._isActive!==t){this._isActive=t;const n=this.getElement();if(n){const r=this._activeElements,i=r.map(o=>o.get()).indexOf(n);t?i<0&&r.push(new wa(this._tabster.getWindow,n)):i>=0&&r.splice(i,1)}this._dispatchEvent(t)}}focused(t){return t||(this._wasFocused=++vne),this._wasFocused}setProps(t){t.id&&(this.userId=t.id),this._props={...t}}dispose(){var t;this.makeActive(!1),this._onDispose(this),(t=this.dummyManager)===null||t===void 0||t.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(t){return ct.nodeContains(this.getElement(),t)}findNextTabbable(t,n,r,i){var o,a;if(!this.getElement())return null;const c=this._tabster;let u=null,d=!1,f;const p=t&&((o=ar.getRoot(c,t))===null||o===void 0?void 0:o.getElement());if(p){const m={container:p,currentElement:t,referenceElement:n,ignoreAccessibility:i,useActiveModalizer:!0},g={};u=c.focusable[r?"findPrev":"findNext"](m,g),!u&&this._props.isTrapped&&(!((a=c.modalizer)===null||a===void 0)&&a.activeId)?(u=c.focusable[r?"findLast":"findFirst"]({container:p,ignoreAccessibility:i,useActiveModalizer:!0},g),u===null&&(u=t),d=!0):d=!!g.outOfDOMOrder,f=g.uncontrolled}return{element:u,uncontrolled:f,outOfDOMOrder:d}}_dispatchEvent(t,n){const r=this.getElement();let i=!1;if(r){const o=n?this._activeElements.map(a=>a.get()):[r];for(const a of o)if(a){const s={id:this.userId,element:r},c=t?new xte(s):new _te(s);a.dispatchEvent(c),c.defaultPrevented&&(i=!0)}}return i}_remove(){}}class xne{constructor(t,n,r){this._onModalizerDispose=o=>{const a=o.id,s=o.userId,c=this._parts[s];if(delete this._modalizers[a],c&&(delete c[a],Object.keys(c).length===0)){delete this._parts[s];const u=this._activationHistory,d=[];let f;for(let p=u.length;p--;){const m=u[p];m!==s&&m!==f&&(f=m,(m||d.length>0)&&d.unshift(m))}if(this._activationHistory=d,this.activeId===s){const p=d[0],m=p?Object.values(this._parts[p])[0]:void 0;this.setActive(m)}}},this._onKeyDown=o=>{var a;if(o.key!==Qr.Escape)return;const s=this._tabster,c=s.focusedElement.getFocusedElement();if(c){const u=ar.getTabsterContext(s,c),d=u==null?void 0:u.modalizer;if(u&&!u.groupper&&(d!=null&&d.isActive())&&!u.ignoreKeydown(o)){const f=d.userId;if(f){const p=this._parts[f];if(p){const m=Object.keys(p).map(g=>{var v;const _=p[g],y=_.getElement();let S;return y&&(S=(v=Qi(s,y))===null||v===void 0?void 0:v.groupper),_&&y&&S?{el:y,focusedSince:_.focused(!0)}:{focusedSince:0}}).filter(g=>g.focusedSince>0).sort((g,v)=>g.focusedSince>v.focusedSince?-1:g.focusedSince<v.focusedSince?1:0);if(m.length){const g=m[0].el;g&&((a=s.groupper)===null||a===void 0||a.handleKeyPress(g,o,!0))}}}}}},this._onFocus=(o,a)=>{var s;const c=this._tabster,u=o&&ar.getTabsterContext(c,o);if(!u||!o)return;const d=this._augMap;for(let g=o;g;g=ct.getParentElement(g))d.has(g)&&(d.delete(g),sw(c,g,lw));let f=u.modalizer;const p=Qi(c,o),m=p==null?void 0:p.modalizer;if(m&&(m.focused(),m.userId===this.activeId&&p.groupper)){const g=c.getParent(o),v=g&&((s=ar.getTabsterContext(c,g))===null||s===void 0?void 0:s.modalizer);if(v)f=v;else{this.setActive(void 0);return}}if(f==null||f.focused(),(f==null?void 0:f.userId)===this.activeId){this.currentIsOthersAccessible=f==null?void 0:f.getProps().isOthersAccessible;return}if(a.isFocusedProgrammatically||this.currentIsOthersAccessible||f!=null&&f.getProps().isAlwaysAccessible)this.setActive(f);else{const g=this._win();g.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=g.setTimeout(()=>this._restoreModalizerFocus(o),100)}},this._tabster=t,this._win=t.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=n,this._accessibleCheck=r,this._activationHistory=[],this.activeElements=[],t.controlTab||t.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),t.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)})}dispose(){const t=this._win();t.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach(n=>{this._modalizers[n]&&(this._modalizers[n].dispose(),delete this._modalizers[n])}),t.clearTimeout(this._restoreModalizerFocusTimer),t.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(t,n,r){var i;const o=new bne(this._tabster,t,this._onModalizerDispose,n,r,this.activeElements),a=o.id,s=n.id;this._modalizers[a]=o;let c=this._parts[s];c||(c=this._parts[s]={}),c[a]=o;const u=(i=this._tabster.focusedElement.getFocusedElement())!==null&&i!==void 0?i:null;return t!==u&&ct.nodeContains(t,u)&&(s!==this.activeId?this.setActive(o):o.makeActive(!0)),o}isAugmented(t){return this._augMap.has(t)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout(()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()},250))}setActive(t){const n=t==null?void 0:t.userId,r=this.activeId;if(r===n)return;if(this.activeId=n,r){const o=this._parts[r];if(o)for(const a of Object.keys(o))o[a].makeActive(!1)}if(n){const o=this._parts[n];if(o)for(const a of Object.keys(o))o[a].makeActive(!0)}this.currentIsOthersAccessible=t==null?void 0:t.getProps().isOthersAccessible,this.hiddenUpdate();const i=this._activationHistory;i[0]!==n&&(n!==void 0||i.length>0)&&i.unshift(n)}focus(t,n,r){const i=this._tabster,o=ar.getTabsterContext(i,t),a=o==null?void 0:o.modalizer;if(a){this.setActive(a);const s=a.getProps(),c=a.getElement();if(c){if(n===void 0&&(n=s.isNoFocusFirst),!n&&i.keyboardNavigation.isNavigatingWithKeyboard()&&i.focusedElement.focusFirst({container:c})||(r===void 0&&(r=s.isNoFocusDefault),!r&&i.focusedElement.focusDefault(c)))return!0;i.focusedElement.resetFocus(c)}}return!1}activate(t){var n;const r=t?(n=ar.getTabsterContext(this._tabster,t))===null||n===void 0?void 0:n.modalizer:void 0;return!t||r?(this.setActive(r),!0):!1}acceptElement(t,n){var r;const i=n.modalizerUserId,o=(r=n.currentCtx)===null||r===void 0?void 0:r.modalizer;if(i)for(const s of this.activeElements){const c=s.get();if(c&&(ct.nodeContains(t,c)||c===t))return NodeFilter.FILTER_SKIP}const a=i===(o==null?void 0:o.userId)||!i&&(o!=null&&o.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP;return a!==void 0&&(n.skippedFocusable=!0),a}_hiddenUpdate(){var t;const n=this._tabster,r=n.getWindow().document.body,i=this.activeId,o=this._parts,a=[],s=[],c=this._alwaysAccessibleSelector,u=c?Array.from(ct.querySelectorAll(r,c)):[],d=[];for(const y of Object.keys(o)){const S=o[y];for(const w of Object.keys(S)){const C=S[w],M=C.getElement(),E=C.getProps().isAlwaysAccessible;M&&(y===i?(d.push(M),this.currentIsOthersAccessible||a.push(M)):E?u.push(M):s.push(M))}}const f=this._augMap,p=a.length>0?[...a,...u]:void 0,m=[],g=new WeakMap,v=(y,S)=>{var w;const C=y.tagName;if(C==="SCRIPT"||C==="STYLE")return;let M=!1;f.has(y)?S?M=!0:(f.delete(y),sw(n,y,lw)):S&&!(!((w=this._accessibleCheck)===null||w===void 0)&&w.call(this,y,d))&&sw(n,y,lw,"true")&&(f.set(y,!0),M=!0),M&&(m.push(new wa(n.getWindow,y)),g.set(y,!0))},_=y=>{var S;for(let w=ct.getFirstElementChild(y);w;w=ct.getNextElementSibling(w)){let C=!1,M=!1,A=!1;if(p){const E=n.getParent(w);for(const I of p){if(w===I){C=!0;break}if(ct.nodeContains(w,I)){M=!0;break}else ct.nodeContains(I,E)&&(A=!0)}M||!((S=w.__tabsterElementFlags)===null||S===void 0)&&S.noDirectAriaHidden?_(w):!C&&!A&&v(w,!0)}else v(w,!1)}};p||u.forEach(y=>v(y,!1)),s.forEach(y=>v(y,!0)),r&&_(r),(t=this._aug)===null||t===void 0||t.map(y=>y.get()).forEach(y=>{y&&!g.get(y)&&v(y,!1)}),this._aug=m,this._augMap=g}_restoreModalizerFocus(t){var n;const r=t==null?void 0:t.ownerDocument;if(!t||!r)return;const i=this._tabster.focusedElement.getFocusedElement(),o=i&&((n=ar.getTabsterContext(this._tabster,i))===null||n===void 0?void 0:n.modalizer);if(!i||i&&(o==null?void 0:o.userId)===this.activeId)return;const a=this._tabster,s=ar.getTabsterContext(a,t),c=s==null?void 0:s.modalizer,u=this.activeId;if(!c&&!u||c&&u===c.userId)return;const d=s==null?void 0:s.root.getElement();if(d){let f=a.focusable.findFirst({container:d,useActiveModalizer:!0});if(f){if(t.compareDocumentPosition(f)&document.DOCUMENT_POSITION_PRECEDING&&(f=a.focusable.findLast({container:d,useActiveModalizer:!0}),!f))throw new Error("Something went wrong.");a.focusedElement.focus(f);return}}t.blur()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const _ne=["input","textarea","*[contenteditable]"].join(", ");class wne extends Xh{constructor(t,n,r,i){super(n,t,Hx.Mover,i),this._onFocusDummyInput=o=>{var a,s;const c=this._element.get(),u=o.input;if(c&&u){const d=ar.getTabsterContext(this._tabster,c);let f;d&&(f=(a=ei.findNextTabbable(this._tabster,d,void 0,u,void 0,!o.isFirst,!0))===null||a===void 0?void 0:a.element);const p=(s=this._getMemorized())===null||s===void 0?void 0:s.get();p&&this._tabster.focusable.isFocusable(p)&&(f=p),f&&bl(f)}},this._tabster=n,this._getMemorized=r,this._setHandlers(this._onFocusDummyInput)}}const cw=1,Xj=2,Zj=3;class Sne extends uv{constructor(t,n,r,i,o){var a;super(t,n,i),this._visible={},this._onIntersection=c=>{for(const u of c){const d=u.target,f=Uy(this._win,d);let p,m=this._fullyVisible;if(u.intersectionRatio>=.25?(p=u.intersectionRatio>=.75?Vc.Visible:Vc.PartiallyVisible,p===Vc.Visible&&(m=f)):p=Vc.Invisible,this._visible[f]!==p){p===void 0?(delete this._visible[f],m===f&&delete this._fullyVisible):(this._visible[f]=p,this._fullyVisible=m);const g=this.getState(d);g&&d.dispatchEvent(new Uj(g))}}},this._win=t.getWindow,this.visibilityTolerance=(a=i.visibilityTolerance)!==null&&a!==void 0?a:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=r;const s=()=>i.memorizeCurrent?this._current:void 0;t.controlTab||(this.dummyManager=new wne(this._element,t,s,o))}dispose(){var t;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const n=this._win();this._setCurrentTimer&&(n.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(n.clearTimeout(this._updateTimer),delete this._updateTimer),(t=this.dummyManager)===null||t===void 0||t.dispose(),delete this.dummyManager}setCurrent(t){t?this._current=new wa(this._win,t):this._current=void 0,(this._props.trackState||this._props.visibilityAware)&&!this._setCurrentTimer&&(this._setCurrentTimer=this._win().setTimeout(()=>{var n;delete this._setCurrentTimer;const r=[];this._current!==this._prevCurrent&&(r.push(this._current),r.push(this._prevCurrent),this._prevCurrent=this._current);for(const i of r){const o=i==null?void 0:i.get();if(o&&((n=this._allElements)===null||n===void 0?void 0:n.get(o))===this){const a=this._props;if(o&&(a.visibilityAware!==void 0||a.trackState)){const s=this.getState(o);s&&o.dispatchEvent(new Uj(s))}}}}))}getCurrent(){var t;return((t=this._current)===null||t===void 0?void 0:t.get())||null}findNextTabbable(t,n,r,i){const o=this.getElement(),a=o&&Zh(t)===o;if(!o)return null;let s=null,c=!1,u;if(this._props.tabbable||a||t&&!ct.nodeContains(o,t)){const d={currentElement:t,referenceElement:n,container:o,ignoreAccessibility:i,useActiveModalizer:!0},f={};s=this._tabster.focusable[r?"findPrev":"findNext"](d,f),c=!!f.outOfDOMOrder,u=f.uncontrolled}return{element:s,uncontrolled:u,outOfDOMOrder:c}}acceptElement(t,n){var r,i;if(!ei.isTabbing)return!((r=n.currentCtx)===null||r===void 0)&&r.excludedFromMover?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:o,visibilityAware:a,hasDefault:s=!0}=this._props,c=this.getElement();if(c&&(o||a||s)&&(!ct.nodeContains(c,n.from)||Zh(n.from)===c)){let u;if(o){const d=(i=this._current)===null||i===void 0?void 0:i.get();d&&n.acceptCondition(d)&&(u=d)}if(!u&&s&&(u=this._tabster.focusable.findDefault({container:c,useActiveModalizer:!0})),!u&&a&&(u=this._tabster.focusable.findElement({container:c,useActiveModalizer:!0,isBackward:n.isBackward,acceptCondition:d=>{var f;const p=Uy(this._win,d),m=this._visible[p];return c!==d&&!!(!((f=this._allElements)===null||f===void 0)&&f.get(d))&&n.acceptCondition(d)&&(m===Vc.Visible||m===Vc.PartiallyVisible&&(a===Vc.PartiallyVisible||!this._fullyVisible))}})),u)return n.found=!0,n.foundElement=u,n.rejectElementsFrom=c,n.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const t=this.getElement();if(this._unobserve||!t||typeof MutationObserver>"u")return;const n=this._win(),r=this._allElements=new WeakMap,i=this._tabster.focusable;let o=this._updateQueue=[];const a=ct.createMutationObserver(m=>{for(const g of m){const v=g.target,_=g.removedNodes,y=g.addedNodes;if(g.type==="attributes")g.attributeName==="tabindex"&&o.push({element:v,type:Xj});else{for(let S=0;S<_.length;S++)o.push({element:_[S],type:Zj});for(let S=0;S<y.length;S++)o.push({element:y[S],type:cw})}}f()}),s=(m,g)=>{var v,_;const y=r.get(m);y&&g&&((v=this._intersectionObserver)===null||v===void 0||v.unobserve(m),r.delete(m)),!y&&!g&&(r.set(m,this),(_=this._intersectionObserver)===null||_===void 0||_.observe(m))},c=m=>{const g=i.isFocusable(m);r.get(m)?g||s(m,!0):g&&s(m)},u=m=>{const{mover:g}=p(m);if(g&&g!==this)if(g.getElement()===m&&i.isFocusable(m))s(m);else return;const v=AN(n.document,m,_=>{const{mover:y,groupper:S}=p(_);if(y&&y!==this)return NodeFilter.FILTER_REJECT;const w=S==null?void 0:S.getFirst(!0);return S&&S.getElement()!==_&&w&&w!==_?NodeFilter.FILTER_REJECT:(i.isFocusable(_)&&s(_),NodeFilter.FILTER_SKIP)});if(v)for(v.currentNode=m;v.nextNode(););},d=m=>{r.get(m)&&s(m,!0);for(let v=ct.getFirstElementChild(m);v;v=ct.getNextElementSibling(v))d(v)},f=()=>{!this._updateTimer&&o.length&&(this._updateTimer=n.setTimeout(()=>{delete this._updateTimer;for(const{element:m,type:g}of o)switch(g){case Xj:c(m);break;case cw:u(m);break;case Zj:d(m);break}o=this._updateQueue=[]},0))},p=m=>{const g={};for(let v=m;v;v=ct.getParentElement(v)){const _=Qi(this._tabster,v);if(_&&(_.groupper&&!g.groupper&&(g.groupper=_.groupper),_.mover)){g.mover=_.mover;break}}return g};o.push({element:t,type:cw}),f(),a.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{a.disconnect()}}getState(t){const n=Uy(this._win,t);if(n in this._visible){const r=this._visible[n]||Vc.Invisible;return{isCurrent:this._current?this._current.get()===t:void 0,visibility:r}}}}function Cne(e,t,n,r,i,o,a,s){const c=n<i?i-n:a<e?e-a:0,u=r<o?o-r:s<t?t-s:0;return c===0?u:u===0?c:Math.sqrt(c*c+u*u)}class Tne{constructor(t,n){this._init=()=>{const r=this._win();r.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener(Dj,this._onMoveFocus),r.addEventListener(Oj,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=r=>{delete this._movers[r.id]},this._onFocus=r=>{var i;let o=r,a=r;for(let s=ct.getParentElement(r);s;s=ct.getParentElement(s)){const c=(i=Qi(this._tabster,s))===null||i===void 0?void 0:i.mover;c&&(c.setCurrent(a),o=void 0),!o&&this._tabster.focusable.isFocusable(s)&&(o=a=s)}},this._onKeyDown=async r=>{var i;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),(i=this._ignoredInputResolve)===null||i===void 0||i.call(this,!1),r.ctrlKey||r.altKey||r.shiftKey||r.metaKey)return;const o=r.key;let a;if(o===Qr.ArrowDown?a=ai.ArrowDown:o===Qr.ArrowRight?a=ai.ArrowRight:o===Qr.ArrowUp?a=ai.ArrowUp:o===Qr.ArrowLeft?a=ai.ArrowLeft:o===Qr.PageDown?a=ai.PageDown:o===Qr.PageUp?a=ai.PageUp:o===Qr.Home?a=ai.Home:o===Qr.End&&(a=ai.End),!a)return;const s=this._tabster.focusedElement.getFocusedElement();!s||await this._isIgnoredInput(s,o)||this._moveFocus(s,a,r)},this._onMoveFocus=r=>{var i;const o=r.composedPath()[0],a=(i=r.detail)===null||i===void 0?void 0:i.key;o&&a!==void 0&&!r.defaultPrevented&&(this._moveFocus(o,a),r.stopImmediatePropagation())},this._onMemorizedElement=r=>{var i;const o=r.composedPath()[0];let a=(i=r.detail)===null||i===void 0?void 0:i.memorizedElement;if(o){const s=ar.getTabsterContext(this._tabster,o),c=s==null?void 0:s.mover;c&&(a&&!ct.nodeContains(c.getElement(),a)&&(a=void 0),c.setCurrent(a),r.stopImmediatePropagation())}},this._tabster=t,this._win=n,this._movers={},t.queueInit(this._init)}dispose(){var t;const n=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),(t=this._ignoredInputResolve)===null||t===void 0||t.call(this,!1),this._ignoredInputTimer&&(n.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),n.removeEventListener("keydown",this._onKeyDown,!0),n.removeEventListener(Dj,this._onMoveFocus),n.removeEventListener(Oj,this._onMemorizedElement),Object.keys(this._movers).forEach(r=>{this._movers[r]&&(this._movers[r].dispose(),delete this._movers[r])})}createMover(t,n,r){const i=new Sne(this._tabster,t,this._onMoverDispose,n,r);return this._movers[i.id]=i,i}moveFocus(t,n){return this._moveFocus(t,n)}_moveFocus(t,n,r){var i,o;const a=this._tabster,s=ar.getTabsterContext(a,t,{checkRtl:!0});if(!s||!s.mover||s.excludedFromMover||r&&s.ignoreKeydown(r))return null;const c=s.mover,u=c.getElement();if(s.groupperBeforeMover){const I=s.groupper;if(I&&!I.isActive(!0)){for(let N=ct.getParentElement(I.getElement());N&&N!==u;N=ct.getParentElement(N))if(!((o=(i=Qi(a,N))===null||i===void 0?void 0:i.groupper)===null||o===void 0)&&o.isActive(!0))return null}else return null}if(!u)return null;const d=a.focusable,f=c.getProps(),p=f.direction||Ts.Both,m=p===Ts.Both,g=m||p===Ts.Vertical,v=m||p===Ts.Horizontal,_=p===Ts.GridLinear,y=_||p===Ts.Grid,S=f.cyclic;let w,C,M,A=0,E=0;if(y&&(M=t.getBoundingClientRect(),A=Math.ceil(M.left),E=Math.floor(M.right)),s.rtl&&(n===ai.ArrowRight?n=ai.ArrowLeft:n===ai.ArrowLeft&&(n=ai.ArrowRight)),n===ai.ArrowDown&&g||n===ai.ArrowRight&&(v||y))if(w=d.findNext({currentElement:t,container:u,useActiveModalizer:!0}),w&&y){const I=Math.ceil(w.getBoundingClientRect().left);!_&&E>I&&(w=void 0)}else!w&&S&&(w=d.findFirst({container:u,useActiveModalizer:!0}));else if(n===ai.ArrowUp&&g||n===ai.ArrowLeft&&(v||y))if(w=d.findPrev({currentElement:t,container:u,useActiveModalizer:!0}),w&&y){const I=Math.floor(w.getBoundingClientRect().right);!_&&I>A&&(w=void 0)}else!w&&S&&(w=d.findLast({container:u,useActiveModalizer:!0}));else if(n===ai.Home)y?d.findElement({container:u,currentElement:t,useActiveModalizer:!0,isBackward:!0,acceptCondition:I=>{var N;if(!d.isFocusable(I))return!1;const P=Math.ceil((N=I.getBoundingClientRect().left)!==null&&N!==void 0?N:0);return I!==t&&A<=P?!0:(w=I,!1)}}):w=d.findFirst({container:u,useActiveModalizer:!0});else if(n===ai.End)y?d.findElement({container:u,currentElement:t,useActiveModalizer:!0,acceptCondition:I=>{var N;if(!d.isFocusable(I))return!1;const P=Math.ceil((N=I.getBoundingClientRect().left)!==null&&N!==void 0?N:0);return I!==t&&A>=P?!0:(w=I,!1)}}):w=d.findLast({container:u,useActiveModalizer:!0});else if(n===ai.PageUp){if(d.findElement({currentElement:t,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:I=>d.isFocusable(I)?Vj(this._win,I,c.visibilityTolerance)?(w=I,!1):!0:!1}),y&&w){const I=Math.ceil(w.getBoundingClientRect().left);d.findElement({currentElement:w,container:u,useActiveModalizer:!0,acceptCondition:N=>{if(!d.isFocusable(N))return!1;const P=Math.ceil(N.getBoundingClientRect().left);return A<P||I>=P?!0:(w=N,!1)}})}C=!1}else if(n===ai.PageDown){if(d.findElement({currentElement:t,container:u,useActiveModalizer:!0,acceptCondition:I=>d.isFocusable(I)?Vj(this._win,I,c.visibilityTolerance)?(w=I,!1):!0:!1}),y&&w){const I=Math.ceil(w.getBoundingClientRect().left);d.findElement({currentElement:w,container:u,useActiveModalizer:!0,isBackward:!0,acceptCondition:N=>{if(!d.isFocusable(N))return!1;const P=Math.ceil(N.getBoundingClientRect().left);return A>P||I<=P?!0:(w=N,!1)}})}C=!0}else if(y){const I=n===ai.ArrowUp,N=A,P=Math.ceil(M.top),D=E,q=Math.floor(M.bottom);let $,j,O=0;d.findAll({container:u,currentElement:t,isBackward:I,onElement:z=>{const W=z.getBoundingClientRect(),F=Math.ceil(W.left),V=Math.ceil(W.top),H=Math.floor(W.right),te=Math.floor(W.bottom);if(I&&P<te||!I&&q>V)return!0;const Z=Math.ceil(Math.min(D,H))-Math.floor(Math.max(N,F)),Q=Math.ceil(Math.min(D-N,H-F));if(Z>0&&Q>=Z){const re=Z/Q;re>O&&($=z,O=re)}else if(O===0){const re=Cne(N,P,D,q,F,V,H,te);(j===void 0||re<j)&&(j=re,$=z)}else if(O>0)return!1;return!0}}),w=$}return w&&(!r||r&&u.dispatchEvent(new Tu({by:"mover",owner:u,next:w,relatedEvent:r})))?(C!==void 0&&Yte(this._win,w,C),r&&(r.preventDefault(),r.stopImmediatePropagation()),bl(w),w):null}async _isIgnoredInput(t,n){if(t.getAttribute("aria-expanded")==="true"&&(t.hasAttribute("aria-activedescendant")||t.getAttribute("role")==="combobox"))return!0;if(l9(t,_ne)){let r=0,i=0,o=0,a;if(t.tagName==="INPUT"||t.tagName==="TEXTAREA"){const s=t.type;if(o=(t.value||"").length,s==="email"||s==="number"){if(o){const u=ct.getSelection(t);if(u){const d=u.toString().length,f=n===Qr.ArrowLeft||n===Qr.ArrowUp;if(u.modify("extend",f?"backward":"forward","character"),d!==u.toString().length)return u.modify("extend",f?"forward":"backward","character"),!0;o=0}}}else{const u=t.selectionStart;if(u===null)return s==="hidden";r=u||0,i=t.selectionEnd||0}}else t.contentEditable==="true"&&(a=new(ene(this._win))(s=>{this._ignoredInputResolve=m=>{delete this._ignoredInputResolve,s(m)};const c=this._win();this._ignoredInputTimer&&c.clearTimeout(this._ignoredInputTimer);const{anchorNode:u,focusNode:d,anchorOffset:f,focusOffset:p}=ct.getSelection(t)||{};this._ignoredInputTimer=c.setTimeout(()=>{var m,g,v;delete this._ignoredInputTimer;const{anchorNode:_,focusNode:y,anchorOffset:S,focusOffset:w}=ct.getSelection(t)||{};if(_!==u||y!==d||S!==f||w!==p){(m=this._ignoredInputResolve)===null||m===void 0||m.call(this,!1);return}if(r=S||0,i=w||0,o=((g=t.textContent)===null||g===void 0?void 0:g.length)||0,_&&y&&ct.nodeContains(t,_)&&ct.nodeContains(t,y)&&_!==t){let C=!1;const M=A=>{if(A===_)C=!0;else if(A===y)return!0;const E=A.textContent;if(E&&!ct.getFirstChild(A)){const N=E.length;C?y!==_&&(i+=N):(r+=N,i+=N)}let I=!1;for(let N=ct.getFirstChild(A);N&&!I;N=N.nextSibling)I=M(N);return I};M(t)}(v=this._ignoredInputResolve)===null||v===void 0||v.call(this,!0)},0)}));if(a&&!await a||r!==i||r>0&&(n===Qr.ArrowLeft||n===Qr.ArrowUp||n===Qr.Home)||r<o&&(n===Qr.ArrowRight||n===Qr.ArrowDown||n===Qr.End))return!0}return!1}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function kne(e,t,n,r){if(typeof MutationObserver>"u")return()=>{};const i=t.getWindow;let o;const a=d=>{var f,p,m,g,v;const _=new Set;for(const y of d){const S=y.target,w=y.removedNodes,C=y.addedNodes;if(y.type==="attributes")y.attributeName===ac&&(_.has(S)||n(t,S));else{for(let M=0;M<w.length;M++){const A=w[M];_.add(A),s(A,!0),(p=(f=t._dummyObserver).domChanged)===null||p===void 0||p.call(f,S)}for(let M=0;M<C.length;M++)s(C[M]),(g=(m=t._dummyObserver).domChanged)===null||g===void 0||g.call(m,S)}}_.clear(),(v=t.modalizer)===null||v===void 0||v.hiddenUpdate()};function s(d,f){o||(o=Tc(i).elementByUId),c(d,f);const p=AN(e,d,m=>c(m,f));if(p)for(;p.nextNode(););}function c(d,f){var p;if(!d.getAttribute)return NodeFilter.FILTER_SKIP;const m=d.__tabsterElementUID;return m&&o&&(f?delete o[m]:(p=o[m])!==null&&p!==void 0||(o[m]=new wa(i,d))),(Qi(t,d)||d.hasAttribute(ac))&&n(t,d,f),NodeFilter.FILTER_SKIP}const u=ct.createMutationObserver(a);return r&&s(i().document.body),u.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[ac]}),()=>{u.disconnect()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Ene{constructor(t){this._isUncontrolledCompletely=t}isUncontrolledCompletely(t,n){var r;const i=(r=this._isUncontrolledCompletely)===null||r===void 0?void 0:r.call(this,t,n);return i===void 0?n:i}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Mne extends uv{constructor(t,n,r){var i;if(super(t,n,r),this._hasFocus=!1,this._onFocusOut=o=>{var a;const s=(a=this._element)===null||a===void 0?void 0:a.get();s&&o.relatedTarget===null&&s.dispatchEvent(new qj),s&&!ct.nodeContains(s,o.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===Ru.Source){const o=(i=this._element)===null||i===void 0?void 0:i.get();o==null||o.addEventListener("focusout",this._onFocusOut),o==null||o.addEventListener("focusin",this._onFocusIn),this._hasFocus=ct.nodeContains(o,o&&ct.getActiveElement(o.ownerDocument))}}dispose(){var t;if(this._props.type===Ru.Source){const n=(t=this._element)===null||t===void 0?void 0:t.get();n==null||n.removeEventListener("focusout",this._onFocusOut),n==null||n.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&this._tabster.getWindow().document.body.dispatchEvent(new qj)}}}class Wx{constructor(t){this._stack=[],this._getWindow=t}push(t){var n;((n=this._stack[this._stack.length-1])===null||n===void 0?void 0:n.get())!==t&&(this._stack.length>Wx.DEPTH&&this._stack.shift(),this._stack.push(new wa(this._getWindow,t)))}pop(t=()=>!0){var n;const r=this._getWindow().document;for(let i=this._stack.length-1;i>=0;i--){const o=(n=this._stack.pop())===null||n===void 0?void 0:n.get();if(o&&ct.nodeContains(r.body,ct.getParentElement(o))&&t(o))return o}}}Wx.DEPTH=10;class Ane{constructor(t){this._onRestoreFocus=n=>{var r,i;this._focusedElementState.cancelAsyncFocus(sc.Restorer);const o=n.composedPath()[0];if(o){const a=(i=(r=Qi(this._tabster,o))===null||r===void 0?void 0:r.restorer)===null||i===void 0?void 0:i.getProps().id;this._focusedElementState.requestAsyncFocus(sc.Restorer,()=>this._restoreFocus(o,a),0)}},this._onFocusIn=n=>{var r;if(!n)return;const i=Qi(this._tabster,n);((r=i==null?void 0:i.restorer)===null||r===void 0?void 0:r.getProps().type)===Ru.Target&&this._history.push(n)},this._restoreFocus=(n,r)=>{var i;const o=this._getWindow().document;if(ct.getActiveElement(o)!==o.body||!this._keyboardNavState.isNavigatingWithKeyboard()&&ct.nodeContains(o.body,n))return;const a=s=>{var c,u;const d=(u=(c=Qi(this._tabster,s))===null||c===void 0?void 0:c.restorer)===null||u===void 0?void 0:u.getProps();return d?d.id:null};(i=this._history.pop(s=>r===a(s)))===null||i===void 0||i.focus()},this._tabster=t,this._getWindow=t.getWindow,this._getWindow().addEventListener(vM,this._onRestoreFocus),this._history=new Wx(this._getWindow),this._keyboardNavState=t.keyboardNavigation,this._focusedElementState=t.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const t=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),this._focusedElementState.cancelAsyncFocus(sc.Restorer),t.removeEventListener(vM,this._onRestoreFocus)}createRestorer(t,n){const r=new Mne(this._tabster,t,n);return n.type===Ru.Target&&ct.getActiveElement(t.ownerDocument)===t&&this._history.push(t),r}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class Nne{constructor(t){this.keyboardNavigation=t.keyboardNavigation,this.focusedElement=t.focusedElement,this.focusable=t.focusable,this.root=t.root,this.uncontrolled=t.uncontrolled,this.core=t}}class Pne{constructor(t,n){var r,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.7.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=Xte(t),this._win=t;const o=this.getWindow;n!=null&&n.DOMAPI&&Wte({...n.DOMAPI}),this.keyboardNavigation=new gne(o),this.focusedElement=new ei(this,o),this.focusable=new dne(this),this.root=new ar(this,n==null?void 0:n.autoRoot),this.uncontrolled=new Ene((n==null?void 0:n.checkUncontrolledCompletely)||(n==null?void 0:n.checkUncontrolledTrappingFocus)),this.controlTab=(r=n==null?void 0:n.controlTab)!==null&&r!==void 0?r:!0,this.rootDummyInputs=!!(n!=null&&n.rootDummyInputs),this._dummyObserver=new rne(o),this.getParent=(i=n==null?void 0:n.getParent)!==null&&i!==void 0?i:ct.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:a=>{if(!this._unobserve){const s=o().document;this._unobserve=kne(s,this,t9,a)}}},i9(o),this.queueInit(()=>{this.internal.resumeObserver(!0)})}_mergeProps(t){var n;t&&(this.getParent=(n=t.getParent)!==null&&n!==void 0?n:this.getParent)}createTabster(t,n){const r=new Nne(this);return t||this._wrappers.add(r),this._mergeProps(n),r}disposeTabster(t,n){n?this._wrappers.clear():this._wrappers.delete(t),this._wrappers.size===0&&this.dispose()}dispose(){var t,n,r,i,o,a,s,c;this.internal.stopObserver();const u=this._win;u==null||u.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],u&&this._forgetMemorizedTimer&&(u.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),(t=this.outline)===null||t===void 0||t.dispose(),(n=this.crossOrigin)===null||n===void 0||n.dispose(),(r=this.deloser)===null||r===void 0||r.dispose(),(i=this.groupper)===null||i===void 0||i.dispose(),(o=this.mover)===null||o===void 0||o.dispose(),(a=this.modalizer)===null||a===void 0||a.dispose(),(s=this.observedElement)===null||s===void 0||s.dispose(),(c=this.restorer)===null||c===void 0||c.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),Kte(this.getWindow),Wj(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),u&&($te(u),delete u.__tabsterInstance,delete this._win)}storageEntry(t,n){const r=this._storage;let i=r.get(t);return i?n===!1&&Object.keys(i).length===0&&r.delete(t):n===!0&&(i={},r.set(t,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),!this._forgetMemorizedTimer&&(this._forgetMemorizedTimer=this._win.setTimeout(()=>{delete this._forgetMemorizedTimer;for(let t=this._forgetMemorizedElements.shift();t;t=this._forgetMemorizedElements.shift())Wj(this.getWindow,t),ei.forgetMemorized(this.focusedElement,t)},0),r9(this.getWindow,!0)))}queueInit(t){var n;this._win&&(this._initQueue.push(t),this._initTimer||(this._initTimer=(n=this._win)===null||n===void 0?void 0:n.setTimeout(()=>{delete this._initTimer,this.drainInitQueue()},0)))}drainInitQueue(){if(!this._win)return;const t=this._initQueue;this._initQueue=[],t.forEach(n=>n())}}function Bne(e,t){let n=Ine(e);return n?n.createTabster(!1,t):(n=new Pne(e,t),e.__tabsterInstance=n,n.createTabster())}function Rne(e){const t=e.core;return t.groupper||(t.groupper=new mne(t,t.getWindow)),t.groupper}function jne(e){const t=e.core;return t.mover||(t.mover=new Tne(t,t.getWindow)),t.mover}function d9(e,t,n){const r=e.core;return r.modalizer||(r.modalizer=new xne(r,t,n)),r.modalizer}function PN(e){const t=e.core;return t.restorer||(t.restorer=new Ane(t)),t.restorer}function f9(e,t){e.core.disposeTabster(e,t)}function Ine(e){return e.__tabsterInstance}const zne=e=>e;function h9(e){const t=(e==null?void 0:e.defaultView)||void 0,n=t==null?void 0:t.__tabsterShadowDOMAPI;if(t)return Bne(t,{autoRoot:{},controlTab:!1,getParent:X7,checkUncontrolledCompletely:r=>{var i;return((i=r.firstElementChild)===null||i===void 0?void 0:i.hasAttribute("data-is-focus-trap-zone-bumper"))===!0||void 0},DOMAPI:n})}function Vu(e=zne){const{targetDocument:t}=gn(),n=x.useRef(null);return Ni(()=>{const r=h9(t);if(r)return n.current=e(r),()=>{f9(r),n.current=null}},[t,e]),n}const Bg=e=>{Vu();const t=Vx(e,!0);return x.useMemo(()=>({[ac]:t}),[t])},BN=(e={})=>{const{circular:t,axis:n,memorizeCurrent:r=!0,tabbable:i,ignoreDefaultKeydown:o,unstable_hasDefault:a}=e;return Vu(jne),Bg({mover:{cyclic:!!t,direction:Lne(n??"vertical"),memorizeCurrent:r,tabbable:i,hasDefault:a},...o&&{focusable:{ignoreKeydown:o}}})};function Lne(e){switch(e){case"horizontal":return Ts.Horizontal;case"grid":return Ts.Grid;case"grid-linear":return Ts.GridLinear;case"both":return Ts.Both;case"vertical":default:return Ts.Vertical}}const RN=e=>(Vu(Rne),Bg({groupper:{tabbability:Dne(e==null?void 0:e.tabBehavior)},focusable:{ignoreKeydown:e==null?void 0:e.ignoreDefaultKeydown}})),Dne=e=>{switch(e){case"unlimited":return Fy.Unlimited;case"limited":return Fy.Limited;case"limited-trap-focus":return Fy.LimitedTrapFocus;default:return}},Wu=()=>{const e=Vu(),{targetDocument:t}=gn(),n=x.useCallback((s,c)=>{var u;return s&&((u=e.current)===null||u===void 0?void 0:u.focusable.findAll({container:s,acceptCondition:c}))||[]},[e]),r=x.useCallback(s=>{var c;return s&&((c=e.current)===null||c===void 0?void 0:c.focusable.findFirst({container:s}))},[e]),i=x.useCallback(s=>{var c;return s&&((c=e.current)===null||c===void 0?void 0:c.focusable.findLast({container:s}))},[e]),o=x.useCallback((s,c={})=>{if(!e.current||!t||!s)return null;const{container:u=t.body}=c;return e.current.focusable.findNext({currentElement:s,container:u})},[e,t]),a=x.useCallback((s,c={})=>{if(!e.current||!t||!s)return null;const{container:u=t.body}=c;return e.current.focusable.findPrev({currentElement:s,container:u})},[e,t]);return{findAllFocusable:n,findFirstFocusable:r,findLastFocusable:i,findNextFocusable:o,findPrevFocusable:a}},Kj="data-fui-focus-visible",p9="data-fui-focus-within";function One(e,t){if(m9(e))return()=>{};const n={current:void 0},r=Ux(t);function i(c){r.isNavigatingWithKeyboard()&&Ar(c)&&(n.current=c,c.setAttribute(Kj,""))}function o(){n.current&&(n.current.removeAttribute(Kj),n.current=void 0)}r.subscribe(c=>{c?i(t.document.activeElement):o()});const a=c=>{o();const u=c.composedPath()[0];i(u)},s=c=>{(!c.relatedTarget||Ar(c.relatedTarget)&&!e.contains(c.relatedTarget))&&o()};return e.addEventListener(Ma,a),e.addEventListener("focusout",s),e.focusVisible=!0,e.contains(t.document.activeElement)&&i(t.document.activeElement),()=>{o(),e.removeEventListener(Ma,a),e.removeEventListener("focusout",s),e.focusVisible=void 0,qx(r)}}function m9(e){return e?e.focusVisible?!0:m9(e==null?void 0:e.parentElement):!1}function jN(e={}){const t=gn(),n=x.useRef(null);var r;const i=(r=e.targetDocument)!==null&&r!==void 0?r:t.targetDocument;return x.useEffect(()=>{if(i!=null&&i.defaultView&&n.current)return One(n.current,i.defaultView)},[n,i]),n}function Fne(e,t){const n=Ux(t);n.subscribe(o=>{o||Yj(e)});const r=o=>{n.isNavigatingWithKeyboard()&&Jj(o.target)&&Une(e)},i=o=>{(!o.relatedTarget||Jj(o.relatedTarget)&&!e.contains(o.relatedTarget))&&Yj(e)};return e.addEventListener(Ma,r),e.addEventListener("focusout",i),()=>{e.removeEventListener(Ma,r),e.removeEventListener("focusout",i),qx(n)}}function Une(e){e.setAttribute(p9,"")}function Yj(e){e.removeAttribute(p9)}function Jj(e){return e?!!(e&&typeof e=="object"&&"classList"in e&&"contains"in e):!1}function bp(){const{targetDocument:e}=gn(),t=x.useRef(null);return x.useEffect(()=>{if(e!=null&&e.defaultView&&t.current)return Fne(t.current,e.defaultView)},[t,e]),t}function IN(){const{targetDocument:e}=gn(),t=x.useRef(null);return x.useEffect(()=>{const n=e==null?void 0:e.defaultView;if(n){const r=Ux(n);return t.current=r,()=>{qx(r),t.current=null}}},[e]),t}function g9(e){const t=IN(),n=pt(e);x.useEffect(()=>{const r=t.current;if(r){const i=o=>{n(o)};return r.subscribe(i),i(r.isNavigatingWithKeyboard()),()=>{r.unsubscribe(i)}}},[t,n])}const qne="data-tabster-never-hide",Hne=e=>e.hasAttribute(qne);function Vne(e){d9(e,void 0,Hne),PN(e)}const Gx=(e={})=>{const{trapFocus:t,alwaysFocusable:n,legacyTrapFocus:r}=e;Vu(Vne);const i=vi("modal-",e.id),o=Bg({restorer:{type:Ru.Source},...t&&{modalizer:{id:i,isOthersAccessible:!t,isAlwaysAccessible:n,isTrapped:r&&t}}}),a=Bg({restorer:{type:Ru.Target}});return{modalAttributes:o,triggerAttributes:a}};function zN(){return Vu(PN),Vx({restorer:{type:Ru.Target}})}function dv(){return Vu(PN),Vx({restorer:{type:Ru.Source}})}function v9(){const e=IN();return x.useCallback(()=>{var t,n;return(n=(t=e.current)===null||t===void 0?void 0:t.isNavigatingWithKeyboard())!==null&&n!==void 0?n:!1},[e])}function Wne(){const e=IN();return x.useCallback(t=>{var n;(n=e.current)===null||n===void 0||n.setVal(t)},[e])}function Gne(e){const{targetDocument:t}=gn(),n=pt(e);x.useEffect(()=>{const r=h9(t);if(r)return r.focusedElement.subscribe(n),()=>{r.focusedElement.unsubscribe(n),f9(r)}},[n,t])}function $ne(){const e=Vu(d9),[t]=af();return x.useCallback(r=>{t(()=>{var i;(i=e.current)===null||i===void 0||i.activate(r)},0)},[e,t])}const Ht={14:"#242424",16:"#292929",20:"#333333",26:"#424242",30:"#4d4d4d",34:"#575757",38:"#616161",44:"#707070",70:"#b3b3b3",74:"#bdbdbd",78:"#c7c7c7",82:"#d1d1d1",84:"#d6d6d6",86:"#dbdbdb",88:"#e0e0e0",90:"#e6e6e6",92:"#ebebeb",94:"#f0f0f0",96:"#f5f5f5",98:"#fafafa"},Wc={10:"rgba(255, 255, 255, 0.1)",20:"rgba(255, 255, 255, 0.2)",40:"rgba(255, 255, 255, 0.4)",50:"rgba(255, 255, 255, 0.5)",70:"rgba(255, 255, 255, 0.7)",80:"rgba(255, 255, 255, 0.8)"},Gc={5:"rgba(0, 0, 0, 0.05)",10:"rgba(0, 0, 0, 0.1)",20:"rgba(0, 0, 0, 0.2)",30:"rgba(0, 0, 0, 0.3)",40:"rgba(0, 0, 0, 0.4)",50:"rgba(0, 0, 0, 0.5)"},si="#ffffff",Xne="#000000",Zne={shade50:"#130204",shade40:"#230308",shade30:"#420610",shade20:"#590815",shade10:"#690a19",primary:"#750b1c",tint10:"#861b2c",tint20:"#962f3f",tint30:"#ac4f5e",tint40:"#d69ca5",tint50:"#e9c7cd",tint60:"#f9f0f2"},y9={shade50:"#200205",shade40:"#3b0509",shade30:"#6e0811",shade20:"#960b18",shade10:"#b10e1c",primary:"#c50f1f",tint10:"#cc2635",tint20:"#d33f4c",tint30:"#dc626d",tint40:"#eeacb2",tint50:"#f6d1d5",tint60:"#fdf3f4"},Kne={shade50:"#210809",shade40:"#3f1011",shade30:"#751d1f",shade20:"#9f282b",shade10:"#bc2f32",primary:"#d13438",tint10:"#d7494c",tint20:"#dc5e62",tint30:"#e37d80",tint40:"#f1bbbc",tint50:"#f8dadb",tint60:"#fdf6f6"},Yne={shade50:"#230900",shade40:"#411200",shade30:"#7a2101",shade20:"#a62d01",shade10:"#c43501",primary:"#da3b01",tint10:"#de501c",tint20:"#e36537",tint30:"#e9835e",tint40:"#f4bfab",tint50:"#f9dcd1",tint60:"#fdf6f3"},Jne={shade50:"#200d03",shade40:"#3d1805",shade30:"#712d09",shade20:"#9a3d0c",shade10:"#b6480e",primary:"#ca5010",tint10:"#d06228",tint20:"#d77440",tint30:"#df8e64",tint40:"#efc4ad",tint50:"#f7dfd2",tint60:"#fdf7f4"},Qne={shade50:"#271002",shade40:"#4a1e04",shade30:"#8a3707",shade20:"#bc4b09",shade10:"#de590b",primary:"#f7630c",tint10:"#f87528",tint20:"#f98845",tint30:"#faa06b",tint40:"#fdcfb4",tint50:"#fee5d7",tint60:"#fff9f5"},ere={shade50:"#291600",shade40:"#4d2a00",shade30:"#8f4e00",shade20:"#c26a00",shade10:"#e67e00",primary:"#ff8c00",tint10:"#ff9a1f",tint20:"#ffa83d",tint30:"#ffba66",tint40:"#ffddb3",tint50:"#ffedd6",tint60:"#fffaf5"},tre={shade50:"#251a00",shade40:"#463100",shade30:"#835b00",shade20:"#b27c00",shade10:"#d39300",primary:"#eaa300",tint10:"#edad1c",tint20:"#efb839",tint30:"#f2c661",tint40:"#f9e2ae",tint50:"#fcefd3",tint60:"#fefbf4"},nre={shade50:"#282400",shade40:"#4c4400",shade30:"#817400",shade20:"#c0ad00",shade10:"#e4cc00",primary:"#fde300",tint10:"#fde61e",tint20:"#fdea3d",tint30:"#feee66",tint40:"#fef7b2",tint50:"#fffad6",tint60:"#fffef5"},rre={shade50:"#1f1900",shade40:"#3a2f00",shade30:"#6c5700",shade20:"#937700",shade10:"#ae8c00",primary:"#c19c00",tint10:"#c8a718",tint20:"#d0b232",tint30:"#dac157",tint40:"#ecdfa5",tint50:"#f5eece",tint60:"#fdfbf2"},ire={shade50:"#181202",shade40:"#2e2103",shade30:"#553e06",shade20:"#745408",shade10:"#89640a",primary:"#986f0b",tint10:"#a47d1e",tint20:"#b18c34",tint30:"#c1a256",tint40:"#e0cea2",tint50:"#efe4cb",tint60:"#fbf8f2"},ore={shade50:"#170e07",shade40:"#2b1a0e",shade30:"#50301a",shade20:"#6c4123",shade10:"#804d29",primary:"#8e562e",tint10:"#9c663f",tint20:"#a97652",tint30:"#bb8f6f",tint40:"#ddc3b0",tint50:"#edded3",tint60:"#faf7f4"},are={shade50:"#0c1501",shade40:"#162702",shade30:"#294903",shade20:"#376304",shade10:"#427505",primary:"#498205",tint10:"#599116",tint20:"#6ba02b",tint30:"#85b44c",tint40:"#bdd99b",tint50:"#dbebc7",tint60:"#f6faf0"},sre={shade50:"#002111",shade40:"#003d20",shade30:"#00723b",shade20:"#009b51",shade10:"#00b85f",primary:"#00cc6a",tint10:"#19d279",tint20:"#34d889",tint30:"#5ae0a0",tint40:"#a8f0cd",tint50:"#cff7e4",tint60:"#f3fdf8"},lre={shade50:"#031a02",shade40:"#063004",shade30:"#0b5a08",shade20:"#0e7a0b",shade10:"#11910d",primary:"#13a10e",tint10:"#27ac22",tint20:"#3db838",tint30:"#5ec75a",tint40:"#a7e3a5",tint50:"#cef0cd",tint60:"#f2fbf2"},b9={shade50:"#031403",shade40:"#052505",shade30:"#094509",shade20:"#0c5e0c",shade10:"#0e700e",primary:"#107c10",tint10:"#218c21",tint20:"#359b35",tint30:"#54b054",tint40:"#9fd89f",tint50:"#c9eac9",tint60:"#f1faf1"},cre={shade50:"#021102",shade40:"#032003",shade30:"#063b06",shade20:"#085108",shade10:"#0a5f0a",primary:"#0b6a0b",tint10:"#1a7c1a",tint20:"#2d8e2d",tint30:"#4da64d",tint40:"#9ad29a",tint50:"#c6e7c6",tint60:"#f0f9f0"},ure={shade50:"#001d1f",shade40:"#00373a",shade30:"#00666d",shade20:"#008b94",shade10:"#00a5af",primary:"#00b7c3",tint10:"#18bfca",tint20:"#32c8d1",tint30:"#58d3db",tint40:"#a6e9ed",tint50:"#cef3f5",tint60:"#f2fcfd"},dre={shade50:"#001516",shade40:"#012728",shade30:"#02494c",shade20:"#026467",shade10:"#037679",primary:"#038387",tint10:"#159195",tint20:"#2aa0a4",tint30:"#4cb4b7",tint40:"#9bd9db",tint50:"#c7ebec",tint60:"#f0fafa"},fre={shade50:"#000f12",shade40:"#001b22",shade30:"#00333f",shade20:"#004555",shade10:"#005265",primary:"#005b70",tint10:"#0f6c81",tint20:"#237d92",tint30:"#4496a9",tint40:"#94c8d4",tint50:"#c3e1e8",tint60:"#eff7f9"},hre={shade50:"#001322",shade40:"#002440",shade30:"#004377",shade20:"#005ba1",shade10:"#006cbf",primary:"#0078d4",tint10:"#1a86d9",tint20:"#3595de",tint30:"#5caae5",tint40:"#a9d3f2",tint50:"#d0e7f8",tint60:"#f3f9fd"},pre={shade50:"#000c16",shade40:"#00172a",shade30:"#002c4e",shade20:"#003b6a",shade10:"#00467e",primary:"#004e8c",tint10:"#125e9a",tint20:"#286fa8",tint30:"#4a89ba",tint40:"#9abfdc",tint50:"#c7dced",tint60:"#f0f6fa"},mre={shade50:"#0d1126",shade40:"#182047",shade30:"#2c3c85",shade20:"#3c51b4",shade10:"#4760d5",primary:"#4f6bed",tint10:"#637cef",tint20:"#778df1",tint30:"#93a4f4",tint40:"#c8d1fa",tint50:"#e1e6fc",tint60:"#f7f9fe"},gre={shade50:"#00061d",shade40:"#000c36",shade30:"#001665",shade20:"#001e89",shade10:"#0023a2",primary:"#0027b4",tint10:"#173bbd",tint20:"#3050c6",tint30:"#546fd2",tint40:"#a3b2e8",tint50:"#ccd5f3",tint60:"#f2f4fc"},vre={shade50:"#120f25",shade40:"#221d46",shade30:"#3f3682",shade20:"#5649b0",shade10:"#6656d1",primary:"#7160e8",tint10:"#8172eb",tint20:"#9184ee",tint30:"#a79cf1",tint40:"#d2ccf8",tint50:"#e7e4fb",tint60:"#f9f8fe"},yre={shade50:"#0f0717",shade40:"#1c0e2b",shade30:"#341a51",shade20:"#46236e",shade10:"#532982",primary:"#5c2e91",tint10:"#6b3f9e",tint20:"#7c52ab",tint30:"#9470bd",tint40:"#c6b1de",tint50:"#e0d3ed",tint60:"#f7f4fb"},bre={shade50:"#160418",shade40:"#29072e",shade30:"#4c0d55",shade20:"#671174",shade10:"#7a1589",primary:"#881798",tint10:"#952aa4",tint20:"#a33fb1",tint30:"#b55fc1",tint40:"#d9a7e0",tint50:"#eaceef",tint60:"#faf2fb"},xre={shade50:"#1f091d",shade40:"#3a1136",shade30:"#6d2064",shade20:"#932b88",shade10:"#af33a1",primary:"#c239b3",tint10:"#c94cbc",tint20:"#d161c4",tint30:"#da7ed0",tint40:"#edbbe7",tint50:"#f5daf2",tint60:"#fdf5fc"},_re={shade50:"#1c0b1f",shade40:"#35153a",shade30:"#63276d",shade20:"#863593",shade10:"#9f3faf",primary:"#b146c2",tint10:"#ba58c9",tint20:"#c36bd1",tint30:"#cf87da",tint40:"#e6bfed",tint50:"#f2dcf5",tint60:"#fcf6fd"},wre={shade50:"#24091b",shade40:"#441232",shade30:"#80215d",shade20:"#ad2d7e",shade10:"#cd3595",primary:"#e43ba6",tint10:"#e750b0",tint20:"#ea66ba",tint30:"#ef85c8",tint40:"#f7c0e3",tint50:"#fbddf0",tint60:"#fef6fb"},Sre={shade50:"#1f0013",shade40:"#390024",shade30:"#6b0043",shade20:"#91005a",shade10:"#ac006b",primary:"#bf0077",tint10:"#c71885",tint20:"#ce3293",tint30:"#d957a8",tint40:"#eca5d1",tint50:"#f5cee6",tint60:"#fcf2f9"},Cre={shade50:"#13000c",shade40:"#240017",shade30:"#43002b",shade20:"#5a003b",shade10:"#6b0045",primary:"#77004d",tint10:"#87105d",tint20:"#98246f",tint30:"#ad4589",tint40:"#d696c0",tint50:"#e9c4dc",tint60:"#faf0f6"},Tre={shade50:"#141313",shade40:"#252323",shade30:"#444241",shade20:"#5d5958",shade10:"#6e6968",primary:"#7a7574",tint10:"#8a8584",tint20:"#9a9594",tint30:"#afabaa",tint40:"#d7d4d4",tint50:"#eae8e8",tint60:"#faf9f9"},kre={shade50:"#0f0e0e",shade40:"#1c1b1a",shade30:"#343231",shade20:"#474443",shade10:"#54514f",primary:"#5d5a58",tint10:"#706d6b",tint20:"#84817e",tint30:"#9e9b99",tint40:"#cecccb",tint50:"#e5e4e3",tint60:"#f8f8f8"},Ere={shade50:"#111314",shade40:"#1f2426",shade30:"#3b4447",shade20:"#505c60",shade10:"#5f6d71",primary:"#69797e",tint10:"#79898d",tint20:"#89989d",tint30:"#a0adb2",tint40:"#cdd6d8",tint50:"#e4e9ea",tint60:"#f8f9fa"},Mre={shade50:"#090a0b",shade40:"#111315",shade30:"#202427",shade20:"#2b3135",shade10:"#333a3f",primary:"#394146",tint10:"#4d565c",tint20:"#626c72",tint30:"#808a90",tint40:"#bcc3c7",tint50:"#dbdfe1",tint60:"#f6f7f8"},fa={red:Kne,green:b9,darkOrange:Yne,yellow:nre,berry:xre,lightGreen:lre,marigold:tre},uw={darkRed:Zne,cranberry:y9,pumpkin:Jne,peach:ere,gold:rre,brass:ire,brown:ore,forest:are,seafoam:sre,darkGreen:cre,lightTeal:ure,teal:dre,steel:fre,blue:hre,royalBlue:pre,cornflower:mre,navy:gre,lavender:vre,purple:yre,grape:bre,lilac:_re,pink:wre,magenta:Sre,plum:Cre,beige:Tre,mink:kre,platinum:Ere,anchor:Mre},Mo={cranberry:y9,green:b9,orange:Qne},Are=["red","green","darkOrange","yellow","berry","lightGreen","marigold"],Nre=["darkRed","cranberry","pumpkin","peach","gold","brass","brown","forest","seafoam","darkGreen","lightTeal","teal","steel","blue","royalBlue","cornflower","navy","lavender","purple","grape","lilac","pink","magenta","plum","beige","mink","platinum","anchor"],xp={success:"green",warning:"orange",danger:"cranberry"},fv=Are.reduce((e,t)=>{const n=t.slice(0,1).toUpperCase()+t.slice(1),r={[`colorPalette${n}Background1`]:fa[t].tint60,[`colorPalette${n}Background2`]:fa[t].tint40,[`colorPalette${n}Background3`]:fa[t].primary,[`colorPalette${n}Foreground1`]:fa[t].shade10,[`colorPalette${n}Foreground2`]:fa[t].shade30,[`colorPalette${n}Foreground3`]:fa[t].primary,[`colorPalette${n}BorderActive`]:fa[t].primary,[`colorPalette${n}Border1`]:fa[t].tint40,[`colorPalette${n}Border2`]:fa[t].primary};return Object.assign(e,r)},{});fv.colorPaletteYellowForeground1=fa.yellow.shade30;fv.colorPaletteRedForegroundInverted=fa.red.tint20;fv.colorPaletteGreenForegroundInverted=fa.green.tint20;fv.colorPaletteYellowForegroundInverted=fa.yellow.tint40;const Pre=Nre.reduce((e,t)=>{const n=t.slice(0,1).toUpperCase()+t.slice(1),r={[`colorPalette${n}Background2`]:uw[t].tint40,[`colorPalette${n}Foreground2`]:uw[t].shade30,[`colorPalette${n}BorderActive`]:uw[t].primary};return Object.assign(e,r)},{}),Bre={...fv,...Pre},_p=Object.entries(xp).reduce((e,[t,n])=>{const r=t.slice(0,1).toUpperCase()+t.slice(1),i={[`colorStatus${r}Background1`]:Mo[n].tint60,[`colorStatus${r}Background2`]:Mo[n].tint40,[`colorStatus${r}Background3`]:Mo[n].primary,[`colorStatus${r}Foreground1`]:Mo[n].shade10,[`colorStatus${r}Foreground2`]:Mo[n].shade30,[`colorStatus${r}Foreground3`]:Mo[n].primary,[`colorStatus${r}ForegroundInverted`]:Mo[n].tint30,[`colorStatus${r}BorderActive`]:Mo[n].primary,[`colorStatus${r}Border1`]:Mo[n].tint40,[`colorStatus${r}Border2`]:Mo[n].primary};return Object.assign(e,i)},{});_p.colorStatusDangerBackground3Hover=Mo[xp.danger].shade10;_p.colorStatusDangerBackground3Pressed=Mo[xp.danger].shade20;_p.colorStatusWarningForeground1=Mo[xp.warning].shade20;_p.colorStatusWarningForeground3=Mo[xp.warning].shade20;_p.colorStatusWarningBorder2=Mo[xp.warning].shade20;const Rre=e=>({colorNeutralForeground1:Ht[14],colorNeutralForeground1Hover:Ht[14],colorNeutralForeground1Pressed:Ht[14],colorNeutralForeground1Selected:Ht[14],colorNeutralForeground2:Ht[26],colorNeutralForeground2Hover:Ht[14],colorNeutralForeground2Pressed:Ht[14],colorNeutralForeground2Selected:Ht[14],colorNeutralForeground2BrandHover:e[80],colorNeutralForeground2BrandPressed:e[70],colorNeutralForeground2BrandSelected:e[80],colorNeutralForeground3:Ht[38],colorNeutralForeground3Hover:Ht[26],colorNeutralForeground3Pressed:Ht[26],colorNeutralForeground3Selected:Ht[26],colorNeutralForeground3BrandHover:e[80],colorNeutralForeground3BrandPressed:e[70],colorNeutralForeground3BrandSelected:e[80],colorNeutralForeground4:Ht[44],colorNeutralForegroundDisabled:Ht[74],colorNeutralForegroundInvertedDisabled:Wc[40],colorBrandForegroundLink:e[70],colorBrandForegroundLinkHover:e[60],colorBrandForegroundLinkPressed:e[40],colorBrandForegroundLinkSelected:e[70],colorNeutralForeground2Link:Ht[26],colorNeutralForeground2LinkHover:Ht[14],colorNeutralForeground2LinkPressed:Ht[14],colorNeutralForeground2LinkSelected:Ht[14],colorCompoundBrandForeground1:e[80],colorCompoundBrandForeground1Hover:e[70],colorCompoundBrandForeground1Pressed:e[60],colorBrandForeground1:e[80],colorBrandForeground2:e[70],colorBrandForeground2Hover:e[60],colorBrandForeground2Pressed:e[30],colorNeutralForeground1Static:Ht[14],colorNeutralForegroundStaticInverted:si,colorNeutralForegroundInverted:si,colorNeutralForegroundInvertedHover:si,colorNeutralForegroundInvertedPressed:si,colorNeutralForegroundInvertedSelected:si,colorNeutralForegroundInverted2:si,colorNeutralForegroundOnBrand:si,colorNeutralForegroundInvertedLink:si,colorNeutralForegroundInvertedLinkHover:si,colorNeutralForegroundInvertedLinkPressed:si,colorNeutralForegroundInvertedLinkSelected:si,colorBrandForegroundInverted:e[100],colorBrandForegroundInvertedHover:e[110],colorBrandForegroundInvertedPressed:e[100],colorBrandForegroundOnLight:e[80],colorBrandForegroundOnLightHover:e[70],colorBrandForegroundOnLightPressed:e[50],colorBrandForegroundOnLightSelected:e[60],colorNeutralBackground1:si,colorNeutralBackground1Hover:Ht[96],colorNeutralBackground1Pressed:Ht[88],colorNeutralBackground1Selected:Ht[92],colorNeutralBackground2:Ht[98],colorNeutralBackground2Hover:Ht[94],colorNeutralBackground2Pressed:Ht[86],colorNeutralBackground2Selected:Ht[90],colorNeutralBackground3:Ht[96],colorNeutralBackground3Hover:Ht[92],colorNeutralBackground3Pressed:Ht[84],colorNeutralBackground3Selected:Ht[88],colorNeutralBackground4:Ht[94],colorNeutralBackground4Hover:Ht[98],colorNeutralBackground4Pressed:Ht[96],colorNeutralBackground4Selected:si,colorNeutralBackground5:Ht[92],colorNeutralBackground5Hover:Ht[96],colorNeutralBackground5Pressed:Ht[94],colorNeutralBackground5Selected:Ht[98],colorNeutralBackground6:Ht[90],colorNeutralBackgroundInverted:Ht[16],colorNeutralBackgroundStatic:Ht[20],colorNeutralBackgroundAlpha:Wc[50],colorNeutralBackgroundAlpha2:Wc[80],colorSubtleBackground:"transparent",colorSubtleBackgroundHover:Ht[96],colorSubtleBackgroundPressed:Ht[88],colorSubtleBackgroundSelected:Ht[92],colorSubtleBackgroundLightAlphaHover:Wc[70],colorSubtleBackgroundLightAlphaPressed:Wc[50],colorSubtleBackgroundLightAlphaSelected:"transparent",colorSubtleBackgroundInverted:"transparent",colorSubtleBackgroundInvertedHover:Gc[10],colorSubtleBackgroundInvertedPressed:Gc[30],colorSubtleBackgroundInvertedSelected:Gc[20],colorTransparentBackground:"transparent",colorTransparentBackgroundHover:"transparent",colorTransparentBackgroundPressed:"transparent",colorTransparentBackgroundSelected:"transparent",colorNeutralBackgroundDisabled:Ht[94],colorNeutralBackgroundInvertedDisabled:Wc[10],colorNeutralStencil1:Ht[90],colorNeutralStencil2:Ht[98],colorNeutralStencil1Alpha:Gc[10],colorNeutralStencil2Alpha:Gc[5],colorBackgroundOverlay:Gc[40],colorScrollbarOverlay:Gc[50],colorBrandBackground:e[80],colorBrandBackgroundHover:e[70],colorBrandBackgroundPressed:e[40],colorBrandBackgroundSelected:e[60],colorCompoundBrandBackground:e[80],colorCompoundBrandBackgroundHover:e[70],colorCompoundBrandBackgroundPressed:e[60],colorBrandBackgroundStatic:e[80],colorBrandBackground2:e[160],colorBrandBackground2Hover:e[150],colorBrandBackground2Pressed:e[130],colorBrandBackground3Static:e[60],colorBrandBackground4Static:e[40],colorBrandBackgroundInverted:si,colorBrandBackgroundInvertedHover:e[160],colorBrandBackgroundInvertedPressed:e[140],colorBrandBackgroundInvertedSelected:e[150],colorNeutralCardBackground:Ht[98],colorNeutralCardBackgroundHover:si,colorNeutralCardBackgroundPressed:Ht[96],colorNeutralCardBackgroundSelected:Ht[92],colorNeutralCardBackgroundDisabled:Ht[94],colorNeutralStrokeAccessible:Ht[38],colorNeutralStrokeAccessibleHover:Ht[34],colorNeutralStrokeAccessiblePressed:Ht[30],colorNeutralStrokeAccessibleSelected:e[80],colorNeutralStroke1:Ht[82],colorNeutralStroke1Hover:Ht[78],colorNeutralStroke1Pressed:Ht[70],colorNeutralStroke1Selected:Ht[74],colorNeutralStroke2:Ht[88],colorNeutralStroke3:Ht[94],colorNeutralStrokeSubtle:Ht[88],colorNeutralStrokeOnBrand:si,colorNeutralStrokeOnBrand2:si,colorNeutralStrokeOnBrand2Hover:si,colorNeutralStrokeOnBrand2Pressed:si,colorNeutralStrokeOnBrand2Selected:si,colorBrandStroke1:e[80],colorBrandStroke2:e[140],colorBrandStroke2Hover:e[120],colorBrandStroke2Pressed:e[80],colorBrandStroke2Contrast:e[140],colorCompoundBrandStroke:e[80],colorCompoundBrandStrokeHover:e[70],colorCompoundBrandStrokePressed:e[60],colorNeutralStrokeDisabled:Ht[88],colorNeutralStrokeInvertedDisabled:Wc[40],colorTransparentStroke:"transparent",colorTransparentStrokeInteractive:"transparent",colorTransparentStrokeDisabled:"transparent",colorNeutralStrokeAlpha:Gc[5],colorNeutralStrokeAlpha2:Wc[20],colorStrokeFocus1:si,colorStrokeFocus2:Xne,colorNeutralShadowAmbient:"rgba(0,0,0,0.12)",colorNeutralShadowKey:"rgba(0,0,0,0.14)",colorNeutralShadowAmbientLighter:"rgba(0,0,0,0.06)",colorNeutralShadowKeyLighter:"rgba(0,0,0,0.07)",colorNeutralShadowAmbientDarker:"rgba(0,0,0,0.20)",colorNeutralShadowKeyDarker:"rgba(0,0,0,0.24)",colorBrandShadowAmbient:"rgba(0,0,0,0.30)",colorBrandShadowKey:"rgba(0,0,0,0.25)"}),jre={borderRadiusNone:"0",borderRadiusSmall:"2px",borderRadiusMedium:"4px",borderRadiusLarge:"6px",borderRadiusXLarge:"8px",borderRadiusCircular:"10000px"},Ire={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"},zre={durationUltraFast:"50ms",durationFaster:"100ms",durationFast:"150ms",durationNormal:"200ms",durationGentle:"250ms",durationSlow:"300ms",durationSlower:"400ms",durationUltraSlow:"500ms"},Lre={fontSizeBase100:"10px",fontSizeBase200:"12px",fontSizeBase300:"14px",fontSizeBase400:"16px",fontSizeBase500:"20px",fontSizeBase600:"24px",fontSizeHero700:"28px",fontSizeHero800:"32px",fontSizeHero900:"40px",fontSizeHero1000:"68px"},Dre={lineHeightBase100:"14px",lineHeightBase200:"16px",lineHeightBase300:"20px",lineHeightBase400:"22px",lineHeightBase500:"28px",lineHeightBase600:"32px",lineHeightHero700:"36px",lineHeightHero800:"40px",lineHeightHero900:"52px",lineHeightHero1000:"92px"},Ore={fontWeightRegular:400,fontWeightMedium:500,fontWeightSemibold:600,fontWeightBold:700},Fre={fontFamilyBase:"'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif",fontFamilyMonospace:"Consolas, 'Courier New', Courier, monospace",fontFamilyNumeric:"Bahnschrift, 'Segoe UI', 'Segoe UI Web (West European)', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif"},ti={none:"0",xxs:"2px",xs:"4px",sNudge:"6px",s:"8px",mNudge:"10px",m:"12px",l:"16px",xl:"20px",xxl:"24px",xxxl:"32px"},Ure={spacingHorizontalNone:ti.none,spacingHorizontalXXS:ti.xxs,spacingHorizontalXS:ti.xs,spacingHorizontalSNudge:ti.sNudge,spacingHorizontalS:ti.s,spacingHorizontalMNudge:ti.mNudge,spacingHorizontalM:ti.m,spacingHorizontalL:ti.l,spacingHorizontalXL:ti.xl,spacingHorizontalXXL:ti.xxl,spacingHorizontalXXXL:ti.xxxl},qre={spacingVerticalNone:ti.none,spacingVerticalXXS:ti.xxs,spacingVerticalXS:ti.xs,spacingVerticalSNudge:ti.sNudge,spacingVerticalS:ti.s,spacingVerticalMNudge:ti.mNudge,spacingVerticalM:ti.m,spacingVerticalL:ti.l,spacingVerticalXL:ti.xl,spacingVerticalXXL:ti.xxl,spacingVerticalXXXL:ti.xxxl},Hre={strokeWidthThin:"1px",strokeWidthThick:"2px",strokeWidthThicker:"3px",strokeWidthThickest:"4px"},k={colorNeutralForeground1:"var(--colorNeutralForeground1)",colorNeutralForeground1Hover:"var(--colorNeutralForeground1Hover)",colorNeutralForeground1Pressed:"var(--colorNeutralForeground1Pressed)",colorNeutralForeground1Selected:"var(--colorNeutralForeground1Selected)",colorNeutralForeground2:"var(--colorNeutralForeground2)",colorNeutralForeground2Hover:"var(--colorNeutralForeground2Hover)",colorNeutralForeground2Pressed:"var(--colorNeutralForeground2Pressed)",colorNeutralForeground2Selected:"var(--colorNeutralForeground2Selected)",colorNeutralForeground2BrandHover:"var(--colorNeutralForeground2BrandHover)",colorNeutralForeground2BrandPressed:"var(--colorNeutralForeground2BrandPressed)",colorNeutralForeground2BrandSelected:"var(--colorNeutralForeground2BrandSelected)",colorNeutralForeground3:"var(--colorNeutralForeground3)",colorNeutralForeground3Hover:"var(--colorNeutralForeground3Hover)",colorNeutralForeground3Pressed:"var(--colorNeutralForeground3Pressed)",colorNeutralForeground3Selected:"var(--colorNeutralForeground3Selected)",colorNeutralForeground3BrandHover:"var(--colorNeutralForeground3BrandHover)",colorNeutralForeground3BrandPressed:"var(--colorNeutralForeground3BrandPressed)",colorNeutralForeground3BrandSelected:"var(--colorNeutralForeground3BrandSelected)",colorNeutralForeground4:"var(--colorNeutralForeground4)",colorNeutralForegroundDisabled:"var(--colorNeutralForegroundDisabled)",colorBrandForegroundLink:"var(--colorBrandForegroundLink)",colorBrandForegroundLinkHover:"var(--colorBrandForegroundLinkHover)",colorBrandForegroundLinkPressed:"var(--colorBrandForegroundLinkPressed)",colorBrandForegroundLinkSelected:"var(--colorBrandForegroundLinkSelected)",colorNeutralForeground2Link:"var(--colorNeutralForeground2Link)",colorNeutralForeground2LinkHover:"var(--colorNeutralForeground2LinkHover)",colorNeutralForeground2LinkPressed:"var(--colorNeutralForeground2LinkPressed)",colorNeutralForeground2LinkSelected:"var(--colorNeutralForeground2LinkSelected)",colorCompoundBrandForeground1:"var(--colorCompoundBrandForeground1)",colorCompoundBrandForeground1Hover:"var(--colorCompoundBrandForeground1Hover)",colorCompoundBrandForeground1Pressed:"var(--colorCompoundBrandForeground1Pressed)",colorNeutralForegroundOnBrand:"var(--colorNeutralForegroundOnBrand)",colorNeutralForegroundInverted:"var(--colorNeutralForegroundInverted)",colorNeutralForegroundInvertedHover:"var(--colorNeutralForegroundInvertedHover)",colorNeutralForegroundInvertedPressed:"var(--colorNeutralForegroundInvertedPressed)",colorNeutralForegroundInvertedSelected:"var(--colorNeutralForegroundInvertedSelected)",colorNeutralForegroundInverted2:"var(--colorNeutralForegroundInverted2)",colorNeutralForegroundStaticInverted:"var(--colorNeutralForegroundStaticInverted)",colorNeutralForegroundInvertedLink:"var(--colorNeutralForegroundInvertedLink)",colorNeutralForegroundInvertedLinkHover:"var(--colorNeutralForegroundInvertedLinkHover)",colorNeutralForegroundInvertedLinkPressed:"var(--colorNeutralForegroundInvertedLinkPressed)",colorNeutralForegroundInvertedLinkSelected:"var(--colorNeutralForegroundInvertedLinkSelected)",colorNeutralForegroundInvertedDisabled:"var(--colorNeutralForegroundInvertedDisabled)",colorBrandForeground1:"var(--colorBrandForeground1)",colorBrandForeground2:"var(--colorBrandForeground2)",colorBrandForeground2Hover:"var(--colorBrandForeground2Hover)",colorBrandForeground2Pressed:"var(--colorBrandForeground2Pressed)",colorNeutralForeground1Static:"var(--colorNeutralForeground1Static)",colorBrandForegroundInverted:"var(--colorBrandForegroundInverted)",colorBrandForegroundInvertedHover:"var(--colorBrandForegroundInvertedHover)",colorBrandForegroundInvertedPressed:"var(--colorBrandForegroundInvertedPressed)",colorBrandForegroundOnLight:"var(--colorBrandForegroundOnLight)",colorBrandForegroundOnLightHover:"var(--colorBrandForegroundOnLightHover)",colorBrandForegroundOnLightPressed:"var(--colorBrandForegroundOnLightPressed)",colorBrandForegroundOnLightSelected:"var(--colorBrandForegroundOnLightSelected)",colorNeutralBackground1:"var(--colorNeutralBackground1)",colorNeutralBackground1Hover:"var(--colorNeutralBackground1Hover)",colorNeutralBackground1Pressed:"var(--colorNeutralBackground1Pressed)",colorNeutralBackground1Selected:"var(--colorNeutralBackground1Selected)",colorNeutralBackground2:"var(--colorNeutralBackground2)",colorNeutralBackground2Hover:"var(--colorNeutralBackground2Hover)",colorNeutralBackground2Pressed:"var(--colorNeutralBackground2Pressed)",colorNeutralBackground2Selected:"var(--colorNeutralBackground2Selected)",colorNeutralBackground3:"var(--colorNeutralBackground3)",colorNeutralBackground3Hover:"var(--colorNeutralBackground3Hover)",colorNeutralBackground3Pressed:"var(--colorNeutralBackground3Pressed)",colorNeutralBackground3Selected:"var(--colorNeutralBackground3Selected)",colorNeutralBackground4:"var(--colorNeutralBackground4)",colorNeutralBackground4Hover:"var(--colorNeutralBackground4Hover)",colorNeutralBackground4Pressed:"var(--colorNeutralBackground4Pressed)",colorNeutralBackground4Selected:"var(--colorNeutralBackground4Selected)",colorNeutralBackground5:"var(--colorNeutralBackground5)",colorNeutralBackground5Hover:"var(--colorNeutralBackground5Hover)",colorNeutralBackground5Pressed:"var(--colorNeutralBackground5Pressed)",colorNeutralBackground5Selected:"var(--colorNeutralBackground5Selected)",colorNeutralBackground6:"var(--colorNeutralBackground6)",colorNeutralBackgroundInverted:"var(--colorNeutralBackgroundInverted)",colorNeutralBackgroundStatic:"var(--colorNeutralBackgroundStatic)",colorNeutralBackgroundAlpha:"var(--colorNeutralBackgroundAlpha)",colorNeutralBackgroundAlpha2:"var(--colorNeutralBackgroundAlpha2)",colorSubtleBackground:"var(--colorSubtleBackground)",colorSubtleBackgroundHover:"var(--colorSubtleBackgroundHover)",colorSubtleBackgroundPressed:"var(--colorSubtleBackgroundPressed)",colorSubtleBackgroundSelected:"var(--colorSubtleBackgroundSelected)",colorSubtleBackgroundLightAlphaHover:"var(--colorSubtleBackgroundLightAlphaHover)",colorSubtleBackgroundLightAlphaPressed:"var(--colorSubtleBackgroundLightAlphaPressed)",colorSubtleBackgroundLightAlphaSelected:"var(--colorSubtleBackgroundLightAlphaSelected)",colorSubtleBackgroundInverted:"var(--colorSubtleBackgroundInverted)",colorSubtleBackgroundInvertedHover:"var(--colorSubtleBackgroundInvertedHover)",colorSubtleBackgroundInvertedPressed:"var(--colorSubtleBackgroundInvertedPressed)",colorSubtleBackgroundInvertedSelected:"var(--colorSubtleBackgroundInvertedSelected)",colorTransparentBackground:"var(--colorTransparentBackground)",colorTransparentBackgroundHover:"var(--colorTransparentBackgroundHover)",colorTransparentBackgroundPressed:"var(--colorTransparentBackgroundPressed)",colorTransparentBackgroundSelected:"var(--colorTransparentBackgroundSelected)",colorNeutralBackgroundDisabled:"var(--colorNeutralBackgroundDisabled)",colorNeutralBackgroundInvertedDisabled:"var(--colorNeutralBackgroundInvertedDisabled)",colorNeutralStencil1:"var(--colorNeutralStencil1)",colorNeutralStencil2:"var(--colorNeutralStencil2)",colorNeutralStencil1Alpha:"var(--colorNeutralStencil1Alpha)",colorNeutralStencil2Alpha:"var(--colorNeutralStencil2Alpha)",colorBackgroundOverlay:"var(--colorBackgroundOverlay)",colorScrollbarOverlay:"var(--colorScrollbarOverlay)",colorBrandBackground:"var(--colorBrandBackground)",colorBrandBackgroundHover:"var(--colorBrandBackgroundHover)",colorBrandBackgroundPressed:"var(--colorBrandBackgroundPressed)",colorBrandBackgroundSelected:"var(--colorBrandBackgroundSelected)",colorCompoundBrandBackground:"var(--colorCompoundBrandBackground)",colorCompoundBrandBackgroundHover:"var(--colorCompoundBrandBackgroundHover)",colorCompoundBrandBackgroundPressed:"var(--colorCompoundBrandBackgroundPressed)",colorBrandBackgroundStatic:"var(--colorBrandBackgroundStatic)",colorBrandBackground2:"var(--colorBrandBackground2)",colorBrandBackground2Hover:"var(--colorBrandBackground2Hover)",colorBrandBackground2Pressed:"var(--colorBrandBackground2Pressed)",colorBrandBackground3Static:"var(--colorBrandBackground3Static)",colorBrandBackground4Static:"var(--colorBrandBackground4Static)",colorBrandBackgroundInverted:"var(--colorBrandBackgroundInverted)",colorBrandBackgroundInvertedHover:"var(--colorBrandBackgroundInvertedHover)",colorBrandBackgroundInvertedPressed:"var(--colorBrandBackgroundInvertedPressed)",colorBrandBackgroundInvertedSelected:"var(--colorBrandBackgroundInvertedSelected)",colorNeutralCardBackground:"var(--colorNeutralCardBackground)",colorNeutralCardBackgroundHover:"var(--colorNeutralCardBackgroundHover)",colorNeutralCardBackgroundPressed:"var(--colorNeutralCardBackgroundPressed)",colorNeutralCardBackgroundSelected:"var(--colorNeutralCardBackgroundSelected)",colorNeutralCardBackgroundDisabled:"var(--colorNeutralCardBackgroundDisabled)",colorNeutralStrokeAccessible:"var(--colorNeutralStrokeAccessible)",colorNeutralStrokeAccessibleHover:"var(--colorNeutralStrokeAccessibleHover)",colorNeutralStrokeAccessiblePressed:"var(--colorNeutralStrokeAccessiblePressed)",colorNeutralStrokeAccessibleSelected:"var(--colorNeutralStrokeAccessibleSelected)",colorNeutralStroke1:"var(--colorNeutralStroke1)",colorNeutralStroke1Hover:"var(--colorNeutralStroke1Hover)",colorNeutralStroke1Pressed:"var(--colorNeutralStroke1Pressed)",colorNeutralStroke1Selected:"var(--colorNeutralStroke1Selected)",colorNeutralStroke2:"var(--colorNeutralStroke2)",colorNeutralStroke3:"var(--colorNeutralStroke3)",colorNeutralStrokeSubtle:"var(--colorNeutralStrokeSubtle)",colorNeutralStrokeOnBrand:"var(--colorNeutralStrokeOnBrand)",colorNeutralStrokeOnBrand2:"var(--colorNeutralStrokeOnBrand2)",colorNeutralStrokeOnBrand2Hover:"var(--colorNeutralStrokeOnBrand2Hover)",colorNeutralStrokeOnBrand2Pressed:"var(--colorNeutralStrokeOnBrand2Pressed)",colorNeutralStrokeOnBrand2Selected:"var(--colorNeutralStrokeOnBrand2Selected)",colorBrandStroke1:"var(--colorBrandStroke1)",colorBrandStroke2:"var(--colorBrandStroke2)",colorBrandStroke2Hover:"var(--colorBrandStroke2Hover)",colorBrandStroke2Pressed:"var(--colorBrandStroke2Pressed)",colorBrandStroke2Contrast:"var(--colorBrandStroke2Contrast)",colorCompoundBrandStroke:"var(--colorCompoundBrandStroke)",colorCompoundBrandStrokeHover:"var(--colorCompoundBrandStrokeHover)",colorCompoundBrandStrokePressed:"var(--colorCompoundBrandStrokePressed)",colorNeutralStrokeDisabled:"var(--colorNeutralStrokeDisabled)",colorNeutralStrokeInvertedDisabled:"var(--colorNeutralStrokeInvertedDisabled)",colorTransparentStroke:"var(--colorTransparentStroke)",colorTransparentStrokeInteractive:"var(--colorTransparentStrokeInteractive)",colorTransparentStrokeDisabled:"var(--colorTransparentStrokeDisabled)",colorNeutralStrokeAlpha:"var(--colorNeutralStrokeAlpha)",colorNeutralStrokeAlpha2:"var(--colorNeutralStrokeAlpha2)",colorStrokeFocus1:"var(--colorStrokeFocus1)",colorStrokeFocus2:"var(--colorStrokeFocus2)",colorNeutralShadowAmbient:"var(--colorNeutralShadowAmbient)",colorNeutralShadowKey:"var(--colorNeutralShadowKey)",colorNeutralShadowAmbientLighter:"var(--colorNeutralShadowAmbientLighter)",colorNeutralShadowKeyLighter:"var(--colorNeutralShadowKeyLighter)",colorNeutralShadowAmbientDarker:"var(--colorNeutralShadowAmbientDarker)",colorNeutralShadowKeyDarker:"var(--colorNeutralShadowKeyDarker)",colorBrandShadowAmbient:"var(--colorBrandShadowAmbient)",colorBrandShadowKey:"var(--colorBrandShadowKey)",colorPaletteRedBackground1:"var(--colorPaletteRedBackground1)",colorPaletteRedBackground2:"var(--colorPaletteRedBackground2)",colorPaletteRedBackground3:"var(--colorPaletteRedBackground3)",colorPaletteRedBorderActive:"var(--colorPaletteRedBorderActive)",colorPaletteRedBorder1:"var(--colorPaletteRedBorder1)",colorPaletteRedBorder2:"var(--colorPaletteRedBorder2)",colorPaletteRedForeground1:"var(--colorPaletteRedForeground1)",colorPaletteRedForeground2:"var(--colorPaletteRedForeground2)",colorPaletteRedForeground3:"var(--colorPaletteRedForeground3)",colorPaletteRedForegroundInverted:"var(--colorPaletteRedForegroundInverted)",colorPaletteGreenBackground1:"var(--colorPaletteGreenBackground1)",colorPaletteGreenBackground2:"var(--colorPaletteGreenBackground2)",colorPaletteGreenBackground3:"var(--colorPaletteGreenBackground3)",colorPaletteGreenBorderActive:"var(--colorPaletteGreenBorderActive)",colorPaletteGreenBorder1:"var(--colorPaletteGreenBorder1)",colorPaletteGreenBorder2:"var(--colorPaletteGreenBorder2)",colorPaletteGreenForeground1:"var(--colorPaletteGreenForeground1)",colorPaletteGreenForeground2:"var(--colorPaletteGreenForeground2)",colorPaletteGreenForeground3:"var(--colorPaletteGreenForeground3)",colorPaletteGreenForegroundInverted:"var(--colorPaletteGreenForegroundInverted)",colorPaletteDarkOrangeBackground1:"var(--colorPaletteDarkOrangeBackground1)",colorPaletteDarkOrangeBackground2:"var(--colorPaletteDarkOrangeBackground2)",colorPaletteDarkOrangeBackground3:"var(--colorPaletteDarkOrangeBackground3)",colorPaletteDarkOrangeBorderActive:"var(--colorPaletteDarkOrangeBorderActive)",colorPaletteDarkOrangeBorder1:"var(--colorPaletteDarkOrangeBorder1)",colorPaletteDarkOrangeBorder2:"var(--colorPaletteDarkOrangeBorder2)",colorPaletteDarkOrangeForeground1:"var(--colorPaletteDarkOrangeForeground1)",colorPaletteDarkOrangeForeground2:"var(--colorPaletteDarkOrangeForeground2)",colorPaletteDarkOrangeForeground3:"var(--colorPaletteDarkOrangeForeground3)",colorPaletteYellowBackground1:"var(--colorPaletteYellowBackground1)",colorPaletteYellowBackground2:"var(--colorPaletteYellowBackground2)",colorPaletteYellowBackground3:"var(--colorPaletteYellowBackground3)",colorPaletteYellowBorderActive:"var(--colorPaletteYellowBorderActive)",colorPaletteYellowBorder1:"var(--colorPaletteYellowBorder1)",colorPaletteYellowBorder2:"var(--colorPaletteYellowBorder2)",colorPaletteYellowForeground1:"var(--colorPaletteYellowForeground1)",colorPaletteYellowForeground2:"var(--colorPaletteYellowForeground2)",colorPaletteYellowForeground3:"var(--colorPaletteYellowForeground3)",colorPaletteYellowForegroundInverted:"var(--colorPaletteYellowForegroundInverted)",colorPaletteBerryBackground1:"var(--colorPaletteBerryBackground1)",colorPaletteBerryBackground2:"var(--colorPaletteBerryBackground2)",colorPaletteBerryBackground3:"var(--colorPaletteBerryBackground3)",colorPaletteBerryBorderActive:"var(--colorPaletteBerryBorderActive)",colorPaletteBerryBorder1:"var(--colorPaletteBerryBorder1)",colorPaletteBerryBorder2:"var(--colorPaletteBerryBorder2)",colorPaletteBerryForeground1:"var(--colorPaletteBerryForeground1)",colorPaletteBerryForeground2:"var(--colorPaletteBerryForeground2)",colorPaletteBerryForeground3:"var(--colorPaletteBerryForeground3)",colorPaletteMarigoldBackground1:"var(--colorPaletteMarigoldBackground1)",colorPaletteMarigoldBackground2:"var(--colorPaletteMarigoldBackground2)",colorPaletteMarigoldBackground3:"var(--colorPaletteMarigoldBackground3)",colorPaletteMarigoldBorderActive:"var(--colorPaletteMarigoldBorderActive)",colorPaletteMarigoldBorder1:"var(--colorPaletteMarigoldBorder1)",colorPaletteMarigoldBorder2:"var(--colorPaletteMarigoldBorder2)",colorPaletteMarigoldForeground1:"var(--colorPaletteMarigoldForeground1)",colorPaletteMarigoldForeground2:"var(--colorPaletteMarigoldForeground2)",colorPaletteMarigoldForeground3:"var(--colorPaletteMarigoldForeground3)",colorPaletteLightGreenBackground1:"var(--colorPaletteLightGreenBackground1)",colorPaletteLightGreenBackground2:"var(--colorPaletteLightGreenBackground2)",colorPaletteLightGreenBackground3:"var(--colorPaletteLightGreenBackground3)",colorPaletteLightGreenBorderActive:"var(--colorPaletteLightGreenBorderActive)",colorPaletteLightGreenBorder1:"var(--colorPaletteLightGreenBorder1)",colorPaletteLightGreenBorder2:"var(--colorPaletteLightGreenBorder2)",colorPaletteLightGreenForeground1:"var(--colorPaletteLightGreenForeground1)",colorPaletteLightGreenForeground2:"var(--colorPaletteLightGreenForeground2)",colorPaletteLightGreenForeground3:"var(--colorPaletteLightGreenForeground3)",colorPaletteAnchorBackground2:"var(--colorPaletteAnchorBackground2)",colorPaletteAnchorBorderActive:"var(--colorPaletteAnchorBorderActive)",colorPaletteAnchorForeground2:"var(--colorPaletteAnchorForeground2)",colorPaletteBeigeBackground2:"var(--colorPaletteBeigeBackground2)",colorPaletteBeigeBorderActive:"var(--colorPaletteBeigeBorderActive)",colorPaletteBeigeForeground2:"var(--colorPaletteBeigeForeground2)",colorPaletteBlueBackground2:"var(--colorPaletteBlueBackground2)",colorPaletteBlueBorderActive:"var(--colorPaletteBlueBorderActive)",colorPaletteBlueForeground2:"var(--colorPaletteBlueForeground2)",colorPaletteBrassBackground2:"var(--colorPaletteBrassBackground2)",colorPaletteBrassBorderActive:"var(--colorPaletteBrassBorderActive)",colorPaletteBrassForeground2:"var(--colorPaletteBrassForeground2)",colorPaletteBrownBackground2:"var(--colorPaletteBrownBackground2)",colorPaletteBrownBorderActive:"var(--colorPaletteBrownBorderActive)",colorPaletteBrownForeground2:"var(--colorPaletteBrownForeground2)",colorPaletteCornflowerBackground2:"var(--colorPaletteCornflowerBackground2)",colorPaletteCornflowerBorderActive:"var(--colorPaletteCornflowerBorderActive)",colorPaletteCornflowerForeground2:"var(--colorPaletteCornflowerForeground2)",colorPaletteCranberryBackground2:"var(--colorPaletteCranberryBackground2)",colorPaletteCranberryBorderActive:"var(--colorPaletteCranberryBorderActive)",colorPaletteCranberryForeground2:"var(--colorPaletteCranberryForeground2)",colorPaletteDarkGreenBackground2:"var(--colorPaletteDarkGreenBackground2)",colorPaletteDarkGreenBorderActive:"var(--colorPaletteDarkGreenBorderActive)",colorPaletteDarkGreenForeground2:"var(--colorPaletteDarkGreenForeground2)",colorPaletteDarkRedBackground2:"var(--colorPaletteDarkRedBackground2)",colorPaletteDarkRedBorderActive:"var(--colorPaletteDarkRedBorderActive)",colorPaletteDarkRedForeground2:"var(--colorPaletteDarkRedForeground2)",colorPaletteForestBackground2:"var(--colorPaletteForestBackground2)",colorPaletteForestBorderActive:"var(--colorPaletteForestBorderActive)",colorPaletteForestForeground2:"var(--colorPaletteForestForeground2)",colorPaletteGoldBackground2:"var(--colorPaletteGoldBackground2)",colorPaletteGoldBorderActive:"var(--colorPaletteGoldBorderActive)",colorPaletteGoldForeground2:"var(--colorPaletteGoldForeground2)",colorPaletteGrapeBackground2:"var(--colorPaletteGrapeBackground2)",colorPaletteGrapeBorderActive:"var(--colorPaletteGrapeBorderActive)",colorPaletteGrapeForeground2:"var(--colorPaletteGrapeForeground2)",colorPaletteLavenderBackground2:"var(--colorPaletteLavenderBackground2)",colorPaletteLavenderBorderActive:"var(--colorPaletteLavenderBorderActive)",colorPaletteLavenderForeground2:"var(--colorPaletteLavenderForeground2)",colorPaletteLightTealBackground2:"var(--colorPaletteLightTealBackground2)",colorPaletteLightTealBorderActive:"var(--colorPaletteLightTealBorderActive)",colorPaletteLightTealForeground2:"var(--colorPaletteLightTealForeground2)",colorPaletteLilacBackground2:"var(--colorPaletteLilacBackground2)",colorPaletteLilacBorderActive:"var(--colorPaletteLilacBorderActive)",colorPaletteLilacForeground2:"var(--colorPaletteLilacForeground2)",colorPaletteMagentaBackground2:"var(--colorPaletteMagentaBackground2)",colorPaletteMagentaBorderActive:"var(--colorPaletteMagentaBorderActive)",colorPaletteMagentaForeground2:"var(--colorPaletteMagentaForeground2)",colorPaletteMinkBackground2:"var(--colorPaletteMinkBackground2)",colorPaletteMinkBorderActive:"var(--colorPaletteMinkBorderActive)",colorPaletteMinkForeground2:"var(--colorPaletteMinkForeground2)",colorPaletteNavyBackground2:"var(--colorPaletteNavyBackground2)",colorPaletteNavyBorderActive:"var(--colorPaletteNavyBorderActive)",colorPaletteNavyForeground2:"var(--colorPaletteNavyForeground2)",colorPalettePeachBackground2:"var(--colorPalettePeachBackground2)",colorPalettePeachBorderActive:"var(--colorPalettePeachBorderActive)",colorPalettePeachForeground2:"var(--colorPalettePeachForeground2)",colorPalettePinkBackground2:"var(--colorPalettePinkBackground2)",colorPalettePinkBorderActive:"var(--colorPalettePinkBorderActive)",colorPalettePinkForeground2:"var(--colorPalettePinkForeground2)",colorPalettePlatinumBackground2:"var(--colorPalettePlatinumBackground2)",colorPalettePlatinumBorderActive:"var(--colorPalettePlatinumBorderActive)",colorPalettePlatinumForeground2:"var(--colorPalettePlatinumForeground2)",colorPalettePlumBackground2:"var(--colorPalettePlumBackground2)",colorPalettePlumBorderActive:"var(--colorPalettePlumBorderActive)",colorPalettePlumForeground2:"var(--colorPalettePlumForeground2)",colorPalettePumpkinBackground2:"var(--colorPalettePumpkinBackground2)",colorPalettePumpkinBorderActive:"var(--colorPalettePumpkinBorderActive)",colorPalettePumpkinForeground2:"var(--colorPalettePumpkinForeground2)",colorPalettePurpleBackground2:"var(--colorPalettePurpleBackground2)",colorPalettePurpleBorderActive:"var(--colorPalettePurpleBorderActive)",colorPalettePurpleForeground2:"var(--colorPalettePurpleForeground2)",colorPaletteRoyalBlueBackground2:"var(--colorPaletteRoyalBlueBackground2)",colorPaletteRoyalBlueBorderActive:"var(--colorPaletteRoyalBlueBorderActive)",colorPaletteRoyalBlueForeground2:"var(--colorPaletteRoyalBlueForeground2)",colorPaletteSeafoamBackground2:"var(--colorPaletteSeafoamBackground2)",colorPaletteSeafoamBorderActive:"var(--colorPaletteSeafoamBorderActive)",colorPaletteSeafoamForeground2:"var(--colorPaletteSeafoamForeground2)",colorPaletteSteelBackground2:"var(--colorPaletteSteelBackground2)",colorPaletteSteelBorderActive:"var(--colorPaletteSteelBorderActive)",colorPaletteSteelForeground2:"var(--colorPaletteSteelForeground2)",colorPaletteTealBackground2:"var(--colorPaletteTealBackground2)",colorPaletteTealBorderActive:"var(--colorPaletteTealBorderActive)",colorPaletteTealForeground2:"var(--colorPaletteTealForeground2)",colorStatusSuccessBackground1:"var(--colorStatusSuccessBackground1)",colorStatusSuccessBackground2:"var(--colorStatusSuccessBackground2)",colorStatusSuccessBackground3:"var(--colorStatusSuccessBackground3)",colorStatusSuccessForeground1:"var(--colorStatusSuccessForeground1)",colorStatusSuccessForeground2:"var(--colorStatusSuccessForeground2)",colorStatusSuccessForeground3:"var(--colorStatusSuccessForeground3)",colorStatusSuccessForegroundInverted:"var(--colorStatusSuccessForegroundInverted)",colorStatusSuccessBorderActive:"var(--colorStatusSuccessBorderActive)",colorStatusSuccessBorder1:"var(--colorStatusSuccessBorder1)",colorStatusSuccessBorder2:"var(--colorStatusSuccessBorder2)",colorStatusWarningBackground1:"var(--colorStatusWarningBackground1)",colorStatusWarningBackground2:"var(--colorStatusWarningBackground2)",colorStatusWarningBackground3:"var(--colorStatusWarningBackground3)",colorStatusWarningForeground1:"var(--colorStatusWarningForeground1)",colorStatusWarningForeground2:"var(--colorStatusWarningForeground2)",colorStatusWarningForeground3:"var(--colorStatusWarningForeground3)",colorStatusWarningForegroundInverted:"var(--colorStatusWarningForegroundInverted)",colorStatusWarningBorderActive:"var(--colorStatusWarningBorderActive)",colorStatusWarningBorder1:"var(--colorStatusWarningBorder1)",colorStatusWarningBorder2:"var(--colorStatusWarningBorder2)",colorStatusDangerBackground1:"var(--colorStatusDangerBackground1)",colorStatusDangerBackground2:"var(--colorStatusDangerBackground2)",colorStatusDangerBackground3:"var(--colorStatusDangerBackground3)",colorStatusDangerBackground3Hover:"var(--colorStatusDangerBackground3Hover)",colorStatusDangerBackground3Pressed:"var(--colorStatusDangerBackground3Pressed)",colorStatusDangerForeground1:"var(--colorStatusDangerForeground1)",colorStatusDangerForeground2:"var(--colorStatusDangerForeground2)",colorStatusDangerForeground3:"var(--colorStatusDangerForeground3)",colorStatusDangerForegroundInverted:"var(--colorStatusDangerForegroundInverted)",colorStatusDangerBorderActive:"var(--colorStatusDangerBorderActive)",colorStatusDangerBorder1:"var(--colorStatusDangerBorder1)",colorStatusDangerBorder2:"var(--colorStatusDangerBorder2)",borderRadiusNone:"var(--borderRadiusNone)",borderRadiusSmall:"var(--borderRadiusSmall)",borderRadiusMedium:"var(--borderRadiusMedium)",borderRadiusLarge:"var(--borderRadiusLarge)",borderRadiusXLarge:"var(--borderRadiusXLarge)",borderRadiusCircular:"var(--borderRadiusCircular)",fontFamilyBase:"var(--fontFamilyBase)",fontFamilyMonospace:"var(--fontFamilyMonospace)",fontFamilyNumeric:"var(--fontFamilyNumeric)",fontSizeBase100:"var(--fontSizeBase100)",fontSizeBase200:"var(--fontSizeBase200)",fontSizeBase300:"var(--fontSizeBase300)",fontSizeBase400:"var(--fontSizeBase400)",fontSizeBase500:"var(--fontSizeBase500)",fontSizeBase600:"var(--fontSizeBase600)",fontSizeHero700:"var(--fontSizeHero700)",fontSizeHero800:"var(--fontSizeHero800)",fontSizeHero900:"var(--fontSizeHero900)",fontSizeHero1000:"var(--fontSizeHero1000)",fontWeightRegular:"var(--fontWeightRegular)",fontWeightMedium:"var(--fontWeightMedium)",fontWeightSemibold:"var(--fontWeightSemibold)",fontWeightBold:"var(--fontWeightBold)",lineHeightBase100:"var(--lineHeightBase100)",lineHeightBase200:"var(--lineHeightBase200)",lineHeightBase300:"var(--lineHeightBase300)",lineHeightBase400:"var(--lineHeightBase400)",lineHeightBase500:"var(--lineHeightBase500)",lineHeightBase600:"var(--lineHeightBase600)",lineHeightHero700:"var(--lineHeightHero700)",lineHeightHero800:"var(--lineHeightHero800)",lineHeightHero900:"var(--lineHeightHero900)",lineHeightHero1000:"var(--lineHeightHero1000)",shadow2:"var(--shadow2)",shadow4:"var(--shadow4)",shadow8:"var(--shadow8)",shadow16:"var(--shadow16)",shadow28:"var(--shadow28)",shadow64:"var(--shadow64)",shadow2Brand:"var(--shadow2Brand)",shadow4Brand:"var(--shadow4Brand)",shadow8Brand:"var(--shadow8Brand)",shadow16Brand:"var(--shadow16Brand)",shadow28Brand:"var(--shadow28Brand)",shadow64Brand:"var(--shadow64Brand)",strokeWidthThin:"var(--strokeWidthThin)",strokeWidthThick:"var(--strokeWidthThick)",strokeWidthThicker:"var(--strokeWidthThicker)",strokeWidthThickest:"var(--strokeWidthThickest)",spacingHorizontalNone:"var(--spacingHorizontalNone)",spacingHorizontalXXS:"var(--spacingHorizontalXXS)",spacingHorizontalXS:"var(--spacingHorizontalXS)",spacingHorizontalSNudge:"var(--spacingHorizontalSNudge)",spacingHorizontalS:"var(--spacingHorizontalS)",spacingHorizontalMNudge:"var(--spacingHorizontalMNudge)",spacingHorizontalM:"var(--spacingHorizontalM)",spacingHorizontalL:"var(--spacingHorizontalL)",spacingHorizontalXL:"var(--spacingHorizontalXL)",spacingHorizontalXXL:"var(--spacingHorizontalXXL)",spacingHorizontalXXXL:"var(--spacingHorizontalXXXL)",spacingVerticalNone:"var(--spacingVerticalNone)",spacingVerticalXXS:"var(--spacingVerticalXXS)",spacingVerticalXS:"var(--spacingVerticalXS)",spacingVerticalSNudge:"var(--spacingVerticalSNudge)",spacingVerticalS:"var(--spacingVerticalS)",spacingVerticalMNudge:"var(--spacingVerticalMNudge)",spacingVerticalM:"var(--spacingVerticalM)",spacingVerticalL:"var(--spacingVerticalL)",spacingVerticalXL:"var(--spacingVerticalXL)",spacingVerticalXXL:"var(--spacingVerticalXXL)",spacingVerticalXXXL:"var(--spacingVerticalXXXL)",durationUltraFast:"var(--durationUltraFast)",durationFaster:"var(--durationFaster)",durationFast:"var(--durationFast)",durationNormal:"var(--durationNormal)",durationGentle:"var(--durationGentle)",durationSlow:"var(--durationSlow)",durationSlower:"var(--durationSlower)",durationUltraSlow:"var(--durationUltraSlow)",curveAccelerateMax:"var(--curveAccelerateMax)",curveAccelerateMid:"var(--curveAccelerateMid)",curveAccelerateMin:"var(--curveAccelerateMin)",curveDecelerateMax:"var(--curveDecelerateMax)",curveDecelerateMid:"var(--curveDecelerateMid)",curveDecelerateMin:"var(--curveDecelerateMin)",curveEasyEaseMax:"var(--curveEasyEaseMax)",curveEasyEase:"var(--curveEasyEase)",curveLinear:"var(--curveLinear)",zIndexBackground:"var(--zIndexBackground, 0)",zIndexContent:"var(--zIndexContent, 1)",zIndexOverlay:"var(--zIndexOverlay, 1000)",zIndexPopup:"var(--zIndexPopup, 2000)",zIndexMessages:"var(--zIndexMessages, 3000)",zIndexFloating:"var(--zIndexFloating, 4000)",zIndexPriority:"var(--zIndexPriority, 5000)",zIndexDebug:"var(--zIndexDebug, 6000)"};function Qj(e,t,n=""){return{[`shadow2${n}`]:`0 0 2px ${e}, 0 1px 2px ${t}`,[`shadow4${n}`]:`0 0 2px ${e}, 0 2px 4px ${t}`,[`shadow8${n}`]:`0 0 2px ${e}, 0 4px 8px ${t}`,[`shadow16${n}`]:`0 0 2px ${e}, 0 8px 16px ${t}`,[`shadow28${n}`]:`0 0 8px ${e}, 0 14px 28px ${t}`,[`shadow64${n}`]:`0 0 8px ${e}, 0 32px 64px ${t}`}}const Vre=e=>{const t=Rre(e);return{...jre,...Lre,...Dre,...Fre,...Ore,...Hre,...Ure,...qre,...zre,...Ire,...t,...Bre,..._p,...Qj(t.colorNeutralShadowAmbient,t.colorNeutralShadowKey),...Qj(t.colorBrandShadowAmbient,t.colorBrandShadowKey,"Brand")}},Wre={30:"#0a2e4a",40:"#0c3b5e",50:"#0e4775",60:"#0f548c",70:"#115ea3",80:"#0f6cbd",100:"#479ef5",110:"#62abf5",120:"#77b7f7",130:"#96c6fa",140:"#b4d6fa",150:"#cfe4fa",160:"#ebf3fc"},Gre=Vre(Wre),x9={root:"fui-FluentProvider"},$re=k7({root:{sj55zd:"f19n0e5",De3pzq:"fxugw4r",fsow6f:["f1o700av","fes3tcz"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1o700av{text-align:left;}",".fes3tcz{text-align:right;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}"]}),Xre=e=>{"use no memo";const t=sv(),n=$re({dir:e.dir,renderer:t});return e.root.className=Ce(x9.root,e.themeClassName,n.root,e.root.className),e},Zre=x.useInsertionEffect?x.useInsertionEffect:Ni,Kre=(e,t)=>{if(!(e!=null&&e.head))return;const n=e.createElement("style");return Object.keys(t).forEach(r=>{n.setAttribute(r,t[r])}),e.head.appendChild(n),n},Yre=(e,t)=>{const n=e.sheet;n&&(n.cssRules.length>0&&n.deleteRule(0),n.insertRule(t,0))},Jre=e=>{"use no memo";const{targetDocument:t,theme:n,rendererAttributes:r}=e,i=x.useRef(void 0),o=vi(x9.root),a=r,s=x.useMemo(()=>HQ(`.${o}`,n),[n,o]);return Qre(t,o),Zre(()=>{const c=t==null?void 0:t.getElementById(o);return c?i.current=c:(i.current=Kre(t,{...a,id:o}),i.current&&Yre(i.current,s)),()=>{var u;(u=i.current)===null||u===void 0||u.remove()}},[o,t,s,a]),{styleTagId:o,rule:s}};function Qre(e,t){x.useState(()=>{if(!e)return;const n=e.getElementById(t);n&&e.head.append(n)})}const eie={},tie={},nie=(e,t)=>{"use no memo";const n=gn(),r=rie(),i=Dx(),o=x.useContext(TN)||eie,{applyStylesToPortals:a=!0,customStyleHooks_unstable:s,dir:c=n.dir,targetDocument:u=n.targetDocument,theme:d,overrides_unstable:f={}}=e,p=dw(r,d),m=dw(i,f),g=dw(o,s),v=sv();var _;const{styleTagId:y,rule:S}=Jre({theme:p,targetDocument:u,rendererAttributes:(_=v.styleElementAttributes)!==null&&_!==void 0?_:tie});return{applyStylesToPortals:a,customStyleHooks_unstable:g,dir:c,targetDocument:u,theme:p,overrides_unstable:m,themeClassName:y,components:{root:"div"},root:Ct(Qt("div",{...e,dir:c,ref:dn(t,jN({targetDocument:u}))}),{elementType:"div"}),serverStyleProps:{cssRule:S,attributes:{...v.styleElementAttributes,id:y}}}};function dw(e,t){return e&&t?{...e,...t}:e||t}function rie(){return x.useContext(B7)}function iie(e){const{applyStylesToPortals:t,customStyleHooks_unstable:n,dir:r,root:i,targetDocument:o,theme:a,themeClassName:s,overrides_unstable:c}=e,u=x.useMemo(()=>({dir:r,targetDocument:o}),[r,o]),[d]=x.useState(()=>({})),f=x.useMemo(()=>({textDirection:r}),[r]);return{customStyleHooks_unstable:n,overrides_unstable:c,provider:u,textDirection:r,iconDirection:f,tooltip:d,theme:a,themeClassName:t?i.className:s}}const _9=x.forwardRef((e,t)=>{const n=nie(e,t);Xre(n);const r=iie(n);return tte(n,r)});_9.displayName="FluentProvider";var w9={exports:{}},S9={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,W){var F=z.length;z.push(W);e:for(;0<F;){var V=F-1>>>1,H=z[V];if(0<i(H,W))z[V]=W,z[F]=H,F=V;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],F=z.pop();if(F!==W){z[0]=F;e:for(var V=0,H=z.length,te=H>>>1;V<te;){var Z=2*(V+1)-1,Q=z[Z],re=Z+1,ue=z[re];if(0>i(Q,F))re<H&&0>i(ue,Q)?(z[V]=ue,z[re]=F,V=re):(z[V]=Q,z[Z]=F,V=Z);else if(re<H&&0>i(ue,F))z[V]=ue,z[re]=F,V=re;else break e}}return W}function i(z,W){var F=z.sortIndex-W.sortIndex;return F!==0?F:z.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var c=[],u=[],d=1,f=null,p=3,m=!1,g=!1,v=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function C(z){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=z)r(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(u)}}function M(z){if(v=!1,C(z),!g)if(n(c)!==null)g=!0,A||(A=!0,q());else{var W=n(u);W!==null&&O(M,W.startTime-z)}}var A=!1,E=-1,I=5,N=-1;function P(){return _?!0:!(e.unstable_now()-N<I)}function D(){if(_=!1,A){var z=e.unstable_now();N=z;var W=!0;try{e:{g=!1,v&&(v=!1,S(E),E=-1),m=!0;var F=p;try{t:{for(C(z),f=n(c);f!==null&&!(f.expirationTime>z&&P());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var H=V(f.expirationTime<=z);if(z=e.unstable_now(),typeof H=="function"){f.callback=H,C(z),W=!0;break t}f===n(c)&&r(c),C(z)}else r(c);f=n(c)}if(f!==null)W=!0;else{var te=n(u);te!==null&&O(M,te.startTime-z),W=!1}}break e}finally{f=null,p=F,m=!1}W=void 0}}finally{W?q():A=!1}}}var q;if(typeof w=="function")q=function(){w(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,j=$.port2;$.port1.onmessage=D,q=function(){j.postMessage(null)}}else q=function(){y(D,0)};function O(z,W){E=y(function(){z(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var F=p;p=W;try{return z()}finally{p=F}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=p;p=z;try{return W()}finally{p=F}},e.unstable_scheduleCallback=function(z,W,F){var V=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?V+F:V):F=V,z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=F+H,z={id:d++,callback:W,priorityLevel:z,startTime:F,expirationTime:H,sortIndex:-1},F>V?(z.sortIndex=F,t(u,z),n(c)===null&&z===n(u)&&(v?(S(E),E=-1):v=!0,O(M,F-V))):(z.sortIndex=H,t(c,z),g||m||(g=!0,A||(A=!0,q()))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var W=p;return function(){var F=p;p=W;try{return z.apply(this,arguments)}finally{p=F}}}})(S9);w9.exports=S9;var e3=w9.exports;const oie=e=>n=>{const r=x.useRef(n.value),i=x.useRef(0),o=x.useRef(null);return o.current||(o.current={value:r,version:i,listeners:[]}),Ni(()=>{r.current=n.value,i.current+=1,e3.unstable_runWithPriority(e3.unstable_NormalPriority,()=>{o.current.listeners.forEach(a=>{a([i.current,n.value])})})},[n.value]),x.createElement(e,{value:o.current},n.children)},kc=e=>{const t=x.createContext({value:{current:e},version:{current:-1},listeners:[]});return t.Provider=oie(t.Provider),delete t.Consumer,t},Gu=(e,t)=>{const n=x.useContext(e),{value:{current:r},version:{current:i},listeners:o}=n,a=t(r),[s,c]=x.useState([r,a]),u=f=>{c(p=>{if(!f)return[r,a];if(f[0]<=i)return Object.is(p[1],a)?p:[r,a];try{if(Object.is(p[0],f[1]))return p;const m=t(f[1]);return Object.is(p[1],m)?p:[f[1],m]}catch{}return[p[0],p[1]]})};Object.is(s[1],a)||u(void 0);const d=pt(u);return Ni(()=>(o.push(d),()=>{const f=o.indexOf(d);o.splice(f,1)}),[d,o]),s[1]};function hv(e){const t=x.useContext(e);return t.version?t.version.current!==-1:!1}const ku="Enter",ll=" ",LN="Tab",Rg="ArrowDown",$x="ArrowLeft",Xx="ArrowRight",ig="ArrowUp",C9="End",T9="Home",aie="PageDown",sie="PageUp",lie="Delete",sf="Escape";function Zd(e,t){const{disabled:n,disabledFocusable:r=!1,["aria-disabled"]:i,onClick:o,onKeyDown:a,onKeyUp:s,...c}=t??{},u=typeof i=="string"?i==="true":i,d=n||r||u,f=pt(g=>{d?(g.preventDefault(),g.stopPropagation()):o==null||o(g)}),p=pt(g=>{if(a==null||a(g),g.isDefaultPrevented())return;const v=g.key;if(d&&(v===ku||v===ll)){g.preventDefault(),g.stopPropagation();return}if(v===ll){g.preventDefault();return}else v===ku&&(g.preventDefault(),g.currentTarget.click())}),m=pt(g=>{if(s==null||s(g),g.isDefaultPrevented())return;const v=g.key;if(d&&(v===ku||v===ll)){g.preventDefault(),g.stopPropagation();return}v===ll&&(g.preventDefault(),g.currentTarget.click())});if(e==="button"||e===void 0)return{...c,disabled:n&&!r,"aria-disabled":r?!0:u,onClick:r?void 0:f,onKeyUp:r?void 0:s,onKeyDown:r?void 0:a};{const g=!!c.href;let v=g?void 0:"button";!v&&d&&(v="link");const _={role:v,tabIndex:r||!g&&!n?0:void 0,...c,onClick:f,onKeyUp:m,onKeyDown:p,"aria-disabled":d};return e==="a"&&d&&(_.href=void 0),_}}const $o=()=>{},cie={controller:{active:$o,blur:$o,find:$o,first:$o,focus:$o,focusLastActive:$o,scrollActiveIntoView:$o,last:$o,next:$o,prev:$o,showAttributes:$o,hideAttributes:$o,showFocusVisibleAttributes:$o,hideFocusVisibleAttributes:$o}},DN=x.createContext(void 0),k9=DN.Provider,E9=()=>{var e;return(e=x.useContext(DN))!==null&&e!==void 0?e:cie},uie=()=>!!x.useContext(DN);function die(e){const{matchOption:t}=e,{targetDocument:n}=gn(),r=x.useRef(null),i=x.useRef(null),o=x.useCallback(c=>Ar(c)&&t(c)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,[t]),a=x.useCallback(c=>{c&&n?(i.current=c,r.current=n.createTreeWalker(c,NodeFilter.SHOW_ELEMENT,o)):(i.current=null,r.current=null)},[n,o]);return{optionWalker:x.useMemo(()=>({first:()=>!r.current||!i.current?null:(r.current.currentNode=i.current,r.current.firstChild()),last:()=>!r.current||!i.current?null:(r.current.currentNode=i.current,r.current.lastChild()),next:()=>r.current?r.current.nextNode():null,prev:()=>r.current?r.current.previousNode():null,find:(c,u)=>{if(!r.current||!i.current)return null;const d=u?n==null?void 0:n.getElementById(u):null;r.current.currentNode=d??i.current;let f=r.current.currentNode;for(;f&&!c(f.id);)f=r.current.nextNode();return f},setCurrent:c=>{r.current&&(r.current.currentNode=c)}}),[n]),listboxCallbackRef:a}}const t3="data-activedescendant",jf="data-activedescendant-focusvisible",n3=e=>{if(!e)return;const t=M9(e.parentElement);if(!t)return;const{offsetHeight:n}=e,r=A9(e,t),{scrollMarginTop:i,scrollMarginBottom:o}=fie(e),{offsetHeight:a,scrollTop:s}=t,c=r-i<s,u=r+n+o>s+a,d=2;c?t.scrollTo(0,r-i-d):u&&t.scrollTo(0,r+n+o-a+d)},M9=e=>e?e.scrollHeight>e.offsetHeight?e:M9(e.parentElement):null,A9=(e,t)=>!e||e===t?0:e.contains(t)?t.offsetTop*-1:e.offsetTop+A9(e.offsetParent,t),fie=e=>{var t;const n=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView;if(!n)return{scrollMarginTop:0,scrollMarginBottom:0};const r=n.getComputedStyle(e);var i;const o=(i=P0(r.scrollMarginTop))!==null&&i!==void 0?i:P0(r.scrollMarginBlockStart);var a;const s=(a=P0(r.scrollMarginBottom))!==null&&a!==void 0?a:P0(r.scrollMarginBlockEnd);return{scrollMarginTop:o,scrollMarginBottom:s}},P0=e=>e?parseInt(e,10):0,hie=e=>new CustomEvent("activedescendantchange",{bubbles:!0,cancelable:!1,composed:!0,detail:e});function N9(e){const{imperativeRef:t,matchOption:n}=e,r=x.useRef(!1),i=x.useRef(!0),o=x.useRef(null),a=x.useRef(null),s=x.useRef(null),c=x.useRef(!0),u=x.useCallback(()=>{var C;(C=s.current)===null||C===void 0||C.removeAttribute("aria-activedescendant")},[]),d=x.useCallback(C=>{if(C&&(o.current=C),c.current&&o.current){var M;(M=s.current)===null||M===void 0||M.setAttribute("aria-activedescendant",o.current)}},[]);g9(C=>{r.current=C;const M=v();M&&(C&&i.current?M.setAttribute(jf,""):M.removeAttribute(jf))});const f=pt(n),p=x.useRef(null),{optionWalker:m,listboxCallbackRef:g}=die({matchOption:f}),v=x.useCallback(()=>{var C;return(C=p.current)===null||C===void 0?void 0:C.querySelector(`#${o.current}`)},[p]),_=x.useCallback(C=>{i.current=C;const M=v();M&&(C&&r.current?M.setAttribute(jf,""):M.removeAttribute(jf))},[v]),y=x.useCallback(()=>{const C=v();C&&(C.removeAttribute(t3),C.removeAttribute(jf)),u(),a.current=o.current,o.current=null;var M;return(M=C==null?void 0:C.id)!==null&&M!==void 0?M:null},[v,u]),S=x.useCallback(C=>{if(!C)return;const M=y();n3(C),d(C.id),C.setAttribute(t3,""),r.current&&i.current&&C.setAttribute(jf,"");const A=hie({id:C.id,previousId:M});C.dispatchEvent(A)},[y,d]),w=x.useMemo(()=>({first:({passive:C}={})=>{const M=m.first();return C||S(M),M==null?void 0:M.id},last:({passive:C}={})=>{const M=m.last();return C||S(M),M==null?void 0:M.id},next:({passive:C}={})=>{const M=v();if(!M)return;m.setCurrent(M);const A=m.next();return C||S(A),A==null?void 0:A.id},prev:({passive:C}={})=>{const M=v();if(!M)return;m.setCurrent(M);const A=m.prev();return C||S(A),A==null?void 0:A.id},blur:()=>{y()},active:()=>{var C;return(C=v())===null||C===void 0?void 0:C.id},focus:C=>{if(!p.current)return;const M=p.current.querySelector(`#${C}`);M&&S(M)},focusLastActive:()=>{if(!p.current||!a.current)return;const C=p.current.querySelector(`#${a.current}`);if(C)return S(C),!0},find(C,{passive:M,startFrom:A}={}){const E=m.find(C,A);return M||S(E),E==null?void 0:E.id},scrollActiveIntoView:()=>{if(!p.current)return;const C=v();C&&n3(C)},showAttributes(){c.current=!0,d()},hideAttributes(){c.current=!1,u()},showFocusVisibleAttributes(){_(!0)},hideFocusVisibleAttributes(){_(!1)}}),[m,p,d,u,S,y,v,_]);return x.useImperativeHandle(t,()=>w),{listboxRef:dn(p,g),activeParentRef:s,controller:w}}const pie=Fe({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{transform:scaleX(-1);}"]}),mie=(e,t)=>{const{title:n,primaryFill:r="currentColor",...i}=e,o={...i,title:void 0,fill:r},a=pie(),s=ete();return o.className=Ce(a.root,(t==null?void 0:t.flipInRtl)&&(s==null?void 0:s.textDirection)==="rtl"&&a.rtl,o.className),n&&(o["aria-label"]=n),!o["aria-label"]&&!o["aria-labelledby"]?o["aria-hidden"]=!0:o.role="img",o},gie=Fe({root:{B8gzw0y:"f1dd5bof"}},{m:[["@media (forced-colors: active){.f1dd5bof{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}]]}),lt=(e,t,n,r)=>{const i=t==="1em"?"20":t,o=x.forwardRef((a,s)=>{const c=gie(),u=mie(a,{flipInRtl:r==null?void 0:r.flipInRtl}),d={...u,className:Ce(u.className,c.root),ref:s,width:t,height:t,viewBox:`0 0 ${i} ${i}`,xmlns:"http://www.w3.org/2000/svg"};return typeof n=="string"?x.createElement("svg",{...d,dangerouslySetInnerHTML:{__html:n}}):x.createElement("svg",d,...n.map(f=>x.createElement("path",{d:f,fill:d.fill})))});return o.displayName=e,o},P9=lt("CalendarRegular","1em",["M7 11a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm1 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm1 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm2-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm4-5.5A2.5 2.5 0 0 0 14.5 3h-9A2.5 2.5 0 0 0 3 5.5v9A2.5 2.5 0 0 0 5.5 17h9a2.5 2.5 0 0 0 2.5-2.5v-9ZM4 7h12v7.5c0 .83-.67 1.5-1.5 1.5h-9A1.5 1.5 0 0 1 4 14.5V7Zm1.5-3h9c.83 0 1.5.67 1.5 1.5V6H4v-.5C4 4.67 4.67 4 5.5 4Z"],{flipInRtl:!0}),vie=lt("MailRegular","1em",["M15.5 4A2.5 2.5 0 0 1 18 6.5v8a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 2 14.5v-8A2.5 2.5 0 0 1 4.5 4h11ZM17 7.96l-6.75 3.97a.5.5 0 0 1-.42.04l-.08-.04L3 7.96v6.54c0 .83.67 1.5 1.5 1.5h11c.83 0 1.5-.67 1.5-1.5V7.96ZM15.5 5h-11C3.67 5 3 5.67 3 6.5v.3l7 4.12 7-4.12v-.3c0-.83-.67-1.5-1.5-1.5Z"]),ON=lt("SearchRegular","1em",["M13.73 14.44a6.5 6.5 0 1 1 .7-.7l3.42 3.4a.5.5 0 0 1-.63.77l-.07-.06-3.42-3.41Zm-.71-.71A5.54 5.54 0 0 0 15 9.5a5.5 5.5 0 1 0-1.98 4.23Z"]),Kh=lt("TableRegular","1em",["M17 5.5A2.5 2.5 0 0 0 14.5 3h-9A2.5 2.5 0 0 0 3 5.5v9A2.5 2.5 0 0 0 5.5 17h9a2.5 2.5 0 0 0 2.5-2.5v-9Zm-13 9V13h3v3H5.36A1.5 1.5 0 0 1 4 14.5Zm8-1.5v3H8v-3h4Zm2.5 3H13v-3h3V14.64A1.5 1.5 0 0 1 14.5 16ZM12 8v4H8V8h4Zm1 0h3v4h-3V8Zm-1-4v3H8V4h4Zm1 0H14.64A1.5 1.5 0 0 1 16 5.5V7h-3V4ZM7 4v3H4V5.36A1.5 1.5 0 0 1 5.5 4H7Zm0 4v4H4V8h3Z"]),pv=lt("MoreHorizontalRegular","1em",["M6.25 10a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0Zm5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM15 11.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"]),FN=lt("DocumentRegular","1em",["M6 2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V7.41c0-.4-.16-.78-.44-1.06l-3.91-3.91A1.5 1.5 0 0 0 10.59 2H6ZM5 4a1 1 0 0 1 1-1h4v3.5c0 .83.67 1.5 1.5 1.5H15v8a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V4Zm9.8 3h-3.3a.5.5 0 0 1-.5-.5V3.2L14.8 7Z"]),Zx=lt("SettingsRegular","1em",["M1.91 7.38A8.5 8.5 0 0 1 3.7 4.3a.5.5 0 0 1 .54-.13l1.92.68a1 1 0 0 0 1.32-.76l.36-2a.5.5 0 0 1 .4-.4 8.53 8.53 0 0 1 3.55 0c.2.04.35.2.38.4l.37 2a1 1 0 0 0 1.32.76l1.92-.68a.5.5 0 0 1 .54.13 8.5 8.5 0 0 1 1.78 3.08c.06.2 0 .4-.15.54l-1.56 1.32a1 1 0 0 0 0 1.52l1.56 1.32a.5.5 0 0 1 .15.54 8.5 8.5 0 0 1-1.78 3.08.5.5 0 0 1-.54.13l-1.92-.68a1 1 0 0 0-1.32.76l-.37 2a.5.5 0 0 1-.38.4 8.53 8.53 0 0 1-3.56 0 .5.5 0 0 1-.39-.4l-.36-2a1 1 0 0 0-1.32-.76l-1.92.68a.5.5 0 0 1-.54-.13 8.5 8.5 0 0 1-1.78-3.08.5.5 0 0 1 .15-.54l1.56-1.32a1 1 0 0 0 0-1.52L2.06 7.92a.5.5 0 0 1-.15-.54Zm1.06 0 1.3 1.1a2 2 0 0 1 0 3.04l-1.3 1.1c.3.79.72 1.51 1.25 2.16l1.6-.58a2 2 0 0 1 2.63 1.53l.3 1.67a7.56 7.56 0 0 0 2.5 0l.3-1.67a2 2 0 0 1 2.64-1.53l1.6.58a7.5 7.5 0 0 0 1.24-2.16l-1.3-1.1a2 2 0 0 1 0-3.04l1.3-1.1a7.5 7.5 0 0 0-1.25-2.16l-1.6.58a2 2 0 0 1-2.63-1.53l-.3-1.67a7.55 7.55 0 0 0-2.5 0l-.3 1.67A2 2 0 0 1 5.81 5.8l-1.6-.58a7.5 7.5 0 0 0-1.24 2.16ZM7.5 10a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Zm1 0a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z"]),fw=lt("BotRegular","1em",["M12 5.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-5 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm3.5-4a.5.5 0 0 0-1 0V3h-3C5.67 3 5 3.67 5 4.5v4c0 .83.67 1.5 1.5 1.5h7c.83 0 1.5-.67 1.5-1.5v-4c0-.83-.67-1.5-1.5-1.5h-3v-.5ZM6.5 4h7c.28 0 .5.22.5.5v4a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-4c0-.28.22-.5.5-.5Zm3.75 14c2.62-.04 4.2-.6 5.12-1.44A3.52 3.52 0 0 0 16.5 14h.01v-.69c0-1-.81-1.8-1.8-1.8h-3.2v-.01H5.3c-.99 0-1.8.81-1.8 1.81v.7c.04.77.25 1.75 1.13 2.55.93.84 2.5 1.4 5.12 1.44h.5Zm-4.94-5.5h9.38c.45 0 .81.37.81.81v.44c0 .69-.13 1.46-.8 2.07C14 16.45 12.66 17 10 17s-4.01-.55-4.7-1.18a2.63 2.63 0 0 1-.8-2.07v-.44c0-.44.36-.8.8-.8Z"]),B9=lt("PersonRegular","1em",["M10 2a4 4 0 1 0 0 8 4 4 0 0 0 0-8ZM7 6a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm-2 5a2 2 0 0 0-2 2c0 1.7.83 2.97 2.13 3.8A9.14 9.14 0 0 0 10 18c1.85 0 3.58-.39 4.87-1.2A4.35 4.35 0 0 0 17 13a2 2 0 0 0-2-2H5Zm-1 2a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1c0 1.3-.62 2.28-1.67 2.95A8.16 8.16 0 0 1 10 17a8.16 8.16 0 0 1-4.33-1.05A3.36 3.36 0 0 1 4 13Z"]),Ah=lt("BriefcaseRegular","1em",["M11.25 2c.97 0 1.75.78 1.75 1.75V5h2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-2.85V8a3 3 0 0 1 3-3h2V3.75C7 2.78 7.78 2 8.75 2h2.5ZM17 11.23c-.53.48-1.23.77-2 .77h-4v.5a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5V12H5c-.77 0-1.47-.3-2-.77V14l.01.2A2 2 0 0 0 5 16h10a2 2 0 0 0 2-2v-2.77ZM5 6a2 2 0 0 0-2 2v1c0 1.1.9 2 2 2h4v-.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v.5h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H5Zm3.75-3a.75.75 0 0 0-.75.75V5h4V3.75a.75.75 0 0 0-.75-.75h-2.5Z"]),R9=lt("AlertRegular","1em",["M10 2a5.92 5.92 0 0 1 5.98 5.36l.02.22V11.4l.92 2.22a1 1 0 0 1 .06.17l.01.08.01.13a1 1 0 0 1-.75.97l-.11.02L16 15h-3.5v.17a2.5 2.5 0 0 1-5 0V15H4a1 1 0 0 1-.26-.03l-.13-.04a1 1 0 0 1-.6-1.05l.02-.13.05-.13L4 11.4V7.57A5.9 5.9 0 0 1 10 2Zm1.5 13h-3v.15a1.5 1.5 0 0 0 1.36 1.34l.14.01c.78 0 1.42-.6 1.5-1.36V15ZM10 3a4.9 4.9 0 0 0-4.98 4.38L5 7.6V11.5l-.04.2L4 14h12l-.96-2.3-.04-.2V7.61A4.9 4.9 0 0 0 10 3Z"]),yie=lt("GlobeRegular","1em",["M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm0-15c.66 0 1.4.59 2.02 1.9.22.47.4 1.01.56 1.6H7.42c.15-.59.34-1.13.56-1.6C8.59 3.6 9.34 3 10 3ZM7.07 4.49c-.27.59-.5 1.27-.68 2.01H3.94A7.02 7.02 0 0 1 7.7 3.38c-.24.33-.45.7-.64 1.1ZM6.2 7.5a15.97 15.97 0 0 0 0 5H3.46a6.98 6.98 0 0 1 0-5h2.73Zm.2 6c.17.74.4 1.42.68 2.01.19.4.4.78.64 1.1a7.02 7.02 0 0 1-3.77-3.11h2.45Zm1.03 0h5.16a9.25 9.25 0 0 1-.56 1.6C11.41 16.4 10.66 17 10 17c-.66 0-1.4-.59-2.02-1.9-.22-.47-.4-1.01-.56-1.6Zm5.37-1H7.21a14.87 14.87 0 0 1 0-5h5.58a14.86 14.86 0 0 1 0 5Zm.82 1h2.45a7.02 7.02 0 0 1-3.77 3.12c.24-.33.45-.7.64-1.1.27-.6.5-1.28.68-2.02Zm2.93-1h-2.73a15.97 15.97 0 0 0 0-5h2.73a6.98 6.98 0 0 1 0 5Zm-4.25-9.12a7.02 7.02 0 0 1 3.77 3.12h-2.45a10.5 10.5 0 0 0-.68-2.01c-.19-.4-.4-.78-.64-1.1Z"]),bie=lt("WarningFilled","1em",["M8.68 2.79a1.5 1.5 0 0 1 2.64 0l6.5 12A1.5 1.5 0 0 1 16.5 17h-13a1.5 1.5 0 0 1-1.32-2.21l6.5-12ZM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Zm.25 6.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"]),j9=lt("WarningRegular","1em",["M9.56 3.26a.5.5 0 0 1 .88 0l6.5 12a.5.5 0 0 1-.44.74h-13a.5.5 0 0 1-.44-.74l6.5-12Zm1.76-.47a1.5 1.5 0 0 0-2.64 0l-6.5 12A1.5 1.5 0 0 0 3.5 17h13a1.5 1.5 0 0 0 1.32-2.21l-6.5-12ZM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 1 0 1 0v-4Zm.25 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"]),xie=lt("StarRegular","1em",["M9.1 2.9a1 1 0 0 1 1.8 0l1.93 3.91 4.31.63a1 1 0 0 1 .56 1.7l-3.12 3.05.73 4.3a1 1 0 0 1-1.45 1.05L10 15.51l-3.86 2.03a1 1 0 0 1-1.45-1.05l.74-4.3L2.3 9.14a1 1 0 0 1 .56-1.7l4.31-.63L9.1 2.9Zm.9.44L8.07 7.25a1 1 0 0 1-.75.55L3 8.43l3.12 3.04a1 1 0 0 1 .3.89l-.75 4.3 3.87-2.03a1 1 0 0 1 .93 0l3.86 2.03-.74-4.3a1 1 0 0 1 .29-.89L17 8.43l-4.32-.63a1 1 0 0 1-.75-.55L10 3.35Z"]),_ie=lt("InfoFilled","1em",["M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM9.5 8.91a.5.5 0 0 1 1 0V13.6a.5.5 0 0 1-1 0V8.9Zm-.25-2.16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Z"]),Nb=lt("InfoRegular","1em",["M10.5 8.91a.5.5 0 0 0-1 .09v4.6a.5.5 0 0 0 1-.1V8.91Zm.3-2.16a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0ZM18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM3 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"]),jg=lt("LinkRegular","1em",["M8 6a.5.5 0 0 1 .09 1H6a3 3 0 0 0-.2 6H8a.5.5 0 0 1 .09 1H6a4 4 0 0 1-.22-8H8Zm6 0a4 4 0 0 1 .22 8H12a.5.5 0 0 1-.09-1H14a3 3 0 0 0 .2-6H12a.5.5 0 0 1-.09-1H14ZM6 9.5h8a.5.5 0 0 1 .09 1H6a.5.5 0 0 1-.09-1H14 6Z"]),Wr=lt("AddRegular","1em",["M10 2.5c.28 0 .5.22.5.5v6.5H17a.5.5 0 0 1 0 1h-6.5V17a.5.5 0 0 1-1 0v-6.5H3a.5.5 0 0 1 0-1h6.5V3c0-.28.22-.5.5-.5Z"]),mv=lt("PlayRegular","1em",["M17.22 8.69a1.5 1.5 0 0 1 0 2.62l-10 5.5A1.5 1.5 0 0 1 5 15.5v-11A1.5 1.5 0 0 1 7.22 3.2l10 5.5Zm-.48 1.75a.5.5 0 0 0 0-.88l-10-5.5A.5.5 0 0 0 6 4.5v11c0 .38.4.62.74.44l10-5.5Z"]),ju=lt("EyeRegular","1em",["M3.26 11.6A6.97 6.97 0 0 1 10 6c3.2 0 6.06 2.33 6.74 5.6a.5.5 0 0 0 .98-.2A7.97 7.97 0 0 0 10 5a7.97 7.97 0 0 0-7.72 6.4.5.5 0 0 0 .98.2ZM10 8a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-2.5 3.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0Z"]),r3=lt("EyeOffRegular","1em",["M2.85 2.15a.5.5 0 1 0-.7.7l3.5 3.5a8.1 8.1 0 0 0-3.37 5.05.5.5 0 1 0 .98.2 7.09 7.09 0 0 1 3.1-4.53l1.6 1.59a3.5 3.5 0 1 0 4.88 4.89l4.3 4.3a.5.5 0 0 0 .71-.7l-15-15Zm9.27 10.68a2.5 2.5 0 1 1-3.45-3.45l3.45 3.45Zm-2-4.83 3.38 3.38A3.5 3.5 0 0 0 10.12 8ZM10 6c-.57 0-1.13.07-1.67.21l-.8-.8A7.65 7.65 0 0 1 10 5c3.7 0 6.94 2.67 7.72 6.4a.5.5 0 0 1-.98.2A6.97 6.97 0 0 0 10 6Z"]),Yh=lt("FlowchartRegular","1em",["M4.5 3C3.67 3 3 3.67 3 4.5v2C3 7.33 3.67 8 4.5 8H5v3.84a1 1 0 0 0-.2.16L3 13.8a1 1 0 0 0 0 1.4L4.8 17a1 1 0 0 0 1.4 0L8 15.2a1 1 0 0 0 .16-.2H12v.5c0 .83.67 1.5 1.5 1.5h2c.83 0 1.5-.67 1.5-1.5v-2c0-.83-.67-1.5-1.5-1.5h-2c-.83 0-1.5.67-1.5 1.5v.5H8.16a1 1 0 0 0-.16-.2L6.2 12a1 1 0 0 0-.2-.16V8h.5C7.33 8 8 7.33 8 6.5v-2C8 3.67 7.33 3 6.5 3h-2ZM4 4.5c0-.28.22-.5.5-.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2Zm-.3 10 1.8-1.8 1.8 1.8-1.8 1.8-1.8-1.8Zm9.8-1.5h2c.28 0 .5.22.5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2c0-.28.22-.5.5-.5Z"]),I9=lt("CircleFilled","1em",["M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16Z"]),zd=lt("EditRegular","1em",["M17.18 2.93a2.97 2.97 0 0 0-4.26-.06l-9.37 9.38c-.33.33-.56.74-.66 1.2l-.88 3.94a.5.5 0 0 0 .6.6l3.93-.87c.46-.1.9-.34 1.23-.68l9.36-9.36a2.97 2.97 0 0 0 .05-4.15Zm-3.55.65a1.97 1.97 0 1 1 2.8 2.8l-.68.66-2.8-2.79.68-.67Zm-1.38 1.38 2.8 2.8-7.99 7.97c-.2.2-.46.35-.74.41l-3.16.7.7-3.18c.07-.27.2-.51.4-.7l8-8Z"]),cu=lt("LocationRegular","1em",["M5.05 4.05a7 7 0 1 1 9.9 9.9l-1.13 1.12-2.43 2.37a2 2 0 0 1-2.64.12l-.14-.12-2.04-1.99-1.52-1.5a7 7 0 0 1 0-9.9Zm9.2.7a6 6 0 0 0-8.67 8.32l.17.18.58.57 2.98 2.9.09.08a1 1 0 0 0 1.2 0l.1-.08 2.22-2.17 1.32-1.3.18-.18a6 6 0 0 0-.18-8.31ZM10 6.26a2.75 2.75 0 1 1 0 5.5 2.75 2.75 0 0 1 0-5.5Zm0 1a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Z"]),wie=lt("ReceiptRegular","1em",["M3 5c0-1.1.9-2 2-2h7a2 2 0 0 1 2 2v7h3v2a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V5Zm11 8v3a2 2 0 0 0 2-2v-1h-2Zm-1 3V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v9c0 1.1.9 2 2 2h7ZM6 6.5c0-.28.22-.5.5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 3c0-.28.22-.5.5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 3c0-.28.22-.5.5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"]),Iu=lt("ArrowClockwiseRegular","1em",["M4 10a6 6 0 0 1 10.47-4H12.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-1 0v1.6a7 7 0 1 0 1.98 4.36.5.5 0 1 0-1 .08L16 10a6 6 0 0 1-12 0Z"]),Sie=lt("ArrowDownRegular","1em",["M16.87 10.84a.5.5 0 1 0-.74-.68l-5.63 6.17V2.5a.5.5 0 0 0-1 0v13.83l-5.63-6.17a.5.5 0 0 0-.74.68l6.31 6.91a.75.75 0 0 0 1.11 0l6.32-6.91Z"]),Cie=lt("ArrowMoveRegular","1em",["M10.35 2.15a.5.5 0 0 0-.7 0l-2.5 2.5a.5.5 0 1 0 .7.7L9.5 3.71V7.5a.5.5 0 0 0 1 0V3.7l1.65 1.65a.5.5 0 0 0 .7-.7l-2.5-2.5Zm-8.2 7.5a.5.5 0 0 0 0 .7l2.5 2.5a.5.5 0 0 0 .7-.7L3.71 10.5H7.5a.5.5 0 0 0 0-1H3.7l1.65-1.65a.5.5 0 1 0-.7-.7l-2.5 2.5ZM10 18a.5.5 0 0 1-.35-.15l-2.5-2.5a.5.5 0 0 1 .7-.7l1.65 1.64V12.5a.5.5 0 0 1 1 0v3.8l1.65-1.65a.5.5 0 0 1 .7.7l-2.5 2.5A.5.5 0 0 1 10 18Zm7.85-7.65a.5.5 0 0 0 0-.7l-2.5-2.5a.5.5 0 0 0-.7.7l1.64 1.65H12.5a.5.5 0 0 0 0 1h3.8l-1.65 1.65a.5.5 0 0 0 .7.7l2.5-2.5Z"]),Tie=lt("ArrowUpRegular","1em",["M3.13 9.16a.5.5 0 1 0 .74.68L9.5 3.67V17.5a.5.5 0 1 0 1 0V3.67l5.63 6.17a.5.5 0 0 0 .74-.68l-6.32-6.92a.75.75 0 0 0-1.1 0L3.13 9.16Z"],{flipInRtl:!0}),gv=lt("PauseRegular","1em",["M5 2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H5ZM4 4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4Zm9-2a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-2Zm-1 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4Z"]),kie=lt("SendRegular","1em",["M2.18 2.11a.5.5 0 0 1 .54-.06l15 7.5a.5.5 0 0 1 0 .9l-15 7.5a.5.5 0 0 1-.7-.58L3.98 10 2.02 2.63a.5.5 0 0 1 .16-.52Zm2.7 8.39-1.61 6.06L16.38 10 3.27 3.44 4.88 9.5h6.62a.5.5 0 1 1 0 1H4.88Z"],{flipInRtl:!0}),Eie=lt("SparkleRegular","1em",["M7.4 12.8a1.04 1.04 0 0 0 1.59-.51l.45-1.37a2.34 2.34 0 0 1 1.47-1.48l1.4-.45A1.04 1.04 0 0 0 12.25 7l-1.37-.45A2.34 2.34 0 0 1 9.4 5.08L8.95 3.7a1.03 1.03 0 0 0-.82-.68 1.04 1.04 0 0 0-1.15.7l-.46 1.4a2.34 2.34 0 0 1-1.44 1.45L3.7 7a1.04 1.04 0 0 0 .02 1.97l1.37.45a2.33 2.33 0 0 1 1.48 1.48l.46 1.4c.07.2.2.37.38.5Zm.08-7.4.53-1.38.44 1.37a3.33 3.33 0 0 0 2.12 2.12l1.4.53-1.38.45a3.34 3.34 0 0 0-2.11 2.11l-.53 1.38-.45-1.38a3.34 3.34 0 0 0-2.1-2.12L4 7.96 5.4 7.5a3.36 3.36 0 0 0 2.08-2.12Zm6.06 11.45a.8.8 0 0 0 1.22-.4l.25-.76a1.09 1.09 0 0 1 .68-.68l.77-.25a.8.8 0 0 0-.02-1.52l-.77-.25a1.08 1.08 0 0 1-.68-.68l-.25-.77a.8.8 0 0 0-1.52.01l-.24.76a1.1 1.1 0 0 1-.67.68l-.77.25a.8.8 0 0 0 0 1.52l.77.25a1.09 1.09 0 0 1 .68.68l.25.77c.06.16.16.3.3.4Zm-.92-2.8-.18-.05.19-.06a2.09 2.09 0 0 0 1.3-1.32l.06-.18.05.18a2.08 2.08 0 0 0 1.32 1.32l.2.06-.18.06a2.08 2.08 0 0 0-1.32 1.32l-.06.18-.06-.18a2.07 2.07 0 0 0-1.32-1.32Z"]),Mie=lt("CheckmarkFilled","1em",["M7.03 13.9 3.56 10a.75.75 0 0 0-1.12 1l4 4.5c.29.32.79.34 1.09.03l10.5-10.5a.75.75 0 0 0-1.06-1.06l-9.94 9.94Z"]),i3=lt("CheckmarkRegular","1em",["M3.37 10.17a.5.5 0 0 0-.74.66l4 4.5c.19.22.52.23.72.02l10.5-10.5a.5.5 0 0 0-.7-.7L7.02 14.27l-3.65-4.1Z"]),Aie=lt("CheckmarkCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm3.36 5.65a.5.5 0 0 0-.64-.06l-.07.06L9 11.3 7.35 9.65l-.07-.06a.5.5 0 0 0-.7.7l.07.07 2 2 .07.06c.17.11.4.11.56 0l.07-.06 4-4 .07-.08a.5.5 0 0 0-.06-.63Z"]),z9=lt("CheckmarkCircleRegular","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0 1a7 7 0 1 0 0 14 7 7 0 0 0 0-14Zm3.36 4.65c.17.17.2.44.06.63l-.06.07-4 4a.5.5 0 0 1-.64.07l-.07-.06-2-2a.5.5 0 0 1 .63-.77l.07.06L9 11.3l3.65-3.65c.2-.2.51-.2.7 0Z"]),UN=lt("ChevronDownRegular","1em",["M15.85 7.65c.2.2.2.5 0 .7l-5.46 5.49a.55.55 0 0 1-.78 0L4.15 8.35a.5.5 0 1 1 .7-.7L10 12.8l5.15-5.16c.2-.2.5-.2.7 0Z"]),Nie=lt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),Pie=lt("ChevronLeftRegular","1em",["M12.35 15.85a.5.5 0 0 1-.7 0L6.16 10.4a.55.55 0 0 1 0-.78l5.49-5.46a.5.5 0 1 1 .7.7L7.2 10l5.16 5.15c.2.2.2.5 0 .7Z"]),Bie=lt("ChevronRightFilled","1em",["M7.73 4.2a.75.75 0 0 1 1.06.03l5 5.25c.28.3.28.75 0 1.04l-5 5.25a.75.75 0 1 1-1.08-1.04L12.2 10l-4.5-4.73a.75.75 0 0 1 .02-1.06Z"]),L9=lt("ChevronRightRegular","1em",["M7.65 4.15c.2-.2.5-.2.7 0l5.49 5.46c.21.22.21.57 0 .78l-5.49 5.46a.5.5 0 0 1-.7-.7L12.8 10 7.65 4.85a.5.5 0 0 1 0-.7Z"]),D9=lt("HomeRegular","1em",["M9 2.39a1.5 1.5 0 0 1 2 0l5.5 4.94c.32.28.5.69.5 1.12v7.05c0 .83-.67 1.5-1.5 1.5H13a1.5 1.5 0 0 1-1.5-1.5V12a.5.5 0 0 0-.5-.5H9a.5.5 0 0 0-.5.5v3.5c0 .83-.67 1.5-1.5 1.5H4.5A1.5 1.5 0 0 1 3 15.5V8.45c0-.43.18-.84.5-1.12L9 2.39Zm1.33.74a.5.5 0 0 0-.66 0l-5.5 4.94a.5.5 0 0 0-.17.38v7.05c0 .28.22.5.5.5H7a.5.5 0 0 0 .5-.5V12c0-.83.67-1.5 1.5-1.5h2c.83 0 1.5.67 1.5 1.5v3.5c0 .28.22.5.5.5h2.5a.5.5 0 0 0 .5-.5V8.45a.5.5 0 0 0-.17-.38l-5.5-4.94Z"]),Ld=lt("BuildingRegular","1em",["M6.75 6.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm.75 2.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm-.75 3.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm3.75-6.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 9.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm.75 2.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm2.25.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM4.5 18a.5.5 0 0 1-.5-.5v-14C4 2.67 4.67 2 5.5 2h6c.83 0 1.5.67 1.5 1.5V8h1.5c.83 0 1.5.67 1.5 1.5v8a.5.5 0 0 1-.5.5h-11ZM5 3.5V17h2v-2.5c0-.28.22-.5.5-.5h5c.28 0 .5.22.5.5V17h2V9.5a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0-.5.5ZM12 15h-1.5v2H12v-2Zm-2.5 0H8v2h1.5v-2Z"]),Xa=lt("DeleteRegular","1em",["M8.5 4h3a1.5 1.5 0 0 0-3 0Zm-1 0a2.5 2.5 0 0 1 5 0h5a.5.5 0 0 1 0 1h-1.05l-1.2 10.34A3 3 0 0 1 12.27 18H7.73a3 3 0 0 1-2.98-2.66L3.55 5H2.5a.5.5 0 0 1 0-1h5ZM5.74 15.23A2 2 0 0 0 7.73 17h4.54a2 2 0 0 0 1.99-1.77L15.44 5H4.56l1.18 10.23ZM8.5 7.5c.28 0 .5.22.5.5v6a.5.5 0 0 1-1 0V8c0-.28.22-.5.5-.5ZM12 8a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V8Z"]),gl=lt("PeopleRegular","1em",["M4.5 6.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM6.75 3.5a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5Zm5.69 11.65c.53.21 1.21.35 2.06.35 1.88 0 2.92-.67 3.47-1.43a2.92 2.92 0 0 0 .53-1.5v-.07c0-.83-.67-1.5-1.5-1.5h-4.63c.24.29.42.63.53 1H17c.28 0 .5.22.5.5v.1l-.04.22c-.04.18-.13.42-.3.66-.33.46-1.04 1.02-2.66 1.02-.73 0-1.28-.11-1.69-.28-.08.28-.2.6-.37.93ZM1.5 13c0-1.1.9-2 2-2H10a2 2 0 0 1 2 2V13.08a1.43 1.43 0 0 1-.01.18 3.95 3.95 0 0 1-.67 1.8C10.62 16.09 9.26 17 6.75 17c-2.51 0-3.87-.92-4.57-1.93a3.95 3.95 0 0 1-.68-1.99V13Zm1 .06v.1l.06.33c.07.27.2.64.45 1C3.49 15.2 4.5 16 6.75 16s3.26-.8 3.74-1.5a2.95 2.95 0 0 0 .5-1.42l.01-.02V13a1 1 0 0 0-1-1H3.5a1 1 0 0 0-1 1v.06ZM13 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM14.5 5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Z"]),Rie=lt("BoxArrowUpRegular","1em",["M11.3 2.48a3.5 3.5 0 0 0-2.6 0l-5.76 2.3A1.5 1.5 0 0 0 2 6.18v7.64c0 .62.37 1.17.94 1.4l5.76 2.3c.44.17.9.26 1.38.25a5.5 5.5 0 0 1-.62-1.06 2.5 2.5 0 0 1-.39-.12l-5.76-2.3a.5.5 0 0 1-.31-.47V6.24l6.5 2.6v3.36c.25-.54.6-1.04 1-1.48V8.84l6.5-2.6V9.6c.36.18.7.4 1 .66V6.18a1.5 1.5 0 0 0-.94-1.4l-5.76-2.3Zm-2.23.93a2.5 2.5 0 0 1 1.86 0l5.22 2.09-2.27.91-6.16-2.46 1.35-.54Zm-2.7 1.08 6.16 2.46L10 7.96 3.85 5.5l2.53-1.01Zm8.13 14.5a4.5 4.5 0 1 0 0-8.99 4.5 4.5 0 0 0 0 9Zm.35-6.85 2 2a.5.5 0 1 1-.7.71L15 13.71v2.79a.5.5 0 0 1-1 0v-2.8l-1.15 1.15a.5.5 0 1 1-.7-.7l2-2a.5.5 0 0 1 .35-.15.5.5 0 0 1 .35.14Z"]),Gn=lt("DismissRegular","1em",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),jie=lt("DismissCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM7.8 7.11a.5.5 0 0 0-.63.06l-.06.07a.5.5 0 0 0 .06.64L9.3 10l-2.12 2.12-.06.07a.5.5 0 0 0 .06.64l.07.06c.2.13.47.11.64-.06L10 10.7l2.12 2.12.07.06c.2.13.46.11.64-.06l.06-.07a.5.5 0 0 0-.06-.64L10.7 10l2.12-2.12.06-.07a.5.5 0 0 0-.06-.64l-.07-.06a.5.5 0 0 0-.64.06L10 9.3 7.88 7.17l-.07-.06Z"]),O9=lt("DismissCircleRegular","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0 1a7 7 0 1 0 0 14 7 7 0 0 0 0-14ZM7.8 7.11l.08.06L10 9.3l2.12-2.12a.5.5 0 0 1 .64-.06l.07.06c.17.18.2.44.06.64l-.06.07L10.7 10l2.12 2.12c.17.17.2.44.06.64l-.06.07a.5.5 0 0 1-.64.06l-.07-.06L10 10.7l-2.12 2.12a.5.5 0 0 1-.64.06l-.07-.06a.5.5 0 0 1-.06-.64l.06-.07L9.3 10 7.17 7.88a.5.5 0 0 1-.06-.64l.06-.07a.5.5 0 0 1 .64-.06Z"]),Iie=lt("PanelLeftRegular","1em",["M2 6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V6Zm6.5-2v11H15a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H8.5Zm-1 0H5a2 2 0 0 0-2 2v7c0 1.1.9 2 2 2h2.5V4Z"]),zie=lt("GridRegular","1em",["M7.5 11c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4A1.5 1.5 0 0 1 2 16.5v-4c0-.83.67-1.5 1.5-1.5h4Zm9 0c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4a1.5 1.5 0 0 1-1.5-1.5v-4c0-.83.67-1.5 1.5-1.5h4Zm-9 1h-4a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5Zm9 0h-4a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5Zm-9-10C8.33 2 9 2.67 9 3.5v4C9 8.33 8.33 9 7.5 9h-4A1.5 1.5 0 0 1 2 7.5v-4C2 2.67 2.67 2 3.5 2h4Zm9 0c.83 0 1.5.67 1.5 1.5v4c0 .83-.67 1.5-1.5 1.5h-4A1.5 1.5 0 0 1 11 7.5v-4c0-.83.67-1.5 1.5-1.5h4Zm-9 1h-4a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5Zm9 0h-4a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5Z"]),Lie=lt("QuestionCircleRegular","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0 1a7 7 0 1 0 0 14 7 7 0 0 0 0-14Zm0 10.5a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm0-8a2.5 2.5 0 0 1 1.65 4.38l-.15.12-.22.17-.09.07-.16.15c-.33.36-.53.85-.53 1.61a.5.5 0 0 1-1 0 3.2 3.2 0 0 1 1.16-2.62l.25-.19.12-.1A1.5 1.5 0 0 0 10 6.5c-.83 0-1.5.67-1.5 1.5a.5.5 0 0 1-1 0A2.5 2.5 0 0 1 10 5.5Z"]),Die=lt("Warning12Filled","12",["M5.21 1.46a.9.9 0 0 1 1.58 0l4.09 7.17a.92.92 0 0 1-.79 1.37H1.91a.92.92 0 0 1-.79-1.37l4.1-7.17ZM5.5 4.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-1 0ZM6 6.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"]),Oie=lt("Lightbulb16Regular","16",["M4.5 6.5A3.5 3.5 0 1 1 10.45 9c-.19.19-.36.43-.44.73L9.66 11H6.34l-.35-1.27c-.08-.3-.25-.54-.44-.73A3.49 3.49 0 0 1 4.5 6.5ZM6.6 12h2.8l-.18.63a.5.5 0 0 1-.48.37H7.26a.5.5 0 0 1-.48-.37L6.61 12ZM8 2a4.5 4.5 0 0 0-3.16 7.7c.1.1.16.2.19.3l.79 2.9c.17.65.77 1.1 1.44 1.1h1.48a1.5 1.5 0 0 0 1.44-1.1l.8-2.9c.02-.1.08-.2.18-.3A4.49 4.49 0 0 0 8 2Z"]),o3=lt("PresenceAvailable10Filled","10",["M5 10A5 5 0 1 0 5 0a5 5 0 0 0 0 10Zm2.1-5.9L4.85 6.35a.5.5 0 0 1-.7 0l-1-1a.5.5 0 0 1 .7-.7l.65.64 1.9-1.9a.5.5 0 0 1 .7.71Z"]),a3=lt("PresenceAvailable10Regular","10",["M5 0a5 5 0 1 0 0 10A5 5 0 0 0 5 0ZM1 5a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm6.1-1.6c.2.2.2.5 0 .7L4.85 6.35a.5.5 0 0 1-.7 0l-1-1a.5.5 0 1 1 .7-.7l.65.64 1.9-1.9c.2-.19.5-.19.7 0Z"]),Fie=lt("PresenceAvailable12Filled","12",["M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12Zm2.53-6.72L5.78 8.03c-.3.3-.77.3-1.06 0l-1-1a.75.75 0 0 1 1.06-1.06l.47.47 2.22-2.22a.75.75 0 0 1 1.06 1.06Z"]),Uie=lt("PresenceAvailable12Regular","12",["M6 0a6 6 0 1 0 0 12A6 6 0 0 0 6 0ZM1.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Zm7.03-1.78c.3.3.3.77 0 1.06L5.78 8.03c-.3.3-.77.3-1.06 0l-1-1a.75.75 0 0 1 1.06-1.06l.47.47 2.22-2.22c.3-.3.77-.3 1.06 0Z"]),qie=lt("PresenceAvailable16Filled","16",["M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.7-9.3-4 4a1 1 0 0 1-1.41 0l-2-2a1 1 0 1 1 1.42-1.4L7 8.58l3.3-3.3a1 1 0 0 1 1.4 1.42Z"]),Hie=lt("PresenceAvailable16Regular","16",["M11.7 6.7a1 1 0 0 0-1.4-1.4L7 8.58l-1.3-1.3a1 1 0 0 0-1.4 1.42l2 2a1 1 0 0 0 1.4 0l4-4ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"]),s3=lt("PresenceAvailable20Filled","20",["M10 20a10 10 0 1 0 0-20 10 10 0 0 0 0 20Zm4.2-11.8-4.5 4.5a1 1 0 0 1-1.4 0l-2-2a1 1 0 1 1 1.4-1.4L9 10.58l3.8-3.8a1 1 0 1 1 1.4 1.42Z"]),l3=lt("PresenceAvailable20Regular","20",["M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20ZM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm12.2-3.2a1 1 0 0 1 0 1.4l-4.5 4.5a1 1 0 0 1-1.4 0l-2-2a1 1 0 0 1 1.4-1.4L9 10.58l3.8-3.8a1 1 0 0 1 1.4 0Z"]),c3=lt("PresenceAway10Filled","10",["M5 10A5 5 0 1 0 5 0a5 5 0 0 0 0 10Zm0-7v1.8l1.35 1.35a.5.5 0 1 1-.7.7l-1.5-1.5A.5.5 0 0 1 4 5V3a.5.5 0 0 1 1 0Z"]),Vie=lt("PresenceAway12Filled","12",["M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12Zm.5-8.75v2.4l1.49 1.28A.75.75 0 1 1 7 8.07l-1.75-1.5A.75.75 0 0 1 5 6V3.25a.75.75 0 0 1 1.5 0Z"]),Wie=lt("PresenceAway16Filled","16",["M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm.5-11.5v3.02l2.12 1.7a1 1 0 1 1-1.24 1.56l-2.5-2A1 1 0 0 1 6.5 8V4.5a1 1 0 0 1 2 0Z"]),u3=lt("PresenceAway20Filled","20",["M10 20a10 10 0 1 0 0-20 10 10 0 0 0 0 20Zm0-14V9.6l2.7 2.7a1 1 0 0 1-1.4 1.42l-3-3A1 1 0 0 1 8 10V6a1 1 0 1 1 2 0Z"]),d3=lt("PresenceBlocked10Regular","10",["M10 5A5 5 0 1 0 0 5a5 5 0 0 0 10 0ZM9 5a4 4 0 0 1-6.45 3.16l5.61-5.61C8.69 3.22 9 4.08 9 5ZM7.45 1.84 1.84 7.45a4 4 0 0 1 5.61-5.61Z"]),Gie=lt("PresenceBlocked12Regular","12",["M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0Zm-1.5 0c0-.97-.3-1.87-.83-2.6L3.39 9.66A4.5 4.5 0 0 0 10.5 6ZM8.6 2.33a4.5 4.5 0 0 0-6.28 6.28l6.29-6.28Z"]),$ie=lt("PresenceBlocked16Regular","16",["M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-2 0c0-1.3-.41-2.5-1.1-3.48L4.51 12.9A6 6 0 0 0 14 8Zm-2.52-4.9a6 6 0 0 0-8.37 8.37l8.37-8.36Z"]),f3=lt("PresenceBlocked20Regular","20",["M20 10a10 10 0 1 0-20 0 10 10 0 0 0 20 0Zm-2 0a8 8 0 0 1-12.9 6.32L16.31 5.09A7.97 7.97 0 0 1 18 10Zm-3.1-6.32L3.69 14.91A8 8 0 0 1 14.91 3.68Z"]),h3=lt("PresenceBusy10Filled","10",["M10 5A5 5 0 1 1 0 5a5 5 0 0 1 10 0Z"]),Xie=lt("PresenceBusy12Filled","12",["M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0Z"]),Zie=lt("PresenceBusy16Filled","16",["M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Z"]),p3=lt("PresenceBusy20Filled","20",["M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0Z"]),m3=lt("PresenceDnd10Filled","10",["M5 10A5 5 0 1 0 5 0a5 5 0 0 0 0 10ZM3.5 4.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1Z"]),g3=lt("PresenceDnd10Regular","10",["M5 0a5 5 0 1 0 0 10A5 5 0 0 0 5 0ZM1 5a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm2 0c0-.28.22-.5.5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 3 5Z"]),Kie=lt("PresenceDnd12Filled","12",["M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12ZM3.75 5.25h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5Z"]),Yie=lt("PresenceDnd12Regular","12",["M6 0a6 6 0 1 0 0 12A6 6 0 0 0 6 0ZM1.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3 6c0-.41.34-.75.75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 3 6Z"]),Jie=lt("PresenceDnd16Filled","16",["M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM5.25 7h5.5a1 1 0 1 1 0 2h-5.5a1 1 0 1 1 0-2Z"]),Qie=lt("PresenceDnd16Regular","16",["M5.25 7a1 1 0 0 0 0 2h5.5a1 1 0 1 0 0-2h-5.5ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"]),v3=lt("PresenceDnd20Filled","20",["M10 20a10 10 0 1 0 0-20 10 10 0 0 0 0 20ZM7 9h6a1 1 0 1 1 0 2H7a1 1 0 1 1 0-2Z"]),y3=lt("PresenceDnd20Regular","20",["M10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20ZM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm4 0a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H7a1 1 0 0 1-1-1Z"]),b3=lt("PresenceOffline10Regular","10",["M6.85 3.15c.2.2.2.5 0 .7L5.71 5l1.14 1.15a.5.5 0 1 1-.7.7L5 5.71 3.85 6.85a.5.5 0 1 1-.7-.7L4.29 5 3.15 3.85a.5.5 0 1 1 .7-.7L5 4.29l1.15-1.14c.2-.2.5-.2.7 0ZM0 5a5 5 0 1 1 10 0A5 5 0 0 1 0 5Zm5-4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z"]),eoe=lt("PresenceOffline12Regular","12",["M8.03 3.97c.3.3.3.77 0 1.06L7.06 6l.97.97a.75.75 0 0 1-1.06 1.06L6 7.06l-.97.97a.75.75 0 0 1-1.06-1.06L4.94 6l-.97-.97a.75.75 0 0 1 1.06-1.06l.97.97.97-.97c.3-.3.77-.3 1.06 0ZM0 6a6 6 0 1 1 12 0A6 6 0 0 1 0 6Zm6-4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Z"]),toe=lt("PresenceOffline16Regular","16",["M10.7 5.3a1 1 0 0 1 0 1.4L9.42 8l1.3 1.3a1 1 0 0 1-1.42 1.4L8 9.42l-1.3 1.3a1 1 0 0 1-1.4-1.42L6.58 8l-1.3-1.3a1 1 0 0 1 1.42-1.4L8 6.58l1.3-1.3a1 1 0 0 1 1.4 0ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"]),x3=lt("PresenceOffline20Regular","20",["M13.7 6.3a1 1 0 0 1 0 1.4L11.42 10l2.3 2.3a1 1 0 0 1-1.42 1.4L10 11.42l-2.3 2.3a1 1 0 0 1-1.4-1.42L8.58 10l-2.3-2.3a1 1 0 0 1 1.42-1.4L10 8.58l2.3-2.3a1 1 0 0 1 1.4 0ZM0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0Zm10-8a8 8 0 1 0 0 16 8 8 0 0 0 0-16Z"]),_3=lt("PresenceOof10Regular","10",["M5.35 3.85a.5.5 0 1 0-.7-.7l-1.5 1.5a.5.5 0 0 0 0 .7l1.5 1.5a.5.5 0 1 0 .7-.7L4.7 5.5h1.8a.5.5 0 1 0 0-1H4.7l.65-.65ZM5 0a5 5 0 1 0 0 10A5 5 0 0 0 5 0ZM1 5a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"]),noe=lt("PresenceOof12Regular","12",["M6.28 4.53a.75.75 0 0 0-1.06-1.06l-2 2c-.3.3-.3.77 0 1.06l2 2a.75.75 0 0 0 1.06-1.06l-.72-.72h2.69a.75.75 0 1 0 0-1.5h-2.7l.73-.72ZM6 0a6 6 0 1 0 0 12A6 6 0 0 0 6 0ZM1.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Z"]),roe=lt("PresenceOof16Regular","16",["M8.2 6.2a1 1 0 1 0-1.4-1.4L4.3 7.3a1 1 0 0 0 0 1.4l2.5 2.5a1 1 0 0 0 1.4-1.4L7.42 9H11a1 1 0 1 0 0-2H7.41l.8-.8ZM8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8Z"]),w3=lt("PresenceOof20Regular","20",["M10.7 7.7A1 1 0 1 0 9.28 6.3l-3 3a1 1 0 0 0 0 1.41l3 3a1 1 0 1 0 1.42-1.41l-1.3-1.3H13a1 1 0 1 0 0-2H9.4l1.3-1.29ZM10 0a10 10 0 1 0 0 20 10 10 0 0 0 0-20ZM2 10a8 8 0 1 1 16 0 8 8 0 0 1-16 0Z"]),S3=lt("PresenceUnknown10Regular","10",["M5 1a4 4 0 1 0 0 8 4 4 0 0 0 0-8ZM0 5a5 5 0 1 1 10 0A5 5 0 0 1 0 5Z"]),ioe=lt("PresenceUnknown12Regular","12",["M6 1.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9ZM0 6a6 6 0 1 1 12 0A6 6 0 0 1 0 6Z"]),ooe=lt("PresenceUnknown16Regular","16",["M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Z"]),C3=lt("PresenceUnknown20Regular","20",["M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM0 10a10 10 0 1 1 20 0 10 10 0 0 1-20 0Z"]),F9=lt("Checkmark12Filled","12",["M9.76 3.2c.3.29.32.76.04 1.06l-4.25 4.5a.75.75 0 0 1-1.08.02L2.22 6.53a.75.75 0 0 1 1.06-1.06l1.7 1.7L8.7 3.24a.75.75 0 0 1 1.06-.04Z"]),aoe=lt("Checkmark16Filled","16",["M14.05 3.49c.28.3.27.77-.04 1.06l-7.93 7.47A.85.85 0 0 1 4.9 12L2.22 9.28a.75.75 0 1 1 1.06-1.06l2.24 2.27 7.47-7.04a.75.75 0 0 1 1.06.04Z"]),soe=lt("CheckmarkCircle12Filled","12",["M1 6a5 5 0 1 1 10 0A5 5 0 0 1 1 6Zm7.35-.9a.5.5 0 1 0-.7-.7L5.5 6.54 4.35 5.4a.5.5 0 1 0-.7.7l1.5 1.5c.2.2.5.2.7 0l2.5-2.5Z"]),loe=lt("ChevronRight12Regular","12",["M4.65 2.15a.5.5 0 0 0 0 .7L7.79 6 4.65 9.15a.5.5 0 1 0 .7.7l3.5-3.5a.5.5 0 0 0 0-.7l-3.5-3.5a.5.5 0 0 0-.7 0Z"]),coe=lt("Square12Filled","12",["M2 4c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Z"]),uoe=lt("Square16Filled","16",["M2 4.5A2.5 2.5 0 0 1 4.5 2h7A2.5 2.5 0 0 1 14 4.5v7a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 11.5v-7Z"]),doe=lt("ErrorCircle12Filled","12",["M6 11A5 5 0 1 0 6 1a5 5 0 0 0 0 10Zm-.75-2.75a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Zm.26-4.84a.5.5 0 0 1 .98 0l.01.09v2.59a.5.5 0 0 1-1 0V3.41Z"]),foe=lt("Dismiss12Regular","12",["m2.09 2.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L6 5.29l3.15-3.14a.5.5 0 1 1 .7.7L6.71 6l3.14 3.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L6 6.71 2.85 9.85a.5.5 0 0 1-.7-.7L5.29 6 2.15 2.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),hoe=lt("Dismiss20Regular","20",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),poe="fui-Icon-filled",moe="fui-Icon-regular",goe=Fe({root:{mc9l5x:"fjseox"},visible:{mc9l5x:"f1w7gpdv"}},{d:[".fjseox{display:none;}",".f1w7gpdv{display:inline;}"]}),U9=(e,t)=>{const n=r=>{const{className:i,filled:o,...a}=r,s=goe();return x.createElement(x.Fragment,null,x.createElement(e,Object.assign({},a,{className:Ce(s.root,o&&s.visible,poe,i)})),x.createElement(t,Object.assign({},a,{className:Ce(s.root,!o&&s.visible,moe,i)})))};return n.displayName="CompoundIcon",n},q9={durationUltraFast:50,durationFaster:100,durationFast:150,durationNormal:200,durationGentle:250,durationSlow:300,durationSlower:400,durationUltraSlow:500},H9={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"},_n={...q9,...H9};function voe(e){if(e.playState==="running"){var t;if(e.overallProgress!==void 0){var n;const s=(n=e.overallProgress)!==null&&n!==void 0?n:0;return s>0&&s<1}var r;const o=Number((r=e.currentTime)!==null&&r!==void 0?r:0);var i;const a=Number((i=(t=e.effect)===null||t===void 0?void 0:t.getTiming().duration)!==null&&i!==void 0?i:0);return o>0&&o<a}return!1}const yoe={fill:"forwards"},boe={duration:1};function xoe(){var e;const t=typeof window<"u"&&typeof((e=window.Animation)===null||e===void 0?void 0:e.prototype.persist)=="function";return x.useCallback((n,r,i)=>{const o=Array.isArray(r)?r:[r],{isReducedMotion:a}=i,s=o.map(c=>{const{keyframes:u,reducedMotion:d=boe,...f}=c,{keyframes:p=u,...m}=d,g=a?p:u,v={...yoe,...f,...a&&m};try{const y=n.animate(g,v);if(t)y==null||y.persist();else{const S=g[g.length-1];var _;Object.assign((_=n.style)!==null&&_!==void 0?_:{},S)}return y}catch{return null}}).filter(c=>!!c);return{set playbackRate(c){s.forEach(u=>{u.playbackRate=c})},setMotionEndCallbacks(c,u){const d=s.map(f=>new Promise((p,m)=>{f.onfinish=()=>p(),f.oncancel=()=>m()}));Promise.all(d).then(()=>{c()}).catch(()=>{u()})},isRunning(){return s.some(c=>voe(c))},cancel:()=>{s.forEach(c=>{c.cancel()})},pause:()=>{s.forEach(c=>{c.pause()})},play:()=>{s.forEach(c=>{c.play()})},finish:()=>{s.forEach(c=>{c.finish()})},reverse:()=>{s.forEach(c=>{c.reverse()})}}},[t])}function V9(){"use no memo";return xoe()}function W9(e){const t=x.useRef(void 0);return x.useImperativeHandle(e,()=>({setPlayState:n=>{if(n==="running"){var r;(r=t.current)===null||r===void 0||r.play()}if(n==="paused"){var i;(i=t.current)===null||i===void 0||i.pause()}},setPlaybackRate:n=>{t.current&&(t.current.playbackRate=n)}})),t}const _oe="screen and (prefers-reduced-motion: reduce)";function G9(){const{targetDocument:e}=gn();var t;const n=(t=e==null?void 0:e.defaultView)!==null&&t!==void 0?t:null,r=x.useRef(!1),i=x.useCallback(()=>r.current,[]);return Ni(()=>{if(n===null||typeof n.matchMedia!="function")return;const o=n.matchMedia(_oe);o.matches&&(r.current=!0);const a=s=>{r.current=s.matches};return o.addEventListener("change",a),()=>{o.removeEventListener("change",a)}},[n]),i}const woe=["@fluentui/react-motion: Invalid child element.",`
`,"Motion factories require a single child element to be passed. ","That element element should support ref forwarding i.e. it should be either an intrinsic element (e.g. div) or a component that uses React.forwardRef()."].join("");function $9(e,t=!0){const n=x.useRef(null);x.useEffect(()=>{},[t]);try{const r=x.Children.only(e);if(x.isValidElement(r))return[x.cloneElement(r,{ref:dn(n,lv(r))}),n]}catch{}throw new Error(woe)}const X9=x.createContext(void 0);X9.Provider;const Z9=()=>{var e;return(e=x.useContext(X9))!==null&&e!==void 0?e:"default"},Soe=Symbol("MOTION_DEFINITION");function T3(e){return Object.assign(n=>{"use no memo";const{children:r,imperativeRef:i,onMotionFinish:o,onMotionStart:a,onMotionCancel:s,...c}=n,u=c,[d,f]=$9(r),p=W9(i),m=Z9()==="skip",g=x.useRef({skipMotions:m,params:u}),v=V9(),_=G9(),y=pt(()=>{a==null||a(null)}),S=pt(()=>{o==null||o(null)}),w=pt(()=>{s==null||s(null)});return Ni(()=>{g.current={skipMotions:m,params:u}}),Ni(()=>{const C=f.current;if(C){const M=typeof e=="function"?e({element:C,...g.current.params}):e;y();const A=v(C,M,{isReducedMotion:_()});return p.current=A,A.setMotionEndCallbacks(S,w),g.current.skipMotions&&A.finish(),()=>{A.cancel()}}},[v,f,p,_,S,y,w]),d},{[Soe]:typeof e=="function"?e:()=>e})}const K9=x.createContext(void 0);K9.Provider;function Coe(e=!1,t=!1){const n=x.useRef(t?e:!0),r=U7(),i=x.useCallback(o=>{n.current!==o&&(n.current=o,r())},[r]);return x.useEffect(()=>{e&&(n.current=e)}),[e||n.current,i]}const Y9=Symbol("PRESENCE_MOTION_DEFINITION"),Toe=Symbol.for("interruptablePresence");function lf(e){return Object.assign(t=>{"use no memo";const r={...x.useContext(K9),...t},i=Z9()==="skip",{appear:o,children:a,imperativeRef:s,onExit:c,onMotionFinish:u,onMotionStart:d,onMotionCancel:f,visible:p,unmountOnExit:m,...g}=r,v=g,[_,y]=Coe(p,m),[S,w]=$9(a,_),C=W9(s),M=x.useRef({appear:o,params:v,skipMotions:i}),A=V9(),E=kN(),I=G9(),N=pt(q=>{d==null||d(null,{direction:q})}),P=pt(q=>{u==null||u(null,{direction:q}),q==="exit"&&m&&(y(!1),c==null||c())}),D=pt(q=>{f==null||f(null,{direction:q})});return Ni(()=>{M.current={appear:o,params:v,skipMotions:i}}),Ni(()=>{const q=w.current;if(!q)return;let $;function j(){$&&(z&&$.isRunning()||($.cancel(),C.current=void 0))}const O=typeof e=="function"?e({element:q,...M.current.params}):e,z=O[Toe];if(z&&($=C.current,$&&$.isRunning()))return $.reverse(),j;const W=p?O.enter:O.exit,F=p?"enter":"exit",V=!M.current.appear&&E,H=M.current.skipMotions;return V||N(F),$=A(q,W,{isReducedMotion:I()}),V?($.finish(),j):(C.current=$,$.setMotionEndCallbacks(()=>P(F),()=>D(F)),H&&$.finish(),j)},[A,w,C,I,P,N,D,p]),_?S:null},{[Y9]:typeof e=="function"?e:()=>e},{In:T3(typeof e=="function"?(...t)=>e(...t).enter:e.enter),Out:T3(typeof e=="function"?(...t)=>e(...t).exit:e.exit)})}function koe(e,t){return r=>e({...t,...r})}function $u(e,t){const n=e[Y9],r=koe(n,t);return lf(r)}function Jh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kx(e,t){const{as:n,children:r,...i}=e??{};if(e===null){const a=!t.defaultProps.visible&&t.defaultProps.unmountOnExit,s=(c,u)=>a?null:x.createElement(x.Fragment,null,u.children);return{[Eb]:s,[$h]:t.elementType}}const o={...t.defaultProps,...i,[$h]:t.elementType};return typeof r=="function"&&(o[Eb]=r),o}const J9=(e,t)=>{const n=e==="horizontal"?"maxWidth":"maxHeight",r=e==="horizontal"?"overflowX":"overflowY",o=`${e==="horizontal"?t.scrollWidth:t.scrollHeight}px`;return{sizeName:n,overflowName:r,toSize:o}},Eoe=({orientation:e,duration:t,easing:n,element:r,fromSize:i="0",delay:o=0})=>{const{sizeName:a,overflowName:s,toSize:c}=J9(e,r);return{keyframes:[{[a]:i,[s]:"hidden"},{[a]:c,offset:.9999,[s]:"hidden"},{[a]:"unset",[s]:"unset"}],duration:t,easing:n,delay:o,fill:"both"}},Moe=({orientation:e,duration:t,easing:n,element:r,delay:i=0,fromSize:o="0"})=>{const{sizeName:a,overflowName:s,toSize:c}=J9(e,r);return{keyframes:[{[a]:c,[s]:"hidden"},{[a]:o,[s]:"hidden"}],duration:t,easing:n,delay:i,fill:"both"}},Aoe=e=>e==="horizontal"?{paddingStart:"paddingInlineStart",paddingEnd:"paddingInlineEnd",marginStart:"marginInlineStart",marginEnd:"marginInlineEnd"}:{paddingStart:"paddingBlockStart",paddingEnd:"paddingBlockEnd",marginStart:"marginBlockStart",marginEnd:"marginBlockEnd"},k3=({direction:e,orientation:t,duration:n,easing:r,delay:i=0})=>{const{paddingStart:o,paddingEnd:a,marginStart:s,marginEnd:c}=Aoe(t),u=e==="enter"?0:1;return{keyframes:[{[o]:"0",[a]:"0",[s]:"0",[c]:"0",offset:u}],duration:n,easing:r,delay:i,fill:"both"}},zu=({direction:e,duration:t,easing:n=_n.curveLinear,delay:r=0,fromOpacity:i=0,toOpacity:o=1})=>{const a=[{opacity:i},{opacity:o}];return e==="exit"&&a.reverse(),{keyframes:a,duration:t,easing:n,delay:r,fill:"both"}},Noe=({element:e,duration:t=_n.durationNormal,exitDuration:n=t,sizeDuration:r=t,opacityDuration:i=r,exitSizeDuration:o=n,exitOpacityDuration:a=o,easing:s=_n.curveEasyEaseMax,delay:c=0,exitEasing:u=s,exitDelay:d=c,staggerDelay:f=0,exitStaggerDelay:p=f,animateOpacity:m=!0,orientation:g="vertical",fromSize:v="0px"})=>{const _=[Eoe({orientation:g,duration:r,easing:s,element:e,fromSize:v,delay:c}),k3({direction:"enter",orientation:g,duration:r,easing:s,delay:c})];m&&_.push(zu({direction:"enter",duration:i,easing:s,delay:c+f}));const y=[];return m&&y.push(zu({direction:"exit",duration:a,easing:u,delay:d})),y.push(Moe({orientation:g,duration:o,easing:u,element:e,delay:d+p,fromSize:v}),k3({direction:"exit",orientation:g,duration:o,easing:u,delay:d+p})),{enter:_,exit:y}},Qh=lf(Noe);$u(Qh,{duration:_n.durationFast});$u(Qh,{duration:_n.durationSlower});const Poe=$u(Qh,{sizeDuration:_n.durationNormal,opacityDuration:_n.durationSlower,staggerDelay:_n.durationNormal,exitSizeDuration:_n.durationNormal,exitOpacityDuration:_n.durationSlower,exitStaggerDelay:_n.durationSlower,easing:_n.curveEasyEase,exitEasing:_n.curveEasyEase}),Boe=({duration:e=_n.durationNormal,easing:t=_n.curveEasyEase,delay:n=0,exitDuration:r=e,exitEasing:i=t,exitDelay:o=n,fromOpacity:a=0,toOpacity:s=1})=>({enter:zu({direction:"enter",duration:e,easing:t,delay:n,fromOpacity:a,toOpacity:s}),exit:zu({direction:"exit",duration:r,easing:i,delay:o,fromOpacity:a,toOpacity:s})}),Q9=lf(Boe);$u(Q9,{duration:_n.durationFast});const Roe=$u(Q9,{duration:_n.durationGentle}),E3=({direction:e,duration:t,easing:n=_n.curveLinear,delay:r=0,fromScale:i=.9,toScale:o=1})=>{const a=[{scale:i},{scale:o}];return e==="exit"&&a.reverse(),{keyframes:a,duration:t,easing:n,delay:r}},joe=({duration:e=_n.durationGentle,easing:t=_n.curveDecelerateMax,delay:n=0,exitDuration:r=_n.durationNormal,exitEasing:i=_n.curveAccelerateMax,exitDelay:o=n,fromScale:a=.9,toScale:s=1,animateOpacity:c=!0})=>{const u=[E3({direction:"enter",duration:e,easing:t,delay:n,fromScale:a,toScale:s})],d=[E3({direction:"exit",duration:r,easing:i,delay:o,fromScale:a,toScale:s})];return c&&(u.push(zu({direction:"enter",duration:e,easing:t,delay:n})),d.push(zu({direction:"exit",duration:r,easing:i,delay:o}))),{enter:u,exit:d}},qN=lf(joe);$u(qN,{duration:_n.durationNormal,exitDuration:_n.durationFast});$u(qN,{duration:_n.durationSlow,exitDuration:_n.durationGentle});const Ioe=e=>an(e.root,{children:[e.initials&&Se(e.initials,{}),e.icon&&Se(e.icon,{}),e.image&&Se(e.image,{}),e.badge&&Se(e.badge,{}),e.activeAriaLabelElement]}),zoe=/[\(\[\{][^\)\]\}]*[\)\]\}]/g,Loe=/[\0-\u001F\!-/:-@\[-`\{-\u00BF\u0250-\u036F\uD800-\uFFFF]/g,Doe=/^\d+[\d\s]*(:?ext|x|)\s*\d+$/i,Ooe=/\s+/g,Foe=/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uAC00-\uD7AF\uD7B0-\uD7FF\u3040-\u309F\u30A0-\u30FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF]|[\uD840-\uD869][\uDC00-\uDED6]/;function Uoe(e,t,n){let r="";const i=e.split(" ");return i.length!==0&&(r+=i[0].charAt(0).toUpperCase()),n||(i.length===2?r+=i[1].charAt(0).toUpperCase():i.length===3&&(r+=i[2].charAt(0).toUpperCase())),t&&r.length>1?r.charAt(1)+r.charAt(0):r}function qoe(e){return e=e.replace(zoe,""),e=e.replace(Loe,""),e=e.replace(Ooe," "),e=e.trim(),e}function Hoe(e,t,n){return!e||(e=qoe(e),Foe.test(e)||!(n!=null&&n.allowPhoneInitials)&&Doe.test(e))?"":Uoe(e,t,n==null?void 0:n.firstInitialOnly)}const HN=(e,t)=>{const{shape:n="circular",size:r="medium",iconPosition:i="before",appearance:o="filled",color:a="brand"}=e;return{shape:n,size:r,iconPosition:i,appearance:o,color:a,components:{root:"div",icon:"span"},root:Ct(Qt("div",{ref:t,...e}),{elementType:"div"}),icon:zt(e.icon,{elementType:"span"})}},M3={root:"fui-Badge",icon:"fui-Badge__icon"},Voe=Rt("r1iycov","r115jdol",[".r1iycov{display:inline-flex;box-sizing:border-box;align-items:center;justify-content:center;position:relative;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase200);height:20px;min-width:20px;padding:0 calc(var(--spacingHorizontalXS) + var(--spacingHorizontalXXS));border-radius:var(--borderRadiusCircular);border-color:var(--colorTransparentStroke);}",'.r1iycov::after{content:"";position:absolute;top:0;left:0;bottom:0;right:0;border-style:solid;border-color:inherit;border-width:var(--strokeWidthThin);border-radius:inherit;}',".r115jdol{display:inline-flex;box-sizing:border-box;align-items:center;justify-content:center;position:relative;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase200);height:20px;min-width:20px;padding:0 calc(var(--spacingHorizontalXS) + var(--spacingHorizontalXXS));border-radius:var(--borderRadiusCircular);border-color:var(--colorTransparentStroke);}",'.r115jdol::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-style:solid;border-color:inherit;border-width:var(--strokeWidthThin);border-radius:inherit;}']),Woe=Fe({fontSmallToTiny:{Bahqtrf:"fk6fouc",Be2twd7:"f13mqy1h",Bhrd7zp:"fl43uef",Bg96gwp:"fcpl73t"},tiny:{a9b677:"f16dn6v3",Bqenvij:"f3mu39s",Be2twd7:"f130uwy9",Bg96gwp:"fod1mrr",Bf4jedk:"f18p0k4z",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f19jm9xf"},"extra-small":{a9b677:"fpd43o0",Bqenvij:"f30q22z",Be2twd7:"f1tccstq",Bg96gwp:"f1y3arg5",Bf4jedk:"f18p0k4z",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f19jm9xf"},small:{Bf4jedk:"fq2vo04",Bqenvij:"fd461yt",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fupdldz"},medium:{},large:{Bf4jedk:"f17fgpbq",Bqenvij:"frvgh55",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1996nqw"},"extra-large":{Bf4jedk:"fwbmr0d",Bqenvij:"f1d2rq10",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fty64o7"},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},rounded:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},roundedSmallToTiny:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fq9zq91"},circular:{},borderGhost:{ap17g6:"f10ludwy"},filled:{},"filled-brand":{De3pzq:"ffp7eso",sj55zd:"f1phragk"},"filled-danger":{De3pzq:"fdl5y0r",sj55zd:"f1phragk"},"filled-important":{De3pzq:"f1c73kur",sj55zd:"fr0bkrk"},"filled-informative":{De3pzq:"f3vzo32",sj55zd:"f11d4kpn"},"filled-severe":{De3pzq:"f1s438gw",sj55zd:"f1phragk"},"filled-subtle":{De3pzq:"fxugw4r",sj55zd:"f19n0e5"},"filled-success":{De3pzq:"flxk52p",sj55zd:"f1phragk"},"filled-warning":{De3pzq:"ffq97bm",sj55zd:"ff5vbop"},ghost:{},"ghost-brand":{sj55zd:"f16muhyy"},"ghost-danger":{sj55zd:"f1whyuy6"},"ghost-important":{sj55zd:"f19n0e5"},"ghost-informative":{sj55zd:"f11d4kpn"},"ghost-severe":{sj55zd:"f1l8vj45"},"ghost-subtle":{sj55zd:"fonrgv7"},"ghost-success":{sj55zd:"f1m7fhi8"},"ghost-warning":{sj55zd:"fpti2h4"},outline:{g2u3we:"f23ftbb",h3c5rm:["f1gkuv52","f1p1bl80"],B9xav0g:"fioka3i",zhjwy3:["f1p1bl80","f1gkuv52"]},"outline-brand":{sj55zd:"f16muhyy"},"outline-danger":{sj55zd:"f1whyuy6",g2u3we:"fyqpifd",h3c5rm:["f3ukxca","f1k7dugc"],B9xav0g:"f1njxb2b",zhjwy3:["f1k7dugc","f3ukxca"]},"outline-important":{sj55zd:"f11d4kpn",g2u3we:"fq0vr37",h3c5rm:["f1byw159","f11cr0be"],B9xav0g:"f1c1zstj",zhjwy3:["f11cr0be","f1byw159"]},"outline-informative":{sj55zd:"f11d4kpn",g2u3we:"f68mrw8",h3c5rm:["f7pw515","fw35ms5"],B9xav0g:"frpde29",zhjwy3:["fw35ms5","f7pw515"]},"outline-severe":{sj55zd:"f1l8vj45"},"outline-subtle":{sj55zd:"fonrgv7"},"outline-success":{sj55zd:"f1m7fhi8",g2u3we:"f1mmhl11",h3c5rm:["f1tjpp2f","f1ocn5n7"],B9xav0g:"f1gjv25d",zhjwy3:["f1ocn5n7","f1tjpp2f"]},"outline-warning":{sj55zd:"fpti2h4"},tint:{},"tint-brand":{De3pzq:"f16xkysk",sj55zd:"faj9fo0",g2u3we:"f161y7kd",h3c5rm:["f1c8dzaj","f1sl6hi9"],B9xav0g:"f1619yhw",zhjwy3:["f1sl6hi9","f1c8dzaj"]},"tint-danger":{De3pzq:"ff0poqj",sj55zd:"f1hcrxcs",g2u3we:"f1oqjm8o",h3c5rm:["fkgrb8g","frb5wm0"],B9xav0g:"f1iai1ph",zhjwy3:["frb5wm0","fkgrb8g"]},"tint-important":{De3pzq:"f945g0u",sj55zd:"fr0bkrk",g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},"tint-informative":{De3pzq:"f1ctqxl6",sj55zd:"f11d4kpn",g2u3we:"f68mrw8",h3c5rm:["f7pw515","fw35ms5"],B9xav0g:"frpde29",zhjwy3:["fw35ms5","f7pw515"]},"tint-severe":{De3pzq:"f1xzsg4",sj55zd:"f1k5f75o",g2u3we:"fxy9dsj",h3c5rm:["f54u6j2","fcm23ze"],B9xav0g:"f4vf0uq",zhjwy3:["fcm23ze","f54u6j2"]},"tint-subtle":{De3pzq:"fxugw4r",sj55zd:"f11d4kpn",g2u3we:"f68mrw8",h3c5rm:["f7pw515","fw35ms5"],B9xav0g:"frpde29",zhjwy3:["fw35ms5","f7pw515"]},"tint-success":{De3pzq:"f2vsrz6",sj55zd:"ffmvakt",g2u3we:"fdmic9h",h3c5rm:["f196y6m","fetptd8"],B9xav0g:"f1pev5xq",zhjwy3:["fetptd8","f196y6m"]},"tint-warning":{De3pzq:"f10s6hli",sj55zd:"f42v8de",g2u3we:"fn9i3n",h3c5rm:["f1aw8cx4","f51if14"],B9xav0g:"fvq8iai",zhjwy3:["f51if14","f1aw8cx4"]}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f13mqy1h{font-size:var(--fontSizeBase100);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".fcpl73t{line-height:var(--lineHeightBase100);}",".f16dn6v3{width:6px;}",".f3mu39s{height:6px;}",".f130uwy9{font-size:4px;}",".fod1mrr{line-height:4px;}",".f18p0k4z{min-width:unset;}",[".f19jm9xf{padding:unset;}",{p:-1}],".fpd43o0{width:10px;}",".f30q22z{height:10px;}",".f1tccstq{font-size:6px;}",".f1y3arg5{line-height:6px;}",[".f19jm9xf{padding:unset;}",{p:-1}],".fq2vo04{min-width:16px;}",".fd461yt{height:16px;}",[".fupdldz{padding:0 calc(var(--spacingHorizontalXXS) + var(--spacingHorizontalXXS));}",{p:-1}],".f17fgpbq{min-width:24px;}",".frvgh55{height:24px;}",[".f1996nqw{padding:0 calc(var(--spacingHorizontalXS) + var(--spacingHorizontalXXS));}",{p:-1}],".fwbmr0d{min-width:32px;}",".f1d2rq10{height:32px;}",[".fty64o7{padding:0 calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".fq9zq91{border-radius:var(--borderRadiusSmall);}",{p:-1}],".f10ludwy::after{display:none;}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fdl5y0r{background-color:var(--colorPaletteRedBackground3);}",".f1c73kur{background-color:var(--colorNeutralForeground1);}",".fr0bkrk{color:var(--colorNeutralBackground1);}",".f3vzo32{background-color:var(--colorNeutralBackground5);}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".f1s438gw{background-color:var(--colorPaletteDarkOrangeBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".flxk52p{background-color:var(--colorPaletteGreenBackground3);}",".ffq97bm{background-color:var(--colorPaletteYellowBackground3);}",".ff5vbop{color:var(--colorNeutralForeground1Static);}",".f16muhyy{color:var(--colorBrandForeground1);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".f1l8vj45{color:var(--colorPaletteDarkOrangeForeground3);}",".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".f1m7fhi8{color:var(--colorPaletteGreenForeground3);}",".fpti2h4{color:var(--colorPaletteYellowForeground2);}",".f23ftbb{border-top-color:currentColor;}",".f1gkuv52{border-right-color:currentColor;}",".f1p1bl80{border-left-color:currentColor;}",".fioka3i{border-bottom-color:currentColor;}",".fyqpifd{border-top-color:var(--colorPaletteRedBorder2);}",".f3ukxca{border-right-color:var(--colorPaletteRedBorder2);}",".f1k7dugc{border-left-color:var(--colorPaletteRedBorder2);}",".f1njxb2b{border-bottom-color:var(--colorPaletteRedBorder2);}",".fq0vr37{border-top-color:var(--colorNeutralStrokeAccessible);}",".f1byw159{border-right-color:var(--colorNeutralStrokeAccessible);}",".f11cr0be{border-left-color:var(--colorNeutralStrokeAccessible);}",".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f68mrw8{border-top-color:var(--colorNeutralStroke2);}",".f7pw515{border-right-color:var(--colorNeutralStroke2);}",".fw35ms5{border-left-color:var(--colorNeutralStroke2);}",".frpde29{border-bottom-color:var(--colorNeutralStroke2);}",".f1mmhl11{border-top-color:var(--colorPaletteGreenBorder2);}",".f1tjpp2f{border-right-color:var(--colorPaletteGreenBorder2);}",".f1ocn5n7{border-left-color:var(--colorPaletteGreenBorder2);}",".f1gjv25d{border-bottom-color:var(--colorPaletteGreenBorder2);}",".f16xkysk{background-color:var(--colorBrandBackground2);}",".faj9fo0{color:var(--colorBrandForeground2);}",".f161y7kd{border-top-color:var(--colorBrandStroke2);}",".f1c8dzaj{border-right-color:var(--colorBrandStroke2);}",".f1sl6hi9{border-left-color:var(--colorBrandStroke2);}",".f1619yhw{border-bottom-color:var(--colorBrandStroke2);}",".ff0poqj{background-color:var(--colorPaletteRedBackground1);}",".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".f1oqjm8o{border-top-color:var(--colorPaletteRedBorder1);}",".fkgrb8g{border-right-color:var(--colorPaletteRedBorder1);}",".frb5wm0{border-left-color:var(--colorPaletteRedBorder1);}",".f1iai1ph{border-bottom-color:var(--colorPaletteRedBorder1);}",".f945g0u{background-color:var(--colorNeutralForeground3);}",".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".f1ctqxl6{background-color:var(--colorNeutralBackground4);}",".f1xzsg4{background-color:var(--colorPaletteDarkOrangeBackground1);}",".f1k5f75o{color:var(--colorPaletteDarkOrangeForeground1);}",".fxy9dsj{border-top-color:var(--colorPaletteDarkOrangeBorder1);}",".f54u6j2{border-right-color:var(--colorPaletteDarkOrangeBorder1);}",".fcm23ze{border-left-color:var(--colorPaletteDarkOrangeBorder1);}",".f4vf0uq{border-bottom-color:var(--colorPaletteDarkOrangeBorder1);}",".f2vsrz6{background-color:var(--colorPaletteGreenBackground1);}",".ffmvakt{color:var(--colorPaletteGreenForeground1);}",".fdmic9h{border-top-color:var(--colorPaletteGreenBorder1);}",".f196y6m{border-right-color:var(--colorPaletteGreenBorder1);}",".fetptd8{border-left-color:var(--colorPaletteGreenBorder1);}",".f1pev5xq{border-bottom-color:var(--colorPaletteGreenBorder1);}",".f10s6hli{background-color:var(--colorPaletteYellowBackground1);}",".f42v8de{color:var(--colorPaletteYellowForeground1);}",".fn9i3n{border-top-color:var(--colorPaletteYellowBorder1);}",".f1aw8cx4{border-right-color:var(--colorPaletteYellowBorder1);}",".f51if14{border-left-color:var(--colorPaletteYellowBorder1);}",".fvq8iai{border-bottom-color:var(--colorPaletteYellowBorder1);}"]}),Goe=Rt("rttl5z0",null,[".rttl5z0{display:flex;line-height:1;margin:0 calc(-1 * var(--spacingHorizontalXXS));font-size:12px;}"]),$oe=Fe({beforeText:{t21cq0:["f1t8l4o1","f11juvx6"]},afterText:{Frg6f3:["f11juvx6","f1t8l4o1"]},beforeTextXL:{t21cq0:["f1rs9grm","f1kwmkpi"]},afterTextXL:{Frg6f3:["f1kwmkpi","f1rs9grm"]},tiny:{Be2twd7:"f1tccstq"},"extra-small":{Be2twd7:"fnmn6fi"},small:{Be2twd7:"f1ugzwwg"},medium:{},large:{Be2twd7:"f4ybsrx"},"extra-large":{Be2twd7:"fe5j1ua"}},{d:[".f1t8l4o1{margin-right:calc(var(--spacingHorizontalXXS) + var(--spacingHorizontalXXS));}",".f11juvx6{margin-left:calc(var(--spacingHorizontalXXS) + var(--spacingHorizontalXXS));}",".f1rs9grm{margin-right:calc(var(--spacingHorizontalXS) + var(--spacingHorizontalXXS));}",".f1kwmkpi{margin-left:calc(var(--spacingHorizontalXS) + var(--spacingHorizontalXXS));}",".f1tccstq{font-size:6px;}",".fnmn6fi{font-size:10px;}",".f1ugzwwg{font-size:12px;}",".f4ybsrx{font-size:16px;}",".fe5j1ua{font-size:20px;}"]}),eq=e=>{"use no memo";const t=Voe(),n=Woe(),r=e.size==="small"||e.size==="extra-small"||e.size==="tiny";e.root.className=Ce(M3.root,t,r&&n.fontSmallToTiny,n[e.size],n[e.shape],e.shape==="rounded"&&r&&n.roundedSmallToTiny,e.appearance==="ghost"&&n.borderGhost,n[e.appearance],n[`${e.appearance}-${e.color}`],e.root.className);const i=Goe(),o=$oe();if(e.icon){let a;x.Children.toArray(e.root.children).length>0&&(e.size==="extra-large"?a=e.iconPosition==="after"?o.afterTextXL:o.beforeTextXL:a=e.iconPosition==="after"?o.afterText:o.beforeText),e.icon.className=Ce(M3.icon,i,a,o[e.size],e.icon.className)}return e},VN=e=>an(e.root,{children:[e.iconPosition==="before"&&e.icon&&Se(e.icon,{}),e.root.children,e.iconPosition==="after"&&e.icon&&Se(e.icon,{})]}),Ke=x.forwardRef((e,t)=>{const n=HN(e,t);return eq(n),Ft("useBadgeStyles_unstable")(n),VN(n)});Ke.displayName="Badge";const Xoe={tiny:c3,"extra-small":c3,small:Vie,medium:Wie,large:u3,"extra-large":u3},Zoe={tiny:a3,"extra-small":a3,small:Uie,medium:Hie,large:l3,"extra-large":l3},Koe={tiny:o3,"extra-small":o3,small:Fie,medium:qie,large:s3,"extra-large":s3},Yoe={tiny:d3,"extra-small":d3,small:Gie,medium:$ie,large:f3,"extra-large":f3},Joe={tiny:h3,"extra-small":h3,small:Xie,medium:Zie,large:p3,"extra-large":p3},Qoe={tiny:m3,"extra-small":m3,small:Kie,medium:Jie,large:v3,"extra-large":v3},eae={tiny:g3,"extra-small":g3,small:Yie,medium:Qie,large:y3,"extra-large":y3},hw={tiny:_3,"extra-small":_3,small:noe,medium:roe,large:w3,"extra-large":w3},tae={tiny:b3,"extra-small":b3,small:eoe,medium:toe,large:x3,"extra-large":x3},A3={tiny:S3,"extra-small":S3,small:ioe,medium:ooe,large:C3,"extra-large":C3},nae=(e,t,n)=>{switch(e){case"available":return t?Zoe[n]:Koe[n];case"away":return t?hw[n]:Xoe[n];case"blocked":return Yoe[n];case"busy":return t?A3[n]:Joe[n];case"do-not-disturb":return t?eae[n]:Qoe[n];case"offline":return t?hw[n]:tae[n];case"out-of-office":return hw[n];case"unknown":return A3[n]}},N3={busy:"busy","out-of-office":"out of office",away:"away",available:"available",offline:"offline","do-not-disturb":"do not disturb",unknown:"unknown",blocked:"blocked"},rae=(e,t)=>{const{size:n="medium",status:r="available",outOfOffice:i=!1}=e,o=N3[r],a=e.outOfOffice&&e.status!=="out-of-office"?` ${N3["out-of-office"]}`:"",s=nae(r,i,n);return{...HN({"aria-label":o+a,role:"img",...e,size:n,icon:zt(e.icon,{defaultProps:{children:s?x.createElement(s,null):null},renderByDefault:!0,elementType:"span"})},t),status:r,outOfOffice:i}},P3={root:"fui-PresenceBadge",icon:"fui-PresenceBadge__icon"},iae=e=>e==="busy"||e==="do-not-disturb"||e==="blocked",oae=Rt("r832ydo",null,[".r832ydo{display:inline-flex;box-sizing:border-box;align-items:center;justify-content:center;border-radius:var(--borderRadiusCircular);background-color:var(--colorNeutralBackground1);padding:1px;background-clip:content-box;}"]),aae=Rt("r11ag4qr",null,[".r11ag4qr{display:flex;margin:-1px;}"]),sae=Fe({statusBusy:{sj55zd:"fvi85wt"},statusAway:{sj55zd:"f14k8a89"},statusAvailable:{sj55zd:"fqa5hgp"},statusOffline:{sj55zd:"f11d4kpn"},statusOutOfOffice:{sj55zd:"fdce8r3"},statusUnknown:{sj55zd:"f11d4kpn"},outOfOffice:{sj55zd:"fr0bkrk"},outOfOfficeAvailable:{sj55zd:"fqa5hgp"},outOfOfficeBusy:{sj55zd:"fvi85wt"},outOfOfficeUnknown:{sj55zd:"f11d4kpn"},tiny:{Bubjx69:"f9ikmtg",a9b677:"f16dn6v3",B2eet1l:"f1w2irj7",B5pe6w7:"fab5kbq",p4uzdd:"f1ms1d91"},large:{Bubjx69:"f9ikmtg",a9b677:"f64fuq3",B5pe6w7:"f1vfi1yj",p4uzdd:"f15s34gz"},extraLarge:{Bubjx69:"f9ikmtg",a9b677:"f1w9dchk",B5pe6w7:"f14efy9b",p4uzdd:"fhipgdu"}},{d:[".fvi85wt{color:var(--colorPaletteRedBackground3);}",".f14k8a89{color:var(--colorPaletteMarigoldBackground3);}",".fqa5hgp{color:var(--colorPaletteLightGreenForeground3);}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".fdce8r3{color:var(--colorPaletteBerryForeground3);}",".fr0bkrk{color:var(--colorNeutralBackground1);}",".f9ikmtg{aspect-ratio:1;}",".f16dn6v3{width:6px;}",".f1w2irj7{background-clip:unset;}",".fab5kbq svg{width:6px!important;}",".f1ms1d91 svg{height:6px!important;}",".f64fuq3{width:20px;}",".f1vfi1yj svg{width:20px!important;}",".f15s34gz svg{height:20px!important;}",".f1w9dchk{width:28px;}",".f14efy9b svg{width:28px!important;}",".fhipgdu svg{height:28px!important;}"]}),lae=e=>{"use no memo";const t=oae(),n=aae(),r=sae(),i=iae(e.status);return e.root.className=Ce(P3.root,t,i&&r.statusBusy,e.status==="away"&&r.statusAway,e.status==="available"&&r.statusAvailable,e.status==="offline"&&r.statusOffline,e.status==="out-of-office"&&r.statusOutOfOffice,e.status==="unknown"&&r.statusUnknown,e.outOfOffice&&r.outOfOffice,e.outOfOffice&&e.status==="available"&&r.outOfOfficeAvailable,e.outOfOffice&&i&&r.outOfOfficeBusy,e.outOfOffice&&(e.status==="out-of-office"||e.status==="away"||e.status==="offline")&&r.statusOutOfOffice,e.outOfOffice&&e.status==="unknown"&&r.outOfOfficeUnknown,e.size==="tiny"&&r.tiny,e.size==="large"&&r.large,e.size==="extra-large"&&r.extraLarge,e.root.className),e.icon&&(e.icon.className=Ce(P3.icon,n,e.icon.className)),e},Ig=x.forwardRef((e,t)=>{const n=rae(e,t);return lae(n),Ft("usePresenceBadgeStyles_unstable")(n),VN(n)});Ig.displayName="PresenceBadge";const cae=(e,t)=>{const{shape:n="circular",appearance:r="filled",showZero:i=!1,overflowCount:o=99,count:a=0,dot:s=!1}=e,c={...HN(e,t),shape:n,appearance:r,showZero:i,count:a,dot:s};return(a!==0||i)&&!s&&!c.root.children&&(c.root.children=a>o?`${o}+`:`${a}`),c},B3={root:"fui-CounterBadge",icon:"fui-CounterBadge__icon"},uae=Fe({dot:{Bf4jedk:"fgfkb25",a9b677:"f16dn6v3",Bqenvij:"f3mu39s",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1mk8lai"},hide:{mc9l5x:"fjseox"}},{d:[".fgfkb25{min-width:auto;}",".f16dn6v3{width:6px;}",".f3mu39s{height:6px;}",[".f1mk8lai{padding:0;}",{p:-1}],".fjseox{display:none;}"]}),dae=e=>{"use no memo";const t=uae();return e.root.className=Ce(B3.root,e.dot&&t.dot,!e.root.children&&!e.dot&&t.hide,e.root.className),e.icon&&(e.icon.className=Ce(B3.icon,e.icon.className)),eq(e)},Yi=x.forwardRef((e,t)=>{const n=cae(e,t);return dae(n),Ft("useCounterBadgeStyles_unstable")(n),VN(n)});Yi.displayName="CounterBadge";const tq=x.createContext(void 0),fae={};tq.Provider;const hae=()=>{var e;return(e=x.useContext(tq))!==null&&e!==void 0?e:fae},pae={active:"active",inactive:"inactive"},mae=(e,t)=>{const{dir:n}=gn(),{shape:r,size:i}=hae(),{name:o,size:a=i??32,shape:s=r??"circular",active:c="unset",activeAppearance:u="ring",idForColor:d}=e;let{color:f="neutral"}=e;if(f==="colorful"){var p;f=R3[vae((p=d??o)!==null&&p!==void 0?p:"")%R3.length]}const m=vi("avatar-"),g=Ct(Qt("span",{role:"img",id:m,...e,ref:t},["name"]),{elementType:"span"}),[v,_]=x.useState(void 0);let y=zt(e.image,{defaultProps:{alt:"",role:"presentation","aria-hidden":!0,hidden:v},elementType:"img"});y!=null&&y.src||(y=void 0),y&&(y.onError=un(y.onError,()=>_(!0)),y.onLoad=un(y.onLoad,()=>_(void 0)));let S=zt(e.initials,{renderByDefault:!0,defaultProps:{children:Hoe(o,n==="rtl",{firstInitialOnly:a<=16}),id:m+"__initials"},elementType:"span"});S!=null&&S.children||(S=void 0);let w;!S&&(!y||v)&&(w=zt(e.icon,{renderByDefault:!0,defaultProps:{children:x.createElement(B9,null),"aria-hidden":!0},elementType:"span"}));const C=zt(e.badge,{defaultProps:{size:gae(a),id:m+"__badge"},elementType:Ig});let M;if(!g["aria-label"]&&!g["aria-labelledby"]&&(o?(g["aria-label"]=o,C&&(g["aria-labelledby"]=g.id+" "+C.id)):S&&(g["aria-labelledby"]=S.id+(C?" "+C.id:"")),c==="active"||c==="inactive")){const A=pae[c];if(g["aria-labelledby"]){const E=m+"__active";g["aria-labelledby"]+=" "+E,M=x.createElement("span",{hidden:!0,id:E},A)}else g["aria-label"]&&(g["aria-label"]+=" "+A)}return{size:a,shape:s,active:c,activeAppearance:u,activeAriaLabelElement:M,color:f,components:{root:"span",initials:"span",icon:"span",image:"img",badge:Ig},root:g,initials:S,icon:w,image:y,badge:C}},gae=e=>e>=96?"extra-large":e>=64?"large":e>=56?"medium":e>=40?"small":e>=28?"extra-small":"tiny",R3=["dark-red","cranberry","red","pumpkin","peach","marigold","gold","brass","brown","forest","seafoam","dark-green","light-teal","teal","steel","blue","royal-blue","cornflower","navy","lavender","purple","grape","lilac","pink","magenta","plum","beige","mink","platinum","anchor"],vae=e=>{let t=0;for(let n=e.length-1;n>=0;n--){const r=e.charCodeAt(n),i=n%8;t^=(r<<i)+(r>>8-i)}return t},hm={root:"fui-Avatar",image:"fui-Avatar__image",initials:"fui-Avatar__initials",icon:"fui-Avatar__icon",badge:"fui-Avatar__badge"},yae=Rt("r81b29z","r1aatmv",{r:[".r81b29z{display:inline-block;flex-shrink:0;position:relative;vertical-align:middle;border-radius:var(--borderRadiusCircular);font-family:var(--fontFamilyBase);font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);width:32px;height:32px;}",".r81b29z::before,.r81b29z::after{position:absolute;top:0;left:0;bottom:0;right:0;z-index:-1;margin:calc(-2 * var(--fui-Avatar-ringWidth, 0px));border-radius:inherit;transition-property:margin,opacity;transition-timing-function:var(--curveEasyEaseMax),var(--curveLinear);transition-duration:var(--durationUltraSlow),var(--durationSlower);}",".r81b29z::before{border-style:solid;border-width:var(--fui-Avatar-ringWidth);}",".r1aatmv{display:inline-block;flex-shrink:0;position:relative;vertical-align:middle;border-radius:var(--borderRadiusCircular);font-family:var(--fontFamilyBase);font-weight:var(--fontWeightSemibold);font-size:var(--fontSizeBase300);width:32px;height:32px;}",".r1aatmv::before,.r1aatmv::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1;margin:calc(-2 * var(--fui-Avatar-ringWidth, 0px));border-radius:inherit;transition-property:margin,opacity;transition-timing-function:var(--curveEasyEaseMax),var(--curveLinear);transition-duration:var(--durationUltraSlow),var(--durationSlower);}",".r1aatmv::before{border-style:solid;border-width:var(--fui-Avatar-ringWidth);}"],s:["@media screen and (prefers-reduced-motion: reduce){.r81b29z::before,.r81b29z::after{transition-duration:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1aatmv::before,.r1aatmv::after{transition-duration:0.01ms;}}"]}),bae=Rt("r136dc0n","rjly0nl",[".r136dc0n{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:inherit;object-fit:cover;vertical-align:top;}",".rjly0nl{position:absolute;top:0;right:0;width:100%;height:100%;border-radius:inherit;object-fit:cover;vertical-align:top;}"]),xae=Rt("rip04v","r31uzil",[".rip04v{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;line-height:1;border:var(--strokeWidthThin) solid var(--colorTransparentStroke);display:flex;align-items:center;justify-content:center;vertical-align:center;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:inherit;}",".r31uzil{position:absolute;box-sizing:border-box;top:0;right:0;width:100%;height:100%;line-height:1;border:var(--strokeWidthThin) solid var(--colorTransparentStroke);display:flex;align-items:center;justify-content:center;vertical-align:center;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:inherit;}"]),_ae=Fe({textCaption2Strong:{Be2twd7:"f13mqy1h"},textCaption1Strong:{Be2twd7:"fy9rknc"},textSubtitle2:{Be2twd7:"fod5ikn"},textSubtitle1:{Be2twd7:"f1pp30po"},textTitle3:{Be2twd7:"f1x0m3f5"},squareSmall:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fq9zq91"},squareMedium:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},squareLarge:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1o0qvyv"},squareXLarge:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu"},activeOrInactive:{Bz10aip:"ftfx35i",Bmy1vo4:"fv0atk9",B3o57yi:"f1iry5bo",Bkqvd7p:"f15n41j8",Bg24rqe:"f9ttr0w"},ring:{Ftih45:"f1wl9k8s"},ringBadgeCutout:{f4a502:"fp2gujx"},ringThick:{of393c:"fq1w1vq"},ringThicker:{of393c:"fzg6ace"},ringThickest:{of393c:"f1nu8p71"},shadow:{Bsft5z2:"f13zj6fq"},shadow4:{Be6vj1x:"fcjn15l"},shadow8:{Be6vj1x:"f1tm8t9f"},shadow16:{Be6vj1x:"f1a1aohj"},shadow28:{Be6vj1x:"fond6v5"},inactive:{abs64n:"fp25eh",Bz10aip:"f1clczzi",Bkqvd7p:"f1l3s34x",Bfgortx:0,Bnvr3x9:0,b2tv09:0,Bucmhp4:0,iayac2:"flkahu5",b6ubon:"fw457kn",Bqinb2h:"f1wmllxl"},badge:{qhf8xq:"f1euv43f",B5kzvoi:"f1yab3r1",j35jbq:["f1e31b4d","f1vgc2s3"]},badgeCutout:{btxmck:"f1eugkqs"},badgeAlign:{Dnlfbu:["f1tlnv9o","f1y9kyih"]},tiny:{Bdjeniz:"f1uwoubl",niu6jh:"fid048z"},"extra-small":{Bdjeniz:"f13ar0e0",niu6jh:"fid048z"},small:{Bdjeniz:"fwwuruf",niu6jh:"fid048z"},medium:{Bdjeniz:"f1af27q5",niu6jh:"fid048z"},large:{Bdjeniz:"f18yy57a",niu6jh:"f924bxt"},"extra-large":{Bdjeniz:"f2jg042",niu6jh:"f924bxt"},icon12:{Be2twd7:"f1ugzwwg"},icon16:{Be2twd7:"f4ybsrx"},icon20:{Be2twd7:"fe5j1ua"},icon24:{Be2twd7:"f1rt2boy"},icon28:{Be2twd7:"f24l1pt"},icon32:{Be2twd7:"ffl51b"},icon48:{Be2twd7:"f18m8u13"}},{d:[".f13mqy1h{font-size:var(--fontSizeBase100);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f1x0m3f5{font-size:var(--fontSizeBase600);}",[".fq9zq91{border-radius:var(--borderRadiusSmall);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f1o0qvyv{border-radius:var(--borderRadiusLarge);}",{p:-1}],[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".ftfx35i{transform:perspective(1px);}",".fv0atk9{transition-property:transform,opacity;}",".f1iry5bo{transition-duration:var(--durationUltraSlow),var(--durationFaster);}",".f15n41j8{transition-timing-function:var(--curveEasyEaseMax),var(--curveLinear);}",'.f1wl9k8s::before{content:"";}',".fp2gujx::before{-webkit-mask-image:radial-gradient(circle at bottom calc(var(--fui-Avatar-badgeRadius) + 2 * var(--fui-Avatar-ringWidth)) var(--fui-Avatar-badgeAlign) calc(var(--fui-Avatar-badgeRadius) + 2 * var(--fui-Avatar-ringWidth)), transparent calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) - 0.25px), white calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) + 0.25px));mask-image:radial-gradient(circle at bottom calc(var(--fui-Avatar-badgeRadius) + 2 * var(--fui-Avatar-ringWidth)) var(--fui-Avatar-badgeAlign) calc(var(--fui-Avatar-badgeRadius) + 2 * var(--fui-Avatar-ringWidth)), transparent calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) - 0.25px), white calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) + 0.25px));}",".fq1w1vq{--fui-Avatar-ringWidth:var(--strokeWidthThick);}",".fzg6ace{--fui-Avatar-ringWidth:var(--strokeWidthThicker);}",".f1nu8p71{--fui-Avatar-ringWidth:var(--strokeWidthThickest);}",'.f13zj6fq::after{content:"";}',".fcjn15l::after{box-shadow:var(--shadow4);}",".f1tm8t9f::after{box-shadow:var(--shadow8);}",".f1a1aohj::after{box-shadow:var(--shadow16);}",".fond6v5::after{box-shadow:var(--shadow28);}",".fp25eh{opacity:0.8;}",".f1clczzi{transform:scale(0.875);}",".f1l3s34x{transition-timing-function:var(--curveDecelerateMin),var(--curveLinear);}",[".flkahu5::before,.flkahu5::after{margin:0;}",{p:-1}],".fw457kn::before,.fw457kn::after{opacity:0;}",".f1wmllxl::before,.f1wmllxl::after{transition-timing-function:var(--curveDecelerateMin),var(--curveLinear);}",".f1euv43f{position:absolute;}",".f1yab3r1{bottom:0;}",".f1e31b4d{right:0;}",".f1vgc2s3{left:0;}",".f1eugkqs{-webkit-mask-image:radial-gradient(circle at bottom var(--fui-Avatar-badgeRadius) var(--fui-Avatar-badgeAlign) var(--fui-Avatar-badgeRadius), transparent calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) - 0.25px), white calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) + 0.25px));mask-image:radial-gradient(circle at bottom var(--fui-Avatar-badgeRadius) var(--fui-Avatar-badgeAlign) var(--fui-Avatar-badgeRadius), transparent calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) - 0.25px), white calc(var(--fui-Avatar-badgeRadius) + var(--fui-Avatar-badgeGap) + 0.25px));}",".f1tlnv9o{--fui-Avatar-badgeAlign:right;}",".f1y9kyih{--fui-Avatar-badgeAlign:left;}",".f1uwoubl{--fui-Avatar-badgeRadius:3px;}",".fid048z{--fui-Avatar-badgeGap:var(--strokeWidthThin);}",".f13ar0e0{--fui-Avatar-badgeRadius:5px;}",".fwwuruf{--fui-Avatar-badgeRadius:6px;}",".f1af27q5{--fui-Avatar-badgeRadius:8px;}",".f18yy57a{--fui-Avatar-badgeRadius:10px;}",".f924bxt{--fui-Avatar-badgeGap:var(--strokeWidthThick);}",".f2jg042{--fui-Avatar-badgeRadius:14px;}",".f1ugzwwg{font-size:12px;}",".f4ybsrx{font-size:16px;}",".fe5j1ua{font-size:20px;}",".f1rt2boy{font-size:24px;}",".f24l1pt{font-size:28px;}",".ffl51b{font-size:32px;}",".f18m8u13{font-size:48px;}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f9ttr0w{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]]}),wae=Fe({16:{a9b677:"fjw5fx7",Bqenvij:"fd461yt"},20:{a9b677:"f64fuq3",Bqenvij:"fjamq6b"},24:{a9b677:"fq4mcun",Bqenvij:"frvgh55"},28:{a9b677:"f1w9dchk",Bqenvij:"fxldao9"},32:{a9b677:"f1szoe96",Bqenvij:"f1d2rq10"},36:{a9b677:"fpdz1er",Bqenvij:"f8ljn23"},40:{a9b677:"feqmc2u",Bqenvij:"fbhnoac"},48:{a9b677:"f124akge",Bqenvij:"ff2sm71"},56:{a9b677:"f1u66zr1",Bqenvij:"fzki0ko"},64:{a9b677:"fa9ln6p",Bqenvij:"f16k9i2m"},72:{a9b677:"fhcae8x",Bqenvij:"f1shusfg"},96:{a9b677:"f1kyr2gn",Bqenvij:"fypu0ge"},120:{a9b677:"fwfqyga",Bqenvij:"fjr5b71"},128:{a9b677:"f1iksgmy",Bqenvij:"fele2au"}},{d:[".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".f64fuq3{width:20px;}",".fjamq6b{height:20px;}",".fq4mcun{width:24px;}",".frvgh55{height:24px;}",".f1w9dchk{width:28px;}",".fxldao9{height:28px;}",".f1szoe96{width:32px;}",".f1d2rq10{height:32px;}",".fpdz1er{width:36px;}",".f8ljn23{height:36px;}",".feqmc2u{width:40px;}",".fbhnoac{height:40px;}",".f124akge{width:48px;}",".ff2sm71{height:48px;}",".f1u66zr1{width:56px;}",".fzki0ko{height:56px;}",".fa9ln6p{width:64px;}",".f16k9i2m{height:64px;}",".fhcae8x{width:72px;}",".f1shusfg{height:72px;}",".f1kyr2gn{width:96px;}",".fypu0ge{height:96px;}",".fwfqyga{width:120px;}",".fjr5b71{height:120px;}",".f1iksgmy{width:128px;}",".fele2au{height:128px;}"]}),Sae=Fe({neutral:{sj55zd:"f11d4kpn",De3pzq:"f18f03hv"},brand:{sj55zd:"fonrgv7",De3pzq:"f1blnnmj"},"dark-red":{sj55zd:"fqjd1y1",De3pzq:"f1vq2oo4"},cranberry:{sj55zd:"fg9gses",De3pzq:"f1lwxszt"},red:{sj55zd:"f23f7i0",De3pzq:"f1q9qhfq"},pumpkin:{sj55zd:"fjnan08",De3pzq:"fz91bi3"},peach:{sj55zd:"fknu15p",De3pzq:"f1b9nr51"},marigold:{sj55zd:"f9603vw",De3pzq:"f3z4w6d"},gold:{sj55zd:"fmq0uwp",De3pzq:"fg50kya"},brass:{sj55zd:"f28g5vo",De3pzq:"f4w2gd0"},brown:{sj55zd:"ftl572b",De3pzq:"f14wu1f4"},forest:{sj55zd:"f1gymlvd",De3pzq:"f19ut4y6"},seafoam:{sj55zd:"fnnb6wn",De3pzq:"f1n057jc"},"dark-green":{sj55zd:"ff58qw8",De3pzq:"f11t05wk"},"light-teal":{sj55zd:"f1up9qbj",De3pzq:"f42feg1"},teal:{sj55zd:"f135dsb4",De3pzq:"f6hvv1p"},steel:{sj55zd:"f151dlcp",De3pzq:"f1lnp8zf"},blue:{sj55zd:"f1rjv50u",De3pzq:"f1ggcpy6"},"royal-blue":{sj55zd:"f1emykk5",De3pzq:"f12rj61f"},cornflower:{sj55zd:"fqsigj7",De3pzq:"f8k7hur"},navy:{sj55zd:"f1nj97xi",De3pzq:"f19gw0ux"},lavender:{sj55zd:"fwctg0i",De3pzq:"ff379vm"},purple:{sj55zd:"fjrsgpu",De3pzq:"f1mzf1e1"},grape:{sj55zd:"f1fiiydq",De3pzq:"f1o4k8oy"},lilac:{sj55zd:"f1res9jt",De3pzq:"f1x6mz1o"},pink:{sj55zd:"fv3fbbi",De3pzq:"fydlv6t"},magenta:{sj55zd:"f1f1fwnz",De3pzq:"f4xb6j5"},plum:{sj55zd:"f8ptl6j",De3pzq:"fqo8e26"},beige:{sj55zd:"f1ntv3ld",De3pzq:"f101elhj"},mink:{sj55zd:"f1fscmp",De3pzq:"f13g8o5c"},platinum:{sj55zd:"f1dr00v2",De3pzq:"fkh7blw"},anchor:{sj55zd:"f1f3ti53",De3pzq:"fu4yj0j"}},{d:[".f11d4kpn{color:var(--colorNeutralForeground3);}",".f18f03hv{background-color:var(--colorNeutralBackground6);}",".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".f1blnnmj{background-color:var(--colorBrandBackgroundStatic);}",".fqjd1y1{color:var(--colorPaletteDarkRedForeground2);}",".f1vq2oo4{background-color:var(--colorPaletteDarkRedBackground2);}",".fg9gses{color:var(--colorPaletteCranberryForeground2);}",".f1lwxszt{background-color:var(--colorPaletteCranberryBackground2);}",".f23f7i0{color:var(--colorPaletteRedForeground2);}",".f1q9qhfq{background-color:var(--colorPaletteRedBackground2);}",".fjnan08{color:var(--colorPalettePumpkinForeground2);}",".fz91bi3{background-color:var(--colorPalettePumpkinBackground2);}",".fknu15p{color:var(--colorPalettePeachForeground2);}",".f1b9nr51{background-color:var(--colorPalettePeachBackground2);}",".f9603vw{color:var(--colorPaletteMarigoldForeground2);}",".f3z4w6d{background-color:var(--colorPaletteMarigoldBackground2);}",".fmq0uwp{color:var(--colorPaletteGoldForeground2);}",".fg50kya{background-color:var(--colorPaletteGoldBackground2);}",".f28g5vo{color:var(--colorPaletteBrassForeground2);}",".f4w2gd0{background-color:var(--colorPaletteBrassBackground2);}",".ftl572b{color:var(--colorPaletteBrownForeground2);}",".f14wu1f4{background-color:var(--colorPaletteBrownBackground2);}",".f1gymlvd{color:var(--colorPaletteForestForeground2);}",".f19ut4y6{background-color:var(--colorPaletteForestBackground2);}",".fnnb6wn{color:var(--colorPaletteSeafoamForeground2);}",".f1n057jc{background-color:var(--colorPaletteSeafoamBackground2);}",".ff58qw8{color:var(--colorPaletteDarkGreenForeground2);}",".f11t05wk{background-color:var(--colorPaletteDarkGreenBackground2);}",".f1up9qbj{color:var(--colorPaletteLightTealForeground2);}",".f42feg1{background-color:var(--colorPaletteLightTealBackground2);}",".f135dsb4{color:var(--colorPaletteTealForeground2);}",".f6hvv1p{background-color:var(--colorPaletteTealBackground2);}",".f151dlcp{color:var(--colorPaletteSteelForeground2);}",".f1lnp8zf{background-color:var(--colorPaletteSteelBackground2);}",".f1rjv50u{color:var(--colorPaletteBlueForeground2);}",".f1ggcpy6{background-color:var(--colorPaletteBlueBackground2);}",".f1emykk5{color:var(--colorPaletteRoyalBlueForeground2);}",".f12rj61f{background-color:var(--colorPaletteRoyalBlueBackground2);}",".fqsigj7{color:var(--colorPaletteCornflowerForeground2);}",".f8k7hur{background-color:var(--colorPaletteCornflowerBackground2);}",".f1nj97xi{color:var(--colorPaletteNavyForeground2);}",".f19gw0ux{background-color:var(--colorPaletteNavyBackground2);}",".fwctg0i{color:var(--colorPaletteLavenderForeground2);}",".ff379vm{background-color:var(--colorPaletteLavenderBackground2);}",".fjrsgpu{color:var(--colorPalettePurpleForeground2);}",".f1mzf1e1{background-color:var(--colorPalettePurpleBackground2);}",".f1fiiydq{color:var(--colorPaletteGrapeForeground2);}",".f1o4k8oy{background-color:var(--colorPaletteGrapeBackground2);}",".f1res9jt{color:var(--colorPaletteLilacForeground2);}",".f1x6mz1o{background-color:var(--colorPaletteLilacBackground2);}",".fv3fbbi{color:var(--colorPalettePinkForeground2);}",".fydlv6t{background-color:var(--colorPalettePinkBackground2);}",".f1f1fwnz{color:var(--colorPaletteMagentaForeground2);}",".f4xb6j5{background-color:var(--colorPaletteMagentaBackground2);}",".f8ptl6j{color:var(--colorPalettePlumForeground2);}",".fqo8e26{background-color:var(--colorPalettePlumBackground2);}",".f1ntv3ld{color:var(--colorPaletteBeigeForeground2);}",".f101elhj{background-color:var(--colorPaletteBeigeBackground2);}",".f1fscmp{color:var(--colorPaletteMinkForeground2);}",".f13g8o5c{background-color:var(--colorPaletteMinkBackground2);}",".f1dr00v2{color:var(--colorPalettePlatinumForeground2);}",".fkh7blw{background-color:var(--colorPalettePlatinumBackground2);}",".f1f3ti53{color:var(--colorPaletteAnchorForeground2);}",".fu4yj0j{background-color:var(--colorPaletteAnchorBackground2);}"]}),Cae=Fe({neutral:{Bic5iru:"f1uuiafn"},brand:{Bic5iru:"f1uuiafn"},"dark-red":{Bic5iru:"f1t2x9on"},cranberry:{Bic5iru:"f1pvshc9"},red:{Bic5iru:"f1ectbk9"},pumpkin:{Bic5iru:"fvzpl0b"},peach:{Bic5iru:"fwj2kd7"},marigold:{Bic5iru:"fr120vy"},gold:{Bic5iru:"f8xmmar"},brass:{Bic5iru:"f1hbety2"},brown:{Bic5iru:"f1vg3s4g"},forest:{Bic5iru:"f1m3olm5"},seafoam:{Bic5iru:"f17xiqtr"},"dark-green":{Bic5iru:"fx32vyh"},"light-teal":{Bic5iru:"f1mkihwv"},teal:{Bic5iru:"fecnooh"},steel:{Bic5iru:"f15hfgzm"},blue:{Bic5iru:"fqproka"},"royal-blue":{Bic5iru:"f17v2w59"},cornflower:{Bic5iru:"fp0q1mo"},navy:{Bic5iru:"f1nlym55"},lavender:{Bic5iru:"f62vk8h"},purple:{Bic5iru:"f15zl69q"},grape:{Bic5iru:"f53w4j7"},lilac:{Bic5iru:"fu2771t"},pink:{Bic5iru:"fzflscs"},magenta:{Bic5iru:"fb6rmqc"},plum:{Bic5iru:"f1a4gm5b"},beige:{Bic5iru:"f1qpf9z1"},mink:{Bic5iru:"f1l7or83"},platinum:{Bic5iru:"fzrj0iu"},anchor:{Bic5iru:"f8oz6wf"}},{d:[".f1uuiafn::before{color:var(--colorBrandStroke1);}",".f1t2x9on::before{color:var(--colorPaletteDarkRedBorderActive);}",".f1pvshc9::before{color:var(--colorPaletteCranberryBorderActive);}",".f1ectbk9::before{color:var(--colorPaletteRedBorderActive);}",".fvzpl0b::before{color:var(--colorPalettePumpkinBorderActive);}",".fwj2kd7::before{color:var(--colorPalettePeachBorderActive);}",".fr120vy::before{color:var(--colorPaletteMarigoldBorderActive);}",".f8xmmar::before{color:var(--colorPaletteGoldBorderActive);}",".f1hbety2::before{color:var(--colorPaletteBrassBorderActive);}",".f1vg3s4g::before{color:var(--colorPaletteBrownBorderActive);}",".f1m3olm5::before{color:var(--colorPaletteForestBorderActive);}",".f17xiqtr::before{color:var(--colorPaletteSeafoamBorderActive);}",".fx32vyh::before{color:var(--colorPaletteDarkGreenBorderActive);}",".f1mkihwv::before{color:var(--colorPaletteLightTealBorderActive);}",".fecnooh::before{color:var(--colorPaletteTealBorderActive);}",".f15hfgzm::before{color:var(--colorPaletteSteelBorderActive);}",".fqproka::before{color:var(--colorPaletteBlueBorderActive);}",".f17v2w59::before{color:var(--colorPaletteRoyalBlueBorderActive);}",".fp0q1mo::before{color:var(--colorPaletteCornflowerBorderActive);}",".f1nlym55::before{color:var(--colorPaletteNavyBorderActive);}",".f62vk8h::before{color:var(--colorPaletteLavenderBorderActive);}",".f15zl69q::before{color:var(--colorPalettePurpleBorderActive);}",".f53w4j7::before{color:var(--colorPaletteGrapeBorderActive);}",".fu2771t::before{color:var(--colorPaletteLilacBorderActive);}",".fzflscs::before{color:var(--colorPalettePinkBorderActive);}",".fb6rmqc::before{color:var(--colorPaletteMagentaBorderActive);}",".f1a4gm5b::before{color:var(--colorPalettePlumBorderActive);}",".f1qpf9z1::before{color:var(--colorPaletteBeigeBorderActive);}",".f1l7or83::before{color:var(--colorPaletteMinkBorderActive);}",".fzrj0iu::before{color:var(--colorPalettePlatinumBorderActive);}",".f8oz6wf::before{color:var(--colorPaletteAnchorBorderActive);}"]}),Tae=e=>{"use no memo";const{size:t,shape:n,active:r,activeAppearance:i,color:o}=e,a=yae(),s=bae(),c=xae(),u=_ae(),d=wae(),f=Sae(),p=Cae(),m=[a,t!==32&&d[t]];if(e.badge&&m.push(u.badgeAlign,u[e.badge.size||"medium"]),t<=24?m.push(u.textCaption2Strong):t<=28?m.push(u.textCaption1Strong):t<=40||(t<=56?m.push(u.textSubtitle2):t<=96?m.push(u.textSubtitle1):m.push(u.textTitle3)),n==="square"&&(t<=24?m.push(u.squareSmall):t<=48?m.push(u.squareMedium):t<=72?m.push(u.squareLarge):m.push(u.squareXLarge)),(r==="active"||r==="inactive")&&(m.push(u.activeOrInactive),(i==="ring"||i==="ring-shadow")&&(m.push(u.ring,p[o]),e.badge&&m.push(u.ringBadgeCutout),t<=48?m.push(u.ringThick):t<=64?m.push(u.ringThicker):m.push(u.ringThickest)),(i==="shadow"||i==="ring-shadow")&&(m.push(u.shadow),t<=28?m.push(u.shadow4):t<=48?m.push(u.shadow8):t<=64?m.push(u.shadow16):m.push(u.shadow28)),r==="inactive"&&m.push(u.inactive)),e.root.className=Ce(hm.root,...m,e.root.className),e.badge&&(e.badge.className=Ce(hm.badge,u.badge,e.badge.className)),e.image&&(e.image.className=Ce(hm.image,s,f[o],e.badge&&u.badgeCutout,e.image.className)),e.initials&&(e.initials.className=Ce(hm.initials,c,f[o],e.badge&&u.badgeCutout,e.initials.className)),e.icon){let g;t<=16?g=u.icon12:t<=24?g=u.icon16:t<=40?g=u.icon20:t<=48?g=u.icon24:t<=56?g=u.icon28:t<=72?g=u.icon32:g=u.icon48,e.icon.className=Ce(hm.icon,c,g,f[o],e.badge&&u.badgeCutout,e.icon.className)}return e},ep=x.forwardRef((e,t)=>{const n=mae(e,t);return Tae(n),Ft("useAvatarStyles_unstable")(n),Ioe(n)});ep.displayName="Avatar";function kae(e){const t=e.clientX,n=e.clientY,r=t+1,i=n+1;function o(){return{left:t,top:n,right:r,bottom:i,x:t,y:n,height:1,width:1}}return{getBoundingClientRect:o}}const j3="data-popper-is-intersecting",I3="data-popper-escaped",z3="data-popper-reference-hidden",Eae="data-popper-placement",xM="fui-positioningend",Mae=({options:e})=>e,nq=x.createContext(void 0);nq.Provider;const Aae=()=>{var e;return(e=x.useContext(nq))!==null&&e!==void 0?e:Mae},Nae=["top","right","bottom","left"],Kd=Math.min,Ha=Math.max,Pb=Math.round,vl=e=>({x:e,y:e}),Pae={left:"right",right:"left",bottom:"top",top:"bottom"},Bae={start:"end",end:"start"};function _M(e,t,n){return Ha(e,Kd(t,n))}function vc(e,t){return typeof e=="function"?e(t):e}function yc(e){return e.split("-")[0]}function wp(e){return e.split("-")[1]}function WN(e){return e==="x"?"y":"x"}function GN(e){return e==="y"?"height":"width"}const Rae=new Set(["top","bottom"]);function cl(e){return Rae.has(yc(e))?"y":"x"}function $N(e){return WN(cl(e))}function jae(e,t,n){n===void 0&&(n=!1);const r=wp(e),i=$N(e),o=GN(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Bb(a)),[a,Bb(a)]}function Iae(e){const t=Bb(e);return[wM(e),t,wM(t)]}function wM(e){return e.replace(/start|end/g,t=>Bae[t])}const L3=["left","right"],D3=["right","left"],zae=["top","bottom"],Lae=["bottom","top"];function Dae(e,t,n){switch(e){case"top":case"bottom":return n?t?D3:L3:t?L3:D3;case"left":case"right":return t?zae:Lae;default:return[]}}function Oae(e,t,n,r){const i=wp(e);let o=Dae(yc(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(wM)))),o}function Bb(e){return e.replace(/left|right|bottom|top/g,t=>Pae[t])}function Fae(e){return{top:0,right:0,bottom:0,left:0,...e}}function rq(e){return typeof e!="number"?Fae(e):{top:e,right:e,bottom:e,left:e}}function Rb(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function O3(e,t,n){let{reference:r,floating:i}=e;const o=cl(t),a=$N(t),s=GN(a),c=yc(t),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[s]/2-i[s]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(wp(t)){case"start":m[a]-=p*(n&&u?-1:1);break;case"end":m[a]+=p*(n&&u?-1:1);break}return m}const Uae=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=O3(u,r,c),p=r,m={},g=0;for(let v=0;v<s.length;v++){const{name:_,fn:y}=s[v],{x:S,y:w,data:C,reset:M}=await y({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=S??d,f=w??f,m={...m,[_]:{...m[_],...C}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(u=M.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:d,y:f}=O3(u,p,c)),v=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:m}};async function tp(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=vc(t,e),g=rq(m),_=s[p?f==="floating"?"reference":"floating":f],y=Rb(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),S=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),C=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},M=Rb(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:S,offsetParent:w,strategy:c}):S);return{top:(y.top-M.top+g.top)/C.y,bottom:(M.bottom-y.bottom+g.bottom)/C.y,left:(y.left-M.left+g.left)/C.x,right:(M.right-y.right+g.right)/C.x}}const qae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:c}=t,{element:u,padding:d=0}=vc(e,t)||{};if(u==null)return{};const f=rq(d),p={x:n,y:r},m=$N(i),g=GN(m),v=await a.getDimensions(u),_=m==="y",y=_?"top":"left",S=_?"bottom":"right",w=_?"clientHeight":"clientWidth",C=o.reference[g]+o.reference[m]-p[m]-o.floating[g],M=p[m]-o.reference[m],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=A?A[w]:0;(!E||!await(a.isElement==null?void 0:a.isElement(A)))&&(E=s.floating[w]||o.floating[g]);const I=C/2-M/2,N=E/2-v[g]/2-1,P=Kd(f[y],N),D=Kd(f[S],N),q=P,$=E-v[g]-D,j=E/2-v[g]/2+I,O=_M(q,j,$),z=!c.arrow&&wp(i)!=null&&j!==O&&o.reference[g]/2-(j<q?P:D)-v[g]/2<0,W=z?j<q?j-q:j-$:0;return{[m]:p[m]+W,data:{[m]:O,centerOffset:j-O-W,...z&&{alignmentOffset:W}},reset:z}}}),Hae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,..._}=vc(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=yc(i),S=cl(s),w=yc(s)===s,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),M=p||(w||!v?[Bb(s)]:Iae(s)),A=g!=="none";!p&&A&&M.push(...Oae(s,v,g,C));const E=[s,...M],I=await tp(t,_),N=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(I[y]),f){const j=jae(i,a,C);N.push(I[j[0]],I[j[1]])}if(P=[...P,{placement:i,overflows:N}],!N.every(j=>j<=0)){var D,q;const j=(((D=o.flip)==null?void 0:D.index)||0)+1,O=E[j];if(O&&(!(f==="alignment"?S!==cl(O):!1)||P.every(F=>cl(F.placement)===S?F.overflows[0]>0:!0)))return{data:{index:j,overflows:P},reset:{placement:O}};let z=(q=P.filter(W=>W.overflows[0]<=0).sort((W,F)=>W.overflows[1]-F.overflows[1])[0])==null?void 0:q.placement;if(!z)switch(m){case"bestFit":{var $;const W=($=P.filter(F=>{if(A){const V=cl(F.placement);return V===S||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,H)=>V+H,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:$[0];W&&(z=W);break}case"initialPlacement":z=s;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function F3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function U3(e){return Nae.some(t=>e[t]>=0)}const Vae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=vc(e,t);switch(r){case"referenceHidden":{const o=await tp(t,{...i,elementContext:"reference"}),a=F3(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:U3(a)}}}case"escaped":{const o=await tp(t,{...i,altBoundary:!0}),a=F3(o,n.floating);return{data:{escapedOffsets:a,escaped:U3(a)}}}default:return{}}}}},iq=new Set(["left","top"]);async function Wae(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=yc(n),s=wp(n),c=cl(n)==="y",u=iq.has(a)?-1:1,d=o&&c?-1:1,f=vc(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const Gae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,c=await Wae(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:a}}}}},$ae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:_=>{let{x:y,y:S}=_;return{x:y,y:S}}},...c}=vc(e,t),u={x:n,y:r},d=await tp(t,c),f=cl(yc(i)),p=WN(f);let m=u[p],g=u[f];if(o){const _=p==="y"?"top":"left",y=p==="y"?"bottom":"right",S=m+d[_],w=m-d[y];m=_M(S,m,w)}if(a){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",S=g+d[_],w=g-d[y];g=_M(S,g,w)}const v=s.fn({...t,[p]:m,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:o,[f]:a}}}}}},Xae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=vc(e,t),d={x:n,y:r},f=cl(i),p=WN(f);let m=d[p],g=d[f];const v=vc(s,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const w=p==="y"?"height":"width",C=o.reference[p]-o.floating[w]+_.mainAxis,M=o.reference[p]+o.reference[w]-_.mainAxis;m<C?m=C:m>M&&(m=M)}if(u){var y,S;const w=p==="y"?"width":"height",C=iq.has(yc(i)),M=o.reference[f]-o.floating[w]+(C&&((y=a.offset)==null?void 0:y[f])||0)+(C?0:_.crossAxis),A=o.reference[f]+o.reference[w]+(C?0:((S=a.offset)==null?void 0:S[f])||0)-(C?_.crossAxis:0);g<M?g=M:g>A&&(g=A)}return{[p]:m,[f]:g}}}},Zae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:c=()=>{},...u}=vc(e,t),d=await tp(t,u),f=yc(i),p=wp(i),m=cl(i)==="y",{width:g,height:v}=o.floating;let _,y;f==="top"||f==="bottom"?(_=f,y=p===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,_=p==="end"?"top":"bottom");const S=v-d.top-d.bottom,w=g-d.left-d.right,C=Kd(v-d[_],S),M=Kd(g-d[y],w),A=!t.middlewareData.shift;let E=C,I=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=S),A&&!p){const P=Ha(d.left,0),D=Ha(d.right,0),q=Ha(d.top,0),$=Ha(d.bottom,0);m?I=g-2*(P!==0||D!==0?P+D:Ha(d.left,d.right)):E=v-2*(q!==0||$!==0?q+$:Ha(d.top,d.bottom))}await c({...t,availableWidth:I,availableHeight:E});const N=await a.getDimensions(s.floating);return g!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function Yx(){return typeof window<"u"}function Sp(e){return oq(e)?(e.nodeName||"").toLowerCase():"#document"}function Sa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ec(e){var t;return(t=(oq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oq(e){return Yx()?e instanceof Node||e instanceof Sa(e).Node:!1}function Is(e){return Yx()?e instanceof Element||e instanceof Sa(e).Element:!1}function xl(e){return Yx()?e instanceof HTMLElement||e instanceof Sa(e).HTMLElement:!1}function q3(e){return!Yx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sa(e).ShadowRoot}const Kae=new Set(["inline","contents"]);function vv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=zs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Kae.has(i)}const Yae=new Set(["table","td","th"]);function Jae(e){return Yae.has(Sp(e))}const Qae=[":popover-open",":modal"];function Jx(e){return Qae.some(t=>{try{return e.matches(t)}catch{return!1}})}const ese=["transform","translate","scale","rotate","perspective"],tse=["transform","translate","scale","rotate","perspective","filter"],nse=["paint","layout","strict","content"];function XN(e){const t=ZN(),n=Is(e)?zs(e):e;return ese.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||tse.some(r=>(n.willChange||"").includes(r))||nse.some(r=>(n.contain||"").includes(r))}function rse(e){let t=Lu(e);for(;xl(t)&&!np(t);){if(XN(t))return t;if(Jx(t))return null;t=Lu(t)}return null}function ZN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ise=new Set(["html","body","#document"]);function np(e){return ise.has(Sp(e))}function zs(e){return Sa(e).getComputedStyle(e)}function Qx(e){return Is(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Lu(e){if(Sp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q3(e)&&e.host||Ec(e);return q3(t)?t.host:t}function aq(e){const t=Lu(e);return np(t)?e.ownerDocument?e.ownerDocument.body:e.body:xl(t)&&vv(t)?t:aq(t)}function sq(e,t,n){var r;t===void 0&&(t=[]);const i=aq(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Sa(i);return o?(SM(a),t.concat(a,a.visualViewport||[],vv(i)?i:[],[])):t.concat(i,sq(i,[]))}function SM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lq(e){const t=zs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=xl(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=Pb(n)!==o||Pb(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function cq(e){return Is(e)?e:e.contextElement}function Nh(e){const t=cq(e);if(!xl(t))return vl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=lq(t);let a=(o?Pb(n.width):n.width)/r,s=(o?Pb(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const ose=vl(0);function uq(e){const t=Sa(e);return!ZN()||!t.visualViewport?ose:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ase(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Sa(e)?!1:t}function zg(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=cq(e);let a=vl(1);t&&(r?Is(r)&&(a=Nh(r)):a=Nh(e));const s=ase(o,n,r)?uq(o):vl(0);let c=(i.left+s.x)/a.x,u=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const p=Sa(o),m=r&&Is(r)?Sa(r):r;let g=p,v=SM(g);for(;v&&r&&m!==g;){const _=Nh(v),y=v.getBoundingClientRect(),S=zs(v),w=y.left+(v.clientLeft+parseFloat(S.paddingLeft))*_.x,C=y.top+(v.clientTop+parseFloat(S.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=w,u+=C,g=Sa(v),v=SM(g)}}return Rb({width:d,height:f,x:c,y:u})}function e1(e,t){const n=Qx(e).scrollLeft;return t?t.left+n:zg(Ec(e)).left+n}function dq(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-e1(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function sse(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Ec(r),s=t?Jx(t.floating):!1;if(r===a||s&&o)return n;let c={scrollLeft:0,scrollTop:0},u=vl(1);const d=vl(0),f=xl(r);if((f||!f&&!o)&&((Sp(r)!=="body"||vv(a))&&(c=Qx(r)),xl(r))){const m=zg(r);u=Nh(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=a&&!f&&!o?dq(a,c):vl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function lse(e){return Array.from(e.getClientRects())}function cse(e){const t=Ec(e),n=Qx(e),r=e.ownerDocument.body,i=Ha(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ha(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+e1(e);const s=-n.scrollTop;return zs(r).direction==="rtl"&&(a+=Ha(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const H3=25;function use(e,t){const n=Sa(e),r=Ec(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,c=0;if(i){o=i.width,a=i.height;const d=ZN();(!d||d&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}const u=e1(r);if(u<=0){const d=r.ownerDocument,f=d.body,p=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-m);g<=H3&&(o-=g)}else u<=H3&&(o+=u);return{width:o,height:a,x:s,y:c}}const dse=new Set(["absolute","fixed"]);function fse(e,t){const n=zg(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=xl(e)?Nh(e):vl(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:a,height:s,x:c,y:u}}function V3(e,t,n){let r;if(t==="viewport")r=use(e,n);else if(t==="document")r=cse(Ec(e));else if(Is(t))r=fse(t,n);else{const i=uq(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rb(r)}function fq(e,t){const n=Lu(e);return n===t||!Is(n)||np(n)?!1:zs(n).position==="fixed"||fq(n,t)}function hse(e,t){const n=t.get(e);if(n)return n;let r=sq(e,[]).filter(s=>Is(s)&&Sp(s)!=="body"),i=null;const o=zs(e).position==="fixed";let a=o?Lu(e):e;for(;Is(a)&&!np(a);){const s=zs(a),c=XN(a);!c&&s.position==="fixed"&&(i=null),(o?!c&&!i:!c&&s.position==="static"&&!!i&&dse.has(i.position)||vv(a)&&!c&&fq(e,a))?r=r.filter(d=>d!==a):i=s,a=Lu(a)}return t.set(e,r),r}function pse(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Jx(t)?[]:hse(t,this._c):[].concat(n),r],s=a[0],c=a.reduce((u,d)=>{const f=V3(t,d,i);return u.top=Ha(f.top,u.top),u.right=Kd(f.right,u.right),u.bottom=Kd(f.bottom,u.bottom),u.left=Ha(f.left,u.left),u},V3(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mse(e){const{width:t,height:n}=lq(e);return{width:t,height:n}}function gse(e,t,n){const r=xl(t),i=Ec(t),o=n==="fixed",a=zg(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const c=vl(0);function u(){c.x=e1(i)}if(r||!r&&!o)if((Sp(t)!=="body"||vv(i))&&(s=Qx(t)),r){const m=zg(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&u();o&&!r&&i&&u();const d=i&&!r&&!o?dq(i,s):vl(0),f=a.left+s.scrollLeft-c.x-d.x,p=a.top+s.scrollTop-c.y-d.y;return{x:f,y:p,width:a.width,height:a.height}}function pw(e){return zs(e).position==="static"}function W3(e,t){if(!xl(e)||zs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ec(e)===n&&(n=n.ownerDocument.body),n}function hq(e,t){const n=Sa(e);if(Jx(e))return n;if(!xl(e)){let i=Lu(e);for(;i&&!np(i);){if(Is(i)&&!pw(i))return i;i=Lu(i)}return n}let r=W3(e,t);for(;r&&Jae(r)&&pw(r);)r=W3(r,t);return r&&np(r)&&pw(r)&&!XN(r)?n:r||rse(e)||n}const vse=async function(e){const t=this.getOffsetParent||hq,n=this.getDimensions,r=await n(e.floating);return{reference:gse(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yse(e){return zs(e).direction==="rtl"}const bse={convertOffsetParentRelativeRectToViewportRelativeRect:sse,getDocumentElement:Ec,getClippingRect:pse,getOffsetParent:hq,getElementRects:vse,getClientRects:lse,getDimensions:mse,getScale:Nh,isElement:Is,isRTL:yse},xse=tp,_se=Gae,wse=$ae,Sse=Hae,Cse=Zae,G3=Vae,Tse=qae,$3=Xae,kse=(e,t,n)=>{const r=new Map,i={platform:bse,...n},o={...i.platform,_c:r};return Uae(e,t,{...i,platform:o})};function pq(e){const t=e.split("-");return{side:t[0],alignment:t[1]}}const Ese=e=>e.nodeName==="HTML"?e:e.parentNode||e.host,Mse=e=>{var t;if(e.nodeType!==1)return{};const n=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return n?n.getComputedStyle(e,null):{}},t1=e=>{const t=e&&Ese(e);if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:n,overflowX:r,overflowY:i}=Mse(t);return/(auto|scroll|overlay)/.test(n+i+r)?t:t1(t)},Ase=e=>{var t;const n=t1(e);return n?n!==((t=n.ownerDocument)===null||t===void 0?void 0:t.body):!1};function KN(e,t){if(t==="window")return e==null?void 0:e.ownerDocument.documentElement;if(t==="clippingParents")return"clippingAncestors";if(t==="scrollParent"){let n=t1(e);return n.nodeName==="BODY"&&(n=e==null?void 0:e.ownerDocument.documentElement),n}return t}function mq(e,t){return typeof e=="number"||typeof e=="object"&&e!==null?mw(e,t):typeof e=="function"?n=>{const r=e(n);return mw(r,t)}:{mainAxis:t}}const mw=(e,t)=>{if(typeof e=="number")return{mainAxis:e+t};var n;return{...e,mainAxis:((n=e.mainAxis)!==null&&n!==void 0?n:0)+t}};function gq(e,t){if(typeof e=="number")return e;const{start:n,end:r,...i}=e,o=i,a=t?"end":"start",s=t?"start":"end";return e[a]&&(o.left=e[a]),e[s]&&(o.right=e[s]),o}const Nse=e=>({above:"top",below:"bottom",before:e?"right":"left",after:e?"left":"right"}),Pse=()=>({start:"start",end:"end",top:"start",bottom:"end",center:void 0}),Bse=(e,t)=>{const n=e==="above"||e==="below",r=t==="top"||t==="bottom";return n&&r||!n&&!r},vq=(e,t,n)=>{const r=Bse(t,e)?"center":e,i=t&&Nse(n)[t],o=r&&Pse()[r];return i&&o?`${i}-${o}`:i},Rse=()=>({top:"above",bottom:"below",right:"after",left:"before"}),jse=e=>e==="above"||e==="below"?{start:"start",end:"end"}:{start:"top",end:"bottom"},Ise=e=>{const{side:t,alignment:n}=pq(e),r=Rse()[t],i=n&&jse(r)[n];return{position:r,alignment:i}},zse={above:{position:"above",align:"center"},"above-start":{position:"above",align:"start"},"above-end":{position:"above",align:"end"},below:{position:"below",align:"center"},"below-start":{position:"below",align:"start"},"below-end":{position:"below",align:"end"},before:{position:"before",align:"center"},"before-top":{position:"before",align:"top"},"before-bottom":{position:"before",align:"bottom"},after:{position:"after",align:"center"},"after-top":{position:"after",align:"top"},"after-bottom":{position:"after",align:"bottom"}};function yv(e){return e==null?{}:typeof e=="string"?zse[e]:e}function gw(e,t,n){const r=x.useRef(!0),[i]=x.useState(()=>({value:e,callback:t,facade:{get current(){return i.value},set current(o){const a=i.value;a!==o&&(i.value=o,i.callback(o,a))}}}));return Ni(()=>{r.current=!1},[]),i.callback=t,i.facade}function Lse(e){let t;return()=>(t||(t=new Promise(n=>{Promise.resolve().then(()=>{t=void 0,n(e())})})),t)}function Dse(e){const{arrow:t,middlewareData:n}=e;if(!n.arrow||!t)return;const{x:r,y:i}=n.arrow;Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:""})}function Ose(e){var t,n,r;const{container:i,placement:o,middlewareData:a,strategy:s,lowPPI:c,coordinates:u,useTransform:d=!0}=e;if(!i)return;i.setAttribute(Eae,o),i.removeAttribute(j3),a.intersectionObserver.intersecting&&i.setAttribute(j3,""),i.removeAttribute(I3),!((t=a.hide)===null||t===void 0)&&t.escaped&&i.setAttribute(I3,""),i.removeAttribute(z3),!((n=a.hide)===null||n===void 0)&&n.referenceHidden&&i.setAttribute(z3,"");const f=((r=i.ownerDocument.defaultView)===null||r===void 0?void 0:r.devicePixelRatio)||1,p=Math.round(u.x*f)/f,m=Math.round(u.y*f)/f;if(Object.assign(i.style,{position:s}),d){Object.assign(i.style,{transform:c?`translate(${p}px, ${m}px)`:`translate3d(${p}px, ${m}px, 0)`});return}Object.assign(i.style,{left:`${p}px`,top:`${m}px`})}const Fse=e=>{switch(e){case"always":case!0:return{applyMaxWidth:!0,applyMaxHeight:!0};case"width-always":case"width":return{applyMaxWidth:!0,applyMaxHeight:!1};case"height-always":case"height":return{applyMaxWidth:!1,applyMaxHeight:!0};default:return!1}};function X3(e){const t=[];let n=e;for(;n;){const r=t1(n);if(e.ownerDocument.body===r){t.push(r);break}if(r.nodeName==="BODY"&&r!==e.ownerDocument.body)break;t.push(r),n=r}return t}function Use(e,t){return new e.ResizeObserver(t)}function qse(e){let t=!1;const{container:n,target:r,arrow:i,strategy:o,middleware:a,placement:s,useTransform:c=!0,disableUpdateOnResize:u=!1}=e,d=n.ownerDocument.defaultView;if(!r||!n||!d)return{updatePosition:()=>{},dispose:()=>{}};const f=u?null:Use(d,y=>{y.every(w=>w.contentRect.width>0&&w.contentRect.height>0)&&v()});let p=!0;const m=new Set;Object.assign(n.style,{position:"fixed",left:0,top:0,margin:0});const g=()=>{t||(p&&(X3(n).forEach(y=>m.add(y)),Ar(r)&&X3(r).forEach(y=>m.add(y)),m.forEach(y=>{y.addEventListener("scroll",v,{passive:!0})}),f==null||f.observe(n),Ar(r)&&(f==null||f.observe(r)),p=!1),Object.assign(n.style,{position:o}),kse(r,n,{placement:s,middleware:a,strategy:o}).then(({x:y,y:S,middlewareData:w,placement:C})=>{t||(Dse({arrow:i,middlewareData:w}),Ose({container:n,middlewareData:w,placement:C,coordinates:{x:y,y:S},lowPPI:((d==null?void 0:d.devicePixelRatio)||1)<=1,strategy:o,useTransform:c}),n.dispatchEvent(new CustomEvent(xM)))}).catch(y=>{}))},v=Lse(()=>g()),_=()=>{t=!0,d&&(d.removeEventListener("scroll",v),d.removeEventListener("resize",v)),m.forEach(y=>{y.removeEventListener("scroll",v)}),m.clear(),f==null||f.disconnect()};return d&&(d.addEventListener("scroll",v,{passive:!0}),d.addEventListener("resize",v)),v(),{updatePosition:v,dispose:_}}function Hse(){return{name:"coverTarget",fn:e=>{const{placement:t,rects:n,x:r,y:i}=e,o=pq(t).side,a={x:r,y:i};switch(o){case"bottom":a.y-=n.reference.height;break;case"top":a.y+=n.reference.height;break;case"left":a.x+=n.reference.width;break;case"right":a.x-=n.reference.width;break}return a}}}function Vse(e){const{hasScrollableElement:t,flipBoundary:n,container:r,fallbackPositions:i=[],isRtl:o}=e,a=i.reduce((s,c)=>{const{position:u,align:d}=yv(c),f=vq(d,u,o);return f&&s.push(f),s},[]);return Sse({...t&&{boundary:"clippingAncestors"},...n&&{altBoundary:!0,boundary:KN(r,n)},fallbackStrategy:"bestFit",...a.length&&{fallbackPlacements:a}})}function Wse(){return{name:"intersectionObserver",fn:async e=>{const t=e.rects.floating,n=await xse(e,{altBoundary:!0}),r=n.top<t.height&&n.top>0,i=n.bottom<t.height&&n.bottom>0;return{data:{intersecting:r||i}}}}}const Gse=e=>({name:"resetMaxSize",fn({middlewareData:t,elements:n}){var r;if(!((r=t.resetMaxSize)===null||r===void 0)&&r.maxSizeAlreadyReset)return{};const{applyMaxWidth:i,applyMaxHeight:o}=e;return i&&(n.floating.style.removeProperty("box-sizing"),n.floating.style.removeProperty("max-width"),n.floating.style.removeProperty("width")),o&&(n.floating.style.removeProperty("box-sizing"),n.floating.style.removeProperty("max-height"),n.floating.style.removeProperty("height")),{data:{maxSizeAlreadyReset:!0},reset:{rects:!0}}}});function $se(e,t){const{container:n,overflowBoundary:r,overflowBoundaryPadding:i,isRtl:o}=t;return Cse({...i&&{padding:gq(i,o)},...r&&{altBoundary:!0,boundary:KN(n,r)},apply({availableHeight:a,availableWidth:s,elements:c,rects:u}){const d=(m,g,v)=>{if(m&&(c.floating.style.setProperty("box-sizing","border-box"),c.floating.style.setProperty(`max-${g}`,`${v}px`),u.floating[g]>v)){c.floating.style.setProperty(g,`${v}px`);const _=g==="width"?"x":"y";c.floating.style.getPropertyValue(`overflow-${_}`)||c.floating.style.setProperty(`overflow-${_}`,"auto")}},{applyMaxWidth:f,applyMaxHeight:p}=e;d(f,"width",s),d(p,"height",a)}})}function Xse(e){return!e||typeof e=="number"||typeof e=="object"?e:({rects:{floating:t,reference:n},placement:r})=>{const{position:i,alignment:o}=Ise(r);return e({positionedRect:t,targetRect:n,position:i,alignment:o})}}function Zse(e){const t=Xse(e);return _se(t)}function Kse(e){const{hasScrollableElement:t,shiftToCoverTarget:n,disableTether:r,overflowBoundary:i,container:o,overflowBoundaryPadding:a,isRtl:s}=e;return wse({...t&&{boundary:"clippingAncestors"},...n&&{crossAxis:!0,limiter:$3({crossAxis:!0,mainAxis:!1})},...r&&{crossAxis:r==="all",limiter:$3({crossAxis:r!=="all",mainAxis:!1})},...a&&{padding:gq(a,s)},...i&&{altBoundary:!0,boundary:KN(o,i)}})}const Z3="--fui-match-target-size";function Yse(){return{name:"matchTargetSize",fn:async e=>{const{rects:{reference:t,floating:n},elements:{floating:r},middlewareData:{matchTargetSize:{matchTargetSizeAttempt:i=!1}={}}}=e;if(t.width===n.width||i)return{};const{width:o}=t;return r.style.setProperty(Z3,`${o}px`),r.style.width||(r.style.width=`var(${Z3})`),{data:{matchTargetSizeAttempt:!0},reset:{rects:!0}}}}}function Jse(e,t){const{align:n,arrowPadding:r,autoSize:i,coverTarget:o,disableUpdateOnResize:a,flipBoundary:s,offset:c,overflowBoundary:u,pinned:d,position:f,unstable_disableTether:p,strategy:m,overflowBoundaryPadding:g,fallbackPositions:v,useTransform:_,matchTargetSize:y,shiftToCoverTarget:S}=t;return x.useCallback((w,C)=>e({container:w,arrow:C,options:{autoSize:i,disableUpdateOnResize:a,matchTargetSize:y,offset:c,strategy:m,coverTarget:o,flipBoundary:s,overflowBoundary:u,useTransform:_,overflowBoundaryPadding:g,pinned:d,arrowPadding:r,align:n,fallbackPositions:v,shiftToCoverTarget:S,position:f,unstable_disableTether:p}}),[i,a,y,c,m,o,s,u,_,g,d,r,n,v,S,f,p,e])}function Qse(e){const{dir:t,targetDocument:n}=gn(),r=t==="rtl",i=Jse(Aae(),e),{positionFixed:o}=e;return x.useCallback((a,s)=>{const c=Ase(a),u=i(a,s),{autoSize:d,disableUpdateOnResize:f,matchTargetSize:p,offset:m,coverTarget:g,flipBoundary:v,overflowBoundary:_,useTransform:y,overflowBoundaryPadding:S,pinned:w,position:C,arrowPadding:M,strategy:A,align:E,fallbackPositions:I,shiftToCoverTarget:N,unstable_disableTether:P}=u,D=Fse(d),q=[D&&Gse(D),p&&Yse(),m&&Zse(m),g&&Hse(),!w&&Vse({container:a,flipBoundary:v,hasScrollableElement:c,isRtl:r,fallbackPositions:I}),Kse({container:a,hasScrollableElement:c,overflowBoundary:_,disableTether:P,overflowBoundaryPadding:S,isRtl:r,shiftToCoverTarget:N}),D&&$se(D,{container:a,overflowBoundary:_,overflowBoundaryPadding:S,isRtl:r}),Wse(),s&&Tse({element:s,padding:M}),G3({strategy:"referenceHidden"}),G3({strategy:"escaped"}),!1].filter(Boolean);return{placement:vq(E,C,r),middleware:q,strategy:A??o?"fixed":"absolute",disableUpdateOnResize:f,useTransform:y}},[i,r,n,o])}function n1(e){"use no memo";const t=x.useRef(null),n=x.useRef(null),r=x.useRef(null),i=x.useRef(null),o=x.useRef(null),{enabled:a=!0}=e,s=Qse(e),c=x.useCallback(()=>{t.current&&t.current.dispose(),t.current=null;var g;const v=(g=r.current)!==null&&g!==void 0?g:n.current;a&&Ox()&&v&&i.current&&(t.current=qse({container:i.current,target:v,arrow:o.current,...s(i.current,o.current)}))},[a,s]),u=pt(g=>{r.current=g,c()});x.useImperativeHandle(e.positioningRef,()=>({updatePosition:()=>{var g;return(g=t.current)===null||g===void 0?void 0:g.updatePosition()},setTarget:g=>{e.target,u(g)}}),[e.target,u]),Ni(()=>{var g;u((g=e.target)!==null&&g!==void 0?g:null)},[e.target,u]),Ni(()=>{c()},[c]);const d=gw(null,g=>{n.current!==g&&(n.current=g,c())}),f=pt(()=>{var g;return(g=e.onPositioningEnd)===null||g===void 0?void 0:g.call(e)}),p=gw(null,g=>{if(i.current!==g){var v;(v=i.current)===null||v===void 0||v.removeEventListener(xM,f),g==null||g.addEventListener(xM,f),i.current=g,c()}}),m=gw(null,g=>{o.current!==g&&(o.current=g,c())});return{targetRef:d,containerRef:p,arrowRef:m}}const yq=e=>{const[t,n]=x.useState(e);return[t,i=>{if(i==null){n(void 0);return}let o;i instanceof MouseEvent?o=i:o=i.nativeEvent;const a=kae(o);n(a)}]};function ele(){let e=!1;const t=[];return{isActive(){return e},toggleActive(n){e!==n&&(e=n,t.forEach(r=>r(e)))},subscribe(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}}}var bq={exports:{}},xq={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=x;function tle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nle=typeof Object.is=="function"?Object.is:tle,rle=rp.useState,ile=rp.useEffect,ole=rp.useLayoutEffect,ale=rp.useDebugValue;function sle(e,t){var n=t(),r=rle({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return ole(function(){i.value=n,i.getSnapshot=t,vw(i)&&o({inst:i})},[e,n,t]),ile(function(){return vw(i)&&o({inst:i}),e(function(){vw(i)&&o({inst:i})})},[e]),ale(n),n}function vw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nle(e,n)}catch{return!0}}function lle(e,t){return t()}var cle=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lle:sle;xq.useSyncExternalStore=rp.useSyncExternalStore!==void 0?rp.useSyncExternalStore:cle;bq.exports=xq;var _q=bq.exports;function K3(e,t){return{topLeft:[e.left-t[0],e.top-t[1]],topRight:[e.right-t[0],e.top-t[1]],bottomRight:[e.right-t[0],e.bottom-t[1]],bottomLeft:[e.left-t[0],e.bottom-t[1]]}}const Y3=20;function wq(e,t){return Math.sqrt((e[0]-t[0])**2+(e[1]-t[1])**2)}function ule(e,t){const n=wq(e,t);return n===0?[0,0]:[(e[0]-t[0])/n,(e[1]-t[1])/n]}function dle(e,t,n){const r=[(e[0]+t[0])/2,(e[1]+t[1])/2],i=ule([n[0],n[1]],[r[0],r[1]]),o=wq([r[0],r[1]],[n[0],n[1]]);return[r[0]+i[0]*(o+Y3),r[1]+i[1]*(o+Y3)]}function B0(e){return`M ${e} z`}const fle=Fe({wrapper:{mc9l5x:"fjseox",Bqenvij:"fniina8",a9b677:"f3tsq5r",Bkecrkj:"f1aehjj5"},wrapperActive:{mc9l5x:"ftgm304"},svg:{Bkfmm31:"f1au8mb3",Bkecrkj:"f1aehjj5",qhf8xq:"f19dog8a",Bhzewxz:"f15twtuk",oyh7mz:["f1vgc2s3","f1e31b4d"]},triangle:{Bkecrkj:"f1cguypg"},triangleDebug:{Bceei9c:"f7116n6",Bkfmm31:"f1xab38x"},rectDebug:{Bkfmm31:"fyegryc"}},{d:[".fjseox{display:none;}",".fniina8{height:0;}",".f3tsq5r{width:0;}",".f1aehjj5{pointer-events:none;}",".ftgm304{display:block;}",".f1au8mb3{fill:transparent;}",".f19dog8a{position:fixed;}",".f15twtuk{top:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".f1cguypg{pointer-events:auto;}",".f7116n6{cursor:crosshair;}",".f1xab38x{fill:color-mix(in srgb, var(--colorPaletteGreenBackground3) 20%, transparent);}",".fyegryc{fill:color-mix(in srgb, var(--colorPaletteRedBackground3) 20%, transparent);}"]});function J3(e){if(e.width<=0||e.height<=0)return"";let t="";return t+=`M ${e.x},${e.y} `,t+=`V ${e.y+e.height} `,t+=`H ${e.x+e.width} `,t+=`V ${e.y} `,t+=`H ${e.x} `,t+="Z ",t}function hle(e,t,n,r){let i=`M 0,0 H ${e} V ${t} H 0 Z `;return i+=J3(n),i+=J3(r),i}const Q3={top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0,toJSON(){return""}};function eI(e,t){return e.top===t.top&&e.right===t.right&&e.bottom===t.bottom&&e.left===t.left&&e.width===t.width&&e.height===t.height}function ple(e,t){return e[0]===t[0]&&e[1]===t[1]}const mle=x.memo(e=>{const{debug:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,stateStore:o}=e,a=vi(),s=fle(),c=_q.useSyncExternalStore(o.subscribe,o.isActive),u=x.useRef(null),[d,f]=x.useState(()=>({containerRect:Q3,targetRect:Q3,mouseCoordinates:[0,0]}));x.useImperativeHandle(e.imperativeRef,()=>({updateSVG(j){f(O=>eI(O.containerRect,j.containerRect)&&eI(O.targetRect,j.targetRect)&&ple(O.mouseCoordinates,j.mouseCoordinates)?O:j)}}),[]);const{containerRect:p,targetRect:m,mouseCoordinates:g}=d,v=Math.min(m.top,p.top),_=Math.min(m.left,p.left),y=Math.max(m.bottom,p.bottom),S=Math.max(m.right,p.right),w=K3(p,[_,v]),C=K3(m,[_,v]),M=[g[0]-_,g[1]-v],A=dle(w.topLeft,w.bottomRight,M),E=[A,w.topLeft,w.topRight],I=[A,w.topRight,w.bottomRight],N=[A,w.bottomRight,w.bottomLeft],P=[A,w.bottomLeft,w.topLeft],D=S-_,q=y-v,$=hle(D,q,{x:C.topLeft[0],y:C.topLeft[1],width:m.width,height:m.height},{x:w.topLeft[0],y:w.topLeft[1],width:p.width,height:p.height});return x.createElement("div",{className:Ce(s.wrapper,c&&s.wrapperActive),"data-safe-zone":""},c?x.createElement("svg",{"aria-hidden":!0,className:s.svg,xmlns:"http://www.w3.org/2000/svg",ref:u,style:{width:`${D}px`,height:`${q}px`,transform:`translate(${_}px, ${v}px)`}},x.createElement("g",{className:Ce(s.triangle,t&&s.triangleDebug),clipPath:`url(#${a})`,onMouseEnter:n,onMouseMove:r,onMouseLeave:i},x.createElement("path",{d:B0(E)}),x.createElement("path",{d:B0(I)}),x.createElement("path",{d:B0(N)}),x.createElement("path",{d:B0(P)})),x.createElement("clipPath",{id:a},x.createElement("path",{d:$})),t&&x.createElement("path",{className:s.rectDebug,d:$})):null)}),gle=2e3;function vle({debug:e=!1,disabled:t=!1,onSafeZoneEnter:n,onSafeZoneMove:r,onSafeZoneLeave:i,onSafeZoneTimeout:o,timeout:a=1500}={}){const[s]=x.useState(ele),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),[f,p]=af(),[m,g]=Mb(),v=x.useRef({x:0,y:0}),_=x.useMemo(()=>{if(t)return()=>{};let M=null;function A(){p(),s.toggleActive(!1)}return E=>{E===null&&(M==null||M.removeEventListener("mouseenter",A)),M=E,E==null||E.addEventListener("mouseenter",A)}},[p,t,s]),y=x.useMemo(()=>{if(t)return()=>{};let M=null;function A(E){v.current={x:E.clientX,y:E.clientY},s.isActive()||s.toggleActive(!0),f(()=>{s.toggleActive(!1)},gle)}return E=>{E===null&&(g(),p(),M==null||M.removeEventListener("mousemove",A)),M=E,E==null||E.addEventListener("mousemove",A)}},[g,p,t,s,f]),S=pt(M=>{n==null||n(M),f(()=>{s.toggleActive(!1),o==null||o()},a)}),w=pt(M=>{f(()=>{s.toggleActive(!1),o==null||o()},a),r==null||r(M)}),C=pt(M=>{i==null||i(M)});return x.useEffect(()=>s.subscribe(M=>{if(M){let E=function(){const I=u.current,N=d.current;if(I&&N){var P;(P=c.current)===null||P===void 0||P.updateSVG({containerRect:I.getBoundingClientRect(),mouseCoordinates:[v.current.x,v.current.y],targetRect:N.getBoundingClientRect()})}m(E)};var A=E;E();return}g()}),[g,m,s]),{containerRef:dn(u,_),targetRef:dn(d,y),elementToRender:x.useMemo(()=>t?null:x.createElement(mle,{debug:e,onMouseEnter:S,onMouseMove:w,onMouseLeave:C,imperativeRef:c,stateStore:s}),[t,e,S,w,C,s])}}const YN=kc(void 0),yle={open:!1,setOpen:()=>null,toggleOpen:()=>null,triggerRef:{current:null},contentRef:{current:null},arrowRef:{current:null},openOnContext:!1,openOnHover:!1,size:"medium",trapFocus:!1,inline:!1};YN.Provider;const mi=e=>Gu(YN,(t=yle)=>e(t)),ble=(e,t)=>{const n=mi(S=>S.contentRef),r=mi(S=>S.openOnHover),i=mi(S=>S.setOpen),o=mi(S=>S.mountNode),a=mi(S=>S.arrowRef),s=mi(S=>S.size),c=mi(S=>S.withArrow),u=mi(S=>S.appearance),d=mi(S=>S.trapFocus),f=mi(S=>S.inertTrapFocus),p=mi(S=>S.inline),{modalAttributes:m}=Gx({trapFocus:d,legacyTrapFocus:!f,alwaysFocusable:!d}),g={inline:p,appearance:u,withArrow:c,size:s,arrowRef:a,mountNode:o,components:{root:"div"},root:Ct(Qt("div",{ref:dn(t,n),role:d?"dialog":"group","aria-modal":d?!0:void 0,...m,...e}),{elementType:"div"})},{onMouseEnter:v,onMouseLeave:_,onKeyDown:y}=g.root;return g.root.onMouseEnter=S=>{r&&i(S,!0),v==null||v(S)},g.root.onMouseLeave=S=>{r&&i(S,!1),_==null||_(S)},g.root.onKeyDown=S=>{var w;S.key==="Escape"&&(!((w=n.current)===null||w===void 0)&&w.contains(S.target))&&(S.preventDefault(),i(S,!1)),y==null||y(S)},g};function Sq(e){return Ar(e)?{element:e}:typeof e=="object"?e===null?{element:null}:e:{}}const xle=Fe({root:{qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["f1e31b4d","f1vgc2s3"],Bj3rh1h:"f494woh"}},{d:[".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".f494woh{z-index:1000000;}"]}),Cq=Jy.useInsertionEffect,_le=e=>{"use no memo";const{className:t,dir:n,focusVisibleRef:r,targetNode:i}=e,o=x.useMemo(()=>{if(i===void 0||e.disabled)return null;const a=i.ownerDocument.createElement("div");return i.appendChild(a),a},[i,e.disabled]);return x.useMemo(()=>{o&&(o.className=t,o.setAttribute("dir",n),o.setAttribute("data-portal-node","true"),r.current=o)},[t,n,o,r]),x.useEffect(()=>()=>{o==null||o.remove()},[o]),o},wle=()=>{let e;function t(r,i){return e||(i&&(e=r.ownerDocument.createElement("div"),r.appendChild(e)),e)}function n(){e&&(e.remove(),e=void 0)}return{get:t,dispose:n}},Sle=e=>{"use no memo";const{className:t,dir:n,focusVisibleRef:r,targetNode:i}=e,[o]=x.useState(wle),a=x.useMemo(()=>i===void 0||e.disabled?null:new Proxy({},{get(s,c){if(c==="nodeType")return 1;if(c==="remove"){const f=o.get(i,!1);return f&&f.childNodes.length===0&&o.dispose(),()=>{}}const u=o.get(i,!0),d=u?u[c]:void 0;return typeof d=="function"?d.bind(u):d},set(s,c,u){const d=c==="_virtual"||c==="focusVisible",f=d?o.get(i,!1):o.get(i,!0);return d&&!f?!0:f?(Object.assign(f,{[c]:u}),!0):!1}}),[o,i,e.disabled]);return Cq(()=>{if(!a)return;const s=t.split(" ").filter(Boolean);return a.classList.add(...s),a.setAttribute("dir",n),a.setAttribute("data-portal-node","true"),r.current=a,()=>{a.classList.remove(...s),a.removeAttribute("dir")}},[t,n,a,r]),x.useEffect(()=>()=>{a==null||a.remove()},[a]),a},Cle=Cq?Sle:_le,Tle=e=>{"use no memo";const{targetDocument:t,dir:n}=gn(),r=Nee(),i=jN(),o=xle(),a=_ee(),s={dir:n,disabled:e.disabled,focusVisibleRef:i,className:Ce(a,o.root,e.className),targetNode:r??(t==null?void 0:t.body)};return Cle(s)},kle=e=>{const{element:t,className:n}=Sq(e.mountNode),r=x.useRef(null),i=Tle({disabled:!!t,className:n}),o=t??i,a={children:e.children,mountNode:o,virtualParentRootRef:r};return x.useEffect(()=>{if(!o)return;const s=r.current,c=o.contains(s);if(s&&!c)return Ij(o,s),()=>{Ij(o,void 0)}},[r,o]),a},Ele=e=>x.createElement("span",{hidden:!0,ref:e.virtualParentRootRef},e.mountNode&&qh.createPortal(x.createElement(x.Fragment,null,e.children,x.createElement("span",{hidden:!0})),e.mountNode)),cf=e=>{const t=kle(e);return Ele(t)};cf.displayName="Portal";const Mle=e=>{const t=an(e.root,{children:[e.withArrow&&Se("div",{ref:e.arrowRef,className:e.arrowClassName}),e.root.children]});return e.inline?t:Se(cf,{mountNode:e.mountNode,children:t})},Ale={root:"fui-PopoverSurface"},Nle={small:6,medium:8,large:8},Ple=Fe({root:{sj55zd:"f19n0e5",De3pzq:"fxugw4r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f9ggezi",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B93otf3:"f18k4bn6",vin17d:"fo1kyvf",Ezkn3b:"fetxo7e",nyiy2g:"f8x1vz1",swvrvq:"f8g0anz",Bkovbt3:"fezwn9i",hgjdhn:"fz5efge",fsy9dk:"f1ydixl4",B3ogreh:"f8dgqj5",jv49x5:"fnyfnr8",Bk7o48c:"fgw77r4",Bv12yb3:"f1noc5he",i09l9u:"f1k46bua",Bcrj8ia:"f1lhuzxm",Bmmhre5:"f1f9qikc",Bhu2qc9:"fymb6k8"},inline:{Bj3rh1h:"f19g0ac"},inverted:{De3pzq:"fg3r6xk",sj55zd:"fonrgv7"},brand:{De3pzq:"ffp7eso",sj55zd:"f1phragk"},smallPadding:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1sy4kr4"},mediumPadding:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f4zyqsv"},largePadding:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fop8ug2"},smallArrow:{rhnwrx:"f1s3jn22",Bdy53xb:"fv40uqz"},mediumLargeArrow:{rhnwrx:"f1f72gjr",Bdy53xb:"f69yoe5"},arrow:{B7ck84d:"f1ewtqcl",qhf8xq:"f1euv43f",Bj3rh1h:"f1bsuimh",De3pzq:"f1u2r49w",B2eet1l:"fqhgnl",Beyfa6y:"f17bz04i",Bz10aip:"f36o3x3",Bqenvij:"fzofk8q",a9b677:"f1wbx1ie",Ftih45:"f1wl9k8s",Br0sdwz:"f1aocrix",cmx5o7:"f1ljr5q2",susq4k:0,Biibvgv:0,Bicfajf:0,qehafq:0,Brs5u8j:"f155f1qt",Ccq8qp:"f9mhzq7",Baz25je:"fr6rhvx",Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1kc0wz4",r59vdv:"fgq90dz",Bkw5xw4:"fq0y47f",hl6cv3:"f1pwrbz6",aea9ga:"f1hxxcvm",yayu3t:"fw8rgyo",Bhsv975:"f1wnzycx",rhl9o9:"f1730wal",B7gxrvb:"f1fy4ixr",B6q6orb:"fobkauc",B0lu1f8:"f16bqv1l"}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f9ggezi{border:1px solid var(--colorTransparentStroke);}",{p:-2}],".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f18k4bn6{animation-composition:accumulate;}",".fo1kyvf{animation-duration:var(--durationSlower);}",".fetxo7e{animation-timing-function:var(--curveDecelerateMid);}",".f8x1vz1{--fui-positioning-slide-distance-x:0px;}",".f8g0anz{--fui-positioning-slide-distance-y:10px;}",".fezwn9i[data-popper-placement^=right]{--fui-positioning-slide-distance-x:-10px;}",".fz5efge[data-popper-placement^=right]{--fui-positioning-slide-distance-y:0px;}",".f1ydixl4[data-popper-placement^=bottom]{--fui-positioning-slide-distance-x:0px;}",".f8dgqj5[data-popper-placement^=bottom]{--fui-positioning-slide-distance-y:-10px;}",".fnyfnr8[data-popper-placement^=left]{--fui-positioning-slide-distance-x:10px;}",".fgw77r4[data-popper-placement^=left]{--fui-positioning-slide-distance-y:0px;}",".f1noc5he{animation-name:f1m0q9mo,f79suad;}",".fymb6k8{filter:drop-shadow(0 0 2px var(--colorNeutralShadowAmbient)) drop-shadow(0 8px 16px var(--colorNeutralShadowKey));}",".f19g0ac{z-index:1;}",".fg3r6xk{background-color:var(--colorNeutralBackgroundStatic);}",".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",[".f1sy4kr4{padding:12px;}",{p:-1}],[".f4zyqsv{padding:16px;}",{p:-1}],[".fop8ug2{padding:20px;}",{p:-1}],".f1s3jn22{--fui-positioning-arrow-height:8.484px;}",".fv40uqz{--fui-positioning-arrow-offset:-4.242px;}",".f1f72gjr{--fui-positioning-arrow-height:11.312px;}",".f69yoe5{--fui-positioning-arrow-offset:-5.656px;}",".f1ewtqcl{box-sizing:border-box;}",".f1euv43f{position:absolute;}",".f1bsuimh{z-index:-1;}",".f1u2r49w{background-color:inherit;}",".fqhgnl{background-clip:content-box;}",".f17bz04i{border-bottom-left-radius:var(--borderRadiusSmall);}",".f36o3x3{transform:rotate(var(--fui-positioning-arrow-angle));}",".fzofk8q{height:var(--fui-positioning-arrow-height);}",".f1wbx1ie{width:var(--fui-positioning-arrow-height);}",'.f1wl9k8s::before{content:"";}',".f1aocrix::before{display:block;}",".f1ljr5q2::before{background-color:inherit;}",[".f155f1qt::before{margin:-1px;}",{p:-1}],".f9mhzq7::before{width:100%;}",".fr6rhvx::before{height:100%;}",[".f1kc0wz4::before{border:1px solid var(--colorTransparentStroke);}",{p:-2}],".fgq90dz::before{border-bottom-left-radius:var(--borderRadiusSmall);}",".fq0y47f::before{clip-path:polygon(0% 0%, 100% 100%, 0% 100%);}",'[data-popper-placement^="top"] .f1pwrbz6{bottom:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="top"] .f1hxxcvm{--fui-positioning-arrow-angle:-45deg;}','[data-popper-placement^="right"] .fw8rgyo{left:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="right"] .f1wnzycx{--fui-positioning-arrow-angle:45deg;}','[data-popper-placement^="bottom"] .f1730wal{top:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="bottom"] .f1fy4ixr{--fui-positioning-arrow-angle:135deg;}','[data-popper-placement^="left"] .fobkauc{right:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="left"] .f16bqv1l{--fui-positioning-arrow-angle:225deg;}'],k:["@keyframes f1m0q9mo{from{opacity:-1;}to{opacity:0;}}","@keyframes f79suad{from{transform:translate(var(--fui-positioning-slide-distance-x), var(--fui-positioning-slide-distance-y));}}"],m:[["@media (prefers-reduced-motion){.f1k46bua[data-popper-placement]{animation-duration:1ms;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.f1lhuzxm[data-popper-placement]{animation-name:f1m0q9mo;}}",{m:"(prefers-reduced-motion)"}]],t:["@supports not (animation-composition: accumulate){.f1f9qikc[data-popper-placement]{animation-name:f1m0q9mo;}}"]}),Ble=e=>{"use no memo";const t=Ple();return e.root.className=Ce(Ale.root,t.root,e.inline&&t.inline,e.size==="small"&&t.smallPadding,e.size==="medium"&&t.mediumPadding,e.size==="large"&&t.largePadding,e.appearance==="inverted"&&t.inverted,e.appearance==="brand"&&t.brand,e.root.className),e.arrowClassName=Ce(t.arrow,e.size==="small"?t.smallArrow:t.mediumLargeArrow),e},Rle=4,jle=e=>{const[t,n]=yq(),r={size:"medium",contextTarget:t,setContextTarget:n,...e},i=x.Children.toArray(e.children);let o,a;i.length===2?(o=i[0],a=i[1]):i.length===1&&(a=i[0]);const[s,c]=Ile(r),[u,d]=af(),f=pt((M,A)=>{if(d(),!(M instanceof Event)&&M.persist&&M.persist(),M.type==="mouseleave"){var E;u(()=>{c(M,A)},(E=e.mouseLeaveDelay)!==null&&E!==void 0?E:500)}else c(M,A)}),p=x.useCallback(M=>{f(M,!s)},[f,s]),m=zle(r),{targetDocument:g}=gn();var v;EN({contains:ga,element:g,callback:M=>f(M,!1),refs:[m.triggerRef,m.contentRef],disabled:!s,disabledFocusOnIframe:!(!((v=e.closeOnIframeFocus)!==null&&v!==void 0)||v)});const _=r.openOnContext||r.closeOnScroll;V7({contains:ga,element:g,callback:M=>f(M,!1),refs:[m.triggerRef,m.contentRef],disabled:!s||!_});const{findFirstFocusable:y}=Wu(),S=$ne();x.useEffect(()=>{if(e.unstable_disableAutoFocus)return;const M=m.contentRef.current;if(s&&M){var A;const E=!isNaN((A=M.getAttribute("tabIndex"))!==null&&A!==void 0?A:void 0),I=E?M:y(M);I==null||I.focus(),E&&S(M)}},[y,S,s,m.contentRef,e.unstable_disableAutoFocus]);var w,C;return{...r,...m,inertTrapFocus:(w=e.inertTrapFocus)!==null&&w!==void 0?w:e.legacyTrapFocus===void 0?!1:!e.legacyTrapFocus,popoverTrigger:o,popoverSurface:a,open:s,setOpen:f,toggleOpen:p,setContextTarget:n,contextTarget:t,inline:(C=e.inline)!==null&&C!==void 0?C:!1}};function Ile(e){"use no memo";const t=pt((a,s)=>{var c;return(c=e.onOpenChange)===null||c===void 0?void 0:c.call(e,a,s)}),[n,r]=ro({state:e.open,defaultState:e.defaultOpen,initialState:!1});e.open=n!==void 0?n:e.open;const i=e.setContextTarget,o=x.useCallback((a,s)=>{s&&a.type==="contextmenu"&&i(a),s||i(void 0),r(s),t==null||t(a,{open:s})},[r,t,i]);return[n,o]}function zle(e){"use no memo";const t={position:"above",align:"center",arrowPadding:2*Rle,target:e.openOnContext?e.contextTarget:void 0,...yv(e.positioning)};t.coverTarget&&(e.withArrow=!1),e.withArrow&&(t.offset=mq(t.offset,Nle[e.size]));const{targetRef:n,containerRef:r,arrowRef:i}=n1(t);return{triggerRef:n,contentRef:r,arrowRef:i}}const Lle=e=>{const{appearance:t,arrowRef:n,contentRef:r,inline:i,mountNode:o,open:a,openOnContext:s,openOnHover:c,setOpen:u,size:d,toggleOpen:f,trapFocus:p,triggerRef:m,withArrow:g,inertTrapFocus:v}=e;return x.createElement(YN.Provider,{value:{appearance:t,arrowRef:n,contentRef:r,inline:i,mountNode:o,open:a,openOnContext:s,openOnHover:c,setOpen:u,toggleOpen:f,triggerRef:m,size:d,trapFocus:p,inertTrapFocus:v,withArrow:g}},e.popoverTrigger,e.open&&e.popoverSurface)},Dle=e=>{const{children:t,disableButtonEnhancement:n=!1}=e,r=cv(t),i=mi(w=>w.open),o=mi(w=>w.setOpen),a=mi(w=>w.toggleOpen),s=mi(w=>w.triggerRef),c=mi(w=>w.openOnHover),u=mi(w=>w.openOnContext),{triggerAttributes:d}=Gx(),f=w=>{u&&(w.preventDefault(),o(w,!0))},p=w=>{u||a(w)},m=w=>{w.key===sf&&i&&!w.isDefaultPrevented()&&(o(w,!1),w.preventDefault())},g=w=>{c&&o(w,!0)},v=w=>{c&&o(w,!1)},_={...d,"aria-expanded":`${i}`,...r==null?void 0:r.props,onMouseEnter:pt(un(r==null?void 0:r.props.onMouseEnter,g)),onMouseLeave:pt(un(r==null?void 0:r.props.onMouseLeave,v)),onContextMenu:pt(un(r==null?void 0:r.props.onContextMenu,f)),ref:dn(s,lv(r))},y={..._,onClick:pt(un(r==null?void 0:r.props.onClick,p)),onKeyDown:pt(un(r==null?void 0:r.props.onKeyDown,m))},S=Zd((r==null?void 0:r.type)==="button"||(r==null?void 0:r.type)==="a"?r.type:"div",y);return{children:Fx(e.children,Zd((r==null?void 0:r.type)==="button"||(r==null?void 0:r.type)==="a"?r.type:"div",u?_:n?y:S))}},Ole=6,Fle=4,Ule=e=>-1,qle=e=>{};function Hle(e){const{targetDocument:t}=gn(),n=t==null?void 0:t.defaultView,r=n?n.setTimeout:Ule,i=n?n.clearTimeout:qle,o=x.useRef(void 0),a=x.useCallback((c,u)=>(o.current!==void 0&&i(o.current),o.current=r(c,u??0),o.current),[i,r]),s=x.useCallback(()=>{o.current!==void 0&&(i(o.current),o.current=void 0)},[i]);return x.useEffect(()=>{const c=e.current;return()=>{(!c||!c.isConnected)&&s()}},[s,e]),[a,s]}const Vle=e=>{"use no memo";var t,n,r,i,o,a,s;const c=Cee(),u=Dee(),{targetDocument:d}=gn(),[f,p]=ro({state:e.visible,initialState:!1}),{appearance:m="normal",children:g,content:v,withArrow:_=!1,positioning:y="above",onVisibleChange:S,relationship:w,showDelay:C=250,hideDelay:M=250,mountNode:A}=e,E={withArrow:_,positioning:y,showDelay:C,hideDelay:M,relationship:w,visible:f,shouldRenderTooltip:f,appearance:m,mountNode:A,components:{content:"div"},content:Ct(v,{defaultProps:{role:"tooltip"},elementType:"div"})};E.content.id=vi("tooltip-",E.content.id);const I={enabled:E.visible,arrowPadding:2*Fle,position:"above",align:"center",offset:4,...yv(E.positioning)};E.withArrow&&(I.offset=mq(I.offset,Ole));const{targetRef:N,containerRef:P,arrowRef:D}=n1(I),[q,$]=Hle(P),j=x.useCallback((Q,re)=>{$(),p(ue=>(re.visible!==ue&&(S==null||S(Q,re)),re.visible))},[$,p,S]);E.content.ref=dn(E.content.ref,P),E.arrowRef=D,Ni(()=>{if(f){var Q;const re={hide:oe=>j(void 0,{visible:!1,documentKeyboardEvent:oe})};(Q=c.visibleTooltip)===null||Q===void 0||Q.hide(),c.visibleTooltip=re;const ue=oe=>{oe.key===sf&&!oe.defaultPrevented&&(re.hide(oe),oe.preventDefault())};return d==null||d.addEventListener("keydown",ue,{capture:!0}),()=>{c.visibleTooltip===re&&(c.visibleTooltip=void 0),d==null||d.removeEventListener("keydown",ue,{capture:!0})}}},[c,d,f,j]);const O=x.useRef(!1),z=x.useCallback(Q=>{if(Q.type==="focus"&&O.current){O.current=!1;return}const re=c.visibleTooltip?0:E.showDelay;q(()=>{j(Q,{visible:!0})},re),Q.persist()},[q,j,E.showDelay,c]),W=v9(),[F]=x.useState(()=>{const Q=ue=>{var oe;!((oe=ue.detail)===null||oe===void 0)&&oe.isFocusedProgrammatically&&!W()&&(O.current=!0)};let re=null;return ue=>{re==null||re.removeEventListener(Ma,Q),ue==null||ue.addEventListener(Ma,Q),re=ue}}),V=x.useCallback(Q=>{let re=E.hideDelay;Q.type==="blur"&&(re=0,O.current=(d==null?void 0:d.activeElement)===Q.target),q(()=>{j(Q,{visible:!1})},re),Q.persist()},[q,j,E.hideDelay,d]);E.content.onPointerEnter=un(E.content.onPointerEnter,$),E.content.onPointerLeave=un(E.content.onPointerLeave,V),E.content.onFocus=un(E.content.onFocus,$),E.content.onBlur=un(E.content.onBlur,V);const H=cv(g),te={},Z=(H==null||(t=H.props)===null||t===void 0?void 0:t["aria-haspopup"])&&((H==null||(n=H.props)===null||n===void 0?void 0:n["aria-expanded"])===!0||(H==null||(r=H.props)===null||r===void 0?void 0:r["aria-expanded"])==="true");return w==="label"?typeof E.content.children=="string"?te["aria-label"]=E.content.children:(te["aria-labelledby"]=E.content.id,E.shouldRenderTooltip=!0):w==="description"&&(te["aria-describedby"]=E.content.id,E.shouldRenderTooltip=!0),(u||Z)&&(E.shouldRenderTooltip=!1),E.children=Fx(g,{...te,...H==null?void 0:H.props,ref:dn(lv(H),F,I.target===void 0?N:void 0),onPointerEnter:pt(un(H==null||(i=H.props)===null||i===void 0?void 0:i.onPointerEnter,z)),onPointerLeave:pt(un(H==null||(o=H.props)===null||o===void 0?void 0:o.onPointerLeave,V)),onFocus:pt(un(H==null||(a=H.props)===null||a===void 0?void 0:a.onFocus,z)),onBlur:pt(un(H==null||(s=H.props)===null||s===void 0?void 0:s.onBlur,V))}),E},Wle=e=>an(x.Fragment,{children:[e.children,e.shouldRenderTooltip&&Se(cf,{mountNode:e.mountNode,children:an(e.content,{children:[e.withArrow&&Se("div",{ref:e.arrowRef,className:e.arrowClassName}),e.content.children]})})]}),Gle={content:"fui-Tooltip__content"},$le=Fe({root:{mc9l5x:"fjseox",B7ck84d:"f1ewtqcl",B2u0y6b:"f132xexn",Bceei9c:"f158kwzp",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm",Btd35i7:"fokg9q4",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f9ggezi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1bzqsji",De3pzq:"fxugw4r",sj55zd:"f19n0e5",Bhu2qc9:"fxeb0a7"},visible:{mc9l5x:"ftgm304"},inverted:{De3pzq:"fg3r6xk",sj55zd:"fonrgv7"},arrow:{B7ck84d:"f1ewtqcl",qhf8xq:"f1euv43f",Bj3rh1h:"f1bsuimh",rhnwrx:"f1s3jn22",Bdy53xb:"fv40uqz",De3pzq:"f1u2r49w",B2eet1l:"fqhgnl",Beyfa6y:"f17bz04i",Bz10aip:"f36o3x3",Bqenvij:"fzofk8q",a9b677:"f1wbx1ie",Ftih45:"f1wl9k8s",Br0sdwz:"f1aocrix",cmx5o7:"f1ljr5q2",susq4k:0,Biibvgv:0,Bicfajf:0,qehafq:0,Brs5u8j:"f155f1qt",Ccq8qp:"f9mhzq7",Baz25je:"fr6rhvx",Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1kc0wz4",r59vdv:"fgq90dz",Bkw5xw4:"fq0y47f",hl6cv3:"f1pwrbz6",aea9ga:"f1hxxcvm",yayu3t:"fw8rgyo",Bhsv975:"f1wnzycx",rhl9o9:"f1730wal",B7gxrvb:"f1fy4ixr",B6q6orb:"fobkauc",B0lu1f8:"f16bqv1l"}},{d:[".fjseox{display:none;}",".f1ewtqcl{box-sizing:border-box;}",".f132xexn{max-width:240px;}",".f158kwzp{cursor:default;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fokg9q4{overflow-wrap:break-word;}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f9ggezi{border:1px solid var(--colorTransparentStroke);}",{p:-2}],[".f1bzqsji{padding:4px 11px 6px 11px;}",{p:-1}],".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".fxeb0a7{filter:drop-shadow(0 0 2px var(--colorNeutralShadowAmbient)) drop-shadow(0 4px 8px var(--colorNeutralShadowKey));}",".ftgm304{display:block;}",".fg3r6xk{background-color:var(--colorNeutralBackgroundStatic);}",".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".f1euv43f{position:absolute;}",".f1bsuimh{z-index:-1;}",".f1s3jn22{--fui-positioning-arrow-height:8.484px;}",".fv40uqz{--fui-positioning-arrow-offset:-4.242px;}",".f1u2r49w{background-color:inherit;}",".fqhgnl{background-clip:content-box;}",".f17bz04i{border-bottom-left-radius:var(--borderRadiusSmall);}",".f36o3x3{transform:rotate(var(--fui-positioning-arrow-angle));}",".fzofk8q{height:var(--fui-positioning-arrow-height);}",".f1wbx1ie{width:var(--fui-positioning-arrow-height);}",'.f1wl9k8s::before{content:"";}',".f1aocrix::before{display:block;}",".f1ljr5q2::before{background-color:inherit;}",[".f155f1qt::before{margin:-1px;}",{p:-1}],".f9mhzq7::before{width:100%;}",".fr6rhvx::before{height:100%;}",[".f1kc0wz4::before{border:1px solid var(--colorTransparentStroke);}",{p:-2}],".fgq90dz::before{border-bottom-left-radius:var(--borderRadiusSmall);}",".fq0y47f::before{clip-path:polygon(0% 0%, 100% 100%, 0% 100%);}",'[data-popper-placement^="top"] .f1pwrbz6{bottom:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="top"] .f1hxxcvm{--fui-positioning-arrow-angle:-45deg;}','[data-popper-placement^="right"] .fw8rgyo{left:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="right"] .f1wnzycx{--fui-positioning-arrow-angle:45deg;}','[data-popper-placement^="bottom"] .f1730wal{top:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="bottom"] .f1fy4ixr{--fui-positioning-arrow-angle:135deg;}','[data-popper-placement^="left"] .fobkauc{right:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="left"] .f16bqv1l{--fui-positioning-arrow-angle:225deg;}']}),Xle=e=>{"use no memo";const t=$le();return e.content.className=Ce(Gle.content,t.root,e.appearance==="inverted"&&t.inverted,e.visible&&t.visible,e.content.className),e.arrowClassName=t.arrow,e},jb=e=>{const t=Vle(e);return Xle(t),Ft("useTooltipStyles_unstable")(t),Wle(t)};jb.displayName="Tooltip";jb.isFluentTriggerComponent=!0;const Zle=e=>{const{iconOnly:t,iconPosition:n}=e;return an(e.root,{children:[n!=="after"&&e.icon&&Se(e.icon,{}),!t&&e.root.children,n==="after"&&e.icon&&Se(e.icon,{})]})},Tq=x.createContext(void 0),Kle={},Yle=Tq.Provider,Jle=()=>{var e;return(e=x.useContext(Tq))!==null&&e!==void 0?e:Kle},Qle=(e,t)=>{const{size:n}=Jle(),{appearance:r="secondary",as:i="button",disabled:o=!1,disabledFocusable:a=!1,icon:s,iconPosition:c="before",shape:u="rounded",size:d=n??"medium"}=e,f=zt(s,{elementType:"span"});return{appearance:r,disabled:o,disabledFocusable:a,iconPosition:c,shape:u,size:d,iconOnly:!!(f!=null&&f.children&&!e.children),components:{root:"button",icon:"span"},root:Ct(Qt(i,Zd(e.as,e)),{elementType:"button",defaultProps:{ref:t,type:i==="button"?"button":void 0}}),icon:f}},tI={root:"fui-Button",icon:"fui-Button__icon"},ece=Rt("r1f29ykk",null,{r:[".r1f29ykk{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1f29ykk:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1f29ykk:hover:active,.r1f29ykk:active:focus-visible{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1f29ykk[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1f29ykk{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1f29ykk:focus{border-color:ButtonText;}.r1f29ykk:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1f29ykk:hover:active,.r1f29ykk:active:focus-visible{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1f29ykk[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),tce=Rt("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),nce=Fe({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",Bpjbzib:"fkoldzo"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",Bpjbzib:"f1ksv2xa",im15vp:"fhvnf4x",Hjvxdg:["fb6swo4","f232fm2"],Gpfmf1:"f1klyf7k",ustxxc:["f232fm2","fb6swo4"],Brsut9c:"f1d6mv4x",By8wz76:"f1nz3ub2",Bcq6wej:"fag2qd2",Jcjdmf:["fmvhcg7","f14bpyus"],sc4o1m:"f1o3dhpw",Bosien3:["f14bpyus","fmvhcg7"],B7iucu3:"fqc85l4",B8gzw0y:"f1h3a8gf",Bbkh6qg:"fkiggi6",F230oe:"f8gmj8i",Bdw8ktp:["f1ap8nzx","fjag8bx"],Bj1xduy:"f1igan7k",Bhh2cfd:["fjag8bx","f1ap8nzx"],Bahaeuw:"f1v3eptx",Bv2bamp:"f1ysmecq",vxuvv6:"faulsx",Bli9q98:["f79t15f","f8qmx7k"],Bx2tt8t:"fbtzoaq",yad0b3:["f8qmx7k","f79t15f"],j2fop7:"fd4bjan"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",Bpjbzib:"f1q1yqic",im15vp:"fhvnf4x",Hjvxdg:["fb6swo4","f232fm2"],Gpfmf1:"f1klyf7k",ustxxc:["f232fm2","fb6swo4"],Brsut9c:"fwga7ee",Bqou3pl:"f1nhwcv0",Bsnehw8:"f1gm6xmp",wsxvnf:"f1xxsver",Bahaeuw:"f1v3eptx",Buhizc3:"fivsta0",j2fop7:"fd4bjan",Bqabnb4:"f3m6zum"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bpjbzib:"fkoldzo",im15vp:"fhvnf4x",Hjvxdg:["fb6swo4","f232fm2"],Gpfmf1:"f1klyf7k",ustxxc:["f232fm2","fb6swo4"],Brsut9c:"f1l983o9",Bqou3pl:"f1nhwcv0",Bsnehw8:"f1gm6xmp",Bbkh6qg:"fxoo9op",Bahaeuw:"f1v3eptx",Bv2bamp:"f1i0gk12",j2fop7:"fd4bjan"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},small:{Bf4jedk:"fh7ncta",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fneth5b",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f4db1ww",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".fh7ncta{min-width:64px;}",[".fneth5b{padding:3px var(--spacingHorizontalS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",[".f4db1ww{padding:8px var(--spacingHorizontalL);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fkoldzo:hover:active,.fkoldzo:active:focus-visible{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".f1ksv2xa:hover:active,.f1ksv2xa:active:focus-visible{background-color:var(--colorBrandBackgroundPressed);}",".fhvnf4x:hover:active,.fhvnf4x:active:focus-visible{border-top-color:transparent;}",".fb6swo4:hover:active,.fb6swo4:active:focus-visible{border-right-color:transparent;}",".f232fm2:hover:active,.f232fm2:active:focus-visible{border-left-color:transparent;}",".f1klyf7k:hover:active,.f1klyf7k:active:focus-visible{border-bottom-color:transparent;}",".f1d6mv4x:hover:active,.f1d6mv4x:active:focus-visible{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".f1q1yqic:hover:active,.f1q1yqic:active:focus-visible{background-color:var(--colorSubtleBackgroundPressed);}",".fwga7ee:hover:active,.fwga7ee:active:focus-visible{color:var(--colorNeutralForeground2Pressed);}",".f1nhwcv0:hover:active .fui-Icon-filled,.f1nhwcv0:active:focus-visible .fui-Icon-filled{display:inline;}",".f1gm6xmp:hover:active .fui-Icon-regular,.f1gm6xmp:active:focus-visible .fui-Icon-regular{display:none;}",".f1xxsver:hover:active .fui-Button__icon,.f1xxsver:active:focus-visible .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1l983o9:hover:active,.f1l983o9:active:focus-visible{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1nz3ub2{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fag2qd2{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14bpyus{border-left-color:HighlightText;}.fmvhcg7{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o3dhpw{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fqc85l4{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1h3a8gf{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkiggi6:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f8gmj8i:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ap8nzx:hover{border-right-color:Highlight;}.fjag8bx:hover{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1igan7k:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1v3eptx:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ysmecq:hover:active,.f1ysmecq:active:focus-visible{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.faulsx:hover:active,.faulsx:active:focus-visible{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f79t15f:hover:active,.f79t15f:active:focus-visible{border-right-color:Highlight;}.f8qmx7k:hover:active,.f8qmx7k:active:focus-visible{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbtzoaq:hover:active,.fbtzoaq:active:focus-visible{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fd4bjan:hover:active,.fd4bjan:active:focus-visible{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fivsta0:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3m6zum:hover:active .fui-Button__icon,.f3m6zum:active:focus-visible .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fxoo9op:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1i0gk12:hover:active,.f1i0gk12:active:focus-visible{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),rce=Fe({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",Bpjbzib:"f1jct5ie",im15vp:"f13txml0",Hjvxdg:["f1ncddno","f1axfvow"],Gpfmf1:"f1z04ada",ustxxc:["f1axfvow","f1ncddno"],Brsut9c:"f1uhomfy",Bses4qk:"fy9mucy",Bqou3pl:"f1g9va8i",Bsnehw8:"fwgvudy",wsxvnf:"fom6jww"},highContrast:{By8wz76:"f14ptb23",Bcq6wej:"f9dbb4x",Jcjdmf:["f3qs60o","f5u9ap2"],sc4o1m:"fwd1oij",Bosien3:["f5u9ap2","f3qs60o"],B7iucu3:"f1cyfu5x",Grqk0h:"f127ot8j",h3ptyc:"f19etb0b",Buw724y:["f4f984j","fw441p0"],Buk7464:"f3d22hf",Hwei09:["fw441p0","f4f984j"],Bbkh6qg:"fj8k9ua",F230oe:"fifrq0d",Bdw8ktp:["f196mwp7","fnekfq"],Bj1xduy:"f1l6uprw",Bhh2cfd:["fnekfq","f196mwp7"],Bahaeuw:"fa9u7a5",Buhizc3:"f1m71e0y",Bv2bamp:"fw24f3",vxuvv6:"f1nznrny",Bli9q98:["fq8nxuu","f1ao3jkc"],Bx2tt8t:"ftoixeo",yad0b3:["f1ao3jkc","fq8nxuu"],j2fop7:"fpmuzpx",Bqabnb4:"f168odog"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",Bpjbzib:"f9r0db0"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],im15vp:"fhvnf4x",Hjvxdg:["fb6swo4","f232fm2"],Gpfmf1:"f1klyf7k",ustxxc:["f232fm2","fb6swo4"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bpjbzib:"f9r0db0",im15vp:"fhvnf4x",Hjvxdg:["fb6swo4","f232fm2"],Gpfmf1:"f1klyf7k",ustxxc:["f232fm2","fb6swo4"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bpjbzib:"f9r0db0",im15vp:"fhvnf4x",Hjvxdg:["fb6swo4","f232fm2"],Gpfmf1:"f1klyf7k",ustxxc:["f232fm2","fb6swo4"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1jct5ie:hover:active,.f1jct5ie:active:focus-visible{background-color:var(--colorNeutralBackgroundDisabled);}",".f13txml0:hover:active,.f13txml0:active:focus-visible{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ncddno:hover:active,.f1ncddno:active:focus-visible{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1axfvow:hover:active,.f1axfvow:active:focus-visible{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1z04ada:hover:active,.f1z04ada:active:focus-visible{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1uhomfy:hover:active,.f1uhomfy:active:focus-visible{color:var(--colorNeutralForegroundDisabled);}",".fy9mucy:hover:active,.fy9mucy:active:focus-visible{cursor:not-allowed;}",".f1g9va8i:hover:active .fui-Icon-filled,.f1g9va8i:active:focus-visible .fui-Icon-filled{display:none;}",".fwgvudy:hover:active .fui-Icon-regular,.fwgvudy:active:focus-visible .fui-Icon-regular{display:inline;}",".fom6jww:hover:active .fui-Button__icon,.fom6jww:active:focus-visible .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f9r0db0:hover:active,.f9r0db0:active:focus-visible{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".fhvnf4x:hover:active,.fhvnf4x:active:focus-visible{border-top-color:transparent;}",".fb6swo4:hover:active,.fb6swo4:active:focus-visible{border-right-color:transparent;}",".f232fm2:hover:active,.f232fm2:active:focus-visible{border-left-color:transparent;}",".f1klyf7k:hover:active,.f1klyf7k:active:focus-visible{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f14ptb23{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9dbb4x{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3qs60o{border-right-color:GrayText;}.f5u9ap2{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fwd1oij{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f127ot8j .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f19etb0b:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4f984j:focus{border-right-color:GrayText;}.fw441p0:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3d22hf:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fj8k9ua:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fifrq0d:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f196mwp7:hover{border-right-color:GrayText;}.fnekfq:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1l6uprw:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fa9u7a5:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1m71e0y:hover .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fw24f3:hover:active,.fw24f3:active:focus-visible{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1nznrny:hover:active,.f1nznrny:active:focus-visible{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ao3jkc:hover:active,.f1ao3jkc:active:focus-visible{border-left-color:GrayText;}.fq8nxuu:hover:active,.fq8nxuu:active:focus-visible{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ftoixeo:hover:active,.ftoixeo:active:focus-visible{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fpmuzpx:hover:active,.fpmuzpx:active:focus-visible{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f168odog:hover:active .fui-Button__icon,.f168odog:active:focus-visible .fui-Button__icon{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),ice=Fe({circular:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1062rbf"},rounded:{},square:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fj0ryk1"},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Bqsb82s:["fixhny3","f18mfu3r"],jg1oma:"feygou5"},small:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fazmxh"},medium:{},large:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1b6alqh"}},{d:[[".f1062rbf[data-fui-focus-visible]{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".fj0ryk1[data-fui-focus-visible]{border-radius:var(--borderRadiusNone);}",{p:-1}],".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",[".fazmxh[data-fui-focus-visible]{border-radius:var(--borderRadiusSmall);}",{p:-1}],[".f1b6alqh[data-fui-focus-visible]{border-radius:var(--borderRadiusLarge);}",{p:-1}]],t:["@supports (-moz-appearance:button){.f18mfu3r[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fixhny3[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.feygou5[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),oce=Fe({small:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fu97m5z",Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f18ktai2",Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1hbd1aw",Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[[".fu97m5z{padding:1px;}",{p:-1}],".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",[".f18ktai2{padding:5px;}",{p:-1}],".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",[".f1hbd1aw{padding:7px;}",{p:-1}],".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),ace=Fe({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),sce=e=>{"use no memo";const t=ece(),n=tce(),r=nce(),i=rce(),o=ice(),a=oce(),s=ace(),{appearance:c,disabled:u,disabledFocusable:d,icon:f,iconOnly:p,iconPosition:m,shape:g,size:v}=e;return e.root.className=Ce(tI.root,t,c&&r[c],r[v],f&&v==="small"&&r.smallWithIcon,f&&v==="large"&&r.largeWithIcon,r[g],(u||d)&&i.base,(u||d)&&i.highContrast,c&&(u||d)&&i[c],c==="primary"&&o.primary,o[v],o[g],p&&a[v],e.root.className),e.icon&&(e.icon.className=Ce(tI.icon,n,!!e.root.children&&s[m],s[v],e.icon.className)),e},pe=x.forwardRef((e,t)=>{const n=Qle(e,t);return sce(n),Ft("useButtonStyles_unstable")(n),Zle(n)});pe.displayName="Button";const kq=x.createContext(void 0),lce=kq.Provider,Eq=()=>x.useContext(kq),cce=e=>{var t,n,r,i;const{generatedControlId:o,orientation:a,required:s,size:c,validationState:u}=e,d=(t=e.label)===null||t===void 0?void 0:t.htmlFor,f=(n=e.label)===null||n===void 0?void 0:n.id,p=(r=e.validationMessage)===null||r===void 0?void 0:r.id,m=(i=e.hint)===null||i===void 0?void 0:i.id;return{field:x.useMemo(()=>({generatedControlId:o,hintId:m,labelFor:d,labelId:f,orientation:a,required:s,size:c,validationMessageId:p,validationState:u}),[o,m,d,f,a,s,c,p,u])}};function uf(e,t){return Mq(Eq(),e,t)}function Mq(e,t,n){if(!e)return t;t={...t};const{generatedControlId:r,hintId:i,labelFor:o,labelId:a,required:s,validationMessageId:c,validationState:u}=e;if(r){var d,f;(f=(d=t).id)!==null&&f!==void 0||(d.id=r)}if(a&&(!(n!=null&&n.supportsLabelFor)||o!==t.id)){var p,m,g;(g=(p=t)[m="aria-labelledby"])!==null&&g!==void 0||(p[m]=a)}if((c||i)&&(t["aria-describedby"]=[c,i,t==null?void 0:t["aria-describedby"]].filter(Boolean).join(" ")),u==="error"){var v,_,y;(y=(v=t)[_="aria-invalid"])!==null&&y!==void 0||(v[_]=!0)}if(s)if(n!=null&&n.supportsRequired){var S,w;(w=(S=t).required)!==null&&w!==void 0||(S.required=!0)}else{var C,M,A;(A=(C=t)[M="aria-required"])!==null&&A!==void 0||(C[M]=!0)}if(n!=null&&n.supportsSize){var E,I;(I=(E=t).size)!==null&&I!==void 0||(E.size=e.size)}return t}const uce=(e,t)=>{let{children:n}=e;return typeof n=="function"&&(n=n(Mq(t.field)||{})),Se(lce,{value:t==null?void 0:t.field,children:an(e.root,{children:[e.label&&Se(e.label,{}),n,e.validationMessage&&an(e.validationMessage,{children:[e.validationMessageIcon&&Se(e.validationMessageIcon,{}),e.validationMessage.children]}),e.hint&&Se(e.hint,{})]})})},dce=(e,t)=>{const{disabled:n=!1,required:r=!1,weight:i="regular",size:o="medium"}=e;return{disabled:n,required:zt(r===!0?"*":r||void 0,{defaultProps:{"aria-hidden":"true"},elementType:"span"}),weight:i,size:o,components:{root:"label",required:"span"},root:Ct(Qt("label",{ref:t,...e}),{elementType:"label"})}},fce=e=>an(e.root,{children:[e.root.children,e.required&&Se(e.required,{})]}),nI={root:"fui-Label",required:"fui-Label__required"},hce=Fe({root:{Bahqtrf:"fk6fouc",sj55zd:"f19n0e5"},disabled:{sj55zd:"f1s2aq7o",B7iucu3:"f1cyfu5x"},required:{sj55zd:"f1whyuy6",uwmqm3:["fruq291","f7x41pl"]},small:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},medium:{Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi"},large:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k",Bhrd7zp:"fl43uef"},semibold:{Bhrd7zp:"fl43uef"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}"],m:[["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),pce=e=>{"use no memo";const t=hce();return e.root.className=Ce(nI.root,t.root,e.disabled&&t.disabled,t[e.size],e.weight==="semibold"&&t.semibold,e.root.className),e.required&&(e.required.className=Ce(nI.required,t.required,e.disabled&&t.disabled,e.required.className)),e},Nr=x.forwardRef((e,t)=>{const n=dce(e,t);return pce(n),Ft("useLabelStyles_unstable")(n),fce(n)});Nr.displayName="Label";const mce={error:x.createElement(doe,null),warning:x.createElement(Die,null),success:x.createElement(soe,null),none:void 0},gce=(e,t)=>{const{children:n,orientation:r="vertical",required:i=!1,validationState:o=e.validationMessage?"error":"none",size:a="medium"}=e,s=vi("field-"),c=s+"__control",u=Ct(Qt("div",{...e,ref:t},["children"]),{elementType:"div"}),d=zt(e.label,{defaultProps:{htmlFor:c,id:s+"__label",required:i,size:a},elementType:Nr}),f=zt(e.validationMessage,{defaultProps:{id:s+"__validationMessage",role:o==="error"||o==="warning"?"alert":void 0},elementType:"div"}),p=zt(e.hint,{defaultProps:{id:s+"__hint"},elementType:"div"}),m=mce[o],g=zt(e.validationMessageIcon,{renderByDefault:!!m,defaultProps:{children:m},elementType:"span"});return{children:n,generatedControlId:c,orientation:r,required:i,size:a,validationState:o,components:{root:"div",label:Nr,validationMessage:"div",validationMessageIcon:"span",hint:"div"},root:u,label:d,validationMessageIcon:g,validationMessage:f,hint:p}},pm={root:"fui-Field",label:"fui-Field__label",validationMessage:"fui-Field__validationMessage",validationMessageIcon:"fui-Field__validationMessageIcon",hint:"fui-Field__hint"},vce=Fe({base:{mc9l5x:"f13qh94s"},horizontal:{Budl1dq:"f2wwaib",wkccdc:"f1645dqt"},horizontalNoLabel:{uwmqm3:["f15jqgz8","fggqkej"],Budl1dq:"f1c2z91y"}},{d:[".f13qh94s{display:grid;}",".f2wwaib{grid-template-columns:33% 1fr;}",".f1645dqt{grid-template-rows:auto auto auto 1fr;}",".f15jqgz8{padding-left:33%;}",".fggqkej{padding-right:33%;}",".f1c2z91y{grid-template-columns:1fr;}"]}),yce=Fe({vertical:{z8tnut:"fclwglc",Byoj8tv:"fywfov9",jrapky:"fyacil5"},verticalLarge:{z8tnut:"f1sl3k7w",Byoj8tv:"f1brlhvm",jrapky:"f8l5zjj"},horizontal:{z8tnut:"fp2oml8",Byoj8tv:"f1tdddsa",t21cq0:["fkujibs","f199hnxi"],Ijaq50:"f16hsg94",nk6f5a:"f1nzqi2z"},horizontalSmall:{z8tnut:"f1ywm7hm",Byoj8tv:"f14wxoun"},horizontalLarge:{z8tnut:"f1hqyr95",Byoj8tv:"fm4hlj0"}},{d:[".fclwglc{padding-top:var(--spacingVerticalXXS);}",".fywfov9{padding-bottom:var(--spacingVerticalXXS);}",".fyacil5{margin-bottom:var(--spacingVerticalXXS);}",".f1sl3k7w{padding-top:1px;}",".f1brlhvm{padding-bottom:1px;}",".f8l5zjj{margin-bottom:var(--spacingVerticalXS);}",".fp2oml8{padding-top:var(--spacingVerticalSNudge);}",".f1tdddsa{padding-bottom:var(--spacingVerticalSNudge);}",".fkujibs{margin-right:var(--spacingHorizontalM);}",".f199hnxi{margin-left:var(--spacingHorizontalM);}",".f16hsg94{grid-row-start:1;}",".f1nzqi2z{grid-row-end:-1;}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".f1hqyr95{padding-top:9px;}",".fm4hlj0{padding-bottom:9px;}"]}),bce=Rt("r5c4z9l",null,[".r5c4z9l{margin-top:var(--spacingVerticalXXS);color:var(--colorNeutralForeground3);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),xce=Fe({error:{sj55zd:"f1hcrxcs"},withIcon:{uwmqm3:["frawy03","fg4c52"]}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".frawy03{padding-left:calc(12px + var(--spacingHorizontalXS));}",".fg4c52{padding-right:calc(12px + var(--spacingHorizontalXS));}"]}),_ce=Rt("ra7h1uk","r1rh6bd7",[".ra7h1uk{display:inline-block;font-size:12px;margin-left:calc(-12px - var(--spacingHorizontalXS));margin-right:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}",".r1rh6bd7{display:inline-block;font-size:12px;margin-right:calc(-12px - var(--spacingHorizontalXS));margin-left:var(--spacingHorizontalXS);line-height:0;vertical-align:-1px;}"]),wce=Fe({error:{sj55zd:"f1hcrxcs"},warning:{sj55zd:"f1k5f75o"},success:{sj55zd:"ffmvakt"}},{d:[".f1hcrxcs{color:var(--colorPaletteRedForeground1);}",".f1k5f75o{color:var(--colorPaletteDarkOrangeForeground1);}",".ffmvakt{color:var(--colorPaletteGreenForeground1);}"]}),Sce=e=>{"use no memo";const{validationState:t,size:n}=e,r=e.orientation==="horizontal",i=vce();e.root.className=Ce(pm.root,i.base,r&&i.horizontal,r&&!e.label&&i.horizontalNoLabel,e.root.className);const o=yce();e.label&&(e.label.className=Ce(pm.label,r&&o.horizontal,r&&n==="small"&&o.horizontalSmall,r&&n==="large"&&o.horizontalLarge,!r&&o.vertical,!r&&n==="large"&&o.verticalLarge,e.label.className));const a=_ce(),s=wce();e.validationMessageIcon&&(e.validationMessageIcon.className=Ce(pm.validationMessageIcon,a,t!=="none"&&s[t],e.validationMessageIcon.className));const c=bce(),u=xce();return e.validationMessage&&(e.validationMessage.className=Ce(pm.validationMessage,c,t==="error"&&u.error,!!e.validationMessageIcon&&u.withIcon,e.validationMessage.className)),e.hint&&(e.hint.className=Ce(pm.hint,c,e.hint.className)),e},he=x.forwardRef((e,t)=>{const n=gce(e,t);Sce(n),Ft("useFieldStyles_unstable")(n);const r=cce(n);return uce(n,r)});he.displayName="Field";const Cce=(e,t)=>{"use no memo";e=uf(e,{supportsLabelFor:!0,supportsRequired:!0});const{disabled:n=!1,required:r,shape:i="square",size:o="medium",labelPosition:a="after",onChange:s}=e,[c,u]=ro({defaultState:e.defaultChecked,state:e.checked,initialState:!1}),d=of({props:e,primarySlotTagName:"input",excludedPropNames:["checked","defaultChecked","size","onChange"]}),f=c==="mixed",p=vi("checkbox-",d.primary.id);let m;f?i==="circular"?m=x.createElement(I9,null):m=o==="large"?x.createElement(uoe,null):x.createElement(coe,null):c&&(m=o==="large"?x.createElement(aoe,null):x.createElement(F9,null));const g={shape:i,checked:c,disabled:n,size:o,labelPosition:a,components:{root:"span",input:"input",indicator:"div",label:Nr},root:Ct(e.root,{defaultProps:{ref:bp(),...d.root},elementType:"span"}),input:Ct(e.input,{defaultProps:{type:"checkbox",id:p,ref:t,checked:c===!0,...d.primary},elementType:"input"}),label:zt(e.label,{defaultProps:{htmlFor:p,disabled:n,required:r,size:"medium"},elementType:Nr}),indicator:zt(e.indicator,{renderByDefault:!0,defaultProps:{"aria-hidden":!0,children:m},elementType:"div"})};g.input.onChange=pt(_=>{const y=_.currentTarget.indeterminate?"mixed":_.currentTarget.checked;s==null||s(_,{checked:y}),u(y)});const v=dn(g.input.ref);return g.input.ref=v,Ni(()=>{v.current&&(v.current.indeterminate=f)},[v,f]),g},Tce=e=>an(e.root,{children:[Se(e.input,{}),e.labelPosition==="before"&&e.label&&Se(e.label,{}),e.indicator&&Se(e.indicator,{}),e.labelPosition==="after"&&e.label&&Se(e.label,{})]}),R0={root:"fui-Checkbox",label:"fui-Checkbox__label",input:"fui-Checkbox__input",indicator:"fui-Checkbox__indicator"},kce=Rt("r1nzur1d","r128arqq",{r:[".r1nzur1d{position:relative;display:inline-flex;cursor:pointer;max-width:fit-content;vertical-align:middle;color:var(--colorNeutralForeground3);}",".r1nzur1d:focus{outline-style:none;}",".r1nzur1d:focus-visible{outline-style:none;}",".r1nzur1d[data-fui-focus-within]:focus-within{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r1nzur1d[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r128arqq{position:relative;display:inline-flex;cursor:pointer;max-width:fit-content;vertical-align:middle;color:var(--colorNeutralForeground3);}",".r128arqq:focus{outline-style:none;}",".r128arqq:focus-visible{outline-style:none;}",".r128arqq[data-fui-focus-within]:focus-within{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r128arqq[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r1nzur1d[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.r128arqq[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Ece=Fe({unchecked:{Bi91k9c:"f3p8bqa",pv5h1i:"fium13f",lj723h:"f1r2dosr",Hnthvo:"f1729es6"},checked:{sj55zd:"f19n0e5",wkncrt:"f35ds98",zxk7z7:"f12mnkne",Hmsnfy:"fei9a8h",e6czan:"fix56y3",pv5h1i:"f1bcv2js",qbydtz:"f7dr4go",Hnthvo:"f1r5cpua"},mixed:{sj55zd:"f19n0e5",Hmsnfy:"f1l27tf0",zxk7z7:"fcilktj",pv5h1i:"f1lphd54",Bunfa6h:"f1obkvq7",Hnthvo:"f2gmbuh",B15ykmv:"f1oy4fa1"},disabled:{Bceei9c:"f158kwzp",sj55zd:"f1s2aq7o",Hmsnfy:"f1w7mfl5",zxk7z7:"fcoafq6",B7iucu3:"f1cyfu5x",Bptavk6:"f1lwde8o"}},{h:[".f3p8bqa:hover{color:var(--colorNeutralForeground2);}",".fium13f:hover{--fui-Checkbox__indicator--borderColor:var(--colorNeutralStrokeAccessibleHover);}",".fix56y3:hover{--fui-Checkbox__indicator--backgroundColor:var(--colorCompoundBrandBackgroundHover);}",".f1bcv2js:hover{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandBackgroundHover);}",".f1lphd54:hover{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandStrokeHover);}",".f1obkvq7:hover{--fui-Checkbox__indicator--color:var(--colorCompoundBrandForeground1Hover);}"],a:[".f1r2dosr:active{color:var(--colorNeutralForeground1);}",".f1729es6:active{--fui-Checkbox__indicator--borderColor:var(--colorNeutralStrokeAccessiblePressed);}",".f7dr4go:active{--fui-Checkbox__indicator--backgroundColor:var(--colorCompoundBrandBackgroundPressed);}",".f1r5cpua:active{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandBackgroundPressed);}",".f2gmbuh:active{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandStrokePressed);}",".f1oy4fa1:active{--fui-Checkbox__indicator--color:var(--colorCompoundBrandForeground1Pressed);}"],d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".f35ds98{--fui-Checkbox__indicator--backgroundColor:var(--colorCompoundBrandBackground);}",".f12mnkne{--fui-Checkbox__indicator--color:var(--colorNeutralForegroundInverted);}",".fei9a8h{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandBackground);}",".f1l27tf0{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandStroke);}",".fcilktj{--fui-Checkbox__indicator--color:var(--colorCompoundBrandForeground1);}",".f158kwzp{cursor:default;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1w7mfl5{--fui-Checkbox__indicator--borderColor:var(--colorNeutralStrokeDisabled);}",".fcoafq6{--fui-Checkbox__indicator--color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lwde8o{--fui-Checkbox__indicator--color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Mce=Rt("ruo9svu",null,[".ruo9svu{box-sizing:border-box;cursor:inherit;height:100%;margin:0;opacity:0;position:absolute;top:0;width:calc(16px + 2 * var(--spacingHorizontalS));}"]),Ace=Fe({before:{j35jbq:["f1e31b4d","f1vgc2s3"]},after:{oyh7mz:["f1vgc2s3","f1e31b4d"]},large:{a9b677:"f1mq5jt6"}},{d:[".f1e31b4d{right:0;}",".f1vgc2s3{left:0;}",".f1mq5jt6{width:calc(20px + 2 * var(--spacingHorizontalS));}"]}),Nce=Rt("rl7ci6d",null,[".rl7ci6d{align-self:flex-start;box-sizing:border-box;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden;color:var(--fui-Checkbox__indicator--color);background-color:var(--fui-Checkbox__indicator--backgroundColor);border-color:var(--fui-Checkbox__indicator--borderColor, var(--colorNeutralStrokeAccessible));border-style:solid;border-width:var(--strokeWidthThin);border-radius:var(--borderRadiusSmall);margin:var(--spacingVerticalS) var(--spacingHorizontalS);fill:currentColor;pointer-events:none;font-size:12px;height:16px;width:16px;}"]),Pce=Fe({large:{Be2twd7:"f4ybsrx",Bqenvij:"fjamq6b",a9b677:"f64fuq3"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"}},{d:[".f4ybsrx{font-size:16px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}]]}),Bce=Fe({base:{qb2dma:"f7nlbp4",sj55zd:"f1ym3bx4",Bceei9c:"fpo1scq",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1f5q0n8"},before:{z189sj:["f7x41pl","fruq291"]},after:{uwmqm3:["fruq291","f7x41pl"]},medium:{B6of3ja:"fjzwpt6",jrapky:"fh6j2fo"},large:{B6of3ja:"f1xlvstr",jrapky:"f49ad5g"}},{d:[".f7nlbp4{align-self:center;}",".f1ym3bx4{color:inherit;}",".fpo1scq{cursor:inherit;}",[".f1f5q0n8{padding:var(--spacingVerticalS) var(--spacingHorizontalS);}",{p:-1}],".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".fjzwpt6{margin-top:calc((16px - var(--lineHeightBase300)) / 2);}",".fh6j2fo{margin-bottom:calc((16px - var(--lineHeightBase300)) / 2);}",".f1xlvstr{margin-top:calc((20px - var(--lineHeightBase300)) / 2);}",".f49ad5g{margin-bottom:calc((20px - var(--lineHeightBase300)) / 2);}"]}),Rce=e=>{"use no memo";const{checked:t,disabled:n,labelPosition:r,shape:i,size:o}=e,a=kce(),s=Ece();e.root.className=Ce(R0.root,a,n?s.disabled:t==="mixed"?s.mixed:t?s.checked:s.unchecked,e.root.className);const c=Mce(),u=Ace();e.input.className=Ce(R0.input,c,o==="large"&&u.large,u[r],e.input.className);const d=Nce(),f=Pce();e.indicator&&(e.indicator.className=Ce(R0.indicator,d,o==="large"&&f.large,i==="circular"&&f.circular,e.indicator.className));const p=Bce();return e.label&&(e.label.className=Ce(R0.label,p.base,p[o],p[r],e.label.className)),e},ho=x.forwardRef((e,t)=>{const n=Cce(e,t);return Rce(n),Ft("useCheckboxStyles_unstable")(n),Tce(n)});ho.displayName="Checkbox";const Aq=kc({activeOption:void 0,appearance:"outline",focusVisible:!1,open:!1,registerOption(){return()=>{}},selectedOptions:[],selectOption(){},setActiveOption(){},setOpen(){},size:"medium"});Aq.Provider;const jce={activeOption:void 0,focusVisible:!1,multiselect:!1,getOptionById(){},getOptionsMatchingValue(){return[]},registerOption(){return()=>{}},selectedOptions:[],onOptionClick(){},onActiveDescendantChange(){},selectOption(){},setActiveOption(){}},bv=kc(void 0),va=e=>Gu(bv,(t=jce)=>e(t)),Ice=bv.Provider;function zce(e){const{appearance:t,open:n,getOptionById:r,getOptionsMatchingValue:i,registerOption:o,selectedOptions:a,selectOption:s,setOpen:c,size:u,activeDescendantController:d,onOptionClick:f,onActiveDescendantChange:p}=e,m={activeOption:void 0,appearance:t,focusVisible:!1,open:n,registerOption:o,selectedOptions:a,selectOption:s,setActiveOption:()=>null,setOpen:c,size:u},g={activeOption:void 0,focusVisible:!1,getOptionById:r,getOptionsMatchingValue:i,registerOption:o,selectedOptions:a,selectOption:s,setActiveOption:()=>null,onOptionClick:f,onActiveDescendantChange:p},v=x.useMemo(()=>({controller:d}),[d]);return{combobox:m,activeDescendant:v,listbox:g}}function Lce(e){const t=hv(bv),{getOptionById:n,getOptionsMatchingValue:r,multiselect:i,registerOption:o,selectedOptions:a,selectOption:s,activeDescendantController:c}=e,u=va(v=>v.registerOption),d=va(v=>v.onOptionClick),f=va(v=>v.onActiveDescendantChange),m={activeOption:void 0,focusVisible:!1,getOptionById:n,getOptionsMatchingValue:r,multiselect:i,registerOption:t?u:o,selectedOptions:a,selectOption:s,setActiveOption:()=>{},onOptionClick:d,onActiveDescendantChange:f},g=x.useMemo(()=>({controller:c}),[c]);return{listbox:m,activeDescendant:g}}function Ib(e,t={}){const{open:n=!0,multiselect:r=!1}=t,i=e.key,{altKey:o,ctrlKey:a,key:s,metaKey:c}=e;return s.length===1&&i!==ll&&!o&&!a&&!c?"Type":n?i===ig&&o||i===ku||!r&&i===ll?"CloseSelect":r&&i===ll?"Select":i===sf?"Close":i===Rg?"Next":i===ig?"Previous":i===T9?"First":i===C9?"Last":i===sie?"PageUp":i===aie?"PageDown":i===LN?"Tab":"None":i===Rg||i===ig||i===ku||i===ll?"Open":"None"}const Nq=()=>{const e=x.useRef(new Map),t=x.useMemo(()=>({getCount:()=>e.current.size,getOptionAtIndex:()=>{},getIndexOfId:()=>-1,getOptionById:u=>e.current.get(u),getOptionsMatchingText:u=>Array.from(e.current.values()).filter(({text:d})=>u(d)),getOptionsMatchingValue:u=>{const d=[];for(const f of e.current.values())u(f.value)&&d.push(f);return d}}),[]),n=x.useCallback(r=>(e.current.set(r.id,r),()=>e.current.delete(r.id)),[]);return{...t,options:Array.from(e.current.values()),registerOption:n}},Pq=e=>{const{defaultSelectedOptions:t,multiselect:n,onOptionSelect:r}=e,[i,o]=ro({state:e.selectedOptions,defaultState:t,initialState:[]}),a=x.useCallback((c,u)=>{if(u.disabled)return;let d=[u.value];if(n){const f=i.findIndex(p=>p===u.value);f>-1?d=[...i.slice(0,f),...i.slice(f+1)]:d=[...i,u.value]}o(d),r==null||r(c,{optionValue:u.value,optionText:u.text,selectedOptions:d})},[r,n,i,o]);return{clearSelection:c=>{o([]),r==null||r(c,{optionValue:void 0,optionText:void 0,selectedOptions:[]})},selectOption:a,selectedOptions:i}},zb={root:"fui-Option",checkIcon:"fui-Option__checkIcon"},Dce=Fe({root:{Bt984gj:"f122n59",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",sj55zd:"f19n0e5",i8kkvl:"f1ufnopg",Bceei9c:"f1k6fduh",mc9l5x:"f22iagw",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fm5eomj",qhf8xq:"f10pi13n",Jwef8y:"f1knas48",Bi91k9c:"feu1g3u",zqbkvg:"fo79ri9",h82x05:["f1osiabc","f1e8le25"],cqj998:"f1yusjty",j3hlsh:["f1e8le25","f1osiabc"],ecr2s2:"fb40n2d",lj723h:"f1g4hkjv",Btxx2vb:"f1lnr2zp",sltcwy:["f1ogfk9z","f1g7j8ec"],dnwvvm:"fiuf46r",Blyvkvs:["f1g7j8ec","f1ogfk9z"]},active:{Bowz1zl:"f11vrvdw",oxogb1:"f17hxjb7",Ix2sn8:"f1dha69c",q7v32p:"f1lm7500",B7cbj04:0,Bewtojm:0,b50fsz:0,B1wzb3v:0,Bqwk70n:0,B37u8z8:0,avt0cx:0,f0sref:0,B9fkznv:0,Be3o27t:0,Bertapg:0,B53xpsf:0,Bsv72rj:0,B39dzdd:0,Btq9bd3:0,Bqfxd14:0,atup0s:"fo7xqb",Fffuxt:0,Bttcd12:0,Beitzug:0,Bqougee:0,B86i8pi:"f1kurthe",Bhijsxg:"fwq15dy",kktds4:"f1pb3wry",Bmau3bo:["ftjv2f4","f1flhb1f"],npektv:["f1flhb1f","ftjv2f4"]},disabled:{sj55zd:"f1s2aq7o",Jwef8y:"f9ql6rf",Bi91k9c:"fvgxktp",zqbkvg:"f185j3qj",h82x05:["f1dligi3","f1vydzie"],cqj998:"fjw1di3",j3hlsh:["f1vydzie","f1dligi3"],ecr2s2:"fgj9um3",lj723h:"f19wldhg",Btxx2vb:"f1ss0kt2",sltcwy:["f1t6oli3","fjy9ci8"],dnwvvm:"fresaxk",Blyvkvs:["fjy9ci8","f1t6oli3"],B7iucu3:"f1cyfu5x"},selected:{},checkIcon:{Bnnss6s:"fi64zpg",Be2twd7:"fod5ikn",Frg6f3:["f18b9hdq","fn6qj8t"],t21cq0:["f1xk557c","f1h9en5y"],Bcdw1i0:"fd7fpy0",Bo70h7d:"fvc9v3g"},selectedCheck:{Bcdw1i0:"f1022m68"},multiselectCheck:{Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1l3cf7o",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fq9zq91",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Bt984gj:"f122n59",Brf1p80:"f4d9j23",Bkfmm31:"f1w9h62z",Be2twd7:"f1ugzwwg",Bqenvij:"fd461yt",a9b677:"fjw5fx7",Bcdw1i0:"f1022m68"},selectedMultiselectCheck:{De3pzq:"ftywsgz",sj55zd:"fqpbvvt",g2u3we:"f3xi7mh",h3c5rm:["ftovhe4","f1wczvin"],B9xav0g:"f68vbr6",zhjwy3:["f1wczvin","ftovhe4"]},checkDisabled:{sj55zd:"f1s2aq7o",B7iucu3:"f1cyfu5x"},multiselectCheckDisabled:{g2u3we:"f1r1t4y1",h3c5rm:["fmj8ijw","figx54m"],B9xav0g:"f360ss8",zhjwy3:["figx54m","fmj8ijw"]}},{d:[".f122n59{align-items:center;}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ufnopg{column-gap:var(--spacingHorizontalXS);}",".f1k6fduh{cursor:pointer;}",".f22iagw{display:flex;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".fm5eomj{padding:var(--spacingVerticalSNudge) var(--spacingHorizontalS);}",{p:-1}],".f10pi13n{position:relative;}",'.f11vrvdw[data-activedescendant-focusvisible]::after{content:"";}',".f17hxjb7[data-activedescendant-focusvisible]::after{position:absolute;}",".f1dha69c[data-activedescendant-focusvisible]::after{pointer-events:none;}",".f1lm7500[data-activedescendant-focusvisible]::after{z-index:1;}",[".fo7xqb[data-activedescendant-focusvisible]::after{border:2px solid var(--colorStrokeFocus2);}",{p:-2}],[".f1kurthe[data-activedescendant-focusvisible]::after{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fwq15dy[data-activedescendant-focusvisible]::after{top:-2px;}",".f1pb3wry[data-activedescendant-focusvisible]::after{bottom:-2px;}",".ftjv2f4[data-activedescendant-focusvisible]::after{left:-2px;}",".f1flhb1f[data-activedescendant-focusvisible]::after{right:-2px;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fi64zpg{flex-shrink:0;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".f18b9hdq{margin-left:calc(var(--spacingHorizontalXXS) * -1);}",".fn6qj8t{margin-right:calc(var(--spacingHorizontalXXS) * -1);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".fd7fpy0{visibility:hidden;}",".fvc9v3g svg{display:block;}",".f1022m68{visibility:visible;}",[".f1l3cf7o{border:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-2}],[".fq9zq91{border-radius:var(--borderRadiusSmall);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".f4d9j23{justify-content:center;}",".f1w9h62z{fill:currentColor;}",".f1ugzwwg{font-size:12px;}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fqpbvvt{color:var(--colorNeutralForegroundInverted);}",".f3xi7mh{border-top-color:var(--colorCompoundBrandBackground);}",".ftovhe4{border-right-color:var(--colorCompoundBrandBackground);}",".f1wczvin{border-left-color:var(--colorCompoundBrandBackground);}",".f68vbr6{border-bottom-color:var(--colorCompoundBrandBackground);}",".f1r1t4y1{border-top-color:var(--colorNeutralForegroundDisabled);}",".fmj8ijw{border-right-color:var(--colorNeutralForegroundDisabled);}",".figx54m{border-left-color:var(--colorNeutralForegroundDisabled);}",".f360ss8{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],h:[".f1knas48:hover{background-color:var(--colorNeutralBackground1Hover);}",".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".fo79ri9:hover .fui-Option__checkIcon{border-top-color:var(--colorNeutralForeground1Hover);}",".f1osiabc:hover .fui-Option__checkIcon{border-right-color:var(--colorNeutralForeground1Hover);}",".f1e8le25:hover .fui-Option__checkIcon{border-left-color:var(--colorNeutralForeground1Hover);}",".f1yusjty:hover .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForeground1Hover);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f185j3qj:hover .fui-Option__checkIcon{border-top-color:var(--colorNeutralForegroundDisabled);}",".f1dligi3:hover .fui-Option__checkIcon{border-right-color:var(--colorNeutralForegroundDisabled);}",".f1vydzie:hover .fui-Option__checkIcon{border-left-color:var(--colorNeutralForegroundDisabled);}",".fjw1di3:hover .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],a:[".fb40n2d:active{background-color:var(--colorNeutralBackground1Pressed);}",".f1g4hkjv:active{color:var(--colorNeutralForeground1Pressed);}",".f1lnr2zp:active .fui-Option__checkIcon{border-top-color:var(--colorNeutralForeground1Hover);}",".f1ogfk9z:active .fui-Option__checkIcon{border-right-color:var(--colorNeutralForeground1Hover);}",".f1g7j8ec:active .fui-Option__checkIcon{border-left-color:var(--colorNeutralForeground1Hover);}",".fiuf46r:active .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForeground1Hover);}",".fgj9um3:active{background-color:var(--colorTransparentBackground);}",".f19wldhg:active{color:var(--colorNeutralForegroundDisabled);}",".f1ss0kt2:active .fui-Option__checkIcon{border-top-color:var(--colorNeutralForegroundDisabled);}",".f1t6oli3:active .fui-Option__checkIcon{border-right-color:var(--colorNeutralForegroundDisabled);}",".fjy9ci8:active .fui-Option__checkIcon{border-left-color:var(--colorNeutralForegroundDisabled);}",".fresaxk:active .fui-Option__checkIcon{border-bottom-color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Oce=e=>{"use no memo";const{disabled:t,multiselect:n,selected:r}=e,i=Dce();return e.root.className=Ce(zb.root,i.root,i.active,t&&i.disabled,r&&i.selected,e.root.className),e.checkIcon&&(e.checkIcon.className=Ce(zb.checkIcon,i.checkIcon,n&&i.multiselectCheck,r&&i.selectedCheck,r&&n&&i.selectedMultiselectCheck,t&&i.checkDisabled,t&&n&&i.multiselectCheckDisabled,e.checkIcon.className)),e},rI={activeOption:void 0,focusVisible:!1,setActiveOption:()=>null},Fce=(e,t)=>{"use no memo";const{multiselect:n,disableAutoFocus:r=!1}=e,i=Nq(),{listboxRef:o,activeParentRef:a,controller:s}=N9({matchOption:j=>j.classList.contains(zb.root)}),c=hv(bv),u=va(j=>j.onActiveDescendantChange),d=va(j=>j.getOptionById),f=va(j=>j.getOptionsMatchingValue),p=c?d:i.getOptionById,m=c?f:i.getOptionsMatchingValue,g=x.useMemo(()=>{let j=null;const O=z=>{const W=z;u==null||u(W)};return z=>{if(!z){j==null||j.removeEventListener("activedescendantchange",O);return}j=z,j.addEventListener("activedescendantchange",O)}},[u]),[v,_]=x.useState(!1);g9(_);const y=E9(),S=uie(),w=S?y.controller:s,{clearSelection:C,selectedOptions:M,selectOption:A}=Pq(e),E=j=>{const O=Ib(j,{open:!0}),z=w.active(),W=z?p(z):null;switch(O){case"First":case"Last":case"Next":case"Previous":case"PageDown":case"PageUp":case"CloseSelect":case"Select":j.preventDefault();break}switch(O){case"Next":W?w.next():w.first();break;case"Previous":W?w.prev():w.first();break;case"PageUp":case"First":w.first();break;case"PageDown":case"Last":w.last();break;case"Select":case"CloseSelect":W&&A(j,W);break}},I=va(j=>j.selectedOptions),N=va(j=>j.selectOption),P=c?{selectedOptions:I,selectOption:N,...rI}:{selectedOptions:M,selectOption:A,...rI};x.useEffect(()=>{if(!S){if(w.hideFocusVisibleAttributes(),!r)if(!n&&P.selectedOptions.length>0){const j=m(O=>O===P.selectedOptions[0]).pop();j!=null&&j.id&&w.focus(j.id)}else w.first();return()=>{w.blur()}}},[]);const D=x.useCallback(()=>{S||(w.showFocusVisibleAttributes(),v&&w.scrollActiveIntoView())},[w,S,v]),q=x.useCallback(()=>{S||w.hideFocusVisibleAttributes()},[w,S]),$={components:{root:"div"},root:Ct(Qt("div",{ref:dn(t,a,o,g),role:n?"menu":"listbox",tabIndex:0,...e}),{elementType:"div"}),standalone:!c,multiselect:n,clearSelection:C,activeDescendantController:w,onActiveDescendantChange:u,...i,...P};return $.root.onKeyDown=pt(un($.root.onKeyDown,E)),$.root.onFocus=pt(un($.root.onFocus,D)),$.root.onBlur=pt(un($.root.onBlur,q)),$},Uce=(e,t)=>Se(k9,{value:t.activeDescendant,children:Se(bv.Provider,{value:t.listbox,children:Se(e.root,{})})}),qce={root:"fui-Listbox"},Hce=Fe({root:{De3pzq:"fxugw4r",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Bf4jedk:"f3hsy1e",Bmxbyg5:"f5zp4f",Bw0xxkn:0,oeaueh:0,Bpd4iqm:0,Befb4lg:"f1iepc6i",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1t35pdg",Belr9w4:"fiut8dr"}},{d:[".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f3hsy1e{min-width:160px;}",".f5zp4f{overflow-y:auto;}",[".f1iepc6i{outline:1px solid var(--colorTransparentStroke);}",{p:-1}],[".f1t35pdg{padding:var(--spacingHorizontalXS);}",{p:-1}],".fiut8dr{row-gap:var(--spacingHorizontalXXS);}"]}),Vce=e=>{"use no memo";const t=Hce();return e.root.className=Ce(qce.root,t.root,e.root.className),e},JN=x.forwardRef((e,t)=>{const n=Fce(e,t),r=Lce(n);return Vce(n),Ft("useListboxStyles_unstable")(n),Uce(n,r)});JN.displayName="Listbox";function Wce(e,t){if(e!==void 0)return e;let n="",r=!1;return x.Children.forEach(t,i=>{typeof i=="string"?n+=i:r=!0}),r&&console.warn("Provide a `text` prop to Option components when they contain non-string children."),n}const Gce=(e,t)=>{const{children:n,disabled:r,text:i,value:o}=e,a=x.useRef(null),s=Wce(i,n),c=o??s,u=vi("fluent-option",e.id),d=x.useMemo(()=>({id:u,disabled:r,text:s,value:c}),[u,r,s,c]),{controller:f}=E9(),p=va(C=>C.multiselect),m=va(C=>C.registerOption),g=va(C=>{const M=C.selectedOptions;return c!==void 0&&M.find(A=>A===c)!==void 0}),v=va(C=>C.selectOption),_=va(C=>C.onOptionClick);let y=x.createElement(Mie,null);p&&(y=g?x.createElement(F9,null):"");const S=C=>{var M;if(r){C.preventDefault();return}f.focus(u),v(C,d),_(C),(M=e.onClick)===null||M===void 0||M.call(e,C)};x.useEffect(()=>{if(u&&a.current)return m(d,a.current)},[u,d,m]);const w=p?{role:"menuitemcheckbox","aria-checked":g}:{role:"option","aria-selected":g};return{components:{root:"div",checkIcon:"span"},root:Ct(Qt("div",{ref:dn(t,a),"aria-disabled":r?"true":void 0,id:u,...w,...e,onClick:S}),{elementType:"div"}),checkIcon:zt(e.checkIcon,{renderByDefault:!0,defaultProps:{"aria-hidden":"true",children:y},elementType:"span"}),disabled:r,multiselect:p,selected:g,focusVisible:!1,active:!1}},$ce=e=>an(e.root,{children:[e.checkIcon&&Se(e.checkIcon,{}),e.root.children]}),Jt=x.forwardRef((e,t)=>{const n=Gce(e,t);return Oce(n),Ft("useOptionStyles_unstable")(n),$ce(n)});Jt.displayName="Option";const Xce=e=>{"use no memo";const{appearance:t="outline",disableAutoFocus:n,children:r,clearable:i=!1,editable:o=!1,inlinePopup:a=!1,mountNode:s=void 0,multiselect:c,onOpenChange:u,size:d="medium",activeDescendantController:f,freeform:p=!1,disabled:m=!1,onActiveOptionChange:g=null}=e,v=Nq(),{getOptionsMatchingValue:_}=v,{getOptionById:y}=v,S=x.useCallback(()=>{const Z=f.active();return Z?y(Z):void 0},[f,y]),w=S(),C=x.useCallback(Z=>{let Q;if(typeof Z=="function"){const re=S();Q=Z(re)}Q?f.focus(Q.id):f.blur()},[f,S]),[M,A]=x.useState(!1),[E,I]=x.useState(!1),N=x.useRef(!1),P=kN(),[D,q]=ro({state:e.value,initialState:void 0}),{selectedOptions:$,selectOption:j,clearSelection:O}=Pq(e),z=x.useCallback((Z,Q)=>{qh.unstable_batchedUpdates(()=>{q(void 0),j(Z,Q)})},[q,j]),W=x.useMemo(()=>{if(D!==void 0)return D;if(P&&e.defaultValue!==void 0)return e.defaultValue;const Z=_(Q=>$.includes(Q)).map(Q=>Q.text);return c?o?"":Z.join(", "):Z[0]},[D,o,_,c,$]),[F,V]=ro({state:e.open,defaultState:e.defaultOpen,initialState:!1}),H=x.useCallback((Z,Q)=>{m||(u==null||u(Z,{open:Q}),qh.unstable_batchedUpdates(()=>{!Q&&!p&&q(void 0),V(Q)}))},[u,V,q,p,m]);x.useEffect(()=>{if(F){if(!c&&$.length>0){const Z=_(Q=>Q===$[0]).pop();Z!=null&&Z.id&&f.focus(Z.id)}}else f.blur()},[F,f]),x.useEffect(()=>{F&&!n&&!f.active()&&f.first()},[F,r,n,f,y]);const te=pt(Z=>{const Q=Z.detail.previousId?v.getOptionById(Z.detail.previousId):null,re=v.getOptionById(Z.detail.id);g==null||g(Z,{event:Z,type:"change",previousOption:Q,nextOption:re})});return{...v,freeform:p,disabled:m,selectOption:z,clearSelection:O,selectedOptions:$,activeOption:w,appearance:t,clearable:i,focusVisible:M,ignoreNextBlur:N,inlinePopup:a,mountNode:s,open:F,hasFocus:E,setActiveOption:C,setFocusVisible:A,setHasFocus:I,setOpen:H,setValue:q,size:d,value:W,multiselect:c,onOptionClick:pt(Z=>{c||H(Z,!1)}),onActiveDescendantChange:te}};function Zce(e){const{positioning:t}=e,r={position:"below",align:"start",offset:{crossAxis:0,mainAxis:2},fallbackPositions:["above","after","after-top","before","before-top"],matchTargetSize:"width",autoSize:!0,...yv(t)},{targetRef:i,containerRef:o}=n1(r);return[o,i]}function Kce(e,t,n){const{state:{multiselect:r},triggerRef:i,defaultProps:o}=n,a=vi("fluent-listbox",Ng(e)?e.id:void 0),s=zt(e,{renderByDefault:!0,elementType:JN,defaultProps:{id:a,multiselect:r,tabIndex:void 0,...o}}),c=uf({id:a},{supportsLabelFor:!0});s&&!s["aria-label"]&&!s["aria-labelledby"]&&c["aria-labelledby"]&&(s["aria-labelledby"]=c["aria-labelledby"]);const u=pt(un(p=>{p.preventDefault()},s==null?void 0:s.onMouseDown)),d=pt(un(p=>{var m;p.preventDefault(),(m=i.current)===null||m===void 0||m.focus()},s==null?void 0:s.onClick)),f=dn(s==null?void 0:s.ref,t);return s&&(s.ref=f,s.onMouseDown=u,s.onClick=d),s}function Yce(e,t,n){const{state:{open:r,setOpen:i,setHasFocus:o},defaultProps:a,elementType:s,activeDescendantController:c}=n,u=Ct(e,{defaultProps:{type:"text","aria-expanded":r,role:"combobox",...typeof a=="object"&&a},elementType:s}),d=x.useRef(null);return u.ref=dn(d,u.ref,t),u.onBlur=un(f=>{i(f,!1),o(!1)},u.onBlur),u.onFocus=un(f=>{f.target===f.currentTarget&&o(!0)},u.onFocus),u.onClick=un(f=>{i(f,!r)},u.onClick),u.onKeyDown=un(Jce({activeDescendantController:c,...n.state}),u.onKeyDown),u}function Jce(e){const{activeDescendantController:t,getOptionById:n,setOpen:r,selectOption:i,multiselect:o,open:a}=e,s=x.useCallback(()=>{const v=t.active();return v?n(v):void 0},[t,n]),c=()=>{t.first()},u=()=>{t.last()},d=v=>{v?t.next():t.first()},f=v=>{v?t.prev():t.first()},p=()=>{for(let v=0;v<10;v++)t.prev()},m=()=>{for(let v=0;v<10;v++)t.next()},g=Wne();return pt(v=>{const _=Ib(v,{open:a,multiselect:o}),y=s();switch(_){case"First":case"Last":case"Next":case"Previous":case"PageDown":case"PageUp":case"Open":case"Close":case"CloseSelect":case"Select":v.preventDefault();break}switch(g(!0),_){case"First":c();break;case"Last":u();break;case"Next":d(y);break;case"Previous":f(y);break;case"PageDown":m();break;case"PageUp":p();break;case"Open":r(v,!0);break;case"Close":v.stopPropagation(),r(v,!1);break;case"CloseSelect":!o&&!(y!=null&&y.disabled)&&r(v,!1);case"Select":y&&i(v,y);break;case"Tab":!o&&y&&i(v,y);break}})}function Qce(e,t,n){"use no memo";const{state:{open:r,value:i,selectOption:o,setValue:a,multiselect:s,selectedOptions:c,clearSelection:u,getOptionById:d,setOpen:f},freeform:p,defaultProps:m,activeDescendantController:g}=n,v=I=>{if(!r&&!p){const N=g.active(),P=N?d(N):null;i&&P&&i.trim().toLowerCase()===(P==null?void 0:P.text.toLowerCase())&&o(I,P),a(void 0)}},_=I=>{const N=I==null?void 0:I.trim().toLowerCase();if(!N||N.length===0){g.blur();return}const P=q=>q.toLowerCase().indexOf(N)===0,D=g.find(q=>{const $=d(q);return!!$&&P($.text)});if(!D){g.blur();return}return d(D)},y=I=>{const N=I.target.value;a(N);const P=_(N);!s&&c.length===1&&(N.length<1||!P)&&u(I)},S=Yce(e,t,{state:n.state,defaultProps:m,elementType:"input",activeDescendantController:g});S.onChange=un(S.onChange,y),S.onBlur=un(S.onBlur,v);const[w,C]=x.useState(!1),M=x.useRef(!1),A=S.onKeyDown,E=pt(I=>{!r&&Ib(I)==="Type"&&f(I,!0),I.key===$x||I.key===Xx?C(!0):C(!1);const N=Ib(I,{open:r,multiselect:s});if(N==="Type"?M.current=!0:(N==="Open"&&I.key!==" "||N==="Next"||N==="Previous"||N==="First"||N==="Last"||N==="PageUp"||N==="PageDown")&&(M.current=!1),(M.current||!r)&&I.key===" "){var P;e==null||(P=e.onKeyDown)===null||P===void 0||P.call(e,I);return}A==null||A(I)});return S.onKeyDown=E,w&&(S["aria-activedescendant"]=void 0),S}const eue=(e,t)=>{"use no memo";var n,r;e=uf(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const{listboxRef:i,activeParentRef:o,controller:a}=N9({matchOption:Z=>Z.classList.contains(zb.root)}),s=Xce({...e,editable:!0,activeDescendantController:a}),{clearable:c,clearSelection:u,disabled:d,multiselect:f,open:p,selectedOptions:m,setOpen:g,value:v,hasFocus:_}=s,[y,S]=Zce(e),{disableAutoFocus:w=!1,freeform:C,inlinePopup:M}=e,A=vi("combobox-"),{primary:E,root:I}=of({props:e,primarySlotTagName:"input",excludedPropNames:["children","size"]}),N=x.useRef(null),P=Kce(e.listbox,dn(y,i),{state:s,triggerRef:N,defaultProps:{children:e.children,disableAutoFocus:w}});var D;const q=Qce((D=e.input)!==null&&D!==void 0?D:{},dn(N,o,t),{state:s,freeform:C,defaultProps:{type:"text",value:v??"","aria-controls":p?P==null?void 0:P.id:void 0,...E},activeDescendantController:a}),$=Ct(e.root,{defaultProps:{"aria-owns":!M&&p?P==null?void 0:P.id:void 0,...I},elementType:"div"});$.ref=dn($.ref,S);const j=m.length>0&&!d&&c&&!f,O={components:{root:"div",input:"input",expandIcon:"span",listbox:JN,clearIcon:"span"},root:$,input:q,listbox:p||_?P:void 0,clearIcon:zt(e.clearIcon,{defaultProps:{"aria-hidden":"true",children:x.createElement(Gn,null)},elementType:"span",renderByDefault:!0}),expandIcon:zt(e.expandIcon,{renderByDefault:!0,defaultProps:{"aria-disabled":d?"true":void 0,"aria-expanded":p,children:x.createElement(UN,null),role:"button"},elementType:"span"}),showClearIcon:j,activeDescendantController:a,...s},{targetDocument:z}=gn();EN({element:z,callback:Z=>g(Z,!1),refs:[N,y,S],disabled:!p});const{onMouseDown:W}=O.expandIcon||{},F=pt(un(W,Z=>{var Q;Z.preventDefault(),O.setOpen(Z,!O.open),(Q=N.current)===null||Q===void 0||Q.focus()}));if(O.expandIcon){O.expandIcon.onMouseDown=F;const Z=O.expandIcon["aria-label"]||O.expandIcon["aria-labelledby"],Q="Open";if(!Z)if(e["aria-labelledby"]){var V;const re=(V=O.expandIcon.id)!==null&&V!==void 0?V:`${A}-chevron`,ue=`${re} ${O.input["aria-labelledby"]}`;O.expandIcon["aria-label"]=Q,O.expandIcon.id=re,O.expandIcon["aria-labelledby"]=ue}else e["aria-label"]?O.expandIcon["aria-label"]=`${Q} ${e["aria-label"]}`:O.expandIcon["aria-label"]=Q}const H=pt(un((n=O.clearIcon)===null||n===void 0?void 0:n.onMouseDown,Z=>{Z.preventDefault()})),te=pt(un((r=O.clearIcon)===null||r===void 0?void 0:r.onClick,Z=>{u(Z)}));return O.clearIcon&&(O.clearIcon.onMouseDown=H,O.clearIcon.onClick=te),f&&(O.clearIcon=void 0),O},tue=(e,t)=>Se(e.root,{children:Se(k9,{value:t.activeDescendant,children:Se(Ice,{value:t.listbox,children:an(Aq.Provider,{value:t.combobox,children:[Se(e.input,{}),e.clearIcon&&Se(e.clearIcon,{}),e.expandIcon&&Se(e.expandIcon,{}),e.listbox&&(e.inlinePopup?Se(e.listbox,{}):Se(cf,{mountNode:e.mountNode,children:Se(e.listbox,{})}))]})})})}),mm={root:"fui-Combobox",input:"fui-Combobox__input",expandIcon:"fui-Combobox__expandIcon",clearIcon:"fui-Combobox__clearIcon",listbox:"fui-Combobox__listbox"},nue=Fe({root:{Bt984gj:"f122n59",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",B7ck84d:"f1ewtqcl",i8kkvl:"f14mj54c",mc9l5x:"fwk3njj",Budl1dq:"fz17x9o",Brf1p80:"f1869bpl",Bf4jedk:"f1exfvgq",qhf8xq:"f10pi13n",ha4doy:"fmrv4ls",Bbr2w1p:"f14a1fxs",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"f145g4dw",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"f13evtba",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",wi16st:"fsrmcvb",ywj3b2:"f1t3k7v9",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",Bnupc0a:"fx04xgm",bing71:"f1c7in40",Bercvud:"f1ibeo51"},listbox:{E5pizo:"f1hg901r",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bxyxcbc:"fmmk62d",B7ck84d:"f1ewtqcl"},listboxCollapsed:{mc9l5x:"fjseox"},inlineListbox:{Bj3rh1h:"f19g0ac"},small:{Bqenvij:"frvgh55",z189sj:["fdw0yi8","fk8j09s"]},medium:{Bqenvij:"f1d2rq10",z189sj:["f11gcy0p","f1ng84yb"]},large:{i8kkvl:"f1rjii52",Bqenvij:"fbhnoac",z189sj:["fw5db7e","f1uw59to"]},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"f1z0osm6",B50zh58:["f4ruux4","f1assf6x"],Bvq3b66:"f1b473iu",Brahy3i:["f381qr8","ft4skwv"],zoxjo1:"f1qzcrsd",an54nd:["ft4skwv","f381qr8"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f9ez7ne",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"},"filled-lighter":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},"filled-darker":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bcq6wej:"f9dbb4x",Jcjdmf:["f3qs60o","f5u9ap2"],sc4o1m:"fwd1oij",Bosien3:["f5u9ap2","f3qs60o"]}},{d:[".f122n59{align-items:center;}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",".fwk3njj{display:inline-grid;}",".fz17x9o{grid-template-columns:1fr auto;}",".f1869bpl{justify-content:space-between;}",".f1exfvgq{min-width:250px;}",".f10pi13n{position:relative;}",".fmrv4ls{vertical-align:middle;}",".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".f145g4dw::after{height:max(2px, var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".f13evtba::after{clip-path:inset(calc(100% - 2px) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",".f1hg901r{box-shadow:var(--shadow16);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fmmk62d{max-height:80vh;}",".fjseox{display:none;}",".f19g0ac{z-index:1;}",".frvgh55{height:24px;}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".f1d2rq10{height:32px;}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f1rjii52{column-gap:var(--spacingHorizontalSNudge);}",".fbhnoac{height:40px;}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f9ez7ne{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}"],w:[".f14a1fxs:focus-within{outline-width:2px;}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".f1b473iu:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".f381qr8:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".ft4skwv:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1qzcrsd:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fsrmcvb::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1t3k7v9::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fx04xgm:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1c7in40:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media (forced-colors: active){.f9dbb4x{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3qs60o{border-right-color:GrayText;}.f5u9ap2{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fwd1oij{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1z0osm6:active{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"]}),rue=Fe({input:{qb2dma:"f1ub7u0d",De3pzq:"f1c21dwh",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh",sj55zd:"f19n0e5",Bahqtrf:"fk6fouc",Brovlpu:"ftqa4ok",yvdlaj:"fwyc1cq",B3o7kgh:"f13ta7ih"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["fxe2rs","f1gflqzi"]},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["fzy81xo","f58b53b"]},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:["f1kdav7a","footqm6"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1ub7u0d{align-self:stretch;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".f3bhgqh{border:none;}",{p:-2}],".f19n0e5{color:var(--colorNeutralForeground1);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fwyc1cq::-webkit-input-placeholder{color:var(--colorNeutralForeground4);}",".fwyc1cq::-moz-placeholder{color:var(--colorNeutralForeground4);}",".f13ta7ih::-webkit-input-placeholder{opacity:1;}",".f13ta7ih::-moz-placeholder{opacity:1;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",[".fxe2rs{padding:0 0 0 calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f1gflqzi{padding:0 calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS)) 0 0;}",{p:-1}],".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".fzy81xo{padding:0 0 0 calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",{p:-1}],[".f58b53b{padding:0 calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS)) 0 0;}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f1kdav7a{padding:0 0 0 calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",{p:-1}],[".footqm6{padding:0 calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge)) 0 0;}",{p:-1}],".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"],f:[".ftqa4ok:focus{outline-style:none;}"]}),iue=Fe({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",Bceei9c:"f1k6fduh",mc9l5x:"ftgm304",Be2twd7:"f1pp30po",Bo70h7d:"fvc9v3g"},hidden:{mc9l5x:"fjseox"},visuallyHidden:{Bh84pgu:"f1ekcaio",Bqenvij:"f1mpe4l3",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1jlpb2r",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1c5fvqg",a9b677:"frkrog8",qhf8xq:"f1euv43f"},small:{Be2twd7:"f4ybsrx",Frg6f3:["f1h9en5y","f1xk557c"]},medium:{Be2twd7:"fe5j1ua",Frg6f3:["f1h9en5y","f1xk557c"]},large:{Be2twd7:"f1rt2boy",Frg6f3:["f1t5qyk5","f1ikr372"]},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".f1k6fduh{cursor:pointer;}",".ftgm304{display:block;}",".f1pp30po{font-size:var(--fontSizeBase500);}",".fvc9v3g svg{display:block;}",".fjseox{display:none;}",".f1ekcaio{clip:rect(0px, 0px, 0px, 0px);}",".f1mpe4l3{height:1px;}",[".f1jlpb2r{margin:-1px;}",{p:-1}],[".f1a3p1vp{overflow:hidden;}",{p:-1}],[".f1c5fvqg{padding:0px;}",{p:-1}],".frkrog8{width:1px;}",".f1euv43f{position:absolute;}",".f4ybsrx{font-size:16px;}",".f1h9en5y{margin-left:var(--spacingHorizontalXXS);}",".f1xk557c{margin-right:var(--spacingHorizontalXXS);}",".fe5j1ua{font-size:20px;}",".f1rt2boy{font-size:24px;}",".f1t5qyk5{margin-left:var(--spacingHorizontalSNudge);}",".f1ikr372{margin-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}"]}),oue=e=>{"use no memo";const{appearance:t,open:n,size:r,showClearIcon:i}=e,o=`${e.input["aria-invalid"]}`=="true",a=e.input.disabled,s=nue(),c=iue(),u=rue();return e.root.className=Ce(mm.root,s.root,s[t],s[r],!a&&t==="outline"&&s.outlineInteractive,o&&t!=="underline"&&s.invalid,o&&t==="underline"&&s.invalidUnderline,a&&s.disabled,e.root.className),e.input.className=Ce(mm.input,u.input,u[r],a&&u.disabled,e.input.className),e.listbox&&(e.listbox.className=Ce(mm.listbox,s.listbox,e.inlinePopup&&s.inlineListbox,!n&&s.listboxCollapsed,e.listbox.className)),e.expandIcon&&(e.expandIcon.className=Ce(mm.expandIcon,c.icon,c[r],a&&c.disabled,i&&c.visuallyHidden,e.expandIcon.className)),e.clearIcon&&(e.clearIcon.className=Ce(mm.clearIcon,c.icon,c[r],a&&c.disabled,!i&&c.hidden,e.clearIcon.className)),e},ln=x.forwardRef((e,t)=>{const n=eue(e,t),r=zce(n);return oue(n),Ft("useComboboxStyles_unstable")(n),tue(n,r)});ln.displayName="Combobox";const Bq=(e,t)=>{e=uf(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const n=Dx();var r;const{size:i="medium",appearance:o=(r=n.inputDefaultAppearance)!==null&&r!==void 0?r:"outline",onChange:a}=e,[s,c]=ro({state:e.value,defaultState:e.defaultValue,initialState:""}),u=of({props:e,primarySlotTagName:"input",excludedPropNames:["size","onChange","value","defaultValue"]}),d={size:i,appearance:o,components:{root:"span",input:"input",contentBefore:"span",contentAfter:"span"},input:Ct(e.input,{defaultProps:{type:"text",ref:t,...u.primary},elementType:"input"}),contentAfter:zt(e.contentAfter,{elementType:"span"}),contentBefore:zt(e.contentBefore,{elementType:"span"}),root:Ct(e.root,{defaultProps:u.root,elementType:"span"})};return d.input.value=s,d.input.onChange=pt(f=>{const p=f.target.value;a==null||a(f,{value:p}),c(p)}),d},aue=e=>an(e.root,{children:[e.contentBefore&&Se(e.contentBefore,{}),Se(e.input,{}),e.contentAfter&&Se(e.contentAfter,{})]}),j0={root:"fui-Input",input:"fui-Input__input",contentBefore:"fui-Input__contentBefore",contentAfter:"fui-Input__contentAfter"},sue=Rt("r1oeeo9n","r9sxh5",{r:[".r1oeeo9n{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r1oeeo9n::after{box-sizing:border-box;content:"";position:absolute;left:-1px;bottom:-1px;right:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r1oeeo9n:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r1oeeo9n:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r1oeeo9n:focus-within{outline:2px solid transparent;}",".r9sxh5{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r9sxh5::after{box-sizing:border-box;content:"";position:absolute;right:-1px;bottom:-1px;left:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r9sxh5:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r9sxh5:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r9sxh5:focus-within{outline:2px solid transparent;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}"]}),lue=Fe({small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{},large:{sshi5w:"f1w5jphr",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},outline:{},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],Drbcw7:"f8vnjqi",udz0bu:["fz1etlk","f1hc16gm"],Be8ivqh:"f1klwx88",ofdepl:["f1hc16gm","fz1etlk"]},underline:{De3pzq:"f1c21dwh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779",icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],wvpqe5:["f1deefiw","f1n71otn"],Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"]},underlineInteractive:{oetu4i:"f1l4zc64",Be8ivqh:"f1klwx88",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"f2ale1x"},filled:{g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},filledInteractive:{q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",E5pizo:"fyed02w"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bcq6wej:"f9dbb4x",Jcjdmf:["f3qs60o","f5u9ap2"],sc4o1m:"fwd1oij",Bosien3:["f5u9ap2","f3qs60o"],Bsft5z2:"fhr9occ",Bduesf4:"f99w1ws"},smallWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},smallWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},mediumWithContentBefore:{uwmqm3:["f1ng84yb","f11gcy0p"]},mediumWithContentAfter:{z189sj:["f11gcy0p","f1ng84yb"]},largeWithContentBefore:{uwmqm3:["f1uw59to","fw5db7e"]},largeWithContentAfter:{z189sj:["fw5db7e","f1uw59to"]}},{d:[".f1pha7fy{min-height:24px;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1w5jphr{min-height:40px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".fokr779{border-radius:0;}",{p:-1}],".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",[".f2ale1x::after{border-radius:0;}",{p:-1}],".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".fyed02w{box-shadow:var(--shadow2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fhr9occ::after{content:unset;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}"],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}",".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}"],a:[".f8vnjqi:active,.f8vnjqi:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".fz1etlk:active,.fz1etlk:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1hc16gm:active,.f1hc16gm:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1klwx88:active,.f1klwx88:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media (forced-colors: active){.f9dbb4x{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3qs60o{border-right-color:GrayText;}.f5u9ap2{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fwd1oij{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],w:[".f99w1ws:focus-within{outline-style:none;}"]}),cue=Rt("r12stul0",null,[".r12stul0{align-self:stretch;box-sizing:border-box;flex-grow:1;min-width:0;border-style:none;padding:0 var(--spacingHorizontalM);color:var(--colorNeutralForeground1);background-color:transparent;outline-style:none;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;}",".r12stul0::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::placeholder{color:var(--colorNeutralForeground4);opacity:1;}"]),uue=Fe({small:{uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},medium:{},large:{uwmqm3:["fnphzt9","flt1dlf"],z189sj:["flt1dlf","fnphzt9"]},smallWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},smallWithContentAfter:{z189sj:["ffczdla","fgiv446"]},mediumWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},mediumWithContentAfter:{z189sj:["ffczdla","fgiv446"]},largeWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},largeWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),due=Rt("r1572tok",null,[".r1572tok{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;}",".r1572tok>svg{font-size:20px;}"]),fue=Fe({disabled:{sj55zd:"f1s2aq7o"},small:{Duoase:"f3qv9w"},medium:{},large:{Duoase:"f16u2scb"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3qv9w>svg{font-size:16px;}",".f16u2scb>svg{font-size:24px;}"]}),Rq=e=>{"use no memo";const{size:t,appearance:n}=e,r=e.input.disabled,i=`${e.input["aria-invalid"]}`=="true",o=n.startsWith("filled"),a=lue(),s=uue(),c=fue();e.root.className=Ce(j0.root,sue(),a[t],e.contentBefore&&a[`${t}WithContentBefore`],e.contentAfter&&a[`${t}WithContentAfter`],a[n],!r&&n==="outline"&&a.outlineInteractive,!r&&n==="underline"&&a.underlineInteractive,!r&&o&&a.filledInteractive,o&&a.filled,!r&&i&&a.invalid,r&&a.disabled,e.root.className),e.input.className=Ce(j0.input,cue(),s[t],e.contentBefore&&s[`${t}WithContentBefore`],e.contentAfter&&s[`${t}WithContentAfter`],r&&s.disabled,e.input.className);const u=[due(),r&&c.disabled,c[t]];return e.contentBefore&&(e.contentBefore.className=Ce(j0.contentBefore,...u,e.contentBefore.className)),e.contentAfter&&(e.contentAfter.className=Ce(j0.contentAfter,...u,e.contentAfter.className)),e},ye=x.forwardRef((e,t)=>{const n=Bq(e,t);return Rq(n),Ft("useInputStyles_unstable")(n),aue(n)});ye.displayName="Input";const hue=e=>Se(e.root,{}),pue=(e,t)=>{const{bordered:n=!1,fit:r="default",block:i=!1,shape:o="square",shadow:a=!1}=e;return{bordered:n,fit:r,block:i,shape:o,shadow:a,components:{root:"img"},root:Ct(Qt("img",{ref:t,...e}),{elementType:"img"})}},mue={root:"fui-Image"},gue=Fe({base:{g2u3we:"fj3muxo",h3c5rm:["f1akhkt","f1lxtadh"],B9xav0g:"f1aperda",zhjwy3:["f1lxtadh","f1akhkt"],Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw",B7ck84d:"f1ewtqcl",mc9l5x:"f14t3ns0"},bordered:{icvyot:"fzkkow9",vrafjx:["fcdblym","fjik90z"],oivjwe:"fg706s2",wvpqe5:["fjik90z","fcdblym"],B4j52fo:"f192inf7",Bekrc4i:["f5tn483","f1ojsxk5"],Bn0qgzm:"f1vxd6vx",ibv6hh:["f1ojsxk5","f5tn483"]},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},square:{},shadow:{E5pizo:"f1whvlc6"},center:{st4lth:"f1plgu50",Ermj5k:"f14xojzb"},contain:{st4lth:"f1kle4es",Ermj5k:"f14xojzb"},default:{},cover:{st4lth:"f1ps3kmd",Ermj5k:"f14xojzb"},none:{st4lth:"f1plgu50",Ermj5k:["f13uwng7","fjmyj0p"]},fitFill:{Bqenvij:"f1l02sjl",a9b677:"fly5x3f"},block:{a9b677:"fly5x3f"}},{d:[".fj3muxo{border-top-color:var(--colorNeutralStroke1);}",".f1akhkt{border-right-color:var(--colorNeutralStroke1);}",".f1lxtadh{border-left-color:var(--colorNeutralStroke1);}",".f1aperda{border-bottom-color:var(--colorNeutralStroke1);}",[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".f1ewtqcl{box-sizing:border-box;}",".f14t3ns0{display:inline-block;}",".fzkkow9{border-top-style:solid;}",".fcdblym{border-right-style:solid;}",".fjik90z{border-left-style:solid;}",".fg706s2{border-bottom-style:solid;}",".f192inf7{border-top-width:var(--strokeWidthThin);}",".f5tn483{border-right-width:var(--strokeWidthThin);}",".f1ojsxk5{border-left-width:var(--strokeWidthThin);}",".f1vxd6vx{border-bottom-width:var(--strokeWidthThin);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1whvlc6{box-shadow:var(--shadow4);}",".f1plgu50{object-fit:none;}",".f14xojzb{object-position:center;}",".f1kle4es{object-fit:contain;}",".f1ps3kmd{object-fit:cover;}",".f13uwng7{object-position:left top;}",".fjmyj0p{object-position:right top;}",".f1l02sjl{height:100%;}",".fly5x3f{width:100%;}"]}),vue=e=>{"use no memo";const t=gue(),{height:n,width:r}=e.root,i=n!=null||r!=null,o=e.fit!=="default"&&!i;return e.root.className=Ce(mue.root,t.base,e.block&&t.block,e.bordered&&t.bordered,e.shadow&&t.shadow,t[e.fit],o&&t.fitFill,t[e.shape],e.root.className),e},jq=x.forwardRef((e,t)=>{const n=pue(e,t);return vue(n),Ft("useImageStyles_unstable")(n),hue(n)});jq.displayName="Image";const yue=x.createContext(void 0),bue=yue.Provider,QN=kc(void 0),xue={open:!1,setOpen:()=>!1,checkedValues:{},onCheckedValueChange:()=>null,isSubmenu:!1,triggerRef:{current:null},menuPopoverRef:{current:null},mountNode:null,triggerId:"",openOnContext:!1,openOnHover:!1,hasIcons:!1,hasCheckmarks:!1,inline:!1,persistOnItemClick:!1},_ue=QN.Provider,vr=e=>Gu(QN,(t=xue)=>e(t)),Iq=x.createContext(void 0),wue=!1,Sue=Iq.Provider,Cue=()=>{var e;return(e=x.useContext(Iq))!==null&&e!==void 0?e:wue},eP=kc(void 0),Tue={checkedValues:{},setFocusByFirstCharacter:()=>null,toggleCheckbox:()=>null,selectRadio:()=>null,hasIcons:!1,hasCheckmarks:!1},kue=eP.Provider,CM=e=>Gu(eP,(t=Tue)=>e(t)),Lg="fuimenuenter",Eue=e=>{const{refs:t,callback:n,element:r,disabled:i}=e,o=pt(a=>{const s=t[0],c=a.target;var u;!ga((u=s.current)!==null&&u!==void 0?u:null,c)&&!i&&n(a)});x.useEffect(()=>{if(r!=null)return i||r.addEventListener(Lg,o),()=>{r.removeEventListener(Lg,o)}},[o,r,i])},Mue=(e,t)=>{e.dispatchEvent(new CustomEvent(Lg,{bubbles:!0,detail:{nativeEvent:t}}))};function tP(){const e=vr(n=>n.isSubmenu),t=hv(eP);return e||t}const zq=e=>{"use no memo";const{targetDocument:t}=gn();return vr(r=>r.triggerRef),vr(r=>r.inline),x.useRef(null)},TM="fuimenusafezonetimeout",Aue=e=>{const t=x.useRef(null);return x.useCallback(n=>{var r;(r=t.current)===null||r===void 0||r.removeEventListener(TM,e),n==null||n.addEventListener(TM,e),t.current=n},[e])},Nue=Fe({root:{a9b677:"fjw5fx7",Bqenvij:"fd461yt",Bcdw1i0:"fd7fpy0",Bnnss6s:"fi64zpg"},rootChecked:{Bcdw1i0:"f1022m68",Bnnss6s:"fi64zpg"}},{d:[".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".fd7fpy0{visibility:hidden;}",".fi64zpg{flex-shrink:0;}",".f1022m68{visibility:visible;}"]}),Pue=e=>{"use no memo";const t=Nue();e.checkmark&&(e.checkmark.className=Ce(t.root,e.checked&&t.rootChecked,e.checkmark.className))},ru={root:"fui-MenuItem",icon:"fui-MenuItem__icon",checkmark:"fui-MenuItem__checkmark",submenuIndicator:"fui-MenuItem__submenuIndicator",content:"fui-MenuItem__content",secondaryContent:"fui-MenuItem__secondaryContent",subText:"fui-MenuItem__subText"},Bue=Rt("rfoezjv","r8lt3v0",{r:[".rfoezjv{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-right:var(--spacingVerticalSNudge);padding-left:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);padding-bottom:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;}",".rfoezjv:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".rfoezjv:hover .fui-Icon-filled{display:inline;}",".rfoezjv:hover .fui-Icon-regular{display:none;}",".rfoezjv:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".rfoezjv:hover .fui-MenuItem__subText{color:var(--colorNeutralForeground3Hover);}",".rfoezjv:hover:active{background-color:var(--colorNeutralBackground1Pressed);color:var(--colorNeutralForeground2Pressed);}",".rfoezjv:hover:active .fui-MenuItem__subText{color:var(--colorNeutralForeground3Pressed);}",".rfoezjv:focus{outline-style:none;}",".rfoezjv:focus-visible{outline-style:none;}",".rfoezjv[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.rfoezjv[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r8lt3v0{border-radius:var(--borderRadiusMedium);position:relative;color:var(--colorNeutralForeground2);background-color:var(--colorNeutralBackground1);padding-left:var(--spacingVerticalSNudge);padding-right:var(--spacingVerticalSNudge);padding-top:var(--spacingVerticalSNudge);padding-bottom:var(--spacingVerticalSNudge);box-sizing:border-box;max-width:290px;min-height:32px;flex-shrink:0;display:flex;align-items:start;font-size:var(--fontSizeBase300);cursor:pointer;gap:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;}",".r8lt3v0:hover{background-color:var(--colorNeutralBackground1Hover);color:var(--colorNeutralForeground2Hover);}",".r8lt3v0:hover .fui-Icon-filled{display:inline;}",".r8lt3v0:hover .fui-Icon-regular{display:none;}",".r8lt3v0:hover .fui-MenuItem__icon{color:var(--colorNeutralForeground2BrandSelected);}",".r8lt3v0:hover .fui-MenuItem__subText{color:var(--colorNeutralForeground3Hover);}",".r8lt3v0:hover:active{background-color:var(--colorNeutralBackground1Pressed);color:var(--colorNeutralForeground2Pressed);}",".r8lt3v0:hover:active .fui-MenuItem__subText{color:var(--colorNeutralForeground3Pressed);}",".r8lt3v0:focus{outline-style:none;}",".r8lt3v0:focus-visible{outline-style:none;}",".r8lt3v0[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r8lt3v0[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:['@media (forced-colors: active){.rfoezjv:hover{background-color:Canvas;border-color:Highlight;color:Highlight;}.rfoezjv:focus{outline-style:none;}.rfoezjv:focus-visible{outline-style:none;}.rfoezjv[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}@media (forced-colors: active){.rfoezjv[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}.rfoezjv[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid Highlight;border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}}',"@media (forced-colors: active){.rfoezjv[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}",'@media (forced-colors: active){.r8lt3v0:hover{background-color:Canvas;border-color:Highlight;color:Highlight;}.r8lt3v0:focus{outline-style:none;}.r8lt3v0:focus-visible{outline-style:none;}.r8lt3v0[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}@media (forced-colors: active){.r8lt3v0[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}.r8lt3v0[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid Highlight;border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}}',"@media (forced-colors: active){.r8lt3v0[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Rue=Rt("r1ls86vo","rpbc5dr",[".r1ls86vo{padding-left:2px;padding-right:2px;background-color:transparent;flex-grow:1;}",".rpbc5dr{padding-right:2px;padding-left:2px;background-color:transparent;flex-grow:1;}"]),jue=Rt("r12mwwux","r1ewgu5j",[".r12mwwux{padding-left:2px;padding-right:2px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);}",".r12mwwux:hover{color:var(--colorNeutralForeground3Hover);}",".r12mwwux:focus{color:var(--colorNeutralForeground3Hover);}",".r1ewgu5j{padding-right:2px;padding-left:2px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);color:var(--colorNeutralForeground3);}",".r1ewgu5j:hover{color:var(--colorNeutralForeground3Hover);}",".r1ewgu5j:focus{color:var(--colorNeutralForeground3Hover);}"]),Iue=Rt("ro9koqv",null,[".ro9koqv{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;flex-shrink:0;}"]),zue=Rt("r9c34qo",null,[".r9c34qo{width:20px;height:20px;font-size:20px;line-height:0;align-items:center;display:inline-flex;justify-content:center;}"]),Lue=Rt("rk2ppru",null,[".rk2ppru{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase100);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase100);color:var(--colorNeutralForeground3);}"]),Due=Fe({checkmark:{B6of3ja:"fmnzpld"},splitItemMain:{Bh6795r:"fqerorx"},splitItemTrigger:{Btl43ni:["f1ozlkrg","f10ostut"],Beyfa6y:["f1deotkl","f1krrbdw"],uwmqm3:["f1cnd47f","fhxju0i"],Ftih45:"f1wl9k8s",Ccq8qp:"f1yn80uh",Baz25je:"f68mna0",cmx5o7:"f1p5zmk"},disabled:{sj55zd:"f1s2aq7o",Bi91k9c:"fvgxktp",Jwef8y:"f1ijtazh",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bg7n49j:"f1q1x1ba",c7f7en:"ff3wrqt",B2d53fq:"fcvwxyo",iro3zm:"f1to34ca",Bumww26:"fszh5vc",t0hwav:"ft33916",B7iucu3:"f1cyfu5x",Bahaeuw:"fa9u7a5",Bbkh6qg:"f1wzezsb",B3ejlan:"f1egomlm",B41git9:"f1wf2001",Boq1n10:"fied5gk",Dcq74g:"f1efp33f",rxnm8d:"f1m2zpi7",wxluhh:"fei14nx",idgcvv:"f12hmwa5",j9xr24:"f1hzwxd0"}},{d:[".fmnzpld{margin-top:2px;}",".fqerorx{flex-grow:1;}",".f1ozlkrg{border-top-left-radius:0;}",".f10ostut{border-top-right-radius:0;}",".f1deotkl{border-bottom-left-radius:0;}",".f1krrbdw{border-bottom-right-radius:0;}",".f1cnd47f{padding-left:0;}",".fhxju0i{padding-right:0;}",'.f1wl9k8s::before{content:"";}',".f1yn80uh::before{width:var(--strokeWidthThin);}",".f68mna0::before{height:24px;}",".f1p5zmk::before{background-color:var(--colorNeutralStroke1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"],h:[".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".f1ijtazh:hover{background-color:var(--colorNeutralBackground1);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1q1x1ba:hover .fui-MenuItem__icon{color:var(--colorNeutralForegroundDisabled);}",".ff3wrqt:hover .fui-MenuItem__subText{color:var(--colorNeutralForegroundDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f1to34ca:hover:active{background-color:var(--colorNeutralBackground1);}",".fszh5vc:hover:active .fui-MenuItem__subText{color:var(--colorNeutralForegroundDisabled);}"],f:[".ft33916:focus{color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fa9u7a5:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wzezsb:hover{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1egomlm:hover .fui-MenuItem__icon{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wf2001:hover .fui-MenuItem__icon{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fied5gk:hover .fui-MenuItem__subText{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1efp33f:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1m2zpi7:hover:active{background-color:Canvas;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fei14nx:hover:active .fui-MenuItem__subText{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f12hmwa5:focus{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1hzwxd0:focus{background-color:Canvas;}}",{m:"(forced-colors: active)"}]]}),Oue=Fe({disabled:{sj55zd:"f1s2aq7o",B7iucu3:"f1cyfu5x"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Fue=Fe({content:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62"},secondaryContent:{qb2dma:"f7nlbp4"},submenuIndicator:{qb2dma:"f7nlbp4"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f7nlbp4{align-self:center;}"]}),Uue=e=>{"use no memo";const t=Due(),n=Bue(),r=Rue(),i=jue(),o=Iue(),a=zue(),s=Fue(),c=Lue(),u=Oue(),d=!!e.subText;return e.root.className=Ce(ru.root,n,e.disabled&&t.disabled,e.root.className),e.content&&(e.content.className=Ce(ru.content,r,e.content.className,d&&s.content)),e.checkmark&&(e.checkmark.className=Ce(ru.checkmark,t.checkmark,e.checkmark.className)),e.secondaryContent&&(e.secondaryContent.className=Ce(ru.secondaryContent,i,e.disabled&&t.disabled,e.secondaryContent.className,d&&s.secondaryContent)),e.icon&&(e.icon.className=Ce(ru.icon,o,e.icon.className)),e.submenuIndicator&&(e.submenuIndicator.className=Ce(ru.submenuIndicator,a,e.submenuIndicator.className,d&&s.submenuIndicator)),e.subText&&(e.subText.className=Ce(ru.subText,e.disabled&&u.disabled,e.subText.className,c)),Pue(e),e},que=["after","after-bottom","before-top","before","before-bottom","above"],Hue=e=>{const t=tP(),{hoverDelay:n=500,inline:r=!1,hasCheckmarks:i=!1,hasIcons:o=!1,closeOnScroll:a=!1,openOnContext:s=!1,persistOnItemClick:c=!1,openOnHover:u=t,defaultCheckedValues:d,mountNode:f=null,safeZone:p}=e,{targetDocument:m}=gn(),g=vi("menu"),[v,_]=yq(),y={position:t?"after":"below",align:t?"top":"start",target:e.openOnContext?v:void 0,fallbackPositions:t?que:void 0,...yv(e.positioning)},S=x.Children.toArray(e.children);let w,C;S.length===2?(w=S[0],C=S[1]):S.length===1&&(C=S[0]);const{targetRef:M,containerRef:A}=n1(y),E=p&&u,I=x.useRef({isInside:!1,mouseCoordinates:{x:0,y:0}}),N=vle({disabled:!E,timeout:typeof p=="object"?p.timeout:300,onSafeZoneEnter:z=>{$(z,{open:!0,keyboard:!1,type:"menuSafeZoneMouseEnter",event:z}),I.current.isInside=!0},onSafeZoneLeave:()=>{I.current.isInside=!1},onSafeZoneMove:z=>{I.current.mouseCoordinates={x:z.clientX,y:z.clientY}},onSafeZoneTimeout:()=>{const z=new CustomEvent(TM);if($(z,{open:!1,keyboard:!1,type:"menuSafeZoneTimeout",event:z}),I.current.isInside&&m){const F=m.elementsFromPoint(I.current.mouseCoordinates.x,I.current.mouseCoordinates.y).find(V=>V.classList.contains(ru.root));F==null||F.dispatchEvent(z)}}}),P=dn(M,N.targetRef),D=dn(A,N.containerRef),[q,$]=Wue({hoverDelay:n,isSubmenu:t,setContextTarget:_,closeOnScroll:a,menuPopoverRef:D,triggerRef:P,open:e.open,defaultOpen:e.defaultOpen,onOpenChange:e.onOpenChange,openOnContext:s}),[j,O]=Vue({checkedValues:e.checkedValues,defaultCheckedValues:d,onCheckedValueChange:e.onCheckedValueChange});return{inline:r,hoverDelay:n,triggerId:g,isSubmenu:t,openOnHover:u,contextTarget:v,setContextTarget:_,hasCheckmarks:i,hasIcons:o,closeOnScroll:a,menuTrigger:w,menuPopover:C,mountNode:f,triggerRef:P,menuPopoverRef:D,components:{},openOnContext:s,open:q,setOpen:$,checkedValues:j,onCheckedValueChange:O,persistOnItemClick:c,safeZone:N.elementToRender}},Vue=e=>{const[t,n]=ro({state:e.checkedValues,defaultState:e.defaultCheckedValues,initialState:{}}),r=pt((i,{name:o,checkedItems:a})=>{var s;(s=e.onCheckedValueChange)===null||s===void 0||s.call(e,i,{name:o,checkedItems:a}),n(c=>({...c,[o]:a}))});return[t,r]},Wue=e=>{"use no memo";const{targetDocument:t}=gn(),n=vr(v=>v.setOpen),r=pt((v,_)=>{var y;return(y=e.onOpenChange)===null||y===void 0?void 0:y.call(e,v,_)}),i=x.useRef(!1),[o,a]=ro({state:e.open,defaultState:e.defaultOpen,initialState:!1}),s=pt((v,_)=>{const y=v instanceof CustomEvent&&v.type===Lg?v.detail.nativeEvent:v;r==null||r(y,{..._}),_.open&&v.type==="contextmenu"&&e.setContextTarget(v),_.open||e.setContextTarget(void 0),_.bubble&&n(v,{..._}),a(_.open)}),[c,u]=af(),d=pt((v,_)=>{if(u(),!(v instanceof Event)&&v.persist&&v.persist(),!_.ignoreHoverDelay&&(v.type==="mouseleave"||v.type==="mouseover"||v.type==="mousemove"||v.type===Lg)){var S;!((S=e.triggerRef.current)===null||S===void 0)&&S.contains(v.target)&&(i.current=v.type==="mouseover"||v.type==="mousemove"),c(()=>s(v,_),e.hoverDelay)}else s(v,_)});EN({contains:ga,disabled:!o,element:t,refs:[e.menuPopoverRef,!e.openOnContext&&e.triggerRef].filter(Boolean),callback:v=>d(v,{open:!1,type:"clickOutside",event:v})});const f=e.openOnContext||e.closeOnScroll;V7({contains:ga,element:t,callback:v=>d(v,{open:!1,type:"scrollOutside",event:v}),refs:[e.menuPopoverRef,!e.openOnContext&&e.triggerRef].filter(Boolean),disabled:!o||!f}),Eue({element:t,callback:v=>{i.current||d(v,{open:!1,type:"menuMouseEnter",event:v})},disabled:!o,refs:[e.menuPopoverRef]});const{findFirstFocusable:p}=Wu(),m=x.useCallback(()=>{const v=p(e.menuPopoverRef.current);v==null||v.focus()},[p,e.menuPopoverRef]),g=kN();return x.useEffect(()=>{if(o)m();else if(!g&&(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)){var v;(v=e.triggerRef.current)===null||v===void 0||v.focus()}},[e.triggerRef,e.isSubmenu,o,m,t,e.menuPopoverRef]),[o,d]};function Gue(e){const{checkedValues:t,hasCheckmarks:n,hasIcons:r,inline:i,isSubmenu:o,menuPopoverRef:a,mountNode:s,onCheckedValueChange:c,open:u,openOnContext:d,openOnHover:f,persistOnItemClick:p,safeZone:m,setOpen:g,triggerId:v,triggerRef:_}=e;return{menu:{checkedValues:t,hasCheckmarks:n,hasIcons:r,inline:i,isSubmenu:o,menuPopoverRef:a,mountNode:s,onCheckedValueChange:c,open:u,openOnContext:d,openOnHover:f,persistOnItemClick:p,safeZone:m,setOpen:g,triggerId:v,triggerRef:_}}}const $ue=(e,t)=>x.createElement(_ue,{value:t.menu},e.menuTrigger,e.open&&e.menuPopover),Cl=e=>{const t=Hue(e),n=Gue(t);return $ue(t,n)};Cl.displayName="Menu";const Xue=(e,t)=>{"use no memo";const n=CM(i=>i.setFocusByFirstCharacter),{onKeyDown:r}=e.root;return e.root.onKeyDown=i=>{var o;r==null||r(i),!(((o=i.key)===null||o===void 0?void 0:o.length)>1)&&t.current&&(n==null||n(i,t.current))},e},Lq=x.createContext(void 0),Dq={setMultiline:()=>null};Lq.Provider;const Oq=()=>{var e;return(e=x.useContext(Lq))!==null&&e!==void 0?e:Dq},Fq=()=>Oq()!==Dq,Zue=U9(Bie,L9),Kue=U9(Nie,Pie),Yue=(e,t)=>{const n=Cue(),r=vr(S=>S.persistOnItemClick),{as:i="div",disabled:o=!1,hasSubmenu:a=n,persistOnClick:s=r,content:c,...u}=e,{hasIcons:d,hasCheckmarks:f}=Que({hasSubmenu:a}),p=vr(S=>S.setOpen);Jue({multiline:!!e.subText,hasSubmenu:a});const{dir:m}=gn(),g=x.useRef(null),v=x.useRef(!1),_=zq(ede(e.role)),y={hasSubmenu:a,disabled:o,persistOnClick:s,components:{root:"div",icon:"span",checkmark:"span",submenuIndicator:"span",content:"span",secondaryContent:"span",subText:"span"},root:Ct(Qt(i,Zd(i,{role:"menuitem",...u,disabled:!1,disabledFocusable:o,ref:dn(t,g,_),onKeyDown:pt(S=>{var w;(w=e.onKeyDown)===null||w===void 0||w.call(e,S),!S.isDefaultPrevented()&&(S.key===ll||S.key===ku)&&(v.current=!0)}),onMouseMove:pt(S=>{var w;if(S.currentTarget.ownerDocument.activeElement!==S.currentTarget){var C;(C=g.current)===null||C===void 0||C.focus()}(w=e.onMouseMove)===null||w===void 0||w.call(e,S)}),onClick:pt(S=>{var w;!a&&!s&&(p(S,{open:!1,keyboard:v.current,bubble:!0,type:"menuItemClick",event:S}),v.current=!1),(w=e.onClick)===null||w===void 0||w.call(e,S)})})),{elementType:"div"}),icon:zt(e.icon,{renderByDefault:d,elementType:"span"}),checkmark:zt(e.checkmark,{renderByDefault:f,elementType:"span"}),submenuIndicator:zt(e.submenuIndicator,{renderByDefault:a,defaultProps:{children:m==="ltr"?x.createElement(Zue,null):x.createElement(Kue,null)},elementType:"span"}),content:zt(e.content,{renderByDefault:!!e.children,defaultProps:{children:e.children},elementType:"span"}),secondaryContent:zt(e.secondaryContent,{elementType:"span"}),subText:zt(e.subText,{elementType:"span"})};return Xue(y,g),y},Jue=e=>{const{hasSubmenu:t,multiline:n}=e,r=Fq()&&t,{setMultiline:i}=Oq();Ni(()=>{r||i(n)},[i,n,r])},Que=e=>{const{hasSubmenu:t}=e,n=CM(o=>o.hasIcons),r=CM(o=>o.hasCheckmarks),i=Fq()&&t;return{hasIcons:n&&!i,hasCheckmarks:r&&!i}},ede=e=>{switch(e){case"menuitemcheckbox":return"MenuItemCheckbox";case"menuitemradio":return"MenuItemRadio"}return"MenuItem"},tde=e=>an(e.root,{children:[e.checkmark&&Se(e.checkmark,{}),e.icon&&Se(e.icon,{}),e.content&&an(e.content,{children:[e.content.children,e.subText&&Se(e.subText,{})]}),e.secondaryContent&&Se(e.secondaryContent,{}),e.submenuIndicator&&Se(e.submenuIndicator,{})]}),zn=x.forwardRef((e,t)=>{const n=Yue(e,t);return Uue(n),Ft("useMenuItemStyles_unstable")(n),tde(n)});zn.displayName="MenuItem";const nde=(e,t)=>{const{findAllFocusable:n}=Wu(),{targetDocument:r}=gn(),i=rde(),o=hv(QN),a=BN({circular:!0});ide(e,i,o)&&console.warn("You are using both MenuList and Menu props, we recommend you to use Menu props when available");const s=x.useRef(null),c=zq();x.useEffect(()=>{const y=s.current;if(o&&r&&y){const S=w=>{const C=w.detail.next;C&&y.contains(r.activeElement)&&!y.contains(C)&&w.preventDefault()};return r.addEventListener(gM,S),()=>{r.removeEventListener(gM,S)}}},[s,r,o]);const u=x.useCallback((y,S)=>{const w=["menuitem","menuitemcheckbox","menuitemradio"];if(!s.current)return;const C=n(s.current,P=>P.hasAttribute("role")&&w.indexOf(P.getAttribute("role"))!==-1);let M=C.indexOf(S)+1;M===C.length&&(M=0);const A=C.map(P=>{var D;return(D=P.textContent)===null||D===void 0?void 0:D.charAt(0).toLowerCase()}),E=y.key.toLowerCase(),I=(P,D)=>{for(let q=P;q<A.length;q++)if(E===A[q])return q;return-1};let N=I(M);N===-1&&(N=I(0)),N>-1&&C[N].focus()},[n]);var d;const[f,p]=ro({state:(d=e.checkedValues)!==null&&d!==void 0?d:o?i.checkedValues:void 0,defaultState:e.defaultCheckedValues,initialState:{}});var m;const g=(m=e.onCheckedValueChange)!==null&&m!==void 0?m:o?i.onCheckedValueChange:void 0,v=pt((y,S,w,C)=>{const A=[...(f==null?void 0:f[S])||[]];C?A.splice(A.indexOf(w),1):A.push(w),g==null||g(y,{name:S,checkedItems:A}),p(E=>({...E,[S]:A}))}),_=pt((y,S,w)=>{const C=[w];p(M=>({...M,[S]:C})),g==null||g(y,{name:S,checkedItems:C})});return{components:{root:"div"},root:Ct(Qt("div",{ref:dn(t,s,c),role:"menu","aria-labelledby":i.triggerId,...a,...e}),{elementType:"div"}),hasIcons:i.hasIcons||!1,hasCheckmarks:i.hasCheckmarks||!1,checkedValues:f,hasMenuContext:o,setFocusByFirstCharacter:u,selectRadio:_,toggleCheckbox:v}},rde=()=>{const e=vr(o=>o.checkedValues),t=vr(o=>o.onCheckedValueChange),n=vr(o=>o.triggerId),r=vr(o=>o.hasIcons),i=vr(o=>o.hasCheckmarks);return{checkedValues:e,onCheckedValueChange:t,triggerId:n,hasIcons:r,hasCheckmarks:i}},ide=(e,t,n)=>{let r=!1;for(const i in t)e[i]&&(r=!0);return n&&r},ode=(e,t)=>Se(kue,{value:t.menuList,children:Se(e.root,{})});function ade(e){const{checkedValues:t,hasCheckmarks:n,hasIcons:r,selectRadio:i,setFocusByFirstCharacter:o,toggleCheckbox:a}=e;return{menuList:{checkedValues:t,hasCheckmarks:n,hasIcons:r,selectRadio:i,setFocusByFirstCharacter:o,toggleCheckbox:a}}}const sde={root:"fui-MenuList"},lde=Fe({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",i8kkvl:0,Belr9w4:0,rmohyg:"f1t6b6ee"},hasMenuContext:{Bqenvij:"f1l02sjl"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",[".f1t6b6ee{gap:2px;}",{p:-1}],".f1l02sjl{height:100%;}"]}),cde=e=>{"use no memo";const t=lde();return e.root.className=Ce(sde.root,t.root,e.hasMenuContext&&t.hasMenuContext,e.root.className),e},Xu=x.forwardRef((e,t)=>{const n=nde(e,t),r=ade(n);return cde(n),Ft("useMenuListStyles_unstable")(n),ode(n,r)});Xu.displayName="MenuList";const ude=(e,t)=>{"use no memo";const n=vr(A=>A.safeZone),r=vr(A=>A.menuPopoverRef),i=vr(A=>A.setOpen),o=vr(A=>A.open),a=vr(A=>A.openOnHover),s=vr(A=>A.triggerRef),c=tP(),u=x.useRef(!0),d=dv(),[f,p]=af(),{dir:m}=gn(),g=m==="ltr"?$x:Xx,v=x.useCallback(A=>{A&&A.addEventListener("mouseover",E=>{u.current&&(u.current=!1,Mue(r.current,E),f(()=>{u.current=!0},250))})},[r,f]);x.useEffect(()=>()=>p(),[p]);var _;const y=(_=vr(A=>A.inline))!==null&&_!==void 0?_:!1,S=vr(A=>A.mountNode),w=Ct(Qt("div",{role:"presentation",...d,...e,ref:dn(t,r,v)}),{elementType:"div"}),{onMouseEnter:C,onKeyDown:M}=w;return w.onMouseEnter=pt(A=>{(a||c)&&i(A,{open:!0,keyboard:!1,type:"menuPopoverMouseEnter",event:A}),C==null||C(A)}),w.onKeyDown=pt(A=>{const E=A.key;if(E===sf||c&&E===g){var I;o&&(!((I=r.current)===null||I===void 0)&&I.contains(A.target))&&!A.isDefaultPrevented()&&(i(A,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:A}),A.preventDefault())}if(E===LN&&(i(A,{open:!1,keyboard:!0,type:"menuPopoverKeyDown",event:A}),!c)){var N;(N=s.current)===null||N===void 0||N.focus()}M==null||M(A)}),{inline:y,mountNode:S,safeZone:n,components:{root:"div"},root:w}},dde={root:"fui-MenuPopover"},fde=Fe({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",De3pzq:"fxugw4r",sj55zd:"f19n0e5",B7ck84d:"f1ewtqcl",Bf4jedk:"fl8fusi",B2u0y6b:"f1kaai3v",B68tc82:"f1p9o1ba",a9b677:"f1ahpp82",E5pizo:"f1hg901r",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fd3pd8h",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f9ggezi",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B93otf3:"f18k4bn6",vin17d:"fo1kyvf",Ezkn3b:"fetxo7e",nyiy2g:"f8x1vz1",swvrvq:"f8g0anz",Bkovbt3:"fezwn9i",hgjdhn:"fz5efge",fsy9dk:"f1ydixl4",B3ogreh:"f8dgqj5",jv49x5:"fnyfnr8",Bk7o48c:"fgw77r4",Bv12yb3:"f1noc5he",i09l9u:"f1k46bua",Bcrj8ia:"f1lhuzxm",Bmmhre5:"f1f9qikc"}},{d:[[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ewtqcl{box-sizing:border-box;}",".fl8fusi{min-width:138px;}",".f1kaai3v{max-width:300px;}",".f1p9o1ba{overflow-x:hidden;}",".f1ahpp82{width:max-content;}",".f1hg901r{box-shadow:var(--shadow16);}",[".fd3pd8h{padding:4px;}",{p:-1}],[".f9ggezi{border:1px solid var(--colorTransparentStroke);}",{p:-2}],".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f18k4bn6{animation-composition:accumulate;}",".fo1kyvf{animation-duration:var(--durationSlower);}",".fetxo7e{animation-timing-function:var(--curveDecelerateMid);}",".f8x1vz1{--fui-positioning-slide-distance-x:0px;}",".f8g0anz{--fui-positioning-slide-distance-y:10px;}",".fezwn9i[data-popper-placement^=right]{--fui-positioning-slide-distance-x:-10px;}",".fz5efge[data-popper-placement^=right]{--fui-positioning-slide-distance-y:0px;}",".f1ydixl4[data-popper-placement^=bottom]{--fui-positioning-slide-distance-x:0px;}",".f8dgqj5[data-popper-placement^=bottom]{--fui-positioning-slide-distance-y:-10px;}",".fnyfnr8[data-popper-placement^=left]{--fui-positioning-slide-distance-x:10px;}",".fgw77r4[data-popper-placement^=left]{--fui-positioning-slide-distance-y:0px;}",".f1noc5he{animation-name:f1m0q9mo,f79suad;}"],k:["@keyframes f1m0q9mo{from{opacity:-1;}to{opacity:0;}}","@keyframes f79suad{from{transform:translate(var(--fui-positioning-slide-distance-x), var(--fui-positioning-slide-distance-y));}}"],m:[["@media (prefers-reduced-motion){.f1k46bua[data-popper-placement]{animation-duration:1ms;}}",{m:"(prefers-reduced-motion)"}],["@media (prefers-reduced-motion){.f1lhuzxm[data-popper-placement]{animation-name:f1m0q9mo;}}",{m:"(prefers-reduced-motion)"}]],t:["@supports not (animation-composition: accumulate){.f1f9qikc[data-popper-placement]{animation-name:f1m0q9mo;}}"]}),hde=e=>{"use no memo";const t=fde();return e.root.className=Ce(dde.root,t.root,e.root.className),e},pde=e=>e.inline?an(x.Fragment,{children:[Se(e.root,{}),e.safeZone]}):an(cf,{mountNode:e.mountNode,children:[Se(e.root,{}),e.safeZone]}),Tl=x.forwardRef((e,t)=>{const n=ude(e,t);return hde(n),Ft("useMenuPopoverStyles_unstable")(n),pde(n)});Tl.displayName="MenuPopover";function mde(){}const gde=e=>{const{children:t,disableButtonEnhancement:n=!1}=e,r=vr(j=>j.triggerRef),i=vr(j=>j.menuPopoverRef),o=vr(j=>j.setOpen),a=vr(j=>j.open),s=vr(j=>j.triggerId),c=vr(j=>j.openOnHover),u=vr(j=>j.openOnContext),d=tP(),{findFirstFocusable:f}=Wu(),p=x.useCallback(()=>{const j=f(i.current);j==null||j.focus()},[f,i]),m=x.useRef(!1),g=x.useRef(!1),v=x.useRef(!1),{dir:_}=gn(),y=_==="ltr"?Xx:$x,S=cv(t),w=Aue(pt(()=>{d&&(g.current=!0)})),C=j=>{If(j)||j.isDefaultPrevented()||u&&(j.preventDefault(),o(j,{open:!0,keyboard:!1,type:"menuTriggerContextMenu",event:j}))},M=j=>{If(j)||u||(o(j,{open:!a,keyboard:m.current,type:"menuTriggerClick",event:j}),m.current=!1)},A=j=>{if(If(j)||j.isDefaultPrevented())return;const O=j.key;!u&&(d&&O===y||!d&&O===Rg)&&o(j,{open:!0,keyboard:!0,type:"menuTriggerKeyDown",event:j}),O===sf&&!d&&o(j,{open:!1,keyboard:!0,type:"menuTriggerKeyDown",event:j}),a&&O===y&&d&&p()},E=j=>{If(j)||c&&(v.current?o(j,{open:!0,keyboard:!1,type:"menuTriggerMouseEnter",event:j}):g.current&&(o(j,{open:!0,keyboard:!1,ignoreHoverDelay:!0,type:"menuTriggerMouseEnter",event:j}),g.current=!1))},I=j=>{If(j)||c&&!v.current&&(o(j,{open:!0,keyboard:!1,type:"menuTriggerMouseMove",event:j}),v.current=!0)},N=j=>{If(j)||c&&o(j,{open:!1,keyboard:!1,type:"menuTriggerMouseLeave",event:j})};var P;const D={id:s,...S==null?void 0:S.props,ref:dn(r,lv(S),w),onMouseEnter:pt((P=S==null?void 0:S.props.onMouseEnter)!==null&&P!==void 0?P:mde),onMouseLeave:pt(un(S==null?void 0:S.props.onMouseLeave,N)),onContextMenu:pt(un(S==null?void 0:S.props.onContextMenu,C)),onMouseMove:pt(un(S==null?void 0:S.props.onMouseMove,I)),onMouseOver:pt(un(S==null?void 0:S.props.onMouseOver,E))},q={"aria-haspopup":"menu","aria-expanded":!a&&!d?void 0:a,...D,onClick:pt(un(S==null?void 0:S.props.onClick,M)),onKeyDown:pt(un(S==null?void 0:S.props.onKeyDown,A))},$=Zd((S==null?void 0:S.type)==="button"||(S==null?void 0:S.type)==="a"?S.type:"div",q);return{isSubmenu:d,children:Fx(t,u?D:n?q:$)}},If=e=>{const t=n=>n.hasAttribute("disabled")||n.hasAttribute("aria-disabled")&&n.getAttribute("aria-disabled")==="true";return Ar(e.target)&&t(e.target)?!0:Ar(e.currentTarget)&&t(e.currentTarget)},vde=e=>x.createElement(Sue,{value:e.isSubmenu},e.children),Os=e=>{const t=gde(e);return vde(t)};Os.displayName="MenuTrigger";Os.isFluentTriggerComponent=!0;const yde=e=>{const{presenceOnly:t,textPosition:n}=e,r=t?e.presence&&Se(e.presence,{}):e.avatar&&Se(e.avatar,{});return an(e.root,{children:[(n==="after"||n==="below")&&r,e.primaryText&&Se(e.primaryText,{}),e.secondaryText&&Se(e.secondaryText,{}),e.tertiaryText&&Se(e.tertiaryText,{}),e.quaternaryText&&Se(e.quaternaryText,{}),n==="before"&&r]})},bde=(e,t)=>{const{name:n,presenceOnly:r=!1,size:i="medium",textAlignment:o="start",textPosition:a="after"}=e,s=zt(e.primaryText,{renderByDefault:!0,defaultProps:{children:n},elementType:"span"}),c=zt(e.secondaryText,{elementType:"span"}),u=zt(e.tertiaryText,{elementType:"span"}),d=zt(e.quaternaryText,{elementType:"span"});return{numTextLines:[s,c,u,d].filter(Boolean).length,presenceOnly:r,size:i,textAlignment:o,textPosition:a,components:{root:"div",avatar:ep,presence:Ig,primaryText:"span",secondaryText:"span",tertiaryText:"span",quaternaryText:"span"},root:Ct(Qt("div",{...e,ref:t},["name"]),{elementType:"div"}),avatar:r?void 0:zt(e.avatar,{renderByDefault:!0,defaultProps:{name:n,badge:e.presence,size:_de[i]},elementType:ep}),presence:r?zt(e.presence,{defaultProps:{size:xde[i]},elementType:Ig}):void 0,primaryText:s,secondaryText:c,tertiaryText:u,quaternaryText:d}},xde={"extra-small":"tiny",small:"extra-small",medium:"small",large:"medium","extra-large":"large",huge:"large"},_de={"extra-small":20,small:28,medium:32,large:36,"extra-large":40,huge:56},ud={root:"fui-Persona",avatar:"fui-Persona__avatar",presence:"fui-Persona__presence",primaryText:"fui-Persona__primaryText",secondaryText:"fui-Persona__secondaryText",tertiaryText:"fui-Persona__tertiaryText",quaternaryText:"fui-Persona__quaternaryText"},wde=Rt("rlroi9i",null,[".rlroi9i{display:inline-grid;grid-auto-rows:max-content;grid-auto-flow:column;justify-items:start;grid-template-columns:max-content [middle] auto;}"]),Sde=Fe({beforeAfterCenter:{wkccdc:"f1iantul"},after:{},before:{B7hvi0a:"f1tll2w5",Budl1dq:"ffvkwdr"},below:{Bxotwcr:"f1nkeedh",B7hvi0a:"f1oiokrs",Budl1dq:"f1emgwh2"},media:{Ijaq50:"f1hek2iy"},mediaBeforeAfterCenter:{Ijaq50:"fa4dipu"},start:{qb2dma:"f9h729m"},center:{qb2dma:"f7nlbp4"},afterAlignToPrimary:{qb2dma:"f7nlbp4",Ijaq50:"f1rnkkuc",Bw0ie65:"f1warjpf"},beforeAlignToPrimary:{qb2dma:"f7nlbp4",Ijaq50:"f1rnkkuc",Br312pm:"fwu52yu"},secondLineSpacing:{B6of3ja:"f1ryq6si"},primary:{Ijaq50:"f1q3ipgb"},secondary:{Ijaq50:"f3drtdk"},tertiary:{Ijaq50:"fa1o6s1"},quaternary:{Ijaq50:"f1tuwaia"}},{d:[".f1iantul{grid-template-rows:1fr [primary] max-content [secondary] max-content [tertiary] max-content [quaternary] max-content 1fr;}",".f1tll2w5{justify-items:end;}",".ffvkwdr{grid-template-columns:auto [middle] max-content;}",".f1nkeedh{grid-auto-flow:unset;}",".f1oiokrs{justify-items:center;}",".f1emgwh2{grid-template-columns:unset;}",".f1hek2iy{grid-row-start:span 5;}",".fa4dipu{grid-row-start:span 6;}",".f9h729m{align-self:start;}",".f7nlbp4{align-self:center;}",".f1rnkkuc{grid-row-start:unset;}",".f1warjpf{grid-column-end:middle;}",".fwu52yu{grid-column-start:middle;}",".f1ryq6si{margin-top:-2px;}",".f1q3ipgb{grid-row-start:primary;}",".f3drtdk{grid-row-start:secondary;}",".fa1o6s1{grid-row-start:tertiary;}",".f1tuwaia{grid-row-start:quaternary;}"]}),Cde=Fe({"extra-small":{Bs1gm4r:"f1e48tse"},small:{Bs1gm4r:"f18q9vkd"},medium:{Bs1gm4r:"f18q9vkd"},large:{Bs1gm4r:"fx34bi6"},"extra-large":{Bs1gm4r:"fx34bi6"},huge:{Bs1gm4r:"f1o96qtm"},after:{t21cq0:["f103ycu4","f1tao51"]},below:{jrapky:"fbo7acy"},before:{Frg6f3:["f1tao51","f103ycu4"]}},{d:[".f1e48tse{--fui-Persona__avatar--spacing:var(--spacingHorizontalSNudge);}",".f18q9vkd{--fui-Persona__avatar--spacing:var(--spacingHorizontalS);}",".fx34bi6{--fui-Persona__avatar--spacing:var(--spacingHorizontalMNudge);}",".f1o96qtm{--fui-Persona__avatar--spacing:var(--spacingHorizontalM);}",".f103ycu4{margin-right:var(--fui-Persona__avatar--spacing);}",".f1tao51{margin-left:var(--fui-Persona__avatar--spacing);}",".fbo7acy{margin-bottom:var(--fui-Persona__avatar--spacing);}"]}),Tde=Fe({small:{Bs1gm4r:"f1e48tse"}},{d:[".f1e48tse{--fui-Persona__avatar--spacing:var(--spacingHorizontalSNudge);}"]}),kde=e=>{"use no memo";const{presenceOnly:t,size:n,textAlignment:r,textPosition:i}=e,o=t&&r==="start"&&n!=="extra-large"&&n!=="huge",a=i!=="below"&&r==="center",{primaryTextClassName:s,optionalTextClassName:c}=Nde(e,o),u=wde(),d=Sde(),f=Cde(),p={...f,...Tde()};return e.root.className=Ce(ud.root,u,a&&d.beforeAfterCenter,d[i],e.root.className),e.avatar&&(e.avatar.className=Ce(ud.avatar,i!=="below"&&d.media,a&&d.mediaBeforeAfterCenter,d[r],f[n],f[i],e.avatar.className)),e.presence&&(e.presence.className=Ce(ud.presence,i!=="below"&&d.media,a&&d.mediaBeforeAfterCenter,d[r],p[n],p[i],i==="after"&&o&&d.afterAlignToPrimary,i==="before"&&o&&d.beforeAlignToPrimary,e.presence.className)),e.primaryText&&(e.primaryText.className=Ce(ud.primaryText,a&&d.primary,s,e.primaryText.className)),e.secondaryText&&(e.secondaryText.className=Ce(ud.secondaryText,a&&d.secondary,c,d.secondLineSpacing,e.secondaryText.className)),e.tertiaryText&&(e.tertiaryText.className=Ce(ud.tertiaryText,a&&d.tertiary,c,e.tertiaryText.className)),e.quaternaryText&&(e.quaternaryText.className=Ce(ud.quaternaryText,a&&d.quaternary,c,e.quaternaryText.className)),e},Ede=Rt("rvj41k9",null,[".rvj41k9{display:block;color:var(--colorNeutralForeground1);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);}"]),Mde=Rt("rp1pf9e",null,[".rp1pf9e{display:block;color:var(--colorNeutralForeground2);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase200);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase200);}"]),Ade=Fe({beforeAlignToPrimary:{Bw0ie65:"f1warjpf"},afterAlignToPrimary:{Br312pm:"fwu52yu"},body1:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},caption1:{Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},subtitle2:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"}},{d:[".f1warjpf{grid-column-end:middle;}",".fwu52yu{grid-column-start:middle;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}"]}),Nde=(e,t)=>{const{presenceOnly:n,size:r,textPosition:i}=e,o=Ede(),a=Mde(),s=Ade();let c,u;return n?(r==="extra-small"?c=e.numTextLines<=1&&s.caption1:(r==="extra-large"||r==="huge")&&(c=s.subtitle2),t&&(i==="before"?u=s.beforeAlignToPrimary:i==="after"&&(u=s.afterAlignToPrimary))):(r==="huge"||r==="extra-large")&&(c=s.subtitle2),{primaryTextClassName:Ce(o,c,u),optionalTextClassName:Ce(a,!n&&r==="huge"&&s.body1,u)}},Du=x.forwardRef((e,t)=>{const n=bde(e,t);return kde(n),Ft("usePersonaStyles_unstable")(n),yde(n)});Du.displayName="Persona";const Uq=x.createContext(void 0),Pde={};Uq.Provider;const Bde=()=>x.useContext(Uq)||Pde,Rde=e=>an(e.root,{children:[Se(e.input,{}),Se(e.indicator,{}),e.label&&Se(e.label,{})]}),jde=(e,t)=>{const n=Bde(),{name:r=n.name,checked:i=n.value!==void 0?n.value===e.value:void 0,defaultChecked:o=n.defaultValue!==void 0?n.defaultValue===e.value:void 0,labelPosition:a=n.layout==="horizontal-stacked"?"below":"after",disabled:s=n.disabled,required:c=n.required,"aria-describedby":u=n["aria-describedby"],onChange:d}=e,f=of({props:e,primarySlotTagName:"input",excludedPropNames:["checked","defaultChecked","onChange"]}),p=Ct(e.root,{defaultProps:{ref:bp(),...f.root},elementType:"span"}),m=Ct(e.input,{defaultProps:{ref:t,type:"radio",id:vi("radio-",f.primary.id),name:r,checked:i,defaultChecked:o,disabled:s,required:c,"aria-describedby":u,...f.primary},elementType:"input"});m.onChange=un(m.onChange,_=>d==null?void 0:d(_,{value:_.currentTarget.value}));const g=zt(e.label,{defaultProps:{htmlFor:m.id,disabled:m.disabled},elementType:Nr}),v=Ct(e.indicator,{defaultProps:{"aria-hidden":!0},elementType:"div"});return{labelPosition:a,components:{root:"span",input:"input",label:Nr,indicator:"div"},root:p,input:m,label:g,indicator:v}},I0={root:"fui-Radio",indicator:"fui-Radio__indicator",input:"fui-Radio__input",label:"fui-Radio__label"},Ide=Rt("r1siqwd8","rmnplyc",{r:[".r1siqwd8{display:inline-flex;position:relative;}",".r1siqwd8:focus{outline-style:none;}",".r1siqwd8:focus-visible{outline-style:none;}",".r1siqwd8[data-fui-focus-within]:focus-within{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r1siqwd8[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".rmnplyc{display:inline-flex;position:relative;}",".rmnplyc:focus{outline-style:none;}",".rmnplyc:focus-visible{outline-style:none;}",".rmnplyc[data-fui-focus-within]:focus-within{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.rmnplyc[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r1siqwd8[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.rmnplyc[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),zde=Fe({vertical:{Beiy3e4:"f1vx9l62",Bt984gj:"f122n59"}},{d:[".f1vx9l62{flex-direction:column;}",".f122n59{align-items:center;}"]}),Lde=Rt("rg1upok","rzwdzb4",{r:[".rg1upok{position:absolute;left:0;top:0;width:calc(16px + 2 * var(--spacingHorizontalS));height:100%;box-sizing:border-box;margin:0;opacity:0;}",".rg1upok:enabled{cursor:pointer;}",".rg1upok:enabled~.fui-Radio__label{cursor:pointer;}",".rg1upok:enabled:not(:checked)~.fui-Radio__label{color:var(--colorNeutralForeground3);}",".rg1upok:enabled:not(:checked)~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessible);}",".rg1upok:enabled:not(:checked):hover~.fui-Radio__label{color:var(--colorNeutralForeground2);}",".rg1upok:enabled:not(:checked):hover~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessibleHover);}",".rg1upok:enabled:not(:checked):hover:active~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rg1upok:enabled:not(:checked):hover:active~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessiblePressed);}",".rg1upok:enabled:checked~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rg1upok:enabled:checked~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStroke);color:var(--colorCompoundBrandForeground1);}",".rg1upok:enabled:checked:hover~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokeHover);color:var(--colorCompoundBrandForeground1Hover);}",".rg1upok:enabled:checked:hover:active~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokePressed);color:var(--colorCompoundBrandForeground1Pressed);}",".rg1upok:disabled~.fui-Radio__label{color:var(--colorNeutralForegroundDisabled);cursor:default;}",".rg1upok:disabled~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);}",".rzwdzb4{position:absolute;right:0;top:0;width:calc(16px + 2 * var(--spacingHorizontalS));height:100%;box-sizing:border-box;margin:0;opacity:0;}",".rzwdzb4:enabled{cursor:pointer;}",".rzwdzb4:enabled~.fui-Radio__label{cursor:pointer;}",".rzwdzb4:enabled:not(:checked)~.fui-Radio__label{color:var(--colorNeutralForeground3);}",".rzwdzb4:enabled:not(:checked)~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessible);}",".rzwdzb4:enabled:not(:checked):hover~.fui-Radio__label{color:var(--colorNeutralForeground2);}",".rzwdzb4:enabled:not(:checked):hover~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessibleHover);}",".rzwdzb4:enabled:not(:checked):hover:active~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rzwdzb4:enabled:not(:checked):hover:active~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessiblePressed);}",".rzwdzb4:enabled:checked~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rzwdzb4:enabled:checked~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStroke);color:var(--colorCompoundBrandForeground1);}",".rzwdzb4:enabled:checked:hover~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokeHover);color:var(--colorCompoundBrandForeground1Hover);}",".rzwdzb4:enabled:checked:hover:active~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokePressed);color:var(--colorCompoundBrandForeground1Pressed);}",".rzwdzb4:disabled~.fui-Radio__label{color:var(--colorNeutralForegroundDisabled);cursor:default;}",".rzwdzb4:disabled~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);}"],s:["@media (forced-colors: active){.rg1upok:enabled:not(:checked)~.fui-Radio__indicator{border-color:ButtonBorder;}}","@media (forced-colors: active){.rg1upok:enabled:checked~.fui-Radio__indicator{border-color:Highlight;color:Highlight;}.rg1upok:enabled:checked~.fui-Radio__indicator::after{background-color:Highlight;}}","@media (forced-colors: active){.rg1upok:disabled~.fui-Radio__label{color:GrayText;}}","@media (forced-colors: active){.rg1upok:disabled~.fui-Radio__indicator{border-color:GrayText;color:GrayText;}.rg1upok:disabled~.fui-Radio__indicator::after{background-color:GrayText;}}","@media (forced-colors: active){.rzwdzb4:enabled:not(:checked)~.fui-Radio__indicator{border-color:ButtonBorder;}}","@media (forced-colors: active){.rzwdzb4:enabled:checked~.fui-Radio__indicator{border-color:Highlight;color:Highlight;}.rzwdzb4:enabled:checked~.fui-Radio__indicator::after{background-color:Highlight;}}","@media (forced-colors: active){.rzwdzb4:disabled~.fui-Radio__label{color:GrayText;}}","@media (forced-colors: active){.rzwdzb4:disabled~.fui-Radio__indicator{border-color:GrayText;color:GrayText;}.rzwdzb4:disabled~.fui-Radio__indicator::after{background-color:GrayText;}}"]}),Dde=Fe({below:{a9b677:"fly5x3f",Bqenvij:"f1je6zif"},defaultIndicator:{Blbys7f:"f9ma1gx"},customIndicator:{Bj53wkj:"f12zxao0"}},{d:[".fly5x3f{width:100%;}",".f1je6zif{height:calc(16px + 2 * var(--spacingVerticalS));}",'.f9ma1gx:checked~.fui-Radio__indicator::after{content:"";}',".f12zxao0:not(:checked)~.fui-Radio__indicator>*{opacity:0;}"]}),Ode=Rt("rwtekvw",null,[".rwtekvw{position:relative;width:16px;height:16px;font-size:12px;box-sizing:border-box;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden;border:var(--strokeWidthThin) solid;border-radius:var(--borderRadiusCircular);margin:var(--spacingVerticalS) var(--spacingHorizontalS);fill:currentColor;pointer-events:none;}",".rwtekvw::after{position:absolute;width:16px;height:16px;border-radius:var(--borderRadiusCircular);transform:scale(0.625);background-color:currentColor;}"]),Fde=Fe({base:{qb2dma:"f7nlbp4",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1f5q0n8"},after:{uwmqm3:["fruq291","f7x41pl"],B6of3ja:"fjzwpt6",jrapky:"fh6j2fo"},below:{z8tnut:"f1ywm7hm",fsow6f:"f17mccla"}},{d:[".f7nlbp4{align-self:center;}",[".f1f5q0n8{padding:var(--spacingVerticalS) var(--spacingHorizontalS);}",{p:-1}],".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fjzwpt6{margin-top:calc((16px - var(--lineHeightBase300)) / 2);}",".fh6j2fo{margin-bottom:calc((16px - var(--lineHeightBase300)) / 2);}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f17mccla{text-align:center;}"]}),Ude=e=>{"use no memo";const{labelPosition:t}=e,n=Ide(),r=zde();e.root.className=Ce(I0.root,n,t==="below"&&r.vertical,e.root.className);const i=Lde(),o=Dde();e.input.className=Ce(I0.input,i,t==="below"&&o.below,e.indicator.children?o.customIndicator:o.defaultIndicator,e.input.className);const a=Ode();e.indicator.className=Ce(I0.indicator,a,e.indicator.className);const s=Fde();return e.label&&(e.label.className=Ce(I0.label,s.base,s[t],e.label.className)),e},kM=x.forwardRef((e,t)=>{const n=jde(e,t);return Ude(n),Ft("useRadioStyles_unstable")(n),Rde(n)});kM.displayName="Radio";const qde=(e,t)=>{e=uf(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const n=Dx();var r;const{defaultValue:i,value:o,select:a,icon:s,root:c,appearance:u=(r=n.inputDefaultAppearance)!==null&&r!==void 0?r:"outline",onChange:d,size:f="medium"}=e,p=of({props:e,primarySlotTagName:"select",excludedPropNames:["appearance","defaultValue","onChange","size","value"]}),m={size:f,appearance:u,components:{root:"span",select:"select",icon:"span"},select:Ct(a,{defaultProps:{defaultValue:i,value:o,ref:t,...p.primary},elementType:"select"}),icon:zt(s,{renderByDefault:!0,defaultProps:{children:x.createElement(UN,null)},elementType:"span"}),root:Ct(c,{defaultProps:p.root,elementType:"span"})};return m.select.onChange=pt(g=>{d==null||d(g,{value:g.target.value})}),m},Hde=e=>an(e.root,{children:[Se(e.select,{children:e.select.children}),e.icon&&Se(e.icon,{})]}),yw={root:"fui-Select",select:"fui-Select__select",icon:"fui-Select__icon"},Vde=Fe({base:{Bt984gj:"f122n59",B7ck84d:"f1ewtqcl",mc9l5x:"f22iagw",Eh141a:"flvyvdh",Bahqtrf:"fk6fouc",qhf8xq:"f10pi13n",h62rwi:"f7ll8cq",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"fe5s0lv",li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",Dlnsje:"fhwjr99",E3zdtr:"f1mdlcz9",By385i5:"fo72kxq",Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"],b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",wi16st:"fsrmcvb",ywj3b2:"f1t3k7v9",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",Bnupc0a:"fx04xgm",bing71:"f1c7in40"}},{d:[".f122n59{align-items:center;}",".f1ewtqcl{box-sizing:border-box;}",".f22iagw{display:flex;}",".flvyvdh{flex-wrap:nowrap;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f10pi13n{position:relative;}",`.f7ll8cq::after{background-image:linear-gradient(
        0deg,
        var(--colorCompoundBrandStroke) 0%,
        var(--colorCompoundBrandStroke) 50%,
        transparent 50%,
        transparent 100%
      );}`,[".fe5s0lv::after{border-radius:0 0 var(--borderRadiusMedium) var(--borderRadiusMedium);}",{p:-1}],".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".fhwjr99::after{height:var(--borderRadiusMedium);}",".f1mdlcz9::after{position:absolute;}",".fo72kxq::after{bottom:0;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.fsrmcvb::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1t3k7v9::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fx04xgm:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1c7in40:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],w:[".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}"]}),Wde=Fe({base:{Bowrso0:"fqrijq1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"faev5xe",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",E5pizo:"f1couhl3",B7ck84d:"f1ewtqcl",sj55zd:"f19n0e5",Bceei9c:"f1k6fduh",Bh6795r:"fqerorx",B2u0y6b:"f6dzj5z",Byoj8tv:"f1qch9an",z8tnut:"f1g0x7ka",B3aqqti:"fatbyko",Brovlpu:"f1grzc83",Bxa1mx5:"f19shzzi"},disabled:{De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bcq6wej:"f9dbb4x",Jcjdmf:["f3qs60o","f5u9ap2"],sc4o1m:"fwd1oij",Bosien3:["f5u9ap2","f3qs60o"]},disabledUnderline:{g2u3we:"fgig46g",h3c5rm:["f1mxt3zg","fziff3p"],B9xav0g:"f4ikngz",zhjwy3:["fziff3p","f1mxt3zg"]},small:{Bqenvij:"frvgh55",uwmqm3:["f1xile11","fqznh8f"],z189sj:["fiqd4sw","f11fkzut"],Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{Bqenvij:"f1d2rq10",uwmqm3:["f1e60jzv","f135dnwl"],z189sj:["f154vowv","flqamny"],Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},large:{Bqenvij:"fbhnoac",uwmqm3:["fnphzt9","flt1dlf"],z189sj:["f1xi5ia2","f1xi1l47"],Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fm9niy"},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"flmw63s",gg5e9n:["f1m52nbi","f1ub3y4t"],B6oc9vd:"fvs00aa",ak43y8:["f1assf6x","f4ruux4"],wmxk5l:"fqhmt4z",B50zh58:["f4ruux4","f1assf6x"]},underline:{De3pzq:"f1c21dwh",B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"fd91s9p",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779",C8i20h:"fb77jct"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker":{De3pzq:"f16xq7d1"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},invalidUnderline:{hhx65j:"f1fgmyf4"}},{d:[".fqrijq1{-webkit-appearance:none;-moz-appearance:none;appearance:none;}",[".faev5xe{border:1px solid transparent;}",{p:-2}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1couhl3{box-shadow:none;}",".f1ewtqcl{box-sizing:border-box;}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1k6fduh{cursor:pointer;}",".fqerorx{flex-grow:1;}",".f6dzj5z{max-width:100%;}",".f1qch9an{padding-bottom:0;}",".f1g0x7ka{padding-top:0;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fgig46g{border-top-color:var(--colorTransparentStrokeDisabled);}",".f1mxt3zg{border-right-color:var(--colorTransparentStrokeDisabled);}",".fziff3p{border-left-color:var(--colorTransparentStrokeDisabled);}",".frvgh55{height:24px;}",".f1xile11{padding-left:calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",".fqznh8f{padding-right:calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",`.fiqd4sw{padding-right:calc(var(--spacingHorizontalSNudge)
    + 16px
    + var(--spacingHorizontalXXS)
    + var(--spacingHorizontalXXS));}`,`.f11fkzut{padding-left:calc(var(--spacingHorizontalSNudge)
    + 16px
    + var(--spacingHorizontalXXS)
    + var(--spacingHorizontalXXS));}`,".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1d2rq10{height:32px;}",".f1e60jzv{padding-left:calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",".f135dnwl{padding-right:calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",`.f154vowv{padding-right:calc(var(--spacingHorizontalMNudge)
    + 20px
    + var(--spacingHorizontalXXS)
    + var(--spacingHorizontalXXS));}`,`.flqamny{padding-left:calc(var(--spacingHorizontalMNudge)
    + 20px
    + var(--spacingHorizontalXXS)
    + var(--spacingHorizontalXXS));}`,".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fbhnoac{height:40px;}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",`.f1xi5ia2{padding-right:calc(var(--spacingHorizontalM)
    + 24px
    + var(--spacingHorizontalSNudge)
    + var(--spacingHorizontalSNudge));}`,`.f1xi1l47{padding-left:calc(var(--spacingHorizontalM)
    + 24px
    + var(--spacingHorizontalSNudge)
    + var(--spacingHorizontalSNudge));}`,".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".fm9niy{border:1px solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",[".fd91s9p{border-bottom:1px solid var(--colorNeutralStrokeAccessible);}",{p:-1}],[".fokr779{border-radius:0;}",{p:-1}],".fb77jct option{background-color:var(--colorNeutralBackground1);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}"],f:[".fatbyko:focus{outline-width:2px;}",".f1grzc83:focus{outline-style:solid;}",".f19shzzi:focus{outline-color:transparent;}"],m:[["@media (forced-colors: active){.f9dbb4x{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3qs60o{border-right-color:GrayText;}.f5u9ap2{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fwd1oij{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".flmw63s:hover{border-bottom-color:var(--colorNeutralStrokeAccessible);}"],a:[".fvs00aa:active{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1assf6x:active{border-right-color:var(--colorNeutralStroke1Pressed);}",".f4ruux4:active{border-left-color:var(--colorNeutralStroke1Pressed);}",".fqhmt4z:active{border-bottom-color:var(--colorNeutralStrokeAccessible);}"]}),Gde=Fe({icon:{B7ck84d:"f1ewtqcl",sj55zd:"fxkbij4",mc9l5x:"ftgm304",qhf8xq:"f1euv43f",Bkecrkj:"f1aehjj5",Bo70h7d:"fvc9v3g"},disabled:{sj55zd:"f1s2aq7o",B7iucu3:"f1cyfu5x"},small:{Be2twd7:"f4ybsrx",Bqenvij:"fd461yt",j35jbq:["f13lnp83","f1i5nn0v"],a9b677:"fjw5fx7"},medium:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",j35jbq:["fnyteob","f1enpzzf"],a9b677:"f64fuq3"},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",j35jbq:["f8b87gs","fedtrts"],a9b677:"fq4mcun"}},{d:[".f1ewtqcl{box-sizing:border-box;}",".fxkbij4{color:var(--colorNeutralStrokeAccessible);}",".ftgm304{display:block;}",".f1euv43f{position:absolute;}",".f1aehjj5{pointer-events:none;}",".fvc9v3g svg{display:block;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f4ybsrx{font-size:16px;}",".fd461yt{height:16px;}",".f13lnp83{right:var(--spacingHorizontalSNudge);}",".f1i5nn0v{left:var(--spacingHorizontalSNudge);}",".fjw5fx7{width:16px;}",".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".fnyteob{right:var(--spacingHorizontalMNudge);}",".f1enpzzf{left:var(--spacingHorizontalMNudge);}",".f64fuq3{width:20px;}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".f8b87gs{right:var(--spacingHorizontalM);}",".fedtrts{left:var(--spacingHorizontalM);}",".fq4mcun{width:24px;}"],m:[["@media (forced-colors: active){.f1cyfu5x{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),$de=e=>{"use no memo";const{size:t,appearance:n}=e,r=e.select.disabled,i=`${e.select["aria-invalid"]}`=="true",o=Gde(),a=Vde(),s=Wde();return e.root.className=Ce(yw.root,a.base,e.root.className),e.select.className=Ce(yw.select,s.base,s[t],s[n],!r&&n==="outline"&&s.outlineInteractive,!r&&i&&n!=="underline"&&s.invalid,!r&&i&&n==="underline"&&s.invalidUnderline,r&&s.disabled,r&&n==="underline"&&s.disabledUnderline,e.select.className),e.icon&&(e.icon.className=Ce(yw.icon,o.icon,r&&o.disabled,o[t],e.icon.className)),e},mu=x.forwardRef((e,t)=>{const n=qde(e,t);return $de(n),Ft("useSelectStyles_unstable")(n),Hde(n)});mu.displayName="Select";const qq=x.createContext(void 0),Xde={},Zde=qq.Provider,Hq=()=>{var e;return(e=x.useContext(qq))!==null&&e!==void 0?e:Xde},Kde=(e,t)=>{const{animation:n,appearance:r}=Hq(),{animation:i=n??"wave",appearance:o=r??"opaque"}=e,a=Ct(Qt("div",{ref:t,role:"progressbar","aria-busy":!0,...e}),{elementType:"div"});return{animation:i,appearance:o,components:{root:"div"},root:a}},Yde=(e,t)=>Se(Zde,{value:t.skeletonGroup,children:Se(e.root,{})}),Jde={root:"fui-Skeleton"},Qde=Fe({blockStyling:{mc9l5x:"ftgm304"}},{d:[".ftgm304{display:block;}"]}),efe=e=>{"use no memo";const t=Qde();return e.root.className=Ce(Jde.root,e.root.as==="span"&&t.blockStyling,e.root.className),e},tfe=e=>{const{animation:t,appearance:n}=e;return{skeletonGroup:x.useMemo(()=>({animation:t,appearance:n}),[t,n])}},ci=x.forwardRef((e,t)=>{const n=Kde(e,t),r=tfe(n);return efe(n),Ft("useSkeletonStyles_unstable")(n),Yde(n,r)});ci.displayName="Skeleton";const nfe=(e,t)=>{const{animation:n,appearance:r}=Hq(),{animation:i=n??"wave",appearance:o=r??"opaque",size:a=16,shape:s="rectangle"}=e,c=Ct(Qt("div",{ref:t,...e}),{elementType:"div"});return{appearance:o,animation:i,size:a,shape:s,components:{root:"div"},root:c}},rfe=e=>Se(e.root,{}),ife={root:"fui-SkeletonItem"},ofe=Fe({root:{qhf8xq:"f10pi13n",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Bsft5z2:"f13zj6fq",ap17g6:"f2gz7yw",E3zdtr:"f1mdlcz9",By385i5:0,Eqx8gd:0,B1piin3:0,bn5sak:0,B58onuk:"f1nt53hs",s9ouvv:"f18xs7ez",xr36ep:"ffm3629",Bitv4sc:"f1f9zsvm",Gt9ir8:"f1evo4vk",Crt7la:"f18va1k3"},wave:{De3pzq:"f1gjxg63",Br128sd:["f3fo419","f6m9r4"],h62rwi:["ftnv2js","f12jzhyt"],b1kco5:["fig1c6l","f1rv5y9h"],Iqrfzq:"f1xjc3a9"},pulse:{Br128sd:"f171zwvm",xr36ep:"fs3pcyf",Bjyk6c5:"f1yu5riq"},translucent:{De3pzq:"f162mh4z",h62rwi:["flvf4r0","f1uek97b"]},translucentPulse:{De3pzq:"flu3bqm",Bjyk6c5:"fxucc0w"},blockStyling:{mc9l5x:"ftgm304"}},{d:[".f10pi13n{position:relative;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],'.f13zj6fq::after{content:"";}',".f2gz7yw::after{display:block;}",".f1mdlcz9::after{position:absolute;}",[".f1nt53hs::after{inset:0;}",{p:-1}],".f18xs7ez::after{animation-iteration-count:infinite;}",".ffm3629::after{animation-duration:3s;}",".f1f9zsvm::after{animation-timing-function:ease-in-out;}",".f1gjxg63{background-color:var(--colorNeutralStencil1);}",".f3fo419::after{animation-name:f1efwx7q;}",".f6m9r4::after{animation-name:f1kkgpz1;}",`.ftnv2js::after{background-image:linear-gradient(
        to right,
        var(--colorNeutralStencil1) 0%,
        var(--colorNeutralStencil2) 50%,
        var(--colorNeutralStencil1) 100%);}`,`.f12jzhyt::after{background-image:linear-gradient(
        to left,
        var(--colorNeutralStencil1) 0%,
        var(--colorNeutralStencil2) 50%,
        var(--colorNeutralStencil1) 100%);}`,".fig1c6l::after{transform:translate(-100%);}",".f1rv5y9h::after{transform:translate(100%);}",".f171zwvm::after{animation-name:f12o7gg6;}",".fs3pcyf::after{animation-duration:1s;}",".f1yu5riq::after{background-color:var(--colorNeutralStencil1);}",".f162mh4z{background-color:var(--colorNeutralStencil1Alpha);}",`.flvf4r0::after{background-image:linear-gradient(
      to right,
      transparent 0%,
      var(--colorNeutralStencil1Alpha) 50%,
      transparent 100%);}`,`.f1uek97b::after{background-image:linear-gradient(
      to left,
      transparent 0%,
      var(--colorNeutralStencil1Alpha) 50%,
      transparent 100%);}`,".flu3bqm{background-color:none;}",".fxucc0w::after{background-color:var(--colorNeutralStencil1Alpha);}",".ftgm304{display:block;}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f1evo4vk::after{animation-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f18va1k3::after{animation-iteration-count:1;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (forced-colors: active){.f1xjc3a9::after{background-color:WindowText;}}",{m:"screen and (forced-colors: active)"}]],k:["@keyframes f1efwx7q{to{transform:translate(100%);}}","@keyframes f1kkgpz1{to{transform:translate(-100%);}}","@keyframes f12o7gg6{0%{opacity:1;}50%{opacity:0.4;}100%{opacity:1;}}"]}),afe=Fe({8:{Bqenvij:"f1x82gua"},12:{Bqenvij:"fvblgha"},16:{Bqenvij:"fd461yt"},20:{Bqenvij:"fjamq6b"},24:{Bqenvij:"frvgh55"},28:{Bqenvij:"fxldao9"},32:{Bqenvij:"f1d2rq10"},36:{Bqenvij:"f8ljn23"},40:{Bqenvij:"fbhnoac"},48:{Bqenvij:"ff2sm71"},56:{Bqenvij:"fzki0ko"},64:{Bqenvij:"f16k9i2m"},72:{Bqenvij:"f1shusfg"},96:{Bqenvij:"fypu0ge"},120:{Bqenvij:"fjr5b71"},128:{Bqenvij:"fele2au"},root:{a9b677:"fly5x3f",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ff3glw6"}},{d:[".f1x82gua{height:8px;}",".fvblgha{height:12px;}",".fd461yt{height:16px;}",".fjamq6b{height:20px;}",".frvgh55{height:24px;}",".fxldao9{height:28px;}",".f1d2rq10{height:32px;}",".f8ljn23{height:36px;}",".fbhnoac{height:40px;}",".ff2sm71{height:48px;}",".fzki0ko{height:56px;}",".f16k9i2m{height:64px;}",".f1shusfg{height:72px;}",".fypu0ge{height:96px;}",".fjr5b71{height:120px;}",".fele2au{height:128px;}",".fly5x3f{width:100%;}",[".ff3glw6{border-radius:4px;}",{p:-1}]]}),sfe=Fe({8:{a9b677:"f1o3cbw4",Bqenvij:"f1x82gua"},12:{a9b677:"frx94fk",Bqenvij:"fvblgha"},16:{a9b677:"fjw5fx7",Bqenvij:"fd461yt"},20:{a9b677:"f64fuq3",Bqenvij:"fjamq6b"},24:{a9b677:"fq4mcun",Bqenvij:"frvgh55"},28:{a9b677:"f1w9dchk",Bqenvij:"fxldao9"},32:{a9b677:"f1szoe96",Bqenvij:"f1d2rq10"},36:{a9b677:"fpdz1er",Bqenvij:"f8ljn23"},40:{a9b677:"feqmc2u",Bqenvij:"fbhnoac"},48:{a9b677:"f124akge",Bqenvij:"ff2sm71"},56:{a9b677:"f1u66zr1",Bqenvij:"fzki0ko"},64:{a9b677:"fa9ln6p",Bqenvij:"f16k9i2m"},72:{a9b677:"fhcae8x",Bqenvij:"f1shusfg"},96:{a9b677:"f1kyr2gn",Bqenvij:"fypu0ge"},120:{a9b677:"fwfqyga",Bqenvij:"fjr5b71"},128:{a9b677:"f1iksgmy",Bqenvij:"fele2au"}},{d:[".f1o3cbw4{width:8px;}",".f1x82gua{height:8px;}",".frx94fk{width:12px;}",".fvblgha{height:12px;}",".fjw5fx7{width:16px;}",".fd461yt{height:16px;}",".f64fuq3{width:20px;}",".fjamq6b{height:20px;}",".fq4mcun{width:24px;}",".frvgh55{height:24px;}",".f1w9dchk{width:28px;}",".fxldao9{height:28px;}",".f1szoe96{width:32px;}",".f1d2rq10{height:32px;}",".fpdz1er{width:36px;}",".f8ljn23{height:36px;}",".feqmc2u{width:40px;}",".fbhnoac{height:40px;}",".f124akge{width:48px;}",".ff2sm71{height:48px;}",".f1u66zr1{width:56px;}",".fzki0ko{height:56px;}",".fa9ln6p{width:64px;}",".f16k9i2m{height:64px;}",".fhcae8x{width:72px;}",".f1shusfg{height:72px;}",".f1kyr2gn{width:96px;}",".fypu0ge{height:96px;}",".fwfqyga{width:120px;}",".fjr5b71{height:120px;}",".f1iksgmy{width:128px;}",".fele2au{height:128px;}"]}),lfe=Fe({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f5q2cvs"}},{d:[[".f5q2cvs{border-radius:50%;}",{p:-1}]]}),cfe=e=>{"use no memo";const{animation:t,appearance:n,size:r,shape:i}=e,o=ofe(),a=afe(),s=sfe(),c=lfe();return e.root.className=Ce(ife.root,o.root,e.root.as==="span"&&o.blockStyling,t==="wave"&&o.wave,t==="pulse"&&o.pulse,n==="translucent"&&o.translucent,t==="pulse"&&n==="translucent"&&o.translucentPulse,i==="rectangle"&&a.root,i==="rectangle"&&a[r],i==="square"&&s[r],i==="circle"&&c.root,i==="circle"&&s[r],e.root.className),e},ui=x.forwardRef((e,t)=>{const n=nfe(e,t);return cfe(n),Ft("useSkeletonItemStyles_unstable")(n),rfe(n)});ui.displayName="SkeletonItem";const Vq=x.createContext(void 0),ufe={};Vq.Provider;const dfe=()=>{var e;return(e=x.useContext(Vq))!==null&&e!==void 0?e:ufe},ffe=(e,t)=>{const{size:n}=dfe(),{appearance:r="primary",labelPosition:i="after",size:o=n??"medium",delay:a=0}=e,s=vi("spinner"),{role:c="progressbar",...u}=e,d=Ct(Qt("div",{ref:t,role:c,...u},["size"]),{elementType:"div"}),[f,p]=x.useState(!1),[m,g]=af();x.useEffect(()=>{if(!(a<=0))return m(()=>{p(!0)},a),()=>{g()}},[m,g,a]);const v=zt(e.label,{defaultProps:{id:s},renderByDefault:!1,elementType:Nr}),_=zt(e.spinner,{renderByDefault:!0,elementType:"span"});return v&&d&&!d["aria-labelledby"]&&(d["aria-labelledby"]=v.id),{appearance:r,delay:a,labelPosition:i,size:o,shouldRenderSpinner:!a||f,components:{root:"div",spinner:"span",spinnerTail:"span",label:Nr},root:d,spinner:_,spinnerTail:Ct(e.spinnerTail,{elementType:"span"}),label:v}},hfe=e=>{const{labelPosition:t,shouldRenderSpinner:n}=e;return an(e.root,{children:[e.label&&n&&(t==="above"||t==="before")&&Se(e.label,{}),e.spinner&&n&&Se(e.spinner,{children:e.spinnerTail&&Se(e.spinnerTail,{})}),e.label&&n&&(t==="below"||t==="after")&&Se(e.label,{})]})},z0={root:"fui-Spinner",spinner:"fui-Spinner__spinner",spinnerTail:"fui-Spinner__spinnerTail",label:"fui-Spinner__label"},pfe=Rt("rpp59a7",null,[".rpp59a7{display:flex;align-items:center;justify-content:center;line-height:0;gap:8px;overflow:hidden;min-width:min-content;}"]),mfe=Fe({vertical:{Beiy3e4:"f1vx9l62"}},{d:[".f1vx9l62{flex-direction:column;}"]}),gfe=Rt("rvgcg50","r15nd2jo",{r:[".rvgcg50{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:rb7n1on;}","@keyframes rb7n1on{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}",".r15nd2jo{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:r1gx3jof;}","@keyframes r1gx3jof{0%{transform:rotate(0deg);}100%{transform:rotate(-360deg);}}"],s:["@media screen and (forced-colors: active){.rvgcg50{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.rvgcg50{animation-duration:1.8s;}}","@media screen and (forced-colors: active){.r15nd2jo{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.r15nd2jo{animation-duration:1.8s;}}"]}),vfe=Rt("rxov3xa","r1o544mv",{r:[".rxov3xa{position:absolute;display:block;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r15mim6k;}",'.rxov3xa::before,.rxov3xa::after{content:"";position:absolute;display:block;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r15mim6k{0%{transform:rotate(-135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(225deg);}}",".rxov3xa::before{animation-name:r18vhmn8;}","@keyframes r18vhmn8{0%{transform:rotate(0deg);}50%{transform:rotate(105deg);}100%{transform:rotate(0deg);}}",".rxov3xa::after{animation-name:rkgrvoi;}","@keyframes rkgrvoi{0%{transform:rotate(0deg);}50%{transform:rotate(225deg);}100%{transform:rotate(0deg);}}",".r1o544mv{position:absolute;display:block;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r109gmi5;}",'.r1o544mv::before,.r1o544mv::after{content:"";position:absolute;display:block;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r109gmi5{0%{transform:rotate(135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(-225deg);}}",".r1o544mv::before{animation-name:r17whflh;}","@keyframes r17whflh{0%{transform:rotate(0deg);}50%{transform:rotate(-105deg);}100%{transform:rotate(0deg);}}",".r1o544mv::after{animation-name:re4odhl;}","@keyframes re4odhl{0%{transform:rotate(0deg);}50%{transform:rotate(-225deg);}100%{transform:rotate(0deg);}}"],s:["@media screen and (prefers-reduced-motion: reduce){.rxov3xa{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.rxov3xa::before,.rxov3xa::after{content:none;}}","@media screen and (prefers-reduced-motion: reduce){.r1o544mv{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.r1o544mv::before,.r1o544mv::after{content:none;}}"]}),yfe=Fe({inverted:{De3pzq:"fr407j0",sj55zd:"f1f7voed"},rtlTail:{btxmck:"f179dep3",gb5jj2:"fbz9ihp",Bdya8wy:"f1pme1qz"},"extra-tiny":{Bqenvij:"fd461yt",a9b677:"fjw5fx7",qmp6fs:"f1v3ph3m"},tiny:{Bqenvij:"fjamq6b",a9b677:"f64fuq3",qmp6fs:"f1v3ph3m"},"extra-small":{Bqenvij:"frvgh55",a9b677:"fq4mcun",qmp6fs:"f1v3ph3m"},small:{Bqenvij:"fxldao9",a9b677:"f1w9dchk",qmp6fs:"f1v3ph3m"},medium:{Bqenvij:"f1d2rq10",a9b677:"f1szoe96",qmp6fs:"fb52u90"},large:{Bqenvij:"f8ljn23",a9b677:"fpdz1er",qmp6fs:"fb52u90"},"extra-large":{Bqenvij:"fbhnoac",a9b677:"feqmc2u",qmp6fs:"fb52u90"},huge:{Bqenvij:"f1ft4266",a9b677:"fksc0bp",qmp6fs:"fa3u9ii"}},{d:[".fr407j0{background-color:var(--colorNeutralStrokeAlpha2);}",".f1f7voed{color:var(--colorNeutralStrokeOnBrand2);}",".f179dep3{-webkit-mask-image:conic-gradient(white 255deg, transparent 255deg);mask-image:conic-gradient(white 255deg, transparent 255deg);}",".fbz9ihp::before,.fbz9ihp::after{background-image:conic-gradient(transparent 225deg, currentcolor 225deg);}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".f1v3ph3m{--fui-Spinner--strokeWidth:var(--strokeWidthThick);}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".fxldao9{height:28px;}",".f1w9dchk{width:28px;}",".f1d2rq10{height:32px;}",".f1szoe96{width:32px;}",".fb52u90{--fui-Spinner--strokeWidth:var(--strokeWidthThicker);}",".f8ljn23{height:36px;}",".fpdz1er{width:36px;}",".fbhnoac{height:40px;}",".feqmc2u{width:40px;}",".f1ft4266{height:44px;}",".fksc0bp{width:44px;}",".fa3u9ii{--fui-Spinner--strokeWidth:var(--strokeWidthThickest);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f1pme1qz{background-image:conic-gradient(currentcolor 0deg, transparent 240deg);}}",{m:"screen and (prefers-reduced-motion: reduce)"}]]}),bfe=Fe({inverted:{sj55zd:"fonrgv7"},"extra-tiny":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},tiny:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},"extra-small":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},"extra-large":{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},huge:{Bahqtrf:"fk6fouc",Be2twd7:"f1pp30po",Bhrd7zp:"fl43uef",Bg96gwp:"f106mvju"}},{d:[".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}"]}),xfe=e=>{"use no memo";const{labelPosition:t,size:n,appearance:r}=e,{dir:i}=gn(),o=pfe(),a=mfe(),s=gfe(),c=yfe(),u=vfe(),d=bfe();return e.root.className=Ce(z0.root,o,(t==="above"||t==="below")&&a.vertical,e.root.className),e.spinner&&(e.spinner.className=Ce(z0.spinner,s,c[n],r==="inverted"&&c.inverted,e.spinner.className)),e.spinnerTail&&(e.spinnerTail.className=Ce(z0.spinnerTail,u,i==="rtl"&&c.rtlTail,e.spinnerTail.className)),e.label&&(e.label.className=Ce(z0.label,d[n],r==="inverted"&&d.inverted,e.label.className)),e},Cn=x.forwardRef((e,t)=>{const n=ffe(e,t);return xfe(n),Ft("useSpinnerStyles_unstable")(n),hfe(n)});Cn.displayName="Spinner";const _fe=(e,t)=>{e=uf(e,{supportsLabelFor:!0,supportsRequired:!0});const{checked:n,defaultChecked:r,disabled:i,labelPosition:o="after",size:a="medium",onChange:s,required:c}=e,u=of({props:e,primarySlotTagName:"input",excludedPropNames:["checked","defaultChecked","onChange","size"]}),d=vi("switch-",u.primary.id),f=Ct(e.root,{defaultProps:{ref:bp(),...u.root},elementType:"div"}),p=Ct(e.indicator,{defaultProps:{"aria-hidden":!0,children:x.createElement(I9,null)},elementType:"div"}),m=Ct(e.input,{defaultProps:{checked:n,defaultChecked:r,id:d,ref:t,role:"switch",type:"checkbox",...u.primary},elementType:"input"});m.onChange=un(m.onChange,v=>s==null?void 0:s(v,{checked:v.currentTarget.checked}));const g=zt(e.label,{defaultProps:{disabled:i,htmlFor:d,required:c,size:"medium"},elementType:Nr});return{labelPosition:o,components:{root:"div",indicator:"div",input:"input",label:Nr},root:f,indicator:p,input:m,label:g,size:a}},wfe=e=>{const{labelPosition:t}=e;return an(e.root,{children:[Se(e.input,{}),t!=="after"&&e.label&&Se(e.label,{}),Se(e.indicator,{}),t==="after"&&e.label&&Se(e.label,{})]})},L0={root:"fui-Switch",indicator:"fui-Switch__indicator",input:"fui-Switch__input",label:"fui-Switch__label"},Sfe=Rt("r2i81i2","rofhmb8",{r:[".r2i81i2{align-items:flex-start;box-sizing:border-box;display:inline-flex;position:relative;}",".r2i81i2:focus{outline-style:none;}",".r2i81i2:focus-visible{outline-style:none;}",".r2i81i2[data-fui-focus-within]:focus-within{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r2i81i2[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".rofhmb8{align-items:flex-start;box-sizing:border-box;display:inline-flex;position:relative;}",".rofhmb8:focus{outline-style:none;}",".rofhmb8:focus-visible{outline-style:none;}",".rofhmb8[data-fui-focus-within]:focus-within{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.rofhmb8[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r2i81i2[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.rofhmb8[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Cfe=Fe({vertical:{Beiy3e4:"f1vx9l62"}},{d:[".f1vx9l62{flex-direction:column;}"]}),Tfe=Rt("r1c3hft5",null,{r:[".r1c3hft5{border-radius:var(--borderRadiusCircular);border:1px solid;line-height:0;box-sizing:border-box;fill:currentColor;flex-shrink:0;font-size:18px;height:20px;margin:var(--spacingVerticalS) var(--spacingHorizontalS);pointer-events:none;transition-duration:var(--durationNormal);transition-timing-function:var(--curveEasyEase);transition-property:background,border,color;width:40px;}",".r1c3hft5>*{transition-duration:var(--durationNormal);transition-timing-function:var(--curveEasyEase);transition-property:transform;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1c3hft5{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1c3hft5{color:CanvasText;}.r1c3hft5>i{forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.r1c3hft5>*{transition-duration:0.01ms;}}"]}),kfe=Fe({labelAbove:{B6of3ja:"f1hu3pq6"},sizeSmall:{Be2twd7:"fses1vf",Bqenvij:"fd461yt",a9b677:"f1szoe96"}},{d:[".f1hu3pq6{margin-top:0;}",".fses1vf{font-size:14px;}",".fd461yt{height:16px;}",".f1szoe96{width:32px;}"]}),Efe=Rt("rsji9ng","r15xih98",{r:[".rsji9ng{box-sizing:border-box;cursor:pointer;height:100%;margin:0;opacity:0;position:absolute;width:calc(40px + 2 * var(--spacingHorizontalS));}",".rsji9ng:checked~.fui-Switch__indicator>*{transform:translateX(20px);}",".rsji9ng:disabled{cursor:default;}",".rsji9ng:disabled~.fui-Switch__indicator{color:var(--colorNeutralForegroundDisabled);}",".rsji9ng:disabled~.fui-Switch__label{cursor:default;color:var(--colorNeutralForegroundDisabled);}",".rsji9ng:enabled:not(:checked)~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessible);border-color:var(--colorNeutralStrokeAccessible);}",".rsji9ng:enabled:not(:checked)~.fui-Switch__label{color:var(--colorNeutralForeground1);}",".rsji9ng:enabled:not(:checked):hover~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessibleHover);border-color:var(--colorNeutralStrokeAccessibleHover);}",".rsji9ng:enabled:not(:checked):hover:active~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessiblePressed);border-color:var(--colorNeutralStrokeAccessiblePressed);}",".rsji9ng:enabled:checked~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackground);color:var(--colorNeutralForegroundInverted);border-color:var(--colorTransparentStroke);}",".rsji9ng:enabled:checked:hover~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundHover);border-color:var(--colorTransparentStrokeInteractive);}",".rsji9ng:enabled:checked:hover:active~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundPressed);border-color:var(--colorTransparentStrokeInteractive);}",".rsji9ng:disabled:not(:checked)~.fui-Switch__indicator{border-color:var(--colorNeutralStrokeDisabled);}",".rsji9ng:disabled:checked~.fui-Switch__indicator{background-color:var(--colorNeutralBackgroundDisabled);border-color:var(--colorTransparentStrokeDisabled);}",".r15xih98{box-sizing:border-box;cursor:pointer;height:100%;margin:0;opacity:0;position:absolute;width:calc(40px + 2 * var(--spacingHorizontalS));}",".r15xih98:checked~.fui-Switch__indicator>*{transform:translateX(-20px);}",".r15xih98:disabled{cursor:default;}",".r15xih98:disabled~.fui-Switch__indicator{color:var(--colorNeutralForegroundDisabled);}",".r15xih98:disabled~.fui-Switch__label{cursor:default;color:var(--colorNeutralForegroundDisabled);}",".r15xih98:enabled:not(:checked)~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessible);border-color:var(--colorNeutralStrokeAccessible);}",".r15xih98:enabled:not(:checked)~.fui-Switch__label{color:var(--colorNeutralForeground1);}",".r15xih98:enabled:not(:checked):hover~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessibleHover);border-color:var(--colorNeutralStrokeAccessibleHover);}",".r15xih98:enabled:not(:checked):hover:active~.fui-Switch__indicator{color:var(--colorNeutralStrokeAccessiblePressed);border-color:var(--colorNeutralStrokeAccessiblePressed);}",".r15xih98:enabled:checked~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackground);color:var(--colorNeutralForegroundInverted);border-color:var(--colorTransparentStroke);}",".r15xih98:enabled:checked:hover~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundHover);border-color:var(--colorTransparentStrokeInteractive);}",".r15xih98:enabled:checked:hover:active~.fui-Switch__indicator{background-color:var(--colorCompoundBrandBackgroundPressed);border-color:var(--colorTransparentStrokeInteractive);}",".r15xih98:disabled:not(:checked)~.fui-Switch__indicator{border-color:var(--colorNeutralStrokeDisabled);}",".r15xih98:disabled:checked~.fui-Switch__indicator{background-color:var(--colorNeutralBackgroundDisabled);border-color:var(--colorTransparentStrokeDisabled);}"],s:["@media (forced-colors: active){.rsji9ng:disabled~.fui-Switch__indicator{color:GrayText;border-color:GrayText;}.rsji9ng:disabled~.fui-Switch__label{color:GrayText;}.rsji9ng:hover{color:CanvasText;}.rsji9ng:hover:active{color:CanvasText;}.rsji9ng:enabled:checked:hover~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}.rsji9ng:enabled:checked:hover:active~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}.rsji9ng:enabled:checked~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}}","@media (forced-colors: active){.r15xih98:disabled~.fui-Switch__indicator{color:GrayText;border-color:GrayText;}.r15xih98:disabled~.fui-Switch__label{color:GrayText;}.r15xih98:hover{color:CanvasText;}.r15xih98:hover:active{color:CanvasText;}.r15xih98:enabled:checked:hover~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}.r15xih98:enabled:checked:hover:active~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}.r15xih98:enabled:checked~.fui-Switch__indicator{background-color:Highlight;color:Canvas;}}"]}),Mfe=Fe({before:{j35jbq:["f1e31b4d","f1vgc2s3"],Bhzewxz:"f15twtuk"},after:{oyh7mz:["f1vgc2s3","f1e31b4d"],Bhzewxz:"f15twtuk"},above:{B5kzvoi:"f1yab3r1",Bqenvij:"f1aar7gd",a9b677:"fly5x3f"},sizeSmall:{a9b677:"f83td6f",oedwrj:["f1t5zc5r","fmy58zi"]}},{d:[".f1e31b4d{right:0;}",".f1vgc2s3{left:0;}",".f15twtuk{top:0;}",".f1yab3r1{bottom:0;}",".f1aar7gd{height:calc(20px + var(--spacingVerticalS));}",".fly5x3f{width:100%;}",".f83td6f{width:calc(32px + 2 * var(--spacingHorizontalS));}",".f1t5zc5r:checked~.fui-Switch__indicator>*{transform:translateX(16px);}",".fmy58zi:checked~.fui-Switch__indicator>*{transform:translateX(-16px);}"]}),Afe=Fe({base:{Bceei9c:"f1k6fduh",jrapky:"f49ad5g",B6of3ja:"f1xlvstr",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1f5q0n8"},sizeSmall:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm",jrapky:"f1suqah5",B6of3ja:"f26bnac"},above:{z8tnut:"f1ywm7hm",Byoj8tv:"f14wxoun",a9b677:"fly5x3f"},after:{uwmqm3:["fruq291","f7x41pl"]},before:{z189sj:["f7x41pl","fruq291"]}},{d:[".f1k6fduh{cursor:pointer;}",".f49ad5g{margin-bottom:calc((20px - var(--lineHeightBase300)) / 2);}",".f1xlvstr{margin-top:calc((20px - var(--lineHeightBase300)) / 2);}",[".f1f5q0n8{padding:var(--spacingVerticalS) var(--spacingHorizontalS);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1suqah5{margin-bottom:calc((16px - var(--lineHeightBase200)) / 2);}",".f26bnac{margin-top:calc((16px - var(--lineHeightBase200)) / 2);}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".fly5x3f{width:100%;}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}"]}),Nfe=e=>{"use no memo";const t=Sfe(),n=Cfe(),r=Tfe(),i=kfe(),o=Efe(),a=Mfe(),s=Afe(),{label:c,labelPosition:u,size:d}=e;return e.root.className=Ce(L0.root,t,u==="above"&&n.vertical,e.root.className),e.indicator.className=Ce(L0.indicator,r,c&&u==="above"&&i.labelAbove,d==="small"&&i.sizeSmall,e.indicator.className),e.input.className=Ce(L0.input,o,c&&a[u],d==="small"&&a.sizeSmall,e.input.className),e.label&&(e.label.className=Ce(L0.label,s.base,s[u],d==="small"&&s.sizeSmall,e.label.className)),e},lc=x.forwardRef((e,t)=>{const n=_fe(e,t);return Nfe(n),Ft("useSwitchStyles_unstable")(n),wfe(n)});lc.displayName="Switch";const Pfe={appearance:"transparent",reserveSelectedTabSpace:!0,selectTabOnFocus:!1,disabled:!1,selectedValue:void 0,onRegister:()=>{},onUnregister:()=>{},onSelect:()=>{},getRegisteredTabs:()=>({registeredTabs:{}}),size:"medium",vertical:!1},Wq=kc(void 0),Bfe=Wq.Provider,vs=e=>Gu(Wq,(t=Pfe)=>e(t)),Rfe=(e,t)=>{const{content:n,disabled:r=!1,icon:i,onClick:o,onFocus:a,value:s}=e,c=vs(q=>q.appearance),u=vs(q=>q.reserveSelectedTabSpace),d=vs(q=>q.selectTabOnFocus),f=vs(q=>q.disabled),p=vs(q=>q.selectedValue===s),m=vs(q=>q.onRegister),g=vs(q=>q.onUnregister),v=vs(q=>q.onSelect),_=vs(q=>q.size),y=vs(q=>!!q.vertical),S=f||r,w=x.useRef(null),C=q=>v(q,{value:s}),M=pt(un(o,C)),A=pt(un(a,C)),E=Bg({focusable:{isDefault:p}});x.useEffect(()=>(m({value:s,ref:w}),()=>{g({value:s,ref:w})}),[m,g,w,s]);const I=zt(i,{elementType:"span"}),N=Ct(n,{defaultProps:{children:e.children},elementType:"span"}),P=n&&typeof n=="object"?vee(n,["ref"]):n,D=!!(I!=null&&I.children&&!N.children);return{components:{root:"button",icon:"span",content:"span",contentReservedSpace:"span"},root:Ct(Qt("button",{ref:dn(t,w),role:"tab",type:"button","aria-selected":S?void 0:`${p}`,...E,...e,disabled:S,onClick:M,onFocus:d?A:a}),{elementType:"button"}),icon:I,iconOnly:D,content:N,contentReservedSpace:zt(P,{renderByDefault:!p&&!D&&u,defaultProps:{children:e.children},elementType:"span"}),appearance:c,disabled:S,selected:p,size:_,value:s,vertical:y}},jfe=e=>an(e.root,{children:[e.icon&&Se(e.icon,{}),!e.iconOnly&&Se(e.content,{}),e.contentReservedSpace&&Se(e.contentReservedSpace,{})]}),iI={offsetVar:"--fui-Tab__indicator--offset",scaleVar:"--fui-Tab__indicator--scale"},Ife=Fe({base:{B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1gl81tg"},animated:{Ba2ppi3:"fhwpy7i",F2fol1:"f6zz20j",B1dyfl9:"f1ai4sc1",Bu93a1u:"f1rnm8gg",Bdasjez:"f1x3cmqg"},horizontal:{sjv3b2:["fug4aj8","f1i5xzg7"],b1kco5:"f1q7ujh"},vertical:{sjv3b2:"f1hqboyk",b1kco5:"f1dxupa6"}},{d:[[".f1gl81tg{overflow:visible;}",{p:-1}],".fhwpy7i::after{transition-property:transform;}",".f6zz20j::after{transition-duration:var(--durationSlow);}",".f1ai4sc1::after{transition-timing-function:var(--curveDecelerateMax);}",".fug4aj8::after{transform-origin:left;}",".f1i5xzg7::after{transform-origin:right;}",".f1q7ujh::after{transform:translateX(var(--fui-Tab__indicator--offset)) scaleX(var(--fui-Tab__indicator--scale));}",".f1hqboyk::after{transform-origin:top;}",".f1dxupa6::after{transform:translateY(var(--fui-Tab__indicator--offset)) scaleY(var(--fui-Tab__indicator--scale));}"],m:[["@media (prefers-reduced-motion: reduce){.f1rnm8gg::after{transition-property:none;}}",{m:"(prefers-reduced-motion: reduce)"}],["@media (prefers-reduced-motion: reduce){.f1x3cmqg::after{transition-duration:0.01ms;}}",{m:"(prefers-reduced-motion: reduce)"}]]}),zfe=e=>{if(e){var t;const n=((t=e.parentElement)===null||t===void 0?void 0:t.getBoundingClientRect())||{x:0,y:0},r=e.getBoundingClientRect();return{x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height}}},oI=(e,t)=>{var n;const r=EM(t)?(n=e[JSON.stringify(t)])===null||n===void 0?void 0:n.ref.current:void 0;return r?zfe(r):void 0},EM=e=>e!=null,Lfe=e=>{const{disabled:t,selected:n,vertical:r}=e,i=Ife(),[o,a]=x.useState(),[s,c]=x.useState({offset:0,scale:1}),u=vs(m=>m.getRegisteredTabs),[d]=Mb();if(n){const{previousSelectedValue:m,selectedValue:g,registeredTabs:v}=u();if(EM(m)&&o!==m){const _=oI(v,m),y=oI(v,g);if(y&&_){const S=r?_.y-y.y:_.x-y.x,w=r?_.height/y.height:_.width/y.width;c({offset:S,scale:w}),a(m),d(()=>c({offset:0,scale:1}))}}}else EM(o)&&a(void 0);if(t)return e;const f=s.offset===0&&s.scale===1;e.root.className=Ce(e.root.className,n&&i.base,n&&f&&i.animated,n&&(r?i.vertical:i.horizontal));const p={[iI.offsetVar]:`${s.offset}px`,[iI.scaleVar]:`${s.scale}`};return e.root.style={...p,...e.root.style},e},MM={root:"fui-Tab",icon:"fui-Tab__icon",content:"fui-Tab__content"},Dfe={content:"fui-Tab__content--reserved-space"},Gq=Fe({root:{Bt984gj:"f122n59",mc9l5x:"f13qh94s",Bnnss6s:"fi64zpg",Bxotwcr:"f1u07yai",Budl1dq:"frn2hmy",wkccdc:"f1olsevy",oeaueh:"f1s6fcnf",qhf8xq:"f10pi13n"},button:{Bt984gj:"f122n59",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bceei9c:"f1k6fduh",mc9l5x:"f13qh94s",Bnnss6s:"fi64zpg",Bxotwcr:"f1u07yai",Budl1dq:"frn2hmy",wkccdc:"f1olsevy",Bahqtrf:"fk6fouc",Bg96gwp:"f1i3iumi",oeaueh:"f1s6fcnf",qhf8xq:"f10pi13n",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",B9bfxx9:"f1cxpek8"},horizontal:{Brf1p80:"f4d9j23"},vertical:{Brf1p80:"f1s9ku6b"},smallHorizontal:{i8kkvl:"f14mj54c",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1wmopi4"},smallVertical:{i8kkvl:"f14mj54c",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f12or63q"},mediumHorizontal:{i8kkvl:"f1rjii52",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1w08f2p"},mediumVertical:{i8kkvl:"f1rjii52",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fymxs25"},largeHorizontal:{i8kkvl:"f1rjii52",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1ssfvub"},largeVertical:{i8kkvl:"f1rjii52",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fwkd1rq"},transparent:{De3pzq:"f1c21dwh",B95qlz1:"f9rvdkv",B7xitij:"f1051ucx",Bptxc3x:"fmmjozx",Bwqhzpy:"fqhzt5g",iyk698:"f7l5cgy",cl4aha:"fpkze5g",B0q3jbp:"f1iywnoi",Be9ayug:"f9n45c4"},subtle:{De3pzq:"fhovq9v",B95qlz1:"f1bifk9c",B7xitij:"fo6hitd",Bptxc3x:"fmmjozx",Bwqhzpy:"fqhzt5g",iyk698:"f7l5cgy",cl4aha:"fpkze5g",B0q3jbp:"f1iywnoi",Be9ayug:"f9n45c4"},disabledCursor:{Bceei9c:"fdrzuqr"},disabled:{De3pzq:"f1c21dwh",Bptxc3x:"fato7r6",cl4aha:"fao1bnu"},selected:{Bptxc3x:"f1cadz5z",Bwqhzpy:"fwhdxxj",iyk698:"fintccb",cl4aha:"ffplhdr",B0q3jbp:"fjo17wb",Be9ayug:"f148789c"}},{d:[".f122n59{align-items:center;}",".f13qh94s{display:grid;}",".fi64zpg{flex-shrink:0;}",".f1u07yai{grid-auto-flow:column;}",".frn2hmy{grid-template-columns:auto;}",".f1olsevy{grid-template-rows:auto;}",".f1s6fcnf{outline-style:none;}",".f10pi13n{position:relative;}",[".f3bhgqh{border:none;}",{p:-2}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1k6fduh{cursor:pointer;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f1cxpek8{text-transform:none;}",".f4d9j23{justify-content:center;}",".f1s9ku6b{justify-content:start;}",".f14mj54c{column-gap:var(--spacingHorizontalXXS);}",[".f1wmopi4{padding:var(--spacingVerticalSNudge) var(--spacingHorizontalSNudge);}",{p:-1}],[".f12or63q{padding:var(--spacingVerticalXXS) var(--spacingHorizontalSNudge);}",{p:-1}],".f1rjii52{column-gap:var(--spacingHorizontalSNudge);}",[".f1w08f2p{padding:var(--spacingVerticalM) var(--spacingHorizontalMNudge);}",{p:-1}],[".fymxs25{padding:var(--spacingVerticalSNudge) var(--spacingHorizontalMNudge);}",{p:-1}],[".f1ssfvub{padding:var(--spacingVerticalL) var(--spacingHorizontalMNudge);}",{p:-1}],[".fwkd1rq{padding:var(--spacingVerticalS) var(--spacingHorizontalMNudge);}",{p:-1}],".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f9rvdkv:enabled:hover{background-color:var(--colorTransparentBackgroundHover);}",".f1051ucx:enabled:active{background-color:var(--colorTransparentBackgroundPressed);}",".fmmjozx .fui-Tab__icon{color:var(--colorNeutralForeground2);}",".fqhzt5g:enabled:hover .fui-Tab__icon{color:var(--colorNeutralForeground2Hover);}",".f7l5cgy:enabled:active .fui-Tab__icon{color:var(--colorNeutralForeground2Pressed);}",".fpkze5g .fui-Tab__content{color:var(--colorNeutralForeground2);}",".f1iywnoi:enabled:hover .fui-Tab__content{color:var(--colorNeutralForeground2Hover);}",".f9n45c4:enabled:active .fui-Tab__content{color:var(--colorNeutralForeground2Pressed);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".f1bifk9c:enabled:hover{background-color:var(--colorSubtleBackgroundHover);}",".fo6hitd:enabled:active{background-color:var(--colorSubtleBackgroundPressed);}",".fdrzuqr{cursor:not-allowed;}",".fato7r6 .fui-Tab__icon{color:var(--colorNeutralForegroundDisabled);}",".fao1bnu .fui-Tab__content{color:var(--colorNeutralForegroundDisabled);}",".f1cadz5z .fui-Tab__icon{color:var(--colorCompoundBrandForeground1);}",".fwhdxxj:enabled:hover .fui-Tab__icon{color:var(--colorCompoundBrandForeground1Hover);}",".fintccb:enabled:active .fui-Tab__icon{color:var(--colorCompoundBrandForeground1Pressed);}",".ffplhdr .fui-Tab__content{color:var(--colorNeutralForeground1);}",".fjo17wb:enabled:hover .fui-Tab__content{color:var(--colorNeutralForeground1Hover);}",".f148789c:enabled:active .fui-Tab__content{color:var(--colorNeutralForeground1Pressed);}"]}),Ofe=Fe({base:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fp7rvkm",Bptxc3x:"ftorr8m",cl4aha:"f16lqpmv"},small:{Dbcxam:0,rjzwhg:0,Bblux5w:"fzklhed"},medium:{Dbcxam:0,rjzwhg:0,Bblux5w:"f1j721cc"},large:{Dbcxam:0,rjzwhg:0,Bblux5w:"frx9knr"},subtle:{De3pzq:"fhovq9v",sj55zd:"fkfq4zb",B95qlz1:"f1bifk9c",Eo63ln:0,r9osk6:0,Itrz8y:0,zeg6vx:0,l65xgk:0,Bw4olcx:0,Folb0i:0,I2h8y4:0,Bgxgoyi:0,Bvlkotb:0,Fwyncl:0,Byh5edv:0,Becqvjq:0,uumbiq:0,B73q3dg:0,Bblwbaf:0,B0ezav:"ft57sj0",r4wkhp:"f1fcoy83",B7xitij:"fo6hitd",d3wsvi:0,Hdqn7s:0,zu5y1p:0,owqphb:0,g9c53k:0,Btmu08z:0,Bthxvy6:0,gluvuq:0,tb88gp:0,wns6jk:0,kdfdk4:0,Bbw008l:0,Bayi1ib:0,B1kkfu3:0,J1oqyp:0,kem6az:0,goa3yj:"fhn220o",p743kt:"f15qf7sh",wmvzou:0,sc4o1m:0,wymq9i:0,u9orzk:0,puiv5t:0,Bosien3:0,b2z72d:0,Beulxaw:0,B57pkaw:0,Jcjdmf:0,B8qgbzl:0,Bbmb0sr:0,B14q8qp:0,Bcq6wej:0,Byz1pjr:0,kr9cjb:0,Ff9ifp:"f1mljprk"},subtleSelected:{De3pzq:"f16xkysk",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1c2pc3t",sj55zd:"faj9fo0",B95qlz1:"fsm7zmf",Eo63ln:0,r9osk6:0,Itrz8y:0,zeg6vx:0,l65xgk:0,Bw4olcx:0,Folb0i:0,I2h8y4:0,Bgxgoyi:0,Bvlkotb:0,Fwyncl:0,Byh5edv:0,Becqvjq:0,uumbiq:0,B73q3dg:0,Bblwbaf:0,B0ezav:"f1wo0sfq",r4wkhp:"f1afuynh",B7xitij:"f94ddyl",d3wsvi:0,Hdqn7s:0,zu5y1p:0,owqphb:0,g9c53k:0,Btmu08z:0,Bthxvy6:0,gluvuq:0,tb88gp:0,wns6jk:0,kdfdk4:0,Bbw008l:0,Bayi1ib:0,B1kkfu3:0,J1oqyp:0,kem6az:0,goa3yj:"fmle6oo",p743kt:"f1d3itm4",wmvzou:0,sc4o1m:0,wymq9i:0,u9orzk:0,puiv5t:0,Bosien3:0,b2z72d:0,Beulxaw:0,B57pkaw:0,Jcjdmf:0,B8qgbzl:0,Bbmb0sr:0,B14q8qp:0,Bcq6wej:0,Byz1pjr:0,kr9cjb:0,Ff9ifp:"f1e9l2u"},subtleDisabled:{De3pzq:"fhovq9v",sj55zd:"f1s2aq7o"},subtleDisabledSelected:{De3pzq:"f1bg9a2p",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fegtqic",sj55zd:"f1s2aq7o"},filled:{De3pzq:"f16xq7d1",sj55zd:"fkfq4zb",B95qlz1:"fwwxidx",r4wkhp:"f1fcoy83",B7xitij:"f14i52sd",p743kt:"f15qf7sh",Hhssn:"f1cpi5f4",uaurb9:"f6pj1s0",B401qx7:"f12sz5kj",Buyp1jb:"f17588c3",gsp74p:"fnthgdt"},filledSelected:{De3pzq:"ffp7eso",sj55zd:"f1phragk",B95qlz1:"f1lm9dni",r4wkhp:"f1mn5ei1",B7xitij:"f1g6ncd0",p743kt:"fl71aob",Gedr8k:"f14zl92z",Bm69vlq:"f16zy3eu",Bodipah:"f1gdgb7p",B5kpen0:"f1tua9ng"},filledDisabled:{De3pzq:"f1bg9a2p",sj55zd:"f1s2aq7o"},filledDisabledSelected:{De3pzq:"f1bg9a2p",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fegtqic",sj55zd:"f1s2aq7o"}},{d:[[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".fp7rvkm{border:solid var(--strokeWidthThin) var(--colorTransparentStroke);}",{p:-2}],".ftorr8m .fui-Tab__icon{color:inherit;}",".f16lqpmv .fui-Tab__content{color:inherit;}",[".fzklhed{padding-block:calc(var(--spacingVerticalXXS) - var(--strokeWidthThin));}",{p:-1}],[".f1j721cc{padding-block:calc(var(--spacingVerticalSNudge) - var(--strokeWidthThin));}",{p:-1}],[".frx9knr{padding-block:calc(var(--spacingVerticalS) - var(--strokeWidthThin));}",{p:-1}],".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f1bifk9c:enabled:hover{background-color:var(--colorSubtleBackgroundHover);}",[".ft57sj0:enabled:hover{border:solid var(--strokeWidthThin) var(--colorNeutralStroke1Hover);}",{p:-2}],".f1fcoy83:enabled:hover{color:var(--colorNeutralForeground2Hover);}",".fo6hitd:enabled:active{background-color:var(--colorSubtleBackgroundPressed);}",[".fhn220o:enabled:active{border:solid var(--strokeWidthThin) var(--colorNeutralStroke1Pressed);}",{p:-2}],".f15qf7sh:enabled:active{color:var(--colorNeutralForeground2Pressed);}",".f16xkysk{background-color:var(--colorBrandBackground2);}",[".f1c2pc3t{border:solid var(--strokeWidthThin) var(--colorCompoundBrandStroke);}",{p:-2}],".faj9fo0{color:var(--colorBrandForeground2);}",".fsm7zmf:enabled:hover{background-color:var(--colorBrandBackground2Hover);}",[".f1wo0sfq:enabled:hover{border:solid var(--strokeWidthThin) var(--colorCompoundBrandStrokeHover);}",{p:-2}],".f1afuynh:enabled:hover{color:var(--colorBrandForeground2Hover);}",".f94ddyl:enabled:active{background-color:var(--colorBrandBackground2Pressed);}",[".fmle6oo:enabled:active{border:solid var(--strokeWidthThin) var(--colorCompoundBrandStrokePressed);}",{p:-2}],".f1d3itm4:enabled:active{color:var(--colorBrandForeground2Pressed);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",[".fegtqic{border:solid var(--strokeWidthThin) var(--colorNeutralStrokeDisabled);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fwwxidx:enabled:hover{background-color:var(--colorNeutralBackground3Hover);}",".f14i52sd:enabled:active{background-color:var(--colorNeutralBackground3Pressed);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".f1lm9dni:enabled:hover{background-color:var(--colorBrandBackgroundHover);}",".f1mn5ei1:enabled:hover{color:var(--colorNeutralForegroundOnBrand);}",".f1g6ncd0:enabled:active{background-color:var(--colorBrandBackgroundPressed);}",".fl71aob:enabled:active{color:var(--colorNeutralForegroundOnBrand);}",[".fegtqic{border:solid var(--strokeWidthThin) var(--colorNeutralStrokeDisabled);}",{p:-2}]],m:[["@media (forced-colors: active){.f1mljprk{border:solid var(--strokeWidthThin) Canvas;}}",{p:-2,m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1e9l2u{border:solid var(--strokeWidthThin) Highlight;}}",{p:-2,m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cpi5f4:enabled:hover{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f6pj1s0:enabled:hover{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f12sz5kj:enabled:hover .fui-Tab__content{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f17588c3:enabled:hover .fui-Icon-filled{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnthgdt:enabled:hover .fui-Icon-regular{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14zl92z:enabled{background-color:ButtonText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f16zy3eu:enabled .fui-Tab__content{color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1gdgb7p:enabled .fui-Tab__content{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tua9ng:enabled .fui-Tab__icon{color:ButtonFace;}}",{m:"(forced-colors: active)"}]]}),Ffe=Fe({base:{B8q5s1w:"f8hki3x",Bci5o5g:["f1d2448m","ffh67wi"],n8qw10:"f1bjia2o",Bdrgwmp:["ffh67wi","f1d2448m"],Bn4voq9:"f1p7hgxw",Bfpq7zp:"f1way5bb",g9k6zt:"f9znhxp",j6ew2k:["fqa318h","fqa318h"],Bhxq17a:"f1vjpng2"},circular:{B8q5s1w:"f8hki3x",Bci5o5g:["f1d2448m","ffh67wi"],n8qw10:"f1bjia2o",Bdrgwmp:["ffh67wi","f1d2448m"],Bn4voq9:"f1p7hgxw",Bfpq7zp:"f1way5bb",g9k6zt:"f9znhxp",j6ew2k:["fzgyhws","fqxug60"],Bhxq17a:"f1vjpng2"}},{d:[".f8hki3x[data-fui-focus-visible]{border-top-color:transparent;}",".f1d2448m[data-fui-focus-visible]{border-right-color:transparent;}",".ffh67wi[data-fui-focus-visible]{border-left-color:transparent;}",".f1bjia2o[data-fui-focus-visible]{border-bottom-color:transparent;}",".f1p7hgxw[data-fui-focus-visible]{outline-width:var(--strokeWidthThick);}",".f1way5bb[data-fui-focus-visible]{outline-color:transparent;}",".f9znhxp[data-fui-focus-visible]{outline-style:solid;}",".fqa318h[data-fui-focus-visible]{box-shadow:var(--shadow4),0 0 0 var(--strokeWidthThick) var(--colorStrokeFocus2);}",".f1vjpng2[data-fui-focus-visible]{z-index:1;}",".fzgyhws[data-fui-focus-visible]{box-shadow:var(--shadow4),0 0 0 var(--strokeWidthThick) var(--colorStrokeFocus2),0 0 0 var(--strokeWidthThin) var(--colorNeutralStrokeOnBrand) inset;}",".fqxug60[data-fui-focus-visible]{box-shadow:var(--shadow4),0 0 0 var(--strokeWidthThick) var(--colorStrokeFocus2),0 0 0 var(--strokeWidthThin) var(--colorNeutralStrokeOnBrand) inset;}"]}),Ufe=Fe({base:{az7l2e:"fhw179n",vqofr:0,Bv4n3vi:0,Bgqb9hq:0,B0uxbk8:0,Bf3jju6:"fg9j5n4",amg5m6:"f1kmhr4c",zkfqfm:"fl1ydde",Bkydozb:"f1y7maxz",Bka2azo:0,vzq8l0:0,csmgbd:0,Br4ovkg:0,aelrif:"fceyvr4",y36c18:"f16cxu0",B1ctymy:"f1nwgacf",xzc5d:"fm6alxz",h5yqg8:"fhx32z1"},disabled:{az7l2e:"f1ut20fw",Bkydozb:"fhrzcfn",xzc5d:"fw15awd",h5yqg8:"faqmq51"},smallHorizontal:{lawp4y:"fchca7p",Baz25je:"f1r53b5e",Fbdkly:["f1s6rxz5","fo35v8s"],mdwyqc:["fo35v8s","f1s6rxz5"]},smallVertical:{lawp4y:"fze4zud",Fbdkly:["f1fzr1x6","f1f351id"],Bciustq:"fdp32p8",Ccq8qp:"f1aij3q"},mediumHorizontal:{lawp4y:"fchca7p",Baz25je:"f1s2r9ax",Fbdkly:["f1o0nnkk","fxb7rol"],mdwyqc:["fxb7rol","f1o0nnkk"]},mediumVertical:{lawp4y:"f17jracn",Fbdkly:["f1fzr1x6","f1f351id"],Bciustq:"f117lcb2",Ccq8qp:"f1aij3q"},largeHorizontal:{lawp4y:"fchca7p",Baz25je:"f1s2r9ax",Fbdkly:["f1o0nnkk","fxb7rol"],mdwyqc:["fxb7rol","f1o0nnkk"]},largeVertical:{lawp4y:"fel9d3z",Fbdkly:["f1fzr1x6","f1f351id"],Bciustq:"f6vqlre",Ccq8qp:"f1aij3q"}},{h:[".fhw179n:hover::before{background-color:var(--colorNeutralStroke1Hover);}",[".fg9j5n4:hover::before{border-radius:var(--borderRadiusCircular);}",{p:-1}],'.f1kmhr4c:hover::before{content:"";}',".fl1ydde:hover::before{position:absolute;}",".f1ut20fw:hover::before{background-color:var(--colorTransparentStroke);}"],a:[".f1y7maxz:active::before{background-color:var(--colorNeutralStroke1Pressed);}",[".fceyvr4:active::before{border-radius:var(--borderRadiusCircular);}",{p:-1}],'.f16cxu0:active::before{content:"";}',".f1nwgacf:active::before{position:absolute;}",".fhrzcfn:active::before{background-color:var(--colorTransparentStroke);}"],m:[["@media (forced-colors: active){.fm6alxz:hover::before{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fhx32z1:active::before{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fw15awd:hover::before{background-color:transparent;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.faqmq51:active::before{background-color:transparent;}}",{m:"(forced-colors: active)"}]],d:[".fchca7p::before{bottom:0;}",".f1r53b5e::before{height:var(--strokeWidthThick);}",".f1s6rxz5::before{left:var(--spacingHorizontalSNudge);}",".fo35v8s::before{right:var(--spacingHorizontalSNudge);}",".fze4zud::before{bottom:var(--spacingVerticalXS);}",".f1fzr1x6::before{left:0;}",".f1f351id::before{right:0;}",".fdp32p8::before{top:var(--spacingVerticalXS);}",".f1aij3q::before{width:var(--strokeWidthThicker);}",".f1s2r9ax::before{height:var(--strokeWidthThicker);}",".f1o0nnkk::before{left:var(--spacingHorizontalM);}",".fxb7rol::before{right:var(--spacingHorizontalM);}",".f17jracn::before{bottom:var(--spacingVerticalS);}",".f117lcb2::before{top:var(--spacingVerticalS);}",".fel9d3z::before{bottom:var(--spacingVerticalMNudge);}",".f6vqlre::before{top:var(--spacingVerticalMNudge);}"]}),qfe=Fe({base:{Bjyk6c5:"f1rp0jgh",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"f3b9emi",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9"},selected:{Bjyk6c5:"f1ksivud",Bej4dhw:"f1476jrx",B7wqxwa:"f18q216b",Hwb57:"f1wf6u82",Beg08s0:"f1xwit7m",Bo27r1v:"f1ksfgwi"},disabled:{Bjyk6c5:"f13lkzet"},smallHorizontal:{By385i5:"fo72kxq",Dlnsje:"f9bb2ob",Eqx8gd:["f1q70ajw","f18rbzdx"],B1piin3:["f18rbzdx","f1q70ajw"]},smallVertical:{By385i5:"fqbue9b",Eqx8gd:["f1n6gb5g","f15yvnhg"],bn5sak:"fk1klkt",a2br6o:"f1o25lip"},mediumHorizontal:{By385i5:"fo72kxq",Dlnsje:"f1vx7lu8",Eqx8gd:["fna7m5n","f1oxpfwv"],B1piin3:["f1oxpfwv","fna7m5n"]},mediumVertical:{By385i5:"fipylg0",Eqx8gd:["f1n6gb5g","f15yvnhg"],bn5sak:"fqchiol",a2br6o:"f1o25lip"},largeHorizontal:{By385i5:"fo72kxq",Dlnsje:"f1vx7lu8",Eqx8gd:["fna7m5n","f1oxpfwv"],B1piin3:["f1oxpfwv","fna7m5n"]},largeVertical:{By385i5:"f1w7dm5g",Eqx8gd:["f1n6gb5g","f15yvnhg"],bn5sak:"f1p6em4m",a2br6o:"f1o25lip"}},{d:[".f1rp0jgh::after{background-color:var(--colorTransparentStroke);}",[".f3b9emi::after{border-radius:var(--borderRadiusCircular);}",{p:-1}],'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1ksivud::after{background-color:var(--colorCompoundBrandStroke);}",".f1476jrx:enabled:hover::after{background-color:var(--colorCompoundBrandStrokeHover);}",".f18q216b:enabled:active::after{background-color:var(--colorCompoundBrandStrokePressed);}",".f13lkzet::after{background-color:var(--colorNeutralForegroundDisabled);}",".fo72kxq::after{bottom:0;}",".f9bb2ob::after{height:var(--strokeWidthThick);}",".f1q70ajw::after{left:var(--spacingHorizontalSNudge);}",".f18rbzdx::after{right:var(--spacingHorizontalSNudge);}",".fqbue9b::after{bottom:var(--spacingVerticalXS);}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",".fk1klkt::after{top:var(--spacingVerticalXS);}",".f1o25lip::after{width:var(--strokeWidthThicker);}",".f1vx7lu8::after{height:var(--strokeWidthThicker);}",".fna7m5n::after{left:var(--spacingHorizontalM);}",".f1oxpfwv::after{right:var(--spacingHorizontalM);}",".fipylg0::after{bottom:var(--spacingVerticalS);}",".fqchiol::after{top:var(--spacingVerticalS);}",".f1w7dm5g::after{bottom:var(--spacingVerticalMNudge);}",".f1p6em4m::after{top:var(--spacingVerticalMNudge);}"],m:[["@media (forced-colors: active){.f1wf6u82::after{background-color:ButtonText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1xwit7m:enabled:hover::after{background-color:ButtonText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ksfgwi:enabled:active::after{background-color:ButtonText;}}",{m:"(forced-colors: active)"}]]}),Hfe=Fe({base:{Br312pm:"fwpfdsa",Ijaq50:"f16hsg94",Bt984gj:"f122n59",mc9l5x:"ftuwxu6",Brf1p80:"f4d9j23",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",D0sxk3:"f16u1re",t6yez3:"f8bsbmo"},small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3"},medium:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3"},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun"},selected:{D0sxk3:"fxoiby5",t6yez3:"f15q0o9g"}},{d:[".fwpfdsa{grid-column-start:1;}",".f16hsg94{grid-row-start:1;}",".f122n59{align-items:center;}",".ftuwxu6{display:inline-flex;}",".f4d9j23{justify-content:center;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f16u1re .fui-Icon-filled{display:none;}",".f8bsbmo .fui-Icon-regular{display:inline;}",".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".fxoiby5 .fui-Icon-filled{display:inline;}",".f15q0o9g .fui-Icon-regular{display:none;}"]}),Vfe=Fe({base:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1bwptpd"},selected:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"fl43uef",Bg96gwp:"f1i3iumi"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k"},largeSelected:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},noIconBefore:{Br312pm:"fwpfdsa",Ijaq50:"f16hsg94"},iconBefore:{Br312pm:"fd46tj4",Ijaq50:"f16hsg94"},placeholder:{Bcdw1i0:"fd7fpy0"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],[".f1bwptpd{padding:var(--spacingVerticalNone) var(--spacingHorizontalXXS);}",{p:-1}],".fl43uef{font-weight:var(--fontWeightSemibold);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fwpfdsa{grid-column-start:1;}",".f16hsg94{grid-row-start:1;}",".fd46tj4{grid-column-start:2;}",".fd7fpy0{visibility:hidden;}"]}),Wfe=e=>{"use no memo";return Gfe(e),$fe(e,e.root),Xfe(e),e},Gfe=e=>{"use no memo";const t=Gq(),n=Ufe(),r=qfe(),{appearance:i,disabled:o,selected:a,size:s,vertical:c}=e,u=[MM.root,t.root];return i!=="subtle-circular"&&i!=="filled-circular"&&u.push(n.base,s==="small"&&(c?n.smallVertical:n.smallHorizontal),s==="medium"&&(c?n.mediumVertical:n.mediumHorizontal),s==="large"&&(c?n.largeVertical:n.largeHorizontal),o&&n.disabled,a&&r.base,a&&!o&&r.selected,a&&s==="small"&&(c?r.smallVertical:r.smallHorizontal),a&&s==="medium"&&(c?r.mediumVertical:r.mediumHorizontal),a&&s==="large"&&(c?r.largeVertical:r.largeHorizontal),a&&o&&r.disabled),e.root.className=Ce(...u,e.root.className),Lfe(e),e},$fe=(e,t)=>{"use no memo";const n=Gq(),r=Ffe(),i=Ofe(),{appearance:o,disabled:a,selected:s,size:c,vertical:u}=e,d=o==="subtle-circular",f=o==="filled-circular",p=d||f,m=[i.base,r.circular,c==="small"&&i.small,c==="medium"&&i.medium,c==="large"&&i.large,d&&i.subtle,s&&d&&i.subtleSelected,a&&d&&i.subtleDisabled,s&&a&&d&&i.subtleDisabledSelected,f&&i.filled,s&&f&&i.filledSelected,a&&f&&i.filledDisabled,s&&a&&f&&i.filledDisabledSelected],g=[r.base,!a&&o==="subtle"&&n.subtle,!a&&o==="transparent"&&n.transparent,!a&&s&&n.selected,a&&n.disabled];return t.className=Ce(n.button,u?n.vertical:n.horizontal,c==="small"&&(u?n.smallVertical:n.smallHorizontal),c==="medium"&&(u?n.mediumVertical:n.mediumHorizontal),c==="large"&&(u?n.largeVertical:n.largeHorizontal),...p?m:g,a&&n.disabledCursor,t.className),e},Xfe=e=>{"use no memo";const t=Hfe(),n=Vfe(),{selected:r,size:i}=e;return e.icon&&(e.icon.className=Ce(MM.icon,t.base,t[i],r&&t.selected,e.icon.className)),e.contentReservedSpace&&(e.contentReservedSpace.className=Ce(Dfe.content,n.base,i==="large"?n.largeSelected:n.selected,e.icon?n.iconBefore:n.noIconBefore,n.placeholder,e.content.className),e.contentReservedSpaceClassName=e.contentReservedSpace.className),e.content.className=Ce(MM.content,n.base,i==="large"&&n.large,r&&(i==="large"?n.largeSelected:n.selected),e.icon?n.iconBefore:n.noIconBefore,e.content.className),e},ur=x.forwardRef((e,t)=>{const n=Rfe(e,t);return Wfe(n),Ft("useTabStyles_unstable")(n),jfe(n)});ur.displayName="Tab";const Zfe=(e,t)=>{const{appearance:n="transparent",reserveSelectedTabSpace:r=!0,disabled:i=!1,onTabSelect:o,selectTabOnFocus:a=!1,size:s="medium",vertical:c=!1}=e,u=x.useRef(null),d=BN({circular:!0,axis:c?"vertical":"horizontal",memorizeCurrent:!1,unstable_hasDefault:!0}),[f,p]=ro({state:e.selectedValue,defaultState:e.defaultSelectedValue,initialState:void 0}),m=x.useRef(void 0),g=x.useRef(void 0);x.useEffect(()=>{g.current=m.current,m.current=f},[f]);const v=pt((C,M)=>{p(M.value),o==null||o(C,M)}),_=x.useRef({}),y=pt(C=>{const M=JSON.stringify(C.value);_.current[M]=C}),S=pt(C=>{delete _.current[JSON.stringify(C.value)]}),w=x.useCallback(()=>({selectedValue:m.current,previousSelectedValue:g.current,registeredTabs:_.current}),[]);return{components:{root:"div"},root:Ct(Qt("div",{ref:dn(t,u),role:"tablist","aria-orientation":c?"vertical":"horizontal",...d,...e}),{elementType:"div"}),appearance:n,reserveSelectedTabSpace:r,disabled:i,selectTabOnFocus:a,selectedValue:f,size:s,vertical:c,onRegister:y,onUnregister:S,onSelect:v,getRegisteredTabs:w}},Kfe=(e,t)=>Se(e.root,{children:Se(Bfe,{value:t.tabList,children:e.root.children})}),Yfe={root:"fui-TabList"},Jfe=Fe({root:{mc9l5x:"f22iagw",Beiy3e4:"f1063pyq",Bnnss6s:"fi64zpg",Eh141a:"flvyvdh",qhf8xq:"f10pi13n"},horizontal:{Bt984gj:"f1q9h2pe",Beiy3e4:"f1063pyq"},vertical:{Bt984gj:"f1q9h2pe",Beiy3e4:"f1vx9l62"},roundedSmall:{i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},rounded:{i8kkvl:0,Belr9w4:0,rmohyg:"faqewft"}},{d:[".f22iagw{display:flex;}",".f1063pyq{flex-direction:row;}",".fi64zpg{flex-shrink:0;}",".flvyvdh{flex-wrap:nowrap;}",".f10pi13n{position:relative;}",".f1q9h2pe{align-items:stretch;}",".f1vx9l62{flex-direction:column;}",[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],[".faqewft{gap:var(--spacingHorizontalS);}",{p:-1}]]}),Qfe=e=>{"use no memo";const{appearance:t,vertical:n,size:r}=e,i=Jfe(),o=t==="subtle-circular"||t==="filled-circular";return e.root.className=Ce(Yfe.root,i.root,n?i.vertical:i.horizontal,o&&(r==="small"?i.roundedSmall:i.rounded),e.root.className),e};function ehe(e){const{appearance:t,reserveSelectedTabSpace:n,disabled:r,selectTabOnFocus:i,selectedValue:o,onRegister:a,onUnregister:s,onSelect:c,getRegisteredTabs:u,size:d,vertical:f}=e;return{tabList:{appearance:t,reserveSelectedTabSpace:n,disabled:r,selectTabOnFocus:i,selectedValue:o,onSelect:c,onRegister:a,onUnregister:s,getRegisteredTabs:u,size:d,vertical:f}}}const Ka=x.forwardRef((e,t)=>{const n=Zfe(e,t),r=ehe(n);return Qfe(n),Ft("useTabListStyles_unstable")(n),Kfe(n,r)});Ka.displayName="TabList";const $q=(e,t)=>{const{wrap:n,truncate:r,block:i,italic:o,underline:a,strikethrough:s,size:c,font:u,weight:d,align:f}=e;return{align:f??"start",block:i??!1,font:u??"base",italic:o??!1,size:c??300,strikethrough:s??!1,truncate:r??!1,underline:a??!1,weight:d??"regular",wrap:n??!0,components:{root:"span"},root:Ct(Qt("span",{ref:t,...e}),{elementType:"span"})}},Xq=e=>Se(e.root,{}),the={root:"fui-Text"},nhe=Fe({root:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi",Bhrd7zp:"figsok6",fsow6f:"fpgzoln",mc9l5x:"f1w7gpdv",Huce71:"f6juhto",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1gl81tg",ygn44y:"f2jf649"},nowrap:{Huce71:"fz5stix",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp"},truncate:{ygn44y:"f1cmbuwj"},block:{mc9l5x:"ftgm304"},italic:{B80ckks:"f1j4dglz"},underline:{w71qe1:"f13mvf36"},strikethrough:{w71qe1:"fv5q2k7"},strikethroughUnderline:{w71qe1:"f1drk4o6"},base100:{Be2twd7:"f13mqy1h",Bg96gwp:"fcpl73t"},base200:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},base400:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k"},base500:{Be2twd7:"f1pp30po",Bg96gwp:"f106mvju"},base600:{Be2twd7:"f1x0m3f5",Bg96gwp:"fb86gi6"},hero700:{Be2twd7:"fojgt09",Bg96gwp:"fcen8rp"},hero800:{Be2twd7:"fccw675",Bg96gwp:"f1ebx5kk"},hero900:{Be2twd7:"f15afnhw",Bg96gwp:"fr3w3wp"},hero1000:{Be2twd7:"fpyltcb",Bg96gwp:"f1ivgwrt"},monospace:{Bahqtrf:"f1fedwem"},numeric:{Bahqtrf:"f1uq0ln5"},weightMedium:{Bhrd7zp:"fdj6btp"},weightSemibold:{Bhrd7zp:"fl43uef"},weightBold:{Bhrd7zp:"flh3ekv"},alignCenter:{fsow6f:"f17mccla"},alignEnd:{fsow6f:"f12ymhq5"},alignJustify:{fsow6f:"f1j59e10"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fpgzoln{text-align:start;}",".f1w7gpdv{display:inline;}",".f6juhto{white-space:normal;}",[".f1gl81tg{overflow:visible;}",{p:-1}],".f2jf649{text-overflow:clip;}",".fz5stix{white-space:nowrap;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f1cmbuwj{text-overflow:ellipsis;}",".ftgm304{display:block;}",".f1j4dglz{font-style:italic;}",".f13mvf36{text-decoration-line:underline;}",".fv5q2k7{text-decoration-line:line-through;}",".f1drk4o6{text-decoration-line:line-through underline;}",".f13mqy1h{font-size:var(--fontSizeBase100);}",".fcpl73t{line-height:var(--lineHeightBase100);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}",".f1x0m3f5{font-size:var(--fontSizeBase600);}",".fb86gi6{line-height:var(--lineHeightBase600);}",".fojgt09{font-size:var(--fontSizeHero700);}",".fcen8rp{line-height:var(--lineHeightHero700);}",".fccw675{font-size:var(--fontSizeHero800);}",".f1ebx5kk{line-height:var(--lineHeightHero800);}",".f15afnhw{font-size:var(--fontSizeHero900);}",".fr3w3wp{line-height:var(--lineHeightHero900);}",".fpyltcb{font-size:var(--fontSizeHero1000);}",".f1ivgwrt{line-height:var(--lineHeightHero1000);}",".f1fedwem{font-family:var(--fontFamilyMonospace);}",".f1uq0ln5{font-family:var(--fontFamilyNumeric);}",".fdj6btp{font-weight:var(--fontWeightMedium);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".flh3ekv{font-weight:var(--fontWeightBold);}",".f17mccla{text-align:center;}",".f12ymhq5{text-align:end;}",".f1j59e10{text-align:justify;}"]}),Zq=e=>{"use no memo";const t=nhe();return e.root.className=Ce(the.root,t.root,e.wrap===!1&&t.nowrap,e.truncate&&t.truncate,e.block&&t.block,e.italic&&t.italic,e.underline&&t.underline,e.strikethrough&&t.strikethrough,e.underline&&e.strikethrough&&t.strikethroughUnderline,e.size===100&&t.base100,e.size===200&&t.base200,e.size===400&&t.base400,e.size===500&&t.base500,e.size===600&&t.base600,e.size===700&&t.hero700,e.size===800&&t.hero800,e.size===900&&t.hero900,e.size===1e3&&t.hero1000,e.font==="monospace"&&t.monospace,e.font==="numeric"&&t.numeric,e.weight==="medium"&&t.weightMedium,e.weight==="semibold"&&t.weightSemibold,e.weight==="bold"&&t.weightBold,e.align==="center"&&t.alignCenter,e.align==="end"&&t.alignEnd,e.align==="justify"&&t.alignJustify,e.root.className),e},ie=x.forwardRef((e,t)=>{const n=$q(e,t);return Zq(n),Ft("useTextStyles_unstable")(n),Xq(n)});ie.displayName="Text";function rhe(e){const{useStyles:t,className:n,displayName:r}=e,i=x.forwardRef((o,a)=>{"use no memo";const s=t(),c=$q(o,a);return Zq(c),c.root.className=Ce(n,c.root.className,s.root,o.className),Xq(c)});return i.displayName=r,i}const ihe={root:"fui-Body1"},ohe=Fe({root:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}"]}),ahe=rhe({useStyles:ohe,className:ihe.root,displayName:"Body1"}),she=e=>Se(e.root,{children:Se(e.textarea,{})}),lhe=(e,t)=>{e=uf(e,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});const n=Dx();var r;const{size:i="medium",appearance:o=(r=n.inputDefaultAppearance)!==null&&r!==void 0?r:"outline",resize:a="none",onChange:s}=e,[c,u]=ro({state:e.value,defaultState:e.defaultValue,initialState:void 0}),d=of({props:e,primarySlotTagName:"textarea",excludedPropNames:["onChange","value","defaultValue"]}),f={size:i,appearance:o,resize:a,components:{root:"span",textarea:"textarea"},textarea:Ct(e.textarea,{defaultProps:{ref:t,...d.primary},elementType:"textarea"}),root:Ct(e.root,{defaultProps:d.root,elementType:"span"})};return f.textarea.value=c,f.textarea.onChange=pt(p=>{const m=p.target.value;s==null||s(p,{value:m}),u(m)}),f},aI={root:"fui-Textarea",textarea:"fui-Textarea__textarea"},che=Fe({base:{mc9l5x:"ftuwxu6",B7ck84d:"f1ewtqcl",qhf8xq:"f10pi13n",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1yiegib",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",ha4doy:"f12kltsn"},disabled:{De3pzq:"f1c21dwh",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"ff3nzm7",Bcq6wej:"f9dbb4x",Jcjdmf:["f3qs60o","f5u9ap2"],sc4o1m:"fwd1oij",Bosien3:["f5u9ap2","f3qs60o"]},interactive:{li1rpt:"f1gw3sf2",Bsft5z2:"f13zj6fq",E3zdtr:"f1mdlcz9",Eqx8gd:["f1a7op3","f1cjjd47"],By385i5:"f1gboi2j",B1piin3:["f1cjjd47","f1a7op3"],Dlnsje:"ffyw7fx",d9w3h3:["f1kp91vd","f1ibwz09"],B3778ie:["f1ibwz09","f1kp91vd"],B1q35kw:0,Bw17bha:0,Bcgy8vk:0,Bjuhk93:"f1mnjydx",Gjdm7m:"fj2g8qd",b1kco5:"f1yk9hq",Ba2ppi3:"fhwpy7i",F2fol1:"f14ee0xe",lck23g:"f1xhbsuh",wi16st:"fsrmcvb",ywj3b2:"f1t3k7v9",umuwi5:"fjw5xc1",Blcqepd:"f1xdyd5c",nplu4u:"fatpbeo",Bioka5o:"fb7uyps",Bnupc0a:"fx04xgm",bing71:"f1c7in40",Bercvud:"f1ibeo51",Bbr2w1p:"f1vnc8sk",Bduesf4:"f3e99gv",Bpq79vn:"fhljsf7"},filled:{Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w",q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1gmd7mu",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f1gmd7mu",E5pizo:"fyed02w"},outline:{De3pzq:"fxugw4r",Bgfg5da:0,B9xav0g:"f1c1zstj",oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"fhz96rm"},outlineInteractive:{kzujx5:0,oetu4i:"f1l4zc64",gvrnp0:0,xv9156:0,jek2p4:0,gg5e9n:0,Beu9t3s:0,dt87k2:0,Bt1vbvt:0,Bwzppfd:0,Bop6t4b:0,B2zwrfe:0,Bwp2tzp:0,Bgoe8wy:0,Bf40cpq:0,ckks6v:0,Baalond:"f9mts5e",v2iqwr:0,wmxk5l:"f1z0osm6",Bj33j0h:0,Bs0cc2w:0,qwjtx1:0,B50zh58:0,f7epvg:0,e1hlit:0,B7mkhst:0,ak43y8:0,Bbcopvn:0,Bvecx4l:0,lwioe0:0,B6oc9vd:0,e2sjt0:0,uqwnxt:0,asj8p9:"f1acnei2",Br8fjdy:0,zoxjo1:"f1so894s",Bt3ojkv:0,B7pmvfx:0,Bfht2n1:0,an54nd:0,t1ykpo:0,Belqbek:0,bbt1vd:0,Brahy3i:0,r7b1zc:0,rexu52:0,ovtnii:0,Bvq3b66:0,Bawrxx6:0,Bbs6y8j:0,B2qpgjt:"f19ezbcq"},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]}},{d:[".ftuwxu6{display:inline-flex;}",".f1ewtqcl{box-sizing:border-box;}",".f10pi13n{position:relative;}",[".f1yiegib{padding:0 0 var(--strokeWidthThick) 0;}",{p:-1}],[".f1s184ao{margin:0;}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f12kltsn{vertical-align:top;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".ff3nzm7{border:var(--strokeWidthThin) solid var(--colorNeutralStrokeDisabled);}",{p:-2}],".f1gw3sf2::after{box-sizing:border-box;}",'.f13zj6fq::after{content:"";}',".f1mdlcz9::after{position:absolute;}",".f1a7op3::after{left:-1px;}",".f1cjjd47::after{right:-1px;}",".f1gboi2j::after{bottom:-1px;}",".ffyw7fx::after{height:max(var(--strokeWidthThick), var(--borderRadiusMedium));}",".f1kp91vd::after{border-bottom-left-radius:var(--borderRadiusMedium);}",".f1ibwz09::after{border-bottom-right-radius:var(--borderRadiusMedium);}",[".f1mnjydx::after{border-bottom:var(--strokeWidthThick) solid var(--colorCompoundBrandStroke);}",{p:-1}],".fj2g8qd::after{clip-path:inset(calc(100% - var(--strokeWidthThick)) 0 0 0);}",".f1yk9hq::after{transform:scaleX(0);}",".fhwpy7i::after{transition-property:transform;}",".f14ee0xe::after{transition-duration:var(--durationUltraFast);}",".f1xhbsuh::after{transition-delay:var(--curveAccelerateMid);}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",[".f1gmd7mu{border:var(--strokeWidthThin) solid var(--colorTransparentStrokeInteractive);}",{p:-2}],".fyed02w{box-shadow:var(--shadow2);}",[".f1gmd7mu{border:var(--strokeWidthThin) solid var(--colorTransparentStrokeInteractive);}",{p:-2}],[".fhz96rm{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);}",{p:-2}],".f1c1zstj{border-bottom-color:var(--colorNeutralStrokeAccessible);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}"],m:[["@media (forced-colors: active){.f9dbb4x{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3qs60o{border-right-color:GrayText;}.f5u9ap2{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fwd1oij{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.fsrmcvb::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1t3k7v9::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fx04xgm:focus-within::after{transition-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1c7in40:focus-within::after{transition-delay:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],w:[".fjw5xc1:focus-within::after{transform:scaleX(1);}",".f1xdyd5c:focus-within::after{transition-property:transform;}",".fatpbeo:focus-within::after{transition-duration:var(--durationNormal);}",".fb7uyps:focus-within::after{transition-delay:var(--curveDecelerateMid);}",".f1ibeo51:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".f1vnc8sk:focus-within{outline-width:var(--strokeWidthThick);}",".f3e99gv:focus-within{outline-style:solid;}",".fhljsf7:focus-within{outline-color:transparent;}",[".f19ezbcq:focus-within{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Pressed);}",{p:-2}],".f1so894s:focus-within{border-bottom-color:var(--colorCompoundBrandStroke);}"],h:[".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}",[".f9mts5e:hover{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Hover);}",{p:-2}],".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}"],a:[[".f1acnei2:active{border:var(--strokeWidthThin) solid var(--colorNeutralStroke1Pressed);}",{p:-2}],".f1z0osm6:active{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"]}),uhe=Fe({base:{icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],oivjwe:"f1h8hb77",wvpqe5:["f1deefiw","f1n71otn"],jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao",De3pzq:"f3rmtva",B7ck84d:"f1ewtqcl",sj55zd:"f19n0e5",Bh6795r:"fqerorx",Bahqtrf:"fk6fouc",Bqenvij:"f1l02sjl",yvdlaj:"fwyc1cq",B3o7kgh:"f13ta7ih",oeaueh:"f1s6fcnf"},disabled:{sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"},small:{sshi5w:"f1w5jphr",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1pnffij",Bxyxcbc:"f192z54u",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{sshi5w:"fvmd9f",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1ww82xo",Bxyxcbc:"f1if7ixc",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},large:{sshi5w:"f1kfson",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f15hvtkj",Bxyxcbc:"f3kip1f",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k"}},{d:[".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1h8hb77{border-bottom-style:none;}",[".f1s184ao{margin:0;}",{p:-1}],".f3rmtva{background-color:transparent;}",".f1ewtqcl{box-sizing:border-box;}",".f19n0e5{color:var(--colorNeutralForeground1);}",".fqerorx{flex-grow:1;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".f1l02sjl{height:100%;}",".fwyc1cq::-webkit-input-placeholder{color:var(--colorNeutralForeground4);}",".fwyc1cq::-moz-placeholder{color:var(--colorNeutralForeground4);}",".f13ta7ih::-webkit-input-placeholder{opacity:1;}",".f13ta7ih::-moz-placeholder{opacity:1;}",".f1s6fcnf{outline-style:none;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}",".f1w5jphr{min-height:40px;}",[".f1pnffij{padding:var(--spacingVerticalXS) calc(var(--spacingHorizontalSNudge) + var(--spacingHorizontalXXS));}",{p:-1}],".f192z54u{max-height:200px;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fvmd9f{min-height:52px;}",[".f1ww82xo{padding:var(--spacingVerticalSNudge) calc(var(--spacingHorizontalMNudge) + var(--spacingHorizontalXXS));}",{p:-1}],".f1if7ixc{max-height:260px;}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1kfson{min-height:64px;}",[".f15hvtkj{padding:var(--spacingVerticalS) calc(var(--spacingHorizontalM) + var(--spacingHorizontalXXS));}",{p:-1}],".f3kip1f{max-height:320px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}"]}),dhe=Fe({none:{B3rzk8w:"f1o1s39h"},both:{B3rzk8w:"f1pxm0xe"},horizontal:{B3rzk8w:"fq6nmtn"},vertical:{B3rzk8w:"f1f5ktr4"}},{d:[".f1o1s39h{resize:none;}",".f1pxm0xe{resize:both;}",".fq6nmtn{resize:horizontal;}",".f1f5ktr4{resize:vertical;}"]}),fhe=e=>{"use no memo";const{size:t,appearance:n,resize:r}=e,i=e.textarea.disabled,o=`${e.textarea["aria-invalid"]}`=="true",a=n.startsWith("filled"),s=che();e.root.className=Ce(aI.root,s.base,i&&s.disabled,!i&&a&&s.filled,!i&&s[n],!i&&s.interactive,!i&&n==="outline"&&s.outlineInteractive,!i&&o&&s.invalid,e.root.className);const c=uhe(),u=dhe();return e.textarea.className=Ce(aI.textarea,c.base,c[t],u[r],i&&c.disabled,e.textarea.className),e},r1=x.forwardRef((e,t)=>{const n=lhe(e,t);return fhe(n),Ft("useTextareaStyles_unstable")(n),she(n)});r1.displayName="Textarea";const hhe=Rt("r6pzz3z",null,[".r6pzz3z{overflow-y:hidden;overflow-y:clip;scrollbar-gutter:stable;}"]),phe=Rt("r144vlu9",null,[".r144vlu9{overflow-y:hidden;}"]);function mhe(){const e=hhe(),t=phe(),{targetDocument:n}=gn(),r=x.useCallback(()=>{var o;if(!n)return;var a;Math.floor(n.body.getBoundingClientRect().height)>((a=(o=n.defaultView)===null||o===void 0?void 0:o.innerHeight)!==null&&a!==void 0?a:0)&&(n.documentElement.classList.add(e),n.body.classList.add(t))},[n,e,t]),i=x.useCallback(()=>{n&&(n.documentElement.classList.remove(e),n.body.classList.remove(t))},[n,e,t]);return{disableBodyScroll:r,enableBodyScroll:i}}function ghe(e,t){const{findFirstFocusable:n}=Wu(),{targetDocument:r}=gn(),i=x.useRef(null);return x.useEffect(()=>{if(!e)return;const o=i.current&&n(i.current);if(o)o.focus();else{var a;(a=i.current)===null||a===void 0||a.focus()}},[n,e,t,r]),i}const vhe={open:!1,inertTrapFocus:!1,modalType:"modal",isNestedDialog:!1,unmountOnClose:!0,dialogRef:{current:null},requestOpenChange(){}},nP=kc(void 0),yhe=nP.Provider,Oa=e=>Gu(nP,(t=vhe)=>e(t)),bhe=!1,Kq=x.createContext(void 0),Yq=Kq.Provider,xhe=()=>{var e;return(e=x.useContext(Kq))!==null&&e!==void 0?e:bhe},sI=$u(qN,{fromScale:.85,easing:_n.curveDecelerateMid,duration:_n.durationGentle,exitEasing:_n.curveAccelerateMin,exitDuration:_n.durationGentle}),_he=e=>{const{children:t,modalType:n="modal",onOpenChange:r,inertTrapFocus:i=!1,unmountOnClose:o=!0}=e,a=vi("dialog-title-"),[s,c]=whe(t),[u,d]=ro({state:e.open,defaultState:e.defaultOpen,initialState:!1}),f=pt(_=>{r==null||r(_.event,_),_.event.isDefaultPrevented()||d(_.open)}),p=ghe(u,n),{modalAttributes:m,triggerAttributes:g}=Gx({trapFocus:n!=="non-modal",legacyTrapFocus:!i}),v=hv(nP);return{components:{surfaceMotion:sI},inertTrapFocus:i,open:u,modalType:n,content:c,trigger:s,requestOpenChange:f,dialogTitleId:a,isNestedDialog:v,unmountOnClose:o,dialogRef:p,modalAttributes:m,triggerAttributes:g,surfaceMotion:Kx(e.surfaceMotion,{elementType:sI,defaultProps:{visible:u,appear:o,unmountOnExit:o}})}};function whe(e){const t=x.Children.toArray(e);switch(t.length){case 2:return t;case 1:return[void 0,t[0]];default:return[void 0,void 0]}}const Jq=x.createContext(void 0);function She(){return x.useContext(Jq)}const Che=x.forwardRef((e,t)=>x.createElement(Jq.Provider,{value:t},e.children)),The=(e,t)=>Se(yhe,{value:t.dialog,children:an(Yq,{value:t.dialogSurface,children:[e.trigger,e.content&&Se(e.surfaceMotion,{children:Se(Che,{children:e.content})})]})});function khe(e){const{modalType:t,open:n,dialogRef:r,dialogTitleId:i,isNestedDialog:o,inertTrapFocus:a,requestOpenChange:s,modalAttributes:c,triggerAttributes:u,unmountOnClose:d}=e;return{dialog:{open:n,modalType:t,dialogRef:r,dialogTitleId:i,isNestedDialog:o,inertTrapFocus:a,modalAttributes:c,triggerAttributes:u,unmountOnClose:d,requestOpenChange:s},dialogSurface:!1}}const Qn=x.memo(e=>{const t=_he(e),n=khe(t);return The(t,n)});Qn.displayName="Dialog";const Ehe=e=>{const t=xhe(),{children:n,disableButtonEnhancement:r=!1,action:i=t?"close":"open"}=e,o=cv(n),a=Oa(f=>f.requestOpenChange),{triggerAttributes:s}=Gx(),c=pt(f=>{var p,m;o==null||(p=(m=o.props).onClick)===null||p===void 0||p.call(m,f),f.isDefaultPrevented()||a({event:f,type:"triggerClick",open:i==="open"})}),u={...o==null?void 0:o.props,ref:lv(o),onClick:c,...s},d=Zd((o==null?void 0:o.type)==="button"||(o==null?void 0:o.type)==="a"?o.type:"div",{...u,type:"button"});return{children:Fx(n,r?u:d)}},Mhe=e=>e.children,rP=e=>{const t=Ehe(e);return Mhe(t)};rP.displayName="DialogTrigger";rP.isFluentTriggerComponent=!0;const Ahe=(e,t)=>{const{position:n="end",fluid:r=!1}=e;return{components:{root:"div"},root:Ct(Qt("div",{ref:t,...e}),{elementType:"div"}),position:n,fluid:r}},Nhe=e=>Se(e.root,{}),Phe={root:"fui-DialogActions"},Bhe=Rt("rhfpeu0",null,{r:[".rhfpeu0{gap:8px;height:fit-content;box-sizing:border-box;display:flex;grid-row-start:3;grid-row-end:3;}"],s:["@media screen and (max-width: 480px){.rhfpeu0{flex-direction:column;justify-self:stretch;}}"]}),Rhe=Fe({gridPositionEnd:{Bdqf98w:"f1a7i8kp",Br312pm:"fd46tj4",Bw0ie65:"fsyjsko",Btsd7tp:"f1n00o3b",ufxxby:"f1mvsp37",Bq5p579:"flbz1vp"},gridPositionStart:{Bdqf98w:"fsxvdwy",Br312pm:"fwpfdsa",Bw0ie65:"f1e2fz10",Ew0qkd:"f119phc2",ufxxby:"f1j719yo",Bq5p579:"flbz1vp"},fluidStart:{Bw0ie65:"fsyjsko"},fluidEnd:{Br312pm:"fwpfdsa"}},{d:[".f1a7i8kp{justify-self:end;}",".fd46tj4{grid-column-start:2;}",".fsyjsko{grid-column-end:4;}",".fsxvdwy{justify-self:start;}",".fwpfdsa{grid-column-start:1;}",".f1e2fz10{grid-column-end:2;}"],m:[["@media screen and (max-width: 480px){.f1n00o3b{grid-column-start:1;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.f1mvsp37{grid-row-start:4;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.flbz1vp{grid-row-end:auto;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.f119phc2{grid-column-end:4;}}",{m:"screen and (max-width: 480px)"}],["@media screen and (max-width: 480px){.f1j719yo{grid-row-start:3;}}",{m:"screen and (max-width: 480px)"}]]}),jhe=e=>{"use no memo";const t=Bhe(),n=Rhe();return e.root.className=Ce(Phe.root,t,e.position==="start"&&n.gridPositionStart,e.position==="end"&&n.gridPositionEnd,e.fluid&&e.position==="start"&&n.fluidStart,e.fluid&&e.position==="end"&&n.fluidEnd,e.root.className),e},pr=x.forwardRef((e,t)=>{const n=Ahe(e,t);return jhe(n),Ft("useDialogActionsStyles_unstable")(n),Nhe(n)});pr.displayName="DialogActions";const Ihe=(e,t)=>{var n;return{components:{root:"div"},root:Ct(Qt((n=e.as)!==null&&n!==void 0?n:"div",{ref:t,...e}),{elementType:"div"})}},zhe=e=>Se(e.root,{}),Lhe={root:"fui-DialogBody"},Dhe=Rt("rhwx3p8",null,{r:[".rhwx3p8{overflow:unset;gap:8px;display:grid;max-height:calc(100vh - 2 * 24px);max-height:calc(100dvh - 2 * 24px);box-sizing:border-box;grid-template-rows:auto 1fr;grid-template-columns:1fr 1fr auto;}"],s:["@media screen and (max-width: 480px){.rhwx3p8{max-width:100vw;grid-template-rows:auto 1fr auto;}}","@media screen and (max-height: 359px){.rhwx3p8{max-height:unset;}}"]}),Ohe=e=>{"use no memo";const t=Dhe();return e.root.className=Ce(Lhe.root,t,e.root.className),e},ir=x.forwardRef((e,t)=>{const n=Ihe(e,t);return Ohe(n),Ft("useDialogBodyStyles_unstable")(n),zhe(n)});ir.displayName="DialogBody";const lI={root:"fui-DialogTitle",action:"fui-DialogTitle__action"},Fhe=Rt("rxjm636",null,[".rxjm636{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase500);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase500);margin:0;grid-row-start:1;grid-row-end:1;grid-column-start:1;grid-column-end:3;}"]),Uhe=Fe({rootWithoutAction:{Bw0ie65:"fsyjsko"}},{d:[".fsyjsko{grid-column-end:4;}"]}),qhe=Rt("r13kcrze",null,[".r13kcrze{grid-row-start:1;grid-row-end:1;grid-column-start:3;justify-self:end;align-self:start;}"]),Hhe=Rt("r2avt6e","roj2bbc",{r:[".r2avt6e{overflow:visible;padding:0;border-style:none;position:relative;box-sizing:content-box;background-color:inherit;color:inherit;font-family:inherit;font-size:inherit;cursor:pointer;line-height:0;-webkit-appearance:button;text-align:unset;}",".r2avt6e:focus{outline-style:none;}",".r2avt6e:focus-visible{outline-style:none;}",".r2avt6e[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r2avt6e[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".roj2bbc{overflow:visible;padding:0;border-style:none;position:relative;box-sizing:content-box;background-color:inherit;color:inherit;font-family:inherit;font-size:inherit;cursor:pointer;line-height:0;-webkit-appearance:button;text-align:unset;}",".roj2bbc:focus{outline-style:none;}",".roj2bbc:focus-visible{outline-style:none;}",".roj2bbc[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.roj2bbc[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r2avt6e[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.roj2bbc[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Qq=e=>{"use no memo";const t=Fhe(),n=qhe(),r=Uhe();return e.root.className=Ce(lI.root,t,!e.action&&r.rootWithoutAction,e.root.className),e.action&&(e.action.className=Ce(lI.action,n,e.action.className)),e},Vhe=(e,t)=>{const{action:n}=e,r=Oa(o=>o.modalType),i=Hhe();return{components:{root:"h2",action:"div"},root:Ct(Qt("h2",{ref:t,id:Oa(o=>o.dialogTitleId),...e}),{elementType:"h2"}),action:zt(n,{renderByDefault:r==="non-modal",defaultProps:{children:x.createElement(rP,{disableButtonEnhancement:!0,action:"close"},x.createElement("button",{type:"button",className:i,"aria-label":"close"},x.createElement(hoe,null)))},elementType:"div"})}},Whe=e=>an(x.Fragment,{children:[Se(e.root,{children:e.root.children}),e.action&&Se(e.action,{})]}),mr=x.forwardRef((e,t)=>{const n=Vhe(e,t);return Qq(n),Ft("useDialogTitleStyles_unstable")(n),Whe(n)});mr.displayName="DialogTitle";const cI=Roe,eH=(e,t)=>{const n=She(),r=Oa(_=>_.modalType),i=Oa(_=>_.isNestedDialog),o=Oa(_=>_.modalAttributes),a=Oa(_=>_.dialogRef),s=Oa(_=>_.requestOpenChange),c=Oa(_=>_.dialogTitleId),u=Oa(_=>_.open),d=Oa(_=>_.unmountOnClose),f=pt(_=>{if(Ng(e.backdrop)){var y,S;(y=(S=e.backdrop).onClick)===null||y===void 0||y.call(S,_)}r==="modal"&&!_.isDefaultPrevented()&&s({event:_,open:!1,type:"backdropClick"})}),p=pt(_=>{var y;(y=e.onKeyDown)===null||y===void 0||y.call(e,_),_.key===sf&&!_.isDefaultPrevented()&&(s({event:_,open:!1,type:"escapeKeyDown"}),_.preventDefault())}),m=zt(e.backdrop,{renderByDefault:r!=="non-modal",defaultProps:{"aria-hidden":"true"},elementType:"div"});m&&(m.onClick=f);const{disableBodyScroll:g,enableBodyScroll:v}=mhe();return Ni(()=>{if(!u){v();return}if(!(i||r==="non-modal"))return g(),()=>v()},[u,r,i,g,v]),{components:{backdrop:"div",root:"div",backdropMotion:cI},open:u,backdrop:m,isNestedDialog:i,unmountOnClose:d,mountNode:e.mountNode,root:Ct(Qt("div",{tabIndex:-1,role:r==="alert"?"alertdialog":"dialog","aria-modal":r!=="non-modal","aria-labelledby":e["aria-label"]?void 0:c,"aria-hidden":!d&&!u?!0:void 0,...e,...o,onKeyDown:p,ref:dn(t,n,a)}),{elementType:"div"}),backdropMotion:Kx(e.backdropMotion,{elementType:cI,defaultProps:{appear:d,visible:u}}),transitionStatus:void 0}},tH=(e,t)=>an(cf,{mountNode:e.mountNode,children:[e.backdrop&&e.backdropMotion&&Se(e.backdropMotion,{children:Se(e.backdrop,{})}),Se(Yq,{value:t.dialogSurface,children:Se(e.root,{})})]}),uI={root:"fui-DialogSurface",backdrop:"fui-DialogSurface__backdrop"},Ghe=Rt("r1u3t6p6","r5coedp",{r:[".r1u3t6p6{inset:0;padding:24px;margin:auto;border-style:none;overflow:unset;border:1px solid var(--colorTransparentStroke);border-radius:var(--borderRadiusXLarge);display:block;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset;visibility:unset;position:fixed;height:fit-content;max-width:600px;max-height:100vh;max-height:100dvh;box-sizing:border-box;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);box-shadow:var(--shadow64);}",".r1u3t6p6:focus{outline-style:none;}",".r1u3t6p6:focus-visible{outline-style:none;}",".r1u3t6p6[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r1u3t6p6[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r5coedp{inset:0;padding:24px;margin:auto;border-style:none;overflow:unset;border:1px solid var(--colorTransparentStroke);border-radius:var(--borderRadiusXLarge);display:block;-webkit-user-select:unset;-moz-user-select:unset;user-select:unset;visibility:unset;position:fixed;height:fit-content;max-width:600px;max-height:100vh;max-height:100dvh;box-sizing:border-box;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);box-shadow:var(--shadow64);}",".r5coedp:focus{outline-style:none;}",".r5coedp:focus-visible{outline-style:none;}",".r5coedp[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r5coedp[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r1u3t6p6[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media screen and (max-width: 480px){.r1u3t6p6{max-width:100vw;}}","@media screen and (max-height: 359px){.r1u3t6p6{overflow-y:auto;padding-right:calc(24px - 4px);border-right-width:4px;border-top-width:4px;border-bottom-width:4px;}}","@media (forced-colors: active){.r5coedp[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}","@media screen and (max-width: 480px){.r5coedp{max-width:100vw;}}","@media screen and (max-height: 359px){.r5coedp{overflow-y:auto;padding-left:calc(24px - 4px);border-left-width:4px;border-top-width:4px;border-bottom-width:4px;}}"]}),$he=Rt("r1e18s3l",null,[".r1e18s3l{inset:0px;background-color:var(--colorBackgroundOverlay);position:fixed;}"]),Xhe=Fe({nestedDialogBackdrop:{De3pzq:"f1c21dwh"},dialogHidden:{Bkecrkj:"f1aehjj5"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1aehjj5{pointer-events:none;}"]}),Zhe=e=>{"use no memo";const{isNestedDialog:t,root:n,backdrop:r,open:i,unmountOnClose:o}=e,a=Ghe(),s=$he(),c=Xhe(),u=!o&&!i;return n.className=Ce(uI.root,a,u&&c.dialogHidden,n.className),r&&(r.className=Ce(uI.backdrop,s,t&&c.nestedDialogBackdrop,u&&c.dialogHidden,r.className)),e};function nH(e){return{dialogSurface:!0}}const or=x.forwardRef((e,t)=>{const n=eH(e,t),r=nH();return Zhe(n),Ft("useDialogSurfaceStyles_unstable")(n),tH(n,r)});or.displayName="DialogSurface";const Khe=(e,t)=>{var n;return{components:{root:"div"},root:Ct(Qt((n=e.as)!==null&&n!==void 0?n:"div",{ref:t,...e}),{elementType:"div"})}},Yhe=e=>Se(e.root,{}),Jhe={root:"fui-DialogContent"},Qhe=Rt("r1v5zwsm",null,{r:[".r1v5zwsm{padding:var(--strokeWidthThick);margin:calc(var(--strokeWidthThick) * -1);font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);overflow-y:auto;min-height:32px;box-sizing:border-box;grid-row-start:2;grid-row-end:2;grid-column-start:1;grid-column-end:4;}"],s:["@media screen and (max-height: 359px){.r1v5zwsm{overflow-y:unset;}}"]}),epe=e=>{"use no memo";const t=Qhe();return e.root.className=Ce(Jhe.root,t,e.root.className),e},$r=x.forwardRef((e,t)=>{const n=Khe(e,t);return epe(n),Ft("useDialogContentStyles_unstable")(n),Yhe(n)});$r.displayName="DialogContent";const tpe=e=>e<=0?1:e,npe=(e,t)=>e===void 0?e:e<0?0:e>t?t:e,rpe=(e,t)=>{const n=Eq(),r=n==null?void 0:n.validationState,{color:i=r==="error"||r==="warning"||r==="success"?r:"brand",shape:o="rounded",thickness:a="medium"}=e;var s;const c=tpe((s=e.max)!==null&&s!==void 0?s:1),u=npe(e.value,c),d=Ct(Qt("div",{ref:t,role:"progressbar","aria-valuemin":u!==void 0?0:void 0,"aria-valuemax":u!==void 0?c:void 0,"aria-valuenow":u,"aria-labelledby":n==null?void 0:n.labelId,...e}),{elementType:"div"});n&&(n.validationMessageId||n.hintId)&&(d["aria-describedby"]=[n==null?void 0:n.validationMessageId,n==null?void 0:n.hintId,d["aria-describedby"]].filter(Boolean).join(" "));const f=Ct(e.bar,{elementType:"div"});return{color:i,max:c,shape:o,thickness:a,value:u,components:{root:"div",bar:"div"},root:d,bar:f}},ipe=e=>Se(e.root,{children:e.bar&&Se(e.bar,{})}),dI={root:"fui-ProgressBar",bar:"fui-ProgressBar__bar"},ope=.01,ape=Fe({root:{mc9l5x:"ftgm304",De3pzq:"f18f03hv",a9b677:"fly5x3f",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Bomf52o:"f1skxd4g"},rounded:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},medium:{Bqenvij:"f4t8t6x"},large:{Bqenvij:"f6ywr7j"}},{d:[".ftgm304{display:block;}",".f18f03hv{background-color:var(--colorNeutralBackground6);}",".fly5x3f{width:100%;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".f4t8t6x{height:2px;}",".f6ywr7j{height:4px;}"],m:[["@media screen and (forced-colors: active){.f1skxd4g{background-color:CanvasText;}}",{m:"screen and (forced-colors: active)"}]]}),spe=Fe({base:{Bomf52o:"f1tnpuu0",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f12b9xdw",Bqenvij:"f1l02sjl"},nonZeroDeterminate:{Bmy1vo4:"fjt6zfz",B3o57yi:"f1wofebd",Bkqvd7p:"fv71qf3"},indeterminate:{B2u0y6b:"fa0wk36",qhf8xq:"f10pi13n",Bcmaq0h:["fpo0yib","f1u5hf6c"],Bv12yb3:["fwd2bol","f14gig94"],vin17d:"f1a27w2r",Ezkn3b:"f452v7t",w3vfg9:"f1cpbl36",jpy9cc:"f3z2g5w",Bqo2lbl:"fz5izi4",B6plc1d:"fv40pdu",I82g5a:"f1uj6jbf"},brand:{De3pzq:"ftywsgz"},error:{De3pzq:"fdl5y0r"},warning:{De3pzq:"f1s438gw"},success:{De3pzq:"flxk52p"}},{m:[["@media screen and (forced-colors: active){.f1tnpuu0{background-color:Highlight;}}",{m:"screen and (forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.f3z2g5w{max-width:100%;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fz5izi4{animation-iteration-count:infinite;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fv40pdu{animation-duration:3s;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1uj6jbf{animation-name:ftc26vs;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],d:[[".f12b9xdw{border-radius:inherit;}",{p:-1}],".f1l02sjl{height:100%;}",".fjt6zfz{transition-property:width;}",".f1wofebd{transition-duration:0.3s;}",".fv71qf3{transition-timing-function:ease;}",".fa0wk36{max-width:33%;}",".f10pi13n{position:relative;}",`.fpo0yib{background-image:linear-gradient(
      to right,
      var(--colorNeutralBackground6) 0%,
      var(--colorTransparentBackground) 50%,
      var(--colorNeutralBackground6) 100%
    );}`,`.f1u5hf6c{background-image:linear-gradient(
      to left,
      var(--colorNeutralBackground6) 0%,
      var(--colorTransparentBackground) 50%,
      var(--colorNeutralBackground6) 100%
    );}`,".fwd2bol{animation-name:f1keuaan;}",".f14gig94{animation-name:f10x8f8u;}",".f1a27w2r{animation-duration:3s;}",".f452v7t{animation-timing-function:linear;}",".f1cpbl36{animation-iteration-count:infinite;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fdl5y0r{background-color:var(--colorPaletteRedBackground3);}",".f1s438gw{background-color:var(--colorPaletteDarkOrangeBackground3);}",".flxk52p{background-color:var(--colorPaletteGreenBackground3);}"],k:["@keyframes f1keuaan{0%{left:-33%;}100%{left:100%;}}","@keyframes f10x8f8u{0%{right:-33%;}100%{right:100%;}}","@keyframes ftc26vs{0%{opacity:.2;}50%{opacity:1;}100%{opacity:.2;}}"]}),lpe=e=>{"use no memo";const{color:t,max:n,shape:r,thickness:i,value:o}=e,a=ape(),s=spe();return e.root.className=Ce(dI.root,a.root,a[r],a[i],e.root.className),e.bar&&(e.bar.className=Ce(dI.bar,s.base,s.brand,o===void 0&&s.indeterminate,o!==void 0&&o>ope&&s.nonZeroDeterminate,t&&o!==void 0&&s[t],e.bar.className)),e.bar&&o!==void 0&&(e.bar.style={width:Math.min(100,Math.max(0,o/n*100))+"%",...e.bar.style}),e},Lb=x.forwardRef((e,t)=>{const n=rpe(e,t);return lpe(n),Ft("useProgressBarStyles_unstable")(n),ipe(n)});Lb.displayName="ProgressBar";const rH=x.createContext(void 0),cpe={size:"medium",noNativeElements:!1,sortable:!1},upe=rH.Provider,xv=()=>{var e;return(e=x.useContext(rH))!==null&&e!==void 0?e:cpe},dpe=(e,t)=>{const{noNativeElements:n,size:r}=xv();var i;const o=((i=e.as)!==null&&i!==void 0?i:n)?"div":"td";return{components:{root:o},root:Ct(Qt(o,{ref:t,role:o==="div"?"cell":void 0,...e}),{elementType:o}),noNativeElements:n,size:r}},fpe=e=>Se(e.root,{}),hpe="fui-TableCell",ppe={root:hpe},mpe=Fe({root:{mc9l5x:"f15pt5es",ha4doy:"fmrv4ls"},medium:{Bqenvij:"f1ft4266"},small:{Bqenvij:"fbsu25e"},"extra-small":{Bqenvij:"frvgh55"}},{d:[".f15pt5es{display:table-cell;}",".fmrv4ls{vertical-align:middle;}",".f1ft4266{height:44px;}",".fbsu25e{height:34px;}",".frvgh55{height:24px;}"]}),gpe=Fe({root:{mc9l5x:"f22iagw",Bf4jedk:"f10tiqix",Bt984gj:"f122n59",xawz:0,Bh6795r:0,Bnnss6s:0,fkmc3a:"f1izfyrr"},medium:{sshi5w:"f5pgtk9"},small:{sshi5w:"fcep9tg"},"extra-small":{sshi5w:"f1pha7fy"}},{d:[".f22iagw{display:flex;}",".f10tiqix{min-width:0px;}",".f122n59{align-items:center;}",[".f1izfyrr{flex:1 1 0px;}",{p:-1}],".f5pgtk9{min-height:44px;}",".fcep9tg{min-height:34px;}",".f1pha7fy{min-height:24px;}"]}),vpe=Fe({root:{qhf8xq:"f10pi13n",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f3gpkru",Bfpq7zp:0,g9k6zt:0,Bn4voq9:0,giviqs:"f1dxfoyt",Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f2krc9w"}},{d:[".f10pi13n{position:relative;}",[".f3gpkru{padding:0px var(--spacingHorizontalS);}",{p:-1}],[".f1dxfoyt[data-fui-focus-visible]{outline:2px solid var(--colorStrokeFocus2);}",{p:-1}],[".f2krc9w[data-fui-focus-visible]{border-radius:var(--borderRadiusMedium);}",{p:-1}]]}),ype=e=>{"use no memo";const t=vpe(),n={table:mpe(),flex:gpe()};return e.root.className=Ce(ppe.root,t.root,e.noNativeElements?n.flex.root:n.table.root,e.noNativeElements?n.flex[e.size]:n.table[e.size],e.root.className),e},xe=x.forwardRef((e,t)=>{const n=dpe(e,t);return ype(n),Ft("useTableCellStyles_unstable")(n),fpe(n)});xe.displayName="TableCell";const iH=x.createContext(void 0),bpe="",xpe=iH.Provider,_pe=()=>x.useContext(iH)===bpe,wpe=(e,t)=>{const{noNativeElements:n,size:r}=xv();var i;const o=((i=e.as)!==null&&i!==void 0?i:n)?"div":"tr",a=jN(),s=bp(),c=_pe();var u;return{components:{root:o},root:Ct(Qt(o,{ref:dn(t,a,s),role:o==="div"?"row":void 0,...e}),{elementType:o}),size:r,noNativeElements:n,appearance:(u=e.appearance)!==null&&u!==void 0?u:"none",isHeaderRow:c}},Spe=e=>Se(e.root,{}),Cpe="fui-TableRow",Tpe={root:Cpe},kpe=Fe({root:{mc9l5x:"f1u0rzck"}},{d:[".f1u0rzck{display:table-row;}"]}),Epe=Fe({root:{mc9l5x:"f22iagw",Bt984gj:"f122n59"}},{d:[".f22iagw{display:flex;}",".f122n59{align-items:center;}"]}),Mpe=Fe({root:{sj55zd:"f19n0e5",B7ck84d:"f1ewtqcl",Bconypa:"f1jazu75",B6guboy:"f1xeqee6",Bfpq7zp:0,g9k6zt:0,Bn4voq9:0,giviqs:"f1dxfoyt",Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f2krc9w"},rootInteractive:{B6guboy:"f1xeqee6",ecr2s2:"f1wfn5kd",lj723h:"f1g4hkjv",B43xm9u:"f15ngxrw",i921ia:"fjbbrdp",Jwef8y:"f1t94bn6",Bi91k9c:"feu1g3u",Bpt6rm4:"f1uorfem",ff6mpl:"fw60kww",Bahaeuw:"f1v3eptx",F230oe:"f8gmj8i",Bdw8ktp:["f1ap8nzx","fjag8bx"],Bj1xduy:"f1igan7k",Bhh2cfd:["fjag8bx","f1ap8nzx"]},medium:{B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f1facbz3"},small:{B9xav0g:0,oivjwe:0,Bn0qgzm:0,Bgfg5da:"f1facbz3"},"extra-small":{Be2twd7:"fy9rknc"},brand:{De3pzq:"f16xkysk",g2u3we:"f1bh3yvw",h3c5rm:["fmi79ni","f11fozsx"],B9xav0g:"fnzw4c6",zhjwy3:["f11fozsx","fmi79ni"],ecr2s2:"f7tkmfy",lj723h:"f1r2dosr",wmvzou:0,sc4o1m:0,wymq9i:0,u9orzk:0,puiv5t:0,Bosien3:0,b2z72d:0,Beulxaw:0,B57pkaw:0,Jcjdmf:0,B8qgbzl:0,Bbmb0sr:0,B14q8qp:0,Bcq6wej:0,Byz1pjr:0,kr9cjb:0,Ff9ifp:"f1msmgpi",Bmclvqj:0,psczho:0,B0tx59b:0,sk7i8k:0,zlwzm7:"fbo0xvd",Bkp2nk:"fjuvmhu",gy0h4g:"f1kvufhq"},neutral:{wmvzou:0,sc4o1m:0,wymq9i:0,u9orzk:0,puiv5t:0,Bosien3:0,b2z72d:0,Beulxaw:0,B57pkaw:0,Jcjdmf:0,B8qgbzl:0,Bbmb0sr:0,B14q8qp:0,Bcq6wej:0,Byz1pjr:0,kr9cjb:0,Ff9ifp:"f1msmgpi",Bmclvqj:0,psczho:0,B0tx59b:0,sk7i8k:0,zlwzm7:"fbo0xvd",Bkp2nk:"fjuvmhu",gy0h4g:"f1kvufhq",De3pzq:"fq5gl1p",sj55zd:"f1cgsbmv",Jwef8y:"f1uqaxdt",ecr2s2:"fa9o754",g2u3we:"frmsihh",h3c5rm:["frttxa5","f11o2r7f"],B9xav0g:"fem5et0",zhjwy3:["f11o2r7f","frttxa5"]},none:{}},{d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".f1ewtqcl{box-sizing:border-box;}",".f1jazu75[data-fui-focus-within]:focus-within .fui-TableSelectionCell{opacity:1;}",".f1xeqee6[data-fui-focus-within]:focus-within .fui-TableCellActions{opacity:1;}",[".f1dxfoyt[data-fui-focus-visible]{outline:2px solid var(--colorStrokeFocus2);}",{p:-1}],[".f2krc9w[data-fui-focus-visible]{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f1facbz3{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStroke2);}",{p:-1}],[".f1facbz3{border-bottom:var(--strokeWidthThin) solid var(--colorNeutralStroke2);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".f16xkysk{background-color:var(--colorBrandBackground2);}",".f1bh3yvw{border-top-color:var(--colorTransparentStrokeInteractive);}",".fmi79ni{border-right-color:var(--colorTransparentStrokeInteractive);}",".f11fozsx{border-left-color:var(--colorTransparentStrokeInteractive);}",".fnzw4c6{border-bottom-color:var(--colorTransparentStrokeInteractive);}",".fq5gl1p{background-color:var(--colorSubtleBackgroundSelected);}",".f1cgsbmv{color:var(--colorNeutralForeground1Hover);}",".frmsihh{border-top-color:var(--colorNeutralStrokeOnBrand);}",".frttxa5{border-right-color:var(--colorNeutralStrokeOnBrand);}",".f11o2r7f{border-left-color:var(--colorNeutralStrokeOnBrand);}",".fem5et0{border-bottom-color:var(--colorNeutralStrokeOnBrand);}"],a:[".f1wfn5kd:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1g4hkjv:active{color:var(--colorNeutralForeground1Pressed);}",".f15ngxrw:active .fui-TableCellActions{opacity:1;}",".fjbbrdp:active .fui-TableSelectionCell{opacity:1;}",".f7tkmfy:active{background-color:var(--colorBrandBackground2);}",".f1r2dosr:active{color:var(--colorNeutralForeground1);}",".fa9o754:active{background-color:var(--colorSubtleBackgroundSelected);}"],h:[".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".f1uorfem:hover .fui-TableCellActions{opacity:1;}",".fw60kww:hover .fui-TableSelectionCell{opacity:1;}",".f1uqaxdt:hover{background-color:var(--colorSubtleBackgroundSelected);}"],m:[["@media (forced-colors: active){.f1v3eptx:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f8gmj8i:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ap8nzx:hover{border-right-color:Highlight;}.fjag8bx:hover{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1igan7k:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1msmgpi{border:2px solid transparent;}}",{p:-2,m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbo0xvd{border-radius:var(--borderRadiusMedium);}}",{p:-1,m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjuvmhu{box-sizing:border-box;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kvufhq:focus-visible{outline-offset:-4px;}}",{m:"(forced-colors: active)"}]]}),Ape=e=>{"use no memo";const t=Mpe(),n={table:kpe(),flex:Epe()};return e.root.className=Ce(Tpe.root,t.root,!e.isHeaderRow&&t.rootInteractive,t[e.size],e.noNativeElements?n.flex.root:n.table.root,t[e.appearance],e.root.className),e},Mt=x.forwardRef((e,t)=>{const n=wpe(e,t);return Ape(n),Ft("useTableRowStyles_unstable")(n),Spe(n)});Mt.displayName="TableRow";const Npe=(e,t)=>{const{noNativeElements:n}=xv();var r;const i=((r=e.as)!==null&&r!==void 0?r:n)?"div":"tbody";return{components:{root:i},root:Ct(Qt(i,{ref:t,role:i==="div"?"rowgroup":void 0,...e}),{elementType:i}),noNativeElements:n}},Ppe=e=>Se(e.root,{}),Bpe=Fe({root:{mc9l5x:"f1tp1avn"}},{d:[".f1tp1avn{display:table-row-group;}"]}),Rpe=Fe({root:{mc9l5x:"ftgm304"}},{d:[".ftgm304{display:block;}"]}),jpe="fui-TableBody",Ipe=e=>{"use no memo";const t={table:Bpe(),flex:Rpe()};return e.root.className=Ce(jpe,e.noNativeElements?t.flex.root:t.table.root,e.root.className),e},Bn=x.forwardRef((e,t)=>{const n=Npe(e,t);return Ipe(n),Ft("useTableBodyStyles_unstable")(n),Ppe(n)});Bn.displayName="TableBody";const zpe=(e,t)=>{var n;const r=((n=e.as)!==null&&n!==void 0?n:e.noNativeElements)?"div":"table";var i,o,a;return{components:{root:r},root:Ct(Qt(r,{ref:t,role:r==="div"?"table":void 0,...e}),{elementType:r}),size:(i=e.size)!==null&&i!==void 0?i:"medium",noNativeElements:(o=e.noNativeElements)!==null&&o!==void 0?o:!1,sortable:(a=e.sortable)!==null&&a!==void 0?a:!1}},Lpe=(e,t)=>Se(upe,{value:t.table,children:Se(e.root,{})}),Dpe="fui-Table",Ope=Fe({root:{mc9l5x:"f1w4nmp0",ha4doy:"fmrv4ls",a9b677:"fly5x3f",B73mfa3:"f14m3nip"}},{d:[".f1w4nmp0{display:table;}",".fmrv4ls{vertical-align:middle;}",".fly5x3f{width:100%;}",".f14m3nip{table-layout:fixed;}"]}),Fpe=Fe({root:{mc9l5x:"ftgm304"}},{d:[".ftgm304{display:block;}"]}),Upe=Fe({root:{po53p8:"fgkb47j",De3pzq:"fhovq9v"}},{d:[".fgkb47j{border-collapse:collapse;}",".fhovq9v{background-color:var(--colorSubtleBackground);}"]}),qpe=e=>{"use no memo";const t=Upe(),n={table:Ope(),flex:Fpe()};return e.root.className=Ce(Dpe,t.root,e.noNativeElements?n.flex.root:n.table.root,e.root.className),e};function Hpe(e){const{size:t,noNativeElements:n,sortable:r}=e;return{table:x.useMemo(()=>({noNativeElements:n,size:t,sortable:r}),[n,t,r])}}const Rn=x.forwardRef((e,t)=>{const n=zpe(e,t);return qpe(n),Ft("useTableStyles_unstable")(n),Lpe(n,Hpe(n))});Rn.displayName="Table";const Vpe=(e,t)=>{const{noNativeElements:n}=xv();var r;const i=((r=e.as)!==null&&r!==void 0?r:n)?"div":"thead";return{components:{root:i},root:Ct(Qt(i,{ref:t,role:i==="div"?"rowgroup":void 0,...e}),{elementType:i}),noNativeElements:n}},Wpe=e=>Se(xpe,{value:"",children:Se(e.root,{})}),Gpe="fui-TableHeader",$pe=Fe({root:{mc9l5x:"ftgm304"}},{d:[".ftgm304{display:block;}"]}),Xpe=Fe({root:{mc9l5x:"f1tp1avn"}},{d:[".f1tp1avn{display:table-row-group;}"]}),Zpe=e=>{"use no memo";const t={table:Xpe(),flex:$pe()};return e.root.className=Ce(Gpe,e.noNativeElements?t.flex.root:t.table.root,e.root.className),e},jn=x.forwardRef((e,t)=>{const n=Vpe(e,t);return Zpe(n),Ft("useTableHeaderStyles_unstable")(n),Wpe(n)});jn.displayName="TableHeader";const Kpe={ascending:x.createElement(Tie,{fontSize:12}),descending:x.createElement(Sie,{fontSize:12})},Ype=(e,t)=>{const{noNativeElements:n,sortable:r}=xv(),{sortable:i=r}=e;var o;const a=((o=e.as)!==null&&o!==void 0?o:n)?"div":"th",s=Ct(e.button,{elementType:"div",defaultProps:{as:"div"}}),c=Zd(s.as,s);var u;return{components:{root:a,button:"div",sortIcon:"span",aside:"span"},root:Ct(Qt(a,{ref:dn(t,bp()),role:a==="div"?"columnheader":void 0,"aria-sort":i?(u=e.sortDirection)!==null&&u!==void 0?u:"none":void 0,...e}),{elementType:a}),aside:zt(e.aside,{elementType:"span"}),sortIcon:zt(e.sortIcon,{renderByDefault:!!e.sortDirection,defaultProps:{children:e.sortDirection?Kpe[e.sortDirection]:void 0},elementType:"span"}),button:i?c:s,sortable:i,noNativeElements:n}},Jpe=e=>an(e.root,{children:[an(e.button,{children:[e.root.children,e.sortIcon&&Se(e.sortIcon,{})]}),e.aside&&Se(e.aside,{})]}),D0={root:"fui-TableHeaderCell",button:"fui-TableHeaderCell__button",sortIcon:"fui-TableHeaderCell__sortIcon",aside:"fui-TableHeaderCell__aside"},Qpe=Fe({root:{mc9l5x:"f15pt5es",ha4doy:"fmrv4ls"}},{d:[".f15pt5es{display:table-cell;}",".fmrv4ls{vertical-align:middle;}"]}),eme=Fe({root:{mc9l5x:"f22iagw",xawz:0,Bh6795r:0,Bnnss6s:0,fkmc3a:"f1izfyrr",Bf4jedk:"f10tiqix"}},{d:[".f22iagw{display:flex;}",[".f1izfyrr{flex:1 1 0px;}",{p:-1}],".f10tiqix{min-width:0px;}"]}),tme=Fe({root:{Bhrd7zp:"figsok6",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f3gpkru",robkg1:0,Bmvh20x:0,B3nxjsc:0,Bmkhcsx:"f14ym4q2",B8osjzx:0,pehzd3:0,Blsv9te:0,u7xebq:0,Bsvwmf7:"f1euou18",qhf8xq:"f10pi13n"},rootInteractive:{Bi91k9c:"feu1g3u",Jwef8y:"f1t94bn6",lj723h:"f1g4hkjv",ecr2s2:"f1wfn5kd"},resetButton:{B3rzk8w:"fq6nmtn",B7ck84d:"f1e4lqlz",De3pzq:"f1u2r49w",sj55zd:"f1ym3bx4",Bahqtrf:"f1mo0ibp",Be2twd7:"fjoy568",Bg96gwp:"fytdu2e",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1gl81tg",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1mk8lai",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh",fsow6f:"fgusgyc"},button:{qhf8xq:"f10pi13n",a9b677:"fly5x3f",mc9l5x:"f22iagw",Bh6795r:0,Bqenvij:"f1l02sjl",Bt984gj:"f122n59",i8kkvl:0,Belr9w4:0,rmohyg:"fkln5zr",sshi5w:"f1nxs5xn",xawz:0,Bnnss6s:0,fkmc3a:"f1izfyrr",oeaueh:"f1s6fcnf"},sortable:{Bceei9c:"f1k6fduh"},sortIcon:{mc9l5x:"f22iagw",Bt984gj:"f122n59",z8tnut:"fclwglc"},resizeHandle:{}},{d:[".figsok6{font-weight:var(--fontWeightRegular);}",[".f3gpkru{padding:0px var(--spacingHorizontalS);}",{p:-1}],[".f14ym4q2[data-fui-focus-within]:focus-within{outline:2px solid var(--colorStrokeFocus2);}",{p:-1}],[".f1euou18[data-fui-focus-within]:focus-within{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f10pi13n{position:relative;}",".fq6nmtn{resize:horizontal;}",".f1e4lqlz{box-sizing:content-box;}",".f1u2r49w{background-color:inherit;}",".f1ym3bx4{color:inherit;}",".f1mo0ibp{font-family:inherit;}",".fjoy568{font-size:inherit;}",".fytdu2e{line-height:normal;}",[".f1gl81tg{overflow:visible;}",{p:-1}],[".f1mk8lai{padding:0;}",{p:-1}],[".f3bhgqh{border:none;}",{p:-2}],".fgusgyc{text-align:unset;}",".fly5x3f{width:100%;}",".f22iagw{display:flex;}",".fqerorx{flex-grow:1;}",".f1l02sjl{height:100%;}",".f122n59{align-items:center;}",[".fkln5zr{gap:var(--spacingHorizontalXS);}",{p:-1}],".f1nxs5xn{min-height:32px;}",[".f1izfyrr{flex:1 1 0px;}",{p:-1}],".f1s6fcnf{outline-style:none;}",".f1k6fduh{cursor:pointer;}",".fclwglc{padding-top:var(--spacingVerticalXXS);}"],h:[".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}"],a:[".f1g4hkjv:active{color:var(--colorNeutralForeground1Pressed);}",".f1wfn5kd:active{background-color:var(--colorSubtleBackgroundPressed);}"]}),nme=e=>{"use no memo";const t=tme(),n={table:Qpe(),flex:eme()};return e.root.className=Ce(D0.root,t.root,e.sortable&&t.rootInteractive,e.noNativeElements?n.flex.root:n.table.root,e.root.className),e.button.className=Ce(D0.button,t.resetButton,t.button,e.sortable&&t.sortable,e.button.className),e.sortIcon&&(e.sortIcon.className=Ce(D0.sortIcon,t.sortIcon,e.sortIcon.className)),e.aside&&(e.aside.className=Ce(D0.aside,t.resizeHandle,e.aside.className)),e},we=x.forwardRef((e,t)=>{const n=Ype(e,t);return nme(n),Ft("useTableHeaderCellStyles_unstable")(n),Jpe(n)});we.displayName="TableHeaderCell";const rme=(e,{referenceLabel:t,referenceId:n},r)=>{const{checkbox:i={},onSelectionChange:o,floatingAction:a,onClick:s,onKeyDown:c,disabled:u}=e,{findAllFocusable:d}=Wu(),f=x.useRef(null),[p,m]=ro({state:e.selected,defaultState:e.defaultSelected,initialState:!1}),g=[e.selected,e.defaultSelected,o].some(E=>typeof E<"u"),[v,_]=x.useState(!1),y=x.useCallback(E=>{if(!r.current)return!1;const I=d(r.current),N=E.target,P=I.some(q=>q.contains(N)),D=(f==null?void 0:f.current)===N;return P&&!D},[r,d]),S=x.useCallback(E=>{if(u||y(E))return;const I=!p;m(I),o&&o(E,{selected:I})},[u,o,p,m,y]),w=x.useCallback(E=>{[ku].includes(E.key)&&(E.preventDefault(),S(E))},[S]),C=x.useMemo(()=>{if(!g||a)return;const E={};return n?E["aria-labelledby"]=n:t&&(E["aria-label"]=t),zt(i,{defaultProps:{ref:f,type:"checkbox",checked:p,disabled:u,onChange:I=>S(I),onFocus:()=>_(!0),onBlur:()=>_(!1),...E},elementType:"input"})},[i,u,a,p,g,S,n,t]),M=x.useMemo(()=>{if(a)return zt(a,{defaultProps:{ref:f},elementType:"div"})},[a]),A=x.useMemo(()=>g?{onClick:un(s,S),onKeyDown:un(c,w)}:null,[g,S,s,c,w]);return{selected:p,selectable:g,selectFocused:v,selectableCardProps:A,checkboxSlot:C,floatingActionSlot:M}},oH=x.createContext(void 0),AM={selectableA11yProps:{referenceId:void 0,setReferenceId(){},referenceLabel:void 0,setReferenceLabel(){}}},ime=oH.Provider,aH=()=>{var e;return(e=x.useContext(oH))!==null&&e!==void 0?e:AM},ome={off:void 0,"no-tab":"limited-trap-focus","tab-exit":"limited","tab-only":"unlimited"},ame=({focusMode:e,disabled:t=!1,...n})=>{const r=["onClick","onDoubleClick","onMouseUp","onMouseDown","onPointerUp","onPointerDown","onTouchStart","onTouchEnd","onDragStart","onDragEnd"].some(a=>n[a]),i=e??(r?"no-tab":"off"),o=RN({tabBehavior:ome[i]});return t?{interactive:!1,focusAttributes:null}:i==="off"?{interactive:r,focusAttributes:null}:{interactive:r,focusAttributes:{...o,tabIndex:0}}},sme=(e,t)=>{const{appearance:n="filled",orientation:r="vertical",size:i="medium",disabled:o=!1,...a}=e,[s,c]=x.useState(AM.selectableA11yProps.referenceId),[u,d]=x.useState(AM.selectableA11yProps.referenceId),f=bp(),{selectable:p,selected:m,selectableCardProps:g,selectFocused:v,checkboxSlot:_,floatingActionSlot:y}=rme(e,{referenceId:s,referenceLabel:u},f),S=dn(f,t),{interactive:w,focusAttributes:C}=ame(e);let M={...p?null:C,...a,...g};return o&&(M={...a,"aria-disabled":!0,onClick:void 0}),{appearance:n,orientation:r,size:i,interactive:w,selectable:p,selectFocused:v,selected:m,disabled:o,selectableA11yProps:{setReferenceId:c,referenceId:s,referenceLabel:u,setReferenceLabel:d},components:{root:"div",floatingAction:"div",checkbox:"input"},root:Ct(Qt("div",{ref:S,role:"group",...M}),{elementType:"div"}),floatingAction:y,checkbox:_}},lme=(e,t)=>Se(e.root,{children:an(ime,{value:t,children:[e.checkbox?Se(e.checkbox,{}):null,e.floatingAction?Se(e.floatingAction,{}):null,e.root.children]})}),NM={root:"fui-CardPreview",logo:"fui-CardPreview__logo"},cme=Fe({root:{qhf8xq:"f10pi13n",Byfpedg:"fgourly",Btj6oj6:"f1vui7lx",B1m4t4s:"fda5zwx"},logo:{qhf8xq:"f1euv43f",B5kzvoi:"f1gcvs1y",oyh7mz:["f1t6tvco","ffrfxm3"],a9b677:"f1szoe96",Bqenvij:"f1d2rq10"}},{d:[".f10pi13n{position:relative;}",".fgourly>:not(.fui-CardPreview__logo){display:block;}",".f1vui7lx>:not(.fui-CardPreview__logo){height:100%;}",".fda5zwx>:not(.fui-CardPreview__logo){width:100%;}",".f1euv43f{position:absolute;}",".f1gcvs1y{bottom:12px;}",".f1t6tvco{left:12px;}",".ffrfxm3{right:12px;}",".f1szoe96{width:32px;}",".f1d2rq10{height:32px;}"]}),ume=e=>{"use no memo";const t=cme();return e.root.className=Ce(NM.root,t.root,e.root.className),e.logo&&(e.logo.className=Ce(NM.logo,t.logo,e.logo.className)),e},sH={root:"fui-CardHeader",image:"fui-CardHeader__image",header:"fui-CardHeader__header",description:"fui-CardHeader__description",action:"fui-CardHeader__action"},dme=Fe({root:{Bkc6ea2:"fkufhic",Bt984gj:"f122n59"},image:{mc9l5x:"ftuwxu6",t21cq0:["fql5097","f6yss9k"]},header:{mc9l5x:"f22iagw"},description:{mc9l5x:"f22iagw"},action:{Frg6f3:["f6yss9k","fql5097"],rjrqlh:"fs9eatd",Boue1pl:["fxoo9ru","f1g0ekvh"],Bhz1vi0:"f1m6zfxz",etxrgc:["f1g0ekvh","fxoo9ru"],Bdua9ef:"f1sret3r",cbfxhg:"fs4gbcv"}},{d:[".fkufhic{--fui-CardHeader--gap:12px;}",".f122n59{align-items:center;}",".ftuwxu6{display:inline-flex;}",".fql5097{margin-right:var(--fui-CardHeader--gap);}",".f6yss9k{margin-left:var(--fui-CardHeader--gap);}",".f22iagw{display:flex;}"],m:[["@media (forced-colors: active){.fs9eatd .fui-Button,.fs9eatd .fui-Link{border-top-color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1g0ekvh .fui-Button,.f1g0ekvh .fui-Link{border-left-color:currentColor;}.fxoo9ru .fui-Button,.fxoo9ru .fui-Link{border-right-color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1m6zfxz .fui-Button,.f1m6zfxz .fui-Link{border-bottom-color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1sret3r .fui-Button,.f1sret3r .fui-Link{color:currentColor;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fs4gbcv .fui-Button,.fs4gbcv .fui-Link{outline-color:currentColor;}}",{m:"(forced-colors: active)"}]]}),fme=Fe({root:{mc9l5x:"f13qh94s",t4k1zu:"f8a668j"},image:{Br312pm:"fwpfdsa",Ijaq50:"fldnz9j"},header:{Br312pm:"fd46tj4",Ijaq50:"f16hsg94"},description:{Br312pm:"fd46tj4",Ijaq50:"faunodf"},action:{Br312pm:"fis13di",Ijaq50:"fldnz9j"}},{d:[".f13qh94s{display:grid;}",".f8a668j{grid-auto-columns:min-content 1fr min-content;}",".fwpfdsa{grid-column-start:1;}",".fldnz9j{grid-row-start:span 2;}",".fd46tj4{grid-column-start:2;}",".f16hsg94{grid-row-start:1;}",".faunodf{grid-row-start:2;}",".fis13di{grid-column-start:3;}"]}),hme=Fe({root:{mc9l5x:"f22iagw"},header:{Bh6795r:"fqerorx"},image:{},description:{},action:{}},{d:[".f22iagw{display:flex;}",".fqerorx{flex-grow:1;}"]}),pme=e=>{"use no memo";const t=dme(),n=fme(),r=hme(),i=e.description?n:r,o=a=>{var s;return Ce(sH[a],t[a],i[a],(s=e[a])===null||s===void 0?void 0:s.className)};return e.root.className=o("root"),e.image&&(e.image.className=o("image")),e.header&&(e.header.className=o("header")),e.description&&(e.description.className=o("description")),e.action&&(e.action.className=o("action")),e},bw={root:"fui-Card",floatingAction:"fui-Card__floatingAction",checkbox:"fui-Card__checkbox"},mme=Rt("rfxo2k2","rgle7w9",[".rfxo2k2{overflow:hidden;border-radius:var(--fui-Card--border-radius);padding:var(--fui-Card--size);gap:var(--fui-Card--size);display:flex;position:relative;box-sizing:border-box;color:var(--colorNeutralForeground1);}",'.rfxo2k2::after{position:absolute;top:0;left:0;right:0;bottom:0;content:"";pointer-events:none;border-top-style:solid;border-right-style:solid;border-bottom-style:solid;border-left-style:solid;border-top-width:var(--strokeWidthThin);border-right-width:var(--strokeWidthThin);border-bottom-width:var(--strokeWidthThin);border-left-width:var(--strokeWidthThin);border-radius:var(--fui-Card--border-radius);}',".rfxo2k2>.fui-CardHeader,.rfxo2k2>.fui-CardFooter{flex-shrink:0;}",".rgle7w9{overflow:hidden;border-radius:var(--fui-Card--border-radius);padding:var(--fui-Card--size);gap:var(--fui-Card--size);display:flex;position:relative;box-sizing:border-box;color:var(--colorNeutralForeground1);}",'.rgle7w9::after{position:absolute;top:0;right:0;left:0;bottom:0;content:"";pointer-events:none;border-top-style:solid;border-left-style:solid;border-bottom-style:solid;border-right-style:solid;border-top-width:var(--strokeWidthThin);border-left-width:var(--strokeWidthThin);border-bottom-width:var(--strokeWidthThin);border-right-width:var(--strokeWidthThin);border-radius:var(--fui-Card--border-radius);}',".rgle7w9>.fui-CardHeader,.rgle7w9>.fui-CardFooter{flex-shrink:0;}"]);({...it.borderColor(k.colorNeutralStrokeDisabled),"::after":{...it.borderColor(k.colorNeutralStrokeDisabled)}});const gme=Fe({focused:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",B8q5s1w:"f8hki3x",Bci5o5g:["f1d2448m","ffh67wi"],n8qw10:"f1bjia2o",Bdrgwmp:["ffh67wi","f1d2448m"],Bqhya38:"f1j6vpng",Bwxa6fj:["f1pniga2","f1ffjurs"],Bdhvstf:"f987i1v",B7zbvrb:["f1ffjurs","f1pniga2"],Bm4h7ae:"f15bsgw9",B7ys5i9:"f14e48fq",Busjfv9:"f18yb2kv",Bhk32uz:"fd6o370",f6g5ot:0,Boxcth7:0,Bhdgwq3:0,hgwjuy:0,Bshpdp8:0,Bsom6fd:0,Blkhhs4:0,Bonggc9:0,Ddfuxk:0,i03rao:0,kclons:0,clg4pj:0,Bpqj9nj:0,B6dhp37:0,Bf4ptjt:0,Bqtpl0w:0,i4rwgc:"fpqizxz",Dah5zi:0,B1tsrr9:0,qqdqy8:0,Bkh64rk:0,e3fwne:"fnd8nzh",J0r882:"f15fr7a0",Bule8hv:["fwsq40z","fy0y4wt"],Bjwuhne:"f34ld9f",Ghsupd:["fy0y4wt","fwsq40z"]},selectableFocused:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",Bssx7fj:"f1b1k54r",uh7if5:["f4ne723","fqqcjud"],clntm0:"fh7aioi",Dlk2r6:["fqqcjud","f4ne723"],h6p2u:"f1ufm4qn",I6qiy5:["f1qnwcb4","fgrk5zm"],yzno9d:"fi52z01",By0wis0:["fgrk5zm","f1qnwcb4"],B2j2mmj:"ffht0p2",wigs8:"f1p0ul1q",pbfy6t:"f1c901ms",B0v4ure:"f1alokd7",Byrf0fs:0,Bsiemmq:0,Bwckmig:0,skfxo0:0,Iidy0u:0,B98u21t:0,Bvwlmkc:0,jo1ztg:0,Ba1iezr:0,Blmvk6g:0,B24cy0v:0,Bil7v7r:0,Br3gin4:0,nr063g:0,ghq09:0,Bbgo44z:0,Bseh09z:"f1i978nd",az1dzo:0,Ba3ybja:0,B6352mv:0,vppk2z:0,Biaj6j7:"f1nh8hsq",B2pnrqr:"f1amxum7",B29w5g4:["f1cec8w7","f554mv0"],Bhhzhcn:"f1sj6kbr",Bec0n69:["f554mv0","f1cec8w7"]},orientationHorizontal:{Beiy3e4:"f1063pyq",Bt984gj:"f122n59",Binpb3b:"ftrw7vg",qrt8p2:"f18opajm",k6ws3r:["f13002it","fqo182t"],Btcwela:["f18yna97","f1kd6wh7"],Fer9m8:"f4i4759"},orientationVertical:{Beiy3e4:"f1vx9l62",B5nvv7i:["f14k419y","f1fgo9fz"],Baxg94k:["f1fgo9fz","f14k419y"],tn21ii:"fvqmfsm",B0ud6bj:"f3am6yf",Bgdo4j:"f1r5wgso"},sizeSmall:{B7balbw:"f1pi9uxy",B1h88n7:"f1h1zgly"},sizeMedium:{B7balbw:"frsmuga",B1h88n7:"fuldkky"},sizeLarge:{B7balbw:"f1qua4xo",B1h88n7:"fimkt6v"},interactive:{rhjd8f:"f1epqm3e"},filled:{De3pzq:"fxugw4r",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"]},filledInteractive:{Bceei9c:"f1k6fduh",De3pzq:"fxugw4r",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"],Bi91k9c:"feu1g3u",Jwef8y:"f1knas48",Bvxd0ez:"f1m145df",ecr2s2:"fb40n2d"},filledInteractiveSelected:{De3pzq:"f1nfm20t",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"fx9teim",Jwef8y:"f1kz6goq"},filledAlternative:{De3pzq:"f1dmdbja",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"]},filledAlternativeInteractive:{Bceei9c:"f1k6fduh",De3pzq:"f1dmdbja",E5pizo:"f1whvlc6",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"],Bi91k9c:"fnwyq0v",Jwef8y:"f1uvynv3",Bvxd0ez:"f1m145df",ecr2s2:"f1yhgkbh"},filledAlternativeInteractiveSelected:{De3pzq:"fjxa0vh",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"f1luvkty",Jwef8y:"fehi0vp"},outline:{De3pzq:"f1c21dwh",E5pizo:"f1couhl3",B0n5ga8:"ft83z1f",s924m2:["f1g4150c","f192dr6e"],B1q35kw:"f1qnawh6",Gp14am:["f192dr6e","f1g4150c"]},outlineInteractive:{Bceei9c:"f1k6fduh",De3pzq:"f1c21dwh",E5pizo:"f1couhl3",B0n5ga8:"ft83z1f",s924m2:["f1g4150c","f192dr6e"],B1q35kw:"f1qnawh6",Gp14am:["f192dr6e","f1g4150c"],Bi91k9c:"feu1g3u",Jwef8y:"fjxutwb",Be0v6ae:"f1llr77y",B5kxglz:["fzk0khw","fjj8tog"],B3pwyw6:"fb1u8ub",Bymgtzf:["fjj8tog","fzk0khw"],ecr2s2:"fophhak",dmfk:"f1uohb70",B4ofi8:["f1jm7v1n","f1bus3rq"],jgq6uv:"f1fbu7rr",Baxewws:["f1bus3rq","f1jm7v1n"]},outlineInteractiveSelected:{De3pzq:"f1q9pm1r",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"fx9teim",Jwef8y:"fg59vm4"},outlineDisabled:{De3pzq:"f1c21dwh",E5pizo:"f1couhl3",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],ezxybo:"f1ls5moo",wc7uws:"f1qiza15",B0n5ga8:"f13dj02",s924m2:["f9wngki","f17v59j0"],B1q35kw:"f1vxzwsp",Gp14am:["f17v59j0","f9wngki"]},subtle:{De3pzq:"fhovq9v",E5pizo:"f1couhl3",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"]},subtleInteractive:{Bceei9c:"f1k6fduh",De3pzq:"fhovq9v",E5pizo:"f1couhl3",B0n5ga8:"f16gxe2i",s924m2:["fpgykix","fzybk4o"],B1q35kw:"f1osi826",Gp14am:["fzybk4o","fpgykix"],Bi91k9c:"feu1g3u",Jwef8y:"f1t94bn6",ecr2s2:"f1wfn5kd"},subtleInteractiveSelected:{De3pzq:"fq5gl1p",B0n5ga8:"f16eln5f",s924m2:["fa2okxs","fg4zq3l"],B1q35kw:"ff6932p",Gp14am:["fg4zq3l","fa2okxs"],Bi91k9c:"fx9teim",Jwef8y:"f1uqaxdt"},highContrastSelected:{B8gzw0y:"f1h3a8gf",By8wz76:"f1nz3ub2",B7iucu3:"fqc85l4",Boo9lyk:"f1ucc5z8",sga51p:"fyj59f4",qj1yg9:["f19v95gn","f1n69f6i"],B8acmzm:"f16q7dot",Gezqo6:["f1n69f6i","f19v95gn"]},highContrastInteractive:{waf3gn:"f1quqgnd",B96h8j5:"f193utb4",Bpd3jnq:"f1io67iv",uhbujs:"f3n01jk",sga51p:"fyj59f4",qj1yg9:["f19v95gn","f1n69f6i"],B8acmzm:"f16q7dot",Gezqo6:["f1n69f6i","f19v95gn"]},select:{qhf8xq:"f1euv43f",Bhzewxz:"fqclxi7",j35jbq:["fiv86kb","f36uhnt"],Bj3rh1h:"fom9my7"},hiddenCheckbox:{B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",a9b677:"frkrog8",Bqenvij:"f1mpe4l3",qhf8xq:"f1euv43f",Bh84pgu:"fmf1zke",Bgl5zvf:"f1wch0ki",Huce71:"fz5stix"},disabled:{Bceei9c:"fdrzuqr",famaaq:"f1xqy1su",sj55zd:"f1s2aq7o",De3pzq:"f1bg9a2p",E5pizo:"fyed02w",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Ftih45:"f1wl9k8s",Brfgrao:"f1j7ml58",lawp4y:0,Fbdkly:0,mdwyqc:0,Bciustq:0,gc50h5:"f13vvzas",Ehzi8l:"f198lalb",B0n5ga8:"f13dj02",s924m2:["f9wngki","f17v59j0"],B1q35kw:"f1vxzwsp",Gp14am:["f17v59j0","f9wngki"],Bikrtoi:"f11og98d",G8qf51:"f1rg3h4v",Brxh4y7:"fbm2y3b",ezxybo:"f4yodeu",wc7uws:"fcwfbwp",gp3uxg:"f1repx37",Fohawp:["f1ybi8ct","f1h4eg6q"],Bxulg6k:"f18mejnb",vcjq4m:["f1h4eg6q","f1ybi8ct"],Bsqkqe9:"f1nift3m",fskg1g:"f1wu3i8x",iwiei9:0,Effecx:0,Bkt1b9m:0,jfmxvr:0,orauir:"f6v4vfa",B2yd9ot:"folrdqs",Fn9tzk:"f168z5yf",Bv0wker:["fpor7gj","fzextn6"],Bp2dl5b:"f1yaw79v",pzn0iz:["fzextn6","fpor7gj"]}},{f:[".ftqa4ok:focus{outline-style:none;}"],i:[".f2hkw1w:focus-visible{outline-style:none;}"],d:[".f8hki3x[data-fui-focus-visible]{border-top-color:transparent;}",".f1d2448m[data-fui-focus-visible]{border-right-color:transparent;}",".ffh67wi[data-fui-focus-visible]{border-left-color:transparent;}",".f1bjia2o[data-fui-focus-visible]{border-bottom-color:transparent;}",'.f15bsgw9[data-fui-focus-visible]::after{content:"";}',".f14e48fq[data-fui-focus-visible]::after{position:absolute;}",".f18yb2kv[data-fui-focus-visible]::after{pointer-events:none;}",".fd6o370[data-fui-focus-visible]::after{z-index:1;}",[".fpqizxz[data-fui-focus-visible]::after{border:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}",{p:-2}],[".fnd8nzh[data-fui-focus-visible]::after{border-radius:var(--fui-Card--border-radius);}",{p:-1}],".f15fr7a0[data-fui-focus-visible]::after{top:calc(0px - var(--strokeWidthThick) - -2px);}",".fwsq40z[data-fui-focus-visible]::after{right:calc(0px - var(--strokeWidthThick) - -2px);}",".fy0y4wt[data-fui-focus-visible]::after{left:calc(0px - var(--strokeWidthThick) - -2px);}",".f34ld9f[data-fui-focus-visible]::after{bottom:calc(0px - var(--strokeWidthThick) - -2px);}",".f1b1k54r[data-fui-focus-within]:focus-within{border-top-color:transparent;}",".f4ne723[data-fui-focus-within]:focus-within{border-right-color:transparent;}",".fqqcjud[data-fui-focus-within]:focus-within{border-left-color:transparent;}",".fh7aioi[data-fui-focus-within]:focus-within{border-bottom-color:transparent;}",'.ffht0p2[data-fui-focus-within]:focus-within::after{content:"";}',".f1p0ul1q[data-fui-focus-within]:focus-within::after{position:absolute;}",".f1c901ms[data-fui-focus-within]:focus-within::after{pointer-events:none;}",".f1alokd7[data-fui-focus-within]:focus-within::after{z-index:1;}",[".f1i978nd[data-fui-focus-within]:focus-within::after{border:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}",{p:-2}],[".f1nh8hsq[data-fui-focus-within]:focus-within::after{border-radius:var(--fui-Card--border-radius);}",{p:-1}],".f1amxum7[data-fui-focus-within]:focus-within::after{top:calc(0px - var(--strokeWidthThick) - -2px);}",".f1cec8w7[data-fui-focus-within]:focus-within::after{right:calc(0px - var(--strokeWidthThick) - -2px);}",".f554mv0[data-fui-focus-within]:focus-within::after{left:calc(0px - var(--strokeWidthThick) - -2px);}",".f1sj6kbr[data-fui-focus-within]:focus-within::after{bottom:calc(0px - var(--strokeWidthThick) - -2px);}",".f1063pyq{flex-direction:row;}",".f122n59{align-items:center;}",".ftrw7vg>.fui-CardPreview{margin-top:calc(var(--fui-Card--size) * -1);}",".f18opajm>.fui-CardPreview{margin-bottom:calc(var(--fui-Card--size) * -1);}",'.f13002it>:not([aria-hidden="true"]).fui-CardPreview:first-of-type{margin-left:calc(var(--fui-Card--size) * -1);}','.fqo182t>:not([aria-hidden="true"]).fui-CardPreview:first-of-type{margin-right:calc(var(--fui-Card--size) * -1);}','.f18yna97>:not([aria-hidden="true"]).fui-CardPreview:last-of-type{margin-right:calc(var(--fui-Card--size) * -1);}','.f1kd6wh7>:not([aria-hidden="true"]).fui-CardPreview:last-of-type{margin-left:calc(var(--fui-Card--size) * -1);}',".f4i4759>.fui-CardHeader:last-of-type,.f4i4759>.fui-CardFooter:last-of-type{flex-grow:1;}",".f1vx9l62{flex-direction:column;}",".f14k419y>.fui-CardPreview{margin-left:calc(var(--fui-Card--size) * -1);}",".f1fgo9fz>.fui-CardPreview{margin-right:calc(var(--fui-Card--size) * -1);}",'.fvqmfsm>:not([aria-hidden="true"]).fui-CardPreview:first-of-type{margin-top:calc(var(--fui-Card--size) * -1);}',".f3am6yf>.fui-Card__floatingAction+.fui-CardPreview{margin-top:calc(var(--fui-Card--size) * -1);}",'.f1r5wgso>:not([aria-hidden="true"]).fui-CardPreview:last-of-type{margin-bottom:calc(var(--fui-Card--size) * -1);}',".f1pi9uxy{--fui-Card--size:8px;}",".f1h1zgly{--fui-Card--border-radius:var(--borderRadiusSmall);}",".frsmuga{--fui-Card--size:12px;}",".fuldkky{--fui-Card--border-radius:var(--borderRadiusMedium);}",".f1qua4xo{--fui-Card--size:16px;}",".fimkt6v{--fui-Card--border-radius:var(--borderRadiusLarge);}",".f1epqm3e .fui-Text{color:currentColor;}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1whvlc6{box-shadow:var(--shadow4);}",".f16gxe2i::after{border-top-color:var(--colorTransparentStroke);}",".fpgykix::after{border-right-color:var(--colorTransparentStroke);}",".fzybk4o::after{border-left-color:var(--colorTransparentStroke);}",".f1osi826::after{border-bottom-color:var(--colorTransparentStroke);}",".f1k6fduh{cursor:pointer;}",".f1nfm20t{background-color:var(--colorNeutralBackground1Selected);}",".f16eln5f::after{border-top-color:var(--colorNeutralStroke1Selected);}",".fa2okxs::after{border-right-color:var(--colorNeutralStroke1Selected);}",".fg4zq3l::after{border-left-color:var(--colorNeutralStroke1Selected);}",".ff6932p::after{border-bottom-color:var(--colorNeutralStroke1Selected);}",".f1dmdbja{background-color:var(--colorNeutralBackground2);}",".fjxa0vh{background-color:var(--colorNeutralBackground2Selected);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1couhl3{box-shadow:none;}",".ft83z1f::after{border-top-color:var(--colorNeutralStroke1);}",".f1g4150c::after{border-right-color:var(--colorNeutralStroke1);}",".f192dr6e::after{border-left-color:var(--colorNeutralStroke1);}",".f1qnawh6::after{border-bottom-color:var(--colorNeutralStroke1);}",".f1q9pm1r{background-color:var(--colorTransparentBackgroundSelected);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f13dj02::after{border-top-color:var(--colorNeutralStrokeDisabled);}",".f9wngki::after{border-right-color:var(--colorNeutralStrokeDisabled);}",".f17v59j0::after{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1vxzwsp::after{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fq5gl1p{background-color:var(--colorSubtleBackgroundSelected);}",".f1euv43f{position:absolute;}",".fqclxi7{top:4px;}",".fiv86kb{right:4px;}",".f36uhnt{left:4px;}",".fom9my7{z-index:var(--zIndexContent, 1);}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],".frkrog8{width:1px;}",".f1mpe4l3{height:1px;}",".fmf1zke{clip:rect(0 0 0 0);}",".f1wch0ki{clip-path:inset(50%);}",".fz5stix{white-space:nowrap;}",".fdrzuqr{cursor:not-allowed;}",".f1xqy1su{-webkit-user-select:none;-moz-user-select:none;user-select:none;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".fyed02w{box-shadow:var(--shadow2);}",'.f1wl9k8s::before{content:"";}',".f1j7ml58::before{position:absolute;}",[".f13vvzas::before{inset:0;}",{p:-1}],".f198lalb::before{z-index:calc(var(--zIndexContent, 1) + 1);}"],m:[["@media (forced-colors: active){.f1j6vpng[data-fui-focus-visible]::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ffjurs[data-fui-focus-visible]::after{border-left-color:Highlight;}.f1pniga2[data-fui-focus-visible]::after{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f987i1v[data-fui-focus-visible]::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ufm4qn[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1qnwcb4[data-fui-focus-within]:focus-within::after{border-right-color:Highlight;}.fgrk5zm[data-fui-focus-within]:focus-within::after{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fi52z01[data-fui-focus-within]:focus-within::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1h3a8gf{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1nz3ub2{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fqc85l4{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ucc5z8 .fui-CardPreview,.f1ucc5z8 .fui-CardFooter{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fyj59f4::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f19v95gn::after{border-right-color:Highlight;}.f1n69f6i::after{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f16q7dot::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1quqgnd:hover,.f1quqgnd :active{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f193utb4:hover,.f193utb4 :active{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1io67iv:hover,.f1io67iv :active{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f3n01jk:hover .fui-CardPreview,.f3n01jk :active .fui-CardPreview,.f3n01jk:hover .fui-CardFooter,.f3n01jk :active .fui-CardFooter{forced-color-adjust:auto;}}",{m:"(forced-colors: active)"}]],h:[".feu1g3u:hover{color:var(--colorNeutralForeground1Hover);}",".f1knas48:hover{background-color:var(--colorNeutralBackground1Hover);}",".f1m145df:hover{box-shadow:var(--shadow8);}",".fx9teim:hover{color:var(--colorNeutralForeground1Selected);}",".f1kz6goq:hover{background-color:var(--colorNeutralBackground1Selected);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".f1uvynv3:hover{background-color:var(--colorNeutralBackground2Hover);}",".f1luvkty:hover{color:var(--colorNeutralForeground2Selected);}",".fehi0vp:hover{background-color:var(--colorNeutralBackground2Selected);}",".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".f1llr77y:hover::after{border-top-color:var(--colorNeutralStroke1Hover);}",".fzk0khw:hover::after{border-right-color:var(--colorNeutralStroke1Hover);}",".fjj8tog:hover::after{border-left-color:var(--colorNeutralStroke1Hover);}",".fb1u8ub:hover::after{border-bottom-color:var(--colorNeutralStroke1Hover);}",".fg59vm4:hover{background-color:var(--colorTransparentBackgroundSelected);}",".f1ls5moo:hover,.f1ls5moo:active{background-color:var(--colorTransparentBackground);}",".f1qiza15:hover,.f1qiza15:active{box-shadow:none;}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".f1uqaxdt:hover{background-color:var(--colorSubtleBackgroundSelected);}",".f11og98d:hover,.f11og98d:active{cursor:not-allowed;}",".f1rg3h4v:hover,.f1rg3h4v:active{-webkit-user-select:none;-moz-user-select:none;user-select:none;}",".fbm2y3b:hover,.fbm2y3b:active{color:var(--colorNeutralForegroundDisabled);}",".f4yodeu:hover,.f4yodeu:active{background-color:var(--colorNeutralBackgroundDisabled);}",".fcwfbwp:hover,.fcwfbwp:active{box-shadow:var(--shadow2);}",".f1repx37:hover,.f1repx37:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ybi8ct:hover,.f1ybi8ct:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1h4eg6q:hover,.f1h4eg6q:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f18mejnb:hover,.f18mejnb:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",'.f1nift3m:hover::before,.f1nift3m:active::before{content:"";}',".f1wu3i8x:hover::before,.f1wu3i8x:active::before{position:absolute;}",[".f6v4vfa:hover::before,.f6v4vfa:active::before{inset:0;}",{p:-1}],".folrdqs:hover::before,.folrdqs:active::before{z-index:calc(var(--zIndexContent, 1) + 1);}",".f168z5yf:hover::after,.f168z5yf:active::after{border-top-color:var(--colorNeutralStrokeDisabled);}",".fpor7gj:hover::after,.fpor7gj:active::after{border-right-color:var(--colorNeutralStrokeDisabled);}",".fzextn6:hover::after,.fzextn6:active::after{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1yaw79v:hover::after,.f1yaw79v:active::after{border-bottom-color:var(--colorNeutralStrokeDisabled);}"],a:[".fb40n2d:active{background-color:var(--colorNeutralBackground1Pressed);}",".f1yhgkbh:active{background-color:var(--colorNeutralBackground2Pressed);}",".fophhak:active{background-color:var(--colorTransparentBackgroundPressed);}",".f1uohb70:active::after{border-top-color:var(--colorNeutralStroke1Pressed);}",".f1jm7v1n:active::after{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1bus3rq:active::after{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1fbu7rr:active::after{border-bottom-color:var(--colorNeutralStroke1Pressed);}",".f1wfn5kd:active{background-color:var(--colorSubtleBackgroundPressed);}"]}),vme=e=>{"use no memo";const t=mme(),n=gme(),r={horizontal:n.orientationHorizontal,vertical:n.orientationVertical},i={small:n.sizeSmall,medium:n.sizeMedium,large:n.sizeLarge},o={filled:n.filled,"filled-alternative":n.filledAlternative,outline:n.outline,subtle:n.subtle},a={filled:n.filledInteractiveSelected,"filled-alternative":n.filledAlternativeInteractiveSelected,outline:n.outlineInteractiveSelected,subtle:n.subtleInteractiveSelected},s={filled:n.filledInteractive,"filled-alternative":n.filledAlternativeInteractive,outline:n.outlineInteractive,subtle:n.subtleInteractive},c=!e.disabled&&(e.interactive||e.selectable),u=x.useMemo(()=>e.disabled?"":e.selectable?e.selectFocused?n.selectableFocused:"":n.focused,[e.disabled,e.selectFocused,e.selectable,n.focused,n.selectableFocused]);return e.root.className=Ce(bw.root,t,r[e.orientation],i[e.size],o[e.appearance],c&&n.interactive,c&&s[e.appearance],e.selected&&a[e.appearance],u,c&&n.highContrastInteractive,e.selected&&n.highContrastSelected,e.disabled&&n.disabled,e.disabled&&e.appearance==="outline"&&n.outlineDisabled,e.root.className),e.floatingAction&&(e.floatingAction.className=Ce(bw.floatingAction,n.select,e.floatingAction.className)),e.checkbox&&(e.checkbox.className=Ce(bw.checkbox,n.hiddenCheckbox,e.checkbox.className)),e};function yme({selectableA11yProps:e}){return{selectableA11yProps:e}}const Pr=x.forwardRef((e,t)=>{const n=sme(e,t),r=yme(n);return vme(n),Ft("useCardStyles_unstable")(n),lme(n,r)});Pr.displayName="Card";function bme(e){function t(n){return x.isValidElement(n)&&!!n.props.id}return x.Children.toArray(e).find(t)}function xme(e,t,n){return e||(t!=null&&t.props.id?t.props.id:n)}const _me=(e,t)=>{const{image:n,header:r,description:i,action:o}=e,{selectableA11yProps:{referenceId:a,setReferenceId:s}}=aH(),c=x.useRef(null),u=x.useRef(!1),d=vi(sH.header,a),f=zt(r,{renderByDefault:!0,defaultProps:{ref:c,id:u.current?void 0:a},elementType:"div"});return x.useEffect(()=>{var p;const m=u.current||(p=c.current)===null||p===void 0?void 0:p.id,g=bme(f==null?void 0:f.children);u.current=!!g,s(xme(m,g,d))},[d,r,f,s]),{components:{root:"div",image:"div",header:"div",description:"div",action:"div"},root:Ct(Qt("div",{ref:t,...e}),{elementType:"div"}),image:zt(n,{elementType:"div"}),header:f,description:zt(i,{elementType:"div"}),action:zt(o,{elementType:"div"})}},wme=e=>an(e.root,{children:[e.image&&Se(e.image,{}),e.header&&Se(e.header,{}),e.description&&Se(e.description,{}),e.action&&Se(e.action,{})]}),Zo=x.forwardRef((e,t)=>{const n=_me(e,t);return pme(n),Ft("useCardHeaderStyles_unstable")(n),wme(n)});Zo.displayName="CardHeader";const Sme=(e,t)=>{const{logo:n}=e,{selectableA11yProps:{referenceLabel:r,referenceId:i,setReferenceLabel:o,setReferenceId:a}}=aH(),s=dn(t,x.useRef(null));return x.useEffect(()=>{if(!(r&&i)&&s.current&&s.current.parentNode){const c=s.current.parentNode.querySelector(`.${NM.root} > img`);if(c){const u=c.getAttribute("aria-label"),d=c.getAttribute("aria-describedby");d?a(d):c.alt?o(c.alt):u&&o(u)}}},[o,r,s,i,a]),{components:{root:"div",logo:"div"},root:Ct(Qt("div",{ref:s,...e}),{elementType:"div"}),logo:zt(n,{elementType:"div"})}},Cme=e=>an(e.root,{children:[e.root.children,e.logo&&Se(e.logo,{})]}),Fa=x.forwardRef((e,t)=>{const n=Sme(e,t);return ume(n),Ft("useCardPreviewStyles_unstable")(n),Cme(n)});Fa.displayName="CardPreview";const Va={show:"fui-toast-show",dismiss:"fui-toast-dismiss",dismissAll:"fui-toast-dismiss-all",update:"fui-toast-update",pause:"fui-toast-pause",play:"fui-toast-play"},Wa={bottom:"bottom",bottomEnd:"bottom-end",bottomStart:"bottom-start",top:"top",topEnd:"top-end",topStart:"top-start"};let Tme=0;function kme(e,t={},n){var r;const i={...t,content:e,toastId:(r=t.toastId)!==null&&r!==void 0?r:(Tme++).toString()},o=new CustomEvent(Va.show,{bubbles:!1,cancelable:!1,detail:i});n.dispatchEvent(o)}function Eme(e,t=void 0,n){const r=new CustomEvent(Va.dismiss,{bubbles:!1,cancelable:!1,detail:{toastId:e,toasterId:t}});n.dispatchEvent(r)}function Mme(e=void 0,t){const n=new CustomEvent(Va.dismissAll,{bubbles:!1,cancelable:!1,detail:{toasterId:e}});t.dispatchEvent(n)}function Ame(e,t){const n=new CustomEvent(Va.update,{bubbles:!1,cancelable:!1,detail:e});t.dispatchEvent(n)}function Nme(e,t=void 0,n){const r=new CustomEvent(Va.pause,{bubbles:!1,cancelable:!1,detail:{toastId:e,toasterId:t}});n.dispatchEvent(r)}function Pme(e,t=void 0,n){const r=new CustomEvent(Va.play,{bubbles:!1,cancelable:!1,detail:{toastId:e,toasterId:t}});n.dispatchEvent(r)}function fI(e,t){for(const[n,r]of Object.entries(t))r!=null&&(e[n]=r)}const Bme={onStatusChange:void 0,priority:0,pauseOnHover:!1,pauseOnWindowBlur:!1,position:"bottom-end",timeout:3e3};let Rme=0;function jme(e){const{limit:t=Number.POSITIVE_INFINITY}=e,n=new Set,r=new Map,i=W7((d,f)=>{const p=r.get(d),m=r.get(f);return!p||!m?0:p.priority===m.priority?p.order-m.order:p.priority-m.priority});return{buildToast:(d,f)=>{var p;const{toastId:m,content:g,toasterId:v}=d;if(r.has(m))return;const S={...Bme,close:()=>{var w;const C=r.get(m);C&&(n.delete(m),f(),(w=C.onStatusChange)===null||w===void 0||w.call(C,null,{status:"dismissed",...C}))},remove:()=>{if(r.get(m)){if(r.delete(m),n.size<t&&i.peek()){const C=r.get(i.dequeue());if(!C)return;n.add(C.toastId)}f()}},toastId:m,content:g,updateId:0,toasterId:v,order:Rme++,data:{},imperativeRef:x.createRef()};fI(S,e),fI(S,d),r.set(m,S),(p=S.onStatusChange)===null||p===void 0||p.call(S,null,{status:"queued",...S}),n.size>=t?i.enqueue(m):n.add(m)},dismissAllToasts:()=>{n.clear(),i.clear()},dismissToast:d=>{n.delete(d)},isToastVisible:d=>n.has(d),updateToast:d=>{const{toastId:f}=d,p=r.get(f);p&&(Object.assign(p,d),p.updateId++)},visibleToasts:n,toasts:r}}const zf=(e,t,n)=>{const r={};var i;const o=n?Ime(n)?n:(i=n[e])!==null&&i!==void 0?i:{}:{},a=e==="top"||e==="bottom",{horizontal:s=a?0:20,vertical:c=16}=o,u=t==="ltr"?"left":"right",d=t==="ltr"?"right":"left";switch(e){case"top":Object.assign(r,{top:c,left:`calc(50% + ${s}px)`,transform:"translateX(-50%)"});break;case"bottom":Object.assign(r,{bottom:c,left:`calc(50% + ${s}px)`,transform:"translateX(-50%)"});break;case"top-start":Object.assign(r,{top:c,[u]:s});break;case"top-end":Object.assign(r,{top:c,[d]:s});break;case"bottom-start":Object.assign(r,{bottom:c,[u]:s});break;case"bottom-end":Object.assign(r,{bottom:c,[d]:s});break}return r};function Ime(e){return"horizontal"in e||"vertical"in e}function zme(e={}){const t=U7(),{toasterId:n,shortcuts:r}=e,[i]=x.useState(()=>jme(e)),{targetDocument:o}=gn(),a=x.useRef(null),s=pt(v=>v===n),c=pt(v=>{if(r!=null&&r.focus)return r.focus(v)}),u=x.useCallback(()=>{i.visibleToasts.forEach(v=>{var _;const y=i.toasts.get(v);y==null||(_=y.imperativeRef.current)===null||_===void 0||_.pause()})},[i]),d=x.useCallback(()=>{i.visibleToasts.forEach(v=>{var _;const y=i.toasts.get(v);y==null||(_=y.imperativeRef.current)===null||_===void 0||_.play()})},[i]),f=x.useCallback(()=>Array.from(i.visibleToasts).reduce((v,_)=>{const y=i.toasts.get(_);return y&&(!v||v.order<(y==null?void 0:y.order))?y:v},void 0),[i]),p=x.useCallback(()=>{const v=f();if(v!=null&&v.imperativeRef.current)v.imperativeRef.current.focus();else{var _;(_=a.current)===null||_===void 0||_.focus(),a.current=null}},[f]),m=x.useCallback(()=>{i.visibleToasts.forEach(v=>{const _=i.toasts.get(v);_==null||_.close()}),p()},[i,p]);x.useEffect(()=>{if(!o)return;const v=($,j)=>{const O=z=>{s(z.detail.toasterId)&&(j(z),t())};return o.addEventListener($,O),()=>o.removeEventListener($,O)},_=$=>{i.buildToast($.detail,t)},y=$=>{i.dismissToast($.detail.toastId)},S=$=>{i.updateToast($.detail)},w=$=>{i.dismissAllToasts()},C=$=>{const j=i.toasts.get($.detail.toastId);if(j){var O;(O=j.imperativeRef.current)===null||O===void 0||O.pause()}},M=$=>{const j=i.toasts.get($.detail.toastId);if(j){var O;(O=j.imperativeRef.current)===null||O===void 0||O.play()}},A=v(Va.show,_),E=v(Va.update,S),I=v(Va.dismiss,y),N=v(Va.dismissAll,w),P=v(Va.pause,C),D=v(Va.play,M),q=$=>{if(c($)){u();const O=f();if(O){var j;a.current=Ar(o.activeElement)?o.activeElement:null,(j=O.imperativeRef.current)===null||j===void 0||j.focus()}}};return o.addEventListener("keydown",q),()=>{A(),N(),E(),I(),P(),D(),o.removeEventListener("keydown",q)}},[i,t,o,s,u,f,c]);const g=(()=>{if(!i)return new Map;const v=new Map;return Array.from(i.toasts.values()).forEach(y=>{const{position:S}=y;v.has(S)||v.set(S,[]),S.startsWith("bottom")?v.get(S).push(y):v.get(S).unshift(y)}),v})();return{isToastVisible:i.isToastVisible,toastsToRender:g,pauseAllToasts:u,playAllToasts:d,tryRestoreFocus:p,closeAllToasts:m}}const Lf=()=>{};function lH(e){const{targetDocument:t}=gn();return x.useMemo(()=>t?{dispatchToast:(n,r)=>{kme(n,{...r,toasterId:e,data:{root:r==null?void 0:r.root}},t)},dismissToast:n=>{Eme(n,e,t)},dismissAllToasts:()=>{Mme(e,t)},updateToast:n=>{Ame({...n,data:{root:n.root},toasterId:e},t)},pauseToast:n=>{Nme(n,e,t)},playToast:n=>{Pme(n,e,t)}}:{dispatchToast:Lf,dismissToast:Lf,dismissAllToasts:Lf,updateToast:Lf,pauseToast:Lf,playToast:Lf},[t,e])}const Lme=x.createContext(void 0),Dme=Lme.Provider,Ome=Rt("r16zaflb","r75casi",[".r16zaflb{animation-name:rsacmq1;}","@keyframes rsacmq1{from{opacity:0;}to{opacity:0;}}",".r75casi{animation-name:rsacmq1;}"]),PM=x.forwardRef((e,t)=>{const n=Ome(),{running:r,timeout:i,onTimeout:o}=e,a={animationDuration:`${i}ms`,animationPlayState:r?"running":"paused"};return i<0?null:x.createElement("span",{onAnimationEnd:o,"data-timer-status":a.animationPlayState,ref:t,style:a,className:n})});PM.displayName="Timer";const Fme={success:"assertive",warning:"assertive",error:"assertive",info:"polite"},Ume=(e,t)=>{const{visible:n,children:r,close:i,remove:o,updateId:a,announce:s,data:c,timeout:u,politeness:d,intent:f="info",pauseOnHover:p,pauseOnWindowBlur:m,imperativeRef:g,tryRestoreFocus:v,content:_,...y}=e,S=vi("toast-title"),w=vi("toast-body"),C=x.useRef(null),{targetDocument:M}=gn(),[A,E]=x.useState(!1),I=x.useRef(!1),N=x.useRef(!1),P=RN({tabBehavior:"limited-trap-focus",ignoreDefaultKeydown:{Tab:!0,Escape:!0,Enter:!0}}),D=pt(()=>{var Z;const Q=M==null?void 0:M.activeElement;Q&&(!((Z=C.current)===null||Z===void 0)&&Z.contains(Q))&&(N.current=!0),i()}),q=pt(Z=>{var Q;return(Q=e.onStatusChange)===null||Q===void 0?void 0:Q.call(e,null,{status:Z,...e})}),$=pt(()=>E(!1)),j=pt(()=>{var Z;if(I.current)return;var Q;const re=!!(!((Z=C.current)===null||Z===void 0)&&Z.contains((Q=M==null?void 0:M.activeElement)!==null&&Q!==void 0?Q:null));if(u<0){E(!0);return}re||E(!0)});x.useImperativeHandle(g,()=>({focus:()=>{C.current&&C.current.focus()},play:()=>{I.current=!1,j()},pause:()=>{I.current=!0,$()}})),x.useEffect(()=>()=>q("unmounted"),[q]),x.useEffect(()=>{if(M&&m){var Z,Q;return(Z=M.defaultView)===null||Z===void 0||Z.addEventListener("focus",j),(Q=M.defaultView)===null||Q===void 0||Q.addEventListener("blur",$),()=>{var re,ue;(re=M.defaultView)===null||re===void 0||re.removeEventListener("focus",j),(ue=M.defaultView)===null||ue===void 0||ue.removeEventListener("blur",$)}}},[M,$,j,m]);const O=c.root,z=x.useCallback((Z,{direction:Q})=>{Q==="exit"&&o(),Q==="enter"&&(j(),q("visible"))},[q,j,o]),W=pt(Z=>{var Q;$(),O==null||(Q=O.onMouseEnter)===null||Q===void 0||Q.call(O,Z)}),F=pt(Z=>{var Q;j(),O==null||(Q=O.onMouseEnter)===null||Q===void 0||Q.call(O,Z)}),{findFirstFocusable:V,findLastFocusable:H}=Wu(),te=pt(Z=>{var Q;if(Z.key===lie&&(Z.preventDefault(),D()),Z.key===LN&&Z.currentTarget===Z.target)if(Z.preventDefault(),Z.shiftKey){var re;(re=H(Z.currentTarget))===null||re===void 0||re.focus()}else{var ue;(ue=V(Z.currentTarget))===null||ue===void 0||ue.focus()}O==null||(Q=O.onKeyDown)===null||Q===void 0||Q.call(O,Z)});return x.useEffect(()=>{var Z;if(!n)return;const Q=d??Fme[f];var re;s((re=(Z=C.current)===null||Z===void 0?void 0:Z.textContent)!==null&&re!==void 0?re:"",{politeness:Q})},[s,d,C,n,a,f]),x.useEffect(()=>()=>{N.current&&(N.current=!1,v())},[v]),{components:{timer:PM,root:"div"},timer:Ct({onTimeout:D,running:A,timeout:u??-1},{elementType:PM}),root:Ct(Qt("div",{ref:dn(t,C),children:r,tabIndex:0,role:"listitem","aria-labelledby":S,"aria-describedby":w,...y,...O,...P,onMouseEnter:W,onMouseLeave:F,onKeyDown:te}),{elementType:"div"}),timerTimeout:u,transitionTimeout:0,running:A,visible:n,remove:o,close:D,onTransitionEntering:()=>{},updateId:a,nodeRef:C,intent:f,titleId:S,bodyId:w,onMotionFinish:z}},qme=(e,t)=>{const{onMotionFinish:n,visible:r,updateId:i}=e;return Se(Dme,{value:t.toast,children:Se(Poe,{appear:!0,onMotionFinish:n,visible:r,unmountOnExit:!0,children:an(e.root,{children:[e.root.children,Se(e.timer,{},i)]})})})},cH={root:"fui-ToastContainer"},Hme=Rt("r98b696",null,[".r98b696{box-sizing:border-box;margin-top:16px;pointer-events:all;border-radius:var(--borderRadiusMedium);}",".r98b696[data-fui-focus-visible]{outline:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}"]),Vme=e=>{"use no memo";const t=Hme();return e.root.className=Ce(cH.root,t,e.root.className),e};function Wme(e){const{close:t,intent:n,titleId:r,bodyId:i}=e;return{toast:x.useMemo(()=>({close:t,intent:n,titleId:r,bodyId:i}),[t,n,r,i])}}const uH=x.forwardRef((e,t)=>{const n=Ume(e,t);return Vme(n),Ft("useToastContainerStyles_unstable")(n),qme(n,Wme(n))});uH.displayName="ToastContainer";const hI=()=>{};function Gme(e,t){const{targetDocument:n}=gn(),r=x.useRef(hI);return x.useCallback(i=>{if(!i||!n){r.current(),r.current=hI;return}const o=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode(u){return Ar(u)&&u.classList.contains(cH.root)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),a=u=>{const{target:d,key:f}=u;if(Ar(d)){if(f===Rg){o.currentNode=d;let p=o.nextNode();p||(o.currentNode=i,p=o.nextNode()),Ar(p)&&p.focus()}if(f===ig){o.currentNode=d;let p=o.previousNode();p&&p.contains(d)&&(p=o.previousNode()),p||(o.currentNode=i,p=o.lastChild()),Ar(p)&&p.focus()}}},s=u=>{Ar(u.currentTarget)&&!u.currentTarget.contains(Ar(u.relatedTarget)?u.relatedTarget:null)&&e()},c=u=>{Ar(u.currentTarget)&&!u.currentTarget.contains(Ar(u.relatedTarget)?u.relatedTarget:null)&&t()};i.addEventListener("keydown",a),i.addEventListener("focusin",s),i.addEventListener("focusout",c),r.current=()=>{i.removeEventListener("keydown",a),i.removeEventListener("focusin",s),i.removeEventListener("focusout",c)}},[n,e,t])}function $me(e){const t=x.useRef(!0),n=x.useRef(()=>{}),r=x.useCallback((o,a)=>{t.current&&e(o,a)},[e]),i=x.useCallback(o=>{if(!o){n.current();return}const a=c=>{Ar(c.currentTarget)&&c.currentTarget.contains(Ar(c.relatedTarget)?c.relatedTarget:null)||(t.current=!1)},s=c=>{Ar(c.currentTarget)&&c.currentTarget.contains(Ar(c.relatedTarget)?c.relatedTarget:null)||(t.current=!0)};o.addEventListener("focusin",a),o.addEventListener("focusout",s),n.current=()=>{o.removeEventListener("focusin",a),o.removeEventListener("focusout",s)}},[]);return{announceToast:r,toasterRef:i}}const Xme=e=>{"use no memo";const{offset:t,announce:n,mountNode:r,inline:i=!1,...o}=e,a=x.useRef(()=>null),{toastsToRender:s,isToastVisible:c,pauseAllToasts:u,playAllToasts:d,tryRestoreFocus:f,closeAllToasts:p}=zme(o),m=x.useCallback((C,M)=>a.current(C,M),[]),{dir:g}=gn(),{onKeyDown:v,..._}=Ct(Qt("div",o),{elementType:"div"}),y=RN({tabBehavior:"limited-trap-focus",ignoreDefaultKeydown:{Escape:!0}}),S=pt(C=>{C.key===sf&&(C.preventDefault(),p()),v==null||v(C)}),w=C=>{var M;const A=Gme(u,d),{announceToast:E,toasterRef:I}=$me(n??m);return zt(s.has(C)?_:null,{defaultProps:{ref:dn(A,I),children:(M=s.get(C))===null||M===void 0?void 0:M.map(N=>x.createElement(uH,{...N,tryRestoreFocus:f,intent:N.intent,announce:E,key:N.toastId,visible:c(N.toastId)},N.content)),onKeyDown:S,...y,"data-toaster-position":C,role:"list"},elementType:"div"})};return{dir:g,mountNode:r,components:{root:"div",bottomStart:"div",bottomEnd:"div",topStart:"div",topEnd:"div",top:"div",bottom:"div"},root:Ct(_,{elementType:"div"}),bottomStart:w(Wa.bottomStart),bottomEnd:w(Wa.bottomEnd),topStart:w(Wa.topStart),topEnd:w(Wa.topEnd),top:w(Wa.top),bottom:w(Wa.bottom),announceRef:a,offset:t,announce:n??m,renderAriaLive:!n,inline:i}},Zme=500,Kme=e=>{const[t,n]=x.useState(void 0),r=x.useRef(0),[i]=x.useState(()=>W7((d,f)=>d.politeness===f.politeness?d.createdAt-f.createdAt:d.politeness==="assertive"?-1:1)),o=pt((d,f)=>{const{politeness:p}=f;if(d===(t==null?void 0:t.message))return;const m={message:d,politeness:p,createdAt:r.current++};t?i.enqueue(m):n(m)}),[a,s]=af();x.useEffect(()=>(a(()=>{i.peek()?n(i.dequeue()):n(void 0)},Zme),()=>s()),[t,i,a,s]),x.useImperativeHandle(e.announceRef,()=>o);const c=(t==null?void 0:t.politeness)==="polite"?t.message:void 0,u=(t==null?void 0:t.politeness)==="assertive"?t.message:void 0;return{components:{assertive:"div",polite:"div"},assertive:Ct(e.assertive,{defaultProps:{"aria-live":"assertive",children:u},elementType:"div"}),polite:Ct(e.polite,{defaultProps:{"aria-live":"polite",children:c},elementType:"div"})}},Yme=e=>an(x.Fragment,{children:[Se(e.assertive,{}),Se(e.polite,{})]}),pI={assertive:"fui-AriaLive__assertive",polite:"fui-AriaLive__polite"},Jme=Rt("rrd10u0",null,[".rrd10u0{clip:rect(0px, 0px, 0px, 0px);height:1px;margin:-1px;overflow:hidden;padding:0px;width:1px;position:absolute;}"]),Qme=e=>{"use no memo";const t=Jme();return e.assertive.className=Ce(t,pI.assertive,e.assertive.className),e.polite.className=Ce(t,pI.polite,e.polite.className),e},dH=e=>{const t=Kme(e);return Qme(t),Yme(t)};dH.displayName="AriaLive";const ege=e=>{const{announceRef:t,renderAriaLive:n,inline:r,mountNode:i}=e,o=!!e.bottomStart||!!e.bottomEnd||!!e.topStart||!!e.topEnd||!!e.top||!!e.bottom,a=n?Se(dH,{announceRef:t}):null,s=an(x.Fragment,{children:[e.bottom?Se(e.bottom,{}):null,e.bottomStart?Se(e.bottomStart,{}):null,e.bottomEnd?Se(e.bottomEnd,{}):null,e.topStart?Se(e.topStart,{}):null,e.topEnd?Se(e.topEnd,{}):null,e.top?Se(e.top,{}):null]});return r?an(x.Fragment,{children:[a,o?s:null]}):an(x.Fragment,{children:[a,o?Se(cf,{mountNode:i,children:s}):null]})},tge={root:"fui-Toaster"},nge=Rt("r3hfdjz",null,[".r3hfdjz{position:fixed;width:292px;pointer-events:none;}"]),rge=Fe({inline:{qhf8xq:"f1euv43f"}},{d:[".f1euv43f{position:absolute;}"]}),ige=e=>{"use no memo";const t=nge(),n=rge(),r=Ce(tge.root,t,e.inline&&n.inline,e.root.className);if(e.bottomStart){var i;e.bottomStart.className=r;var o;(o=(i=e.bottomStart).style)!==null&&o!==void 0||(i.style={}),Object.assign(e.bottomStart.style,zf(Wa.bottomStart,e.dir,e.offset))}if(e.bottomEnd){var a;e.bottomEnd.className=r;var s;(s=(a=e.bottomEnd).style)!==null&&s!==void 0||(a.style={}),Object.assign(e.bottomEnd.style,zf(Wa.bottomEnd,e.dir,e.offset))}if(e.topStart){var c;e.topStart.className=r;var u;(u=(c=e.topStart).style)!==null&&u!==void 0||(c.style={}),Object.assign(e.topStart.style,zf(Wa.topStart,e.dir,e.offset))}if(e.topEnd){var d;e.topEnd.className=r;var f;(f=(d=e.topEnd).style)!==null&&f!==void 0||(d.style={}),Object.assign(e.topEnd.style,zf(Wa.topEnd,e.dir,e.offset))}if(e.top){var p;e.top.className=r;var m;(m=(p=e.top).style)!==null&&m!==void 0||(p.style={}),Object.assign(e.top.style,zf(Wa.top,e.dir,e.offset))}if(e.bottom){var g;e.bottom.className=r;var v;(v=(g=e.bottom).style)!==null&&v!==void 0||(g.style={}),Object.assign(e.bottom.style,zf(Wa.bottom,e.dir,e.offset))}return e},fH=e=>{const t=Xme(e);return ige(t),Ft("useToasterStyles_unstable")(t),ege(t)};fH.displayName="Toaster";const el=Symbol("#internalSet");let oge=el;class Ca{static dangerouslyGetInternalSet(t){return t[el]}static copy(t){return new Ca(new Set(t[el]))}static from(t){return t===void 0?this.empty:t instanceof this?t:new this(new Set(t))}static[Symbol.hasInstance](t){return!!(typeof t=="object"&&t&&el in t)}add(t){if(this.has(t))return this;const n=Ca.copy(this);return n[el].add(t),n}delete(t){if(!this.has(t))return this;const n=Ca.copy(this);return n[el].delete(t),n}has(t){return this[el].has(t)}[Symbol.iterator](){return this[el].values()}constructor(t){Jh(this,"size",void 0),Jh(this,oge,void 0),this[el]=t,this.size=this[el].size}}Jh(Ca,"empty",new Ca(new Set));function age(e){return ro({state:x.useMemo(()=>e.openItems&&Ca.from(e.openItems),[e.openItems]),defaultState:e.defaultOpenItems&&(()=>Ca.from(e.defaultOpenItems)),initialState:Ca.empty})}function hH(e,t){return e.open?t.add(e.value):t.delete(e.value)}const ys=Symbol("#internalMap");let sge=ys;class _l{static dangerouslyGetInternalMap(t){return t[ys]}static copy(t){return this.from(t[ys])}static from(t,n){if(t===void 0)return this.empty;if(!n){if(t instanceof this)return t;const i=t;return new this(new Map(i))}const r=new Map;for(const i of t)r.set(...n(i));return new this(r)}static[Symbol.hasInstance](t){return!!(typeof t=="object"&&t&&ys in t)}delete(t){if(!this.has(t))return this;const n=_l.copy(this);return n[ys].delete(t),n}get(t){return this[ys].get(t)}has(t){return this[ys].has(t)}set(t,n){if(this.get(t)===n)return this;const r=_l.copy(this);return r[ys].set(t,n),r}[Symbol.iterator](){return this[ys].entries()}constructor(t){Jh(this,"size",void 0),Jh(this,sge,void 0),this[ys]=t,this.size=this[ys].size}}Jh(_l,"empty",new _l(new Map));const lge=e=>Array.isArray(e)?e:[e,!0],pH=e=>_l.from(e,lge);function cge(e){return x.useMemo(()=>pH(e.checkedItems),[e.checkedItems])}function uge(e,t){return e.selectionMode==="single"?_l.from([[e.value,e.checked]]):e.selectionMode==="multiselect"?t.set(e.value,e.checked):t}const dge={level:0,contextType:"subtree"},Db=x.createContext(void 0),mH=()=>{var e;return(e=x.useContext(Db))!==null&&e!==void 0?e:dge},Vr={ArrowLeft:$x,ArrowRight:Xx,Enter:ku,Click:"Click",ExpandIconClick:"ExpandIconClick",End:C9,Home:T9,ArrowUp:ig,ArrowDown:Rg,TypeAhead:"TypeAhead"};function fge(e,t){const{appearance:n="subtle",size:r="medium",selectionMode:i="none"}=e,o=x.useMemo(()=>Ca.from(e.openItems),[e.openItems]),a=x.useMemo(()=>pH(e.checkedItems),[e.checkedItems]),s=p=>{var m;(m=e.onOpenChange)===null||m===void 0||m.call(e,p.event,{...p,openItems:Ca.dangerouslyGetInternalSet(hH(p,o))})},c=p=>{var m;i!=="none"&&((m=e.onCheckedChange)===null||m===void 0||m.call(e,p.event,{...p,selectionMode:i,checkedItems:_l.dangerouslyGetInternalMap(a)}))},u=p=>{var m;let g=!1;switch((m=e.onNavigation)===null||m===void 0||m.call(e,p.event,{...p,preventScroll:()=>{g=!0},isScrollPrevented:()=>g}),p.type){case Vr.ArrowDown:case Vr.ArrowUp:case Vr.Home:case Vr.End:p.event.preventDefault()}},d=pt(p=>{switch(p.requestType){case"navigate":return u(p);case"open":return s(p);case"selection":return c(p)}});var f;return{components:{root:"div",collapseMotion:Qh},contextType:"root",selectionMode:i,navigationMode:(f=e.navigationMode)!==null&&f!==void 0?f:"tree",open:!0,appearance:n,size:r,level:1,openItems:o,checkedItems:a,requestTreeResponse:d,forceUpdateRovingTabIndex:()=>{},root:Ct(Qt("div",{ref:t,role:"tree","aria-multiselectable":i==="multiselect"?!0:void 0,...e}),{elementType:"div"}),collapseMotion:void 0}}const hge={level:0,contextType:"root",treeType:"nested",selectionMode:"none",openItems:Ca.empty,checkedItems:_l.empty,requestTreeResponse:mI,forceUpdateRovingTabIndex:mI,appearance:"subtle",size:"medium",navigationMode:"tree"};function mI(){}const gH=kc(void 0),ws=e=>Gu(gH,(t=hge)=>e(t)),pge="__fuiHeadlessTreeRoot",mge={value:pge,selectionRef:x.createRef(),layoutRef:x.createRef(),treeItemRef:x.createRef(),subtreeRef:x.createRef(),actionsRef:x.createRef(),expandIconRef:x.createRef(),isActionsVisible:!1,isAsideVisible:!1,itemType:"leaf",open:!1,checked:!1},vH=kc(void 0),{Provider:gge}=vH,pa=e=>Gu(vH,(t=mge)=>e(t));function vge(e,t){const n=pa(o=>o.subtreeRef),{level:r}=mH(),i=pa(o=>o.open);return{contextType:"subtree",open:i,components:{root:"div",collapseMotion:Qh},level:r+1,root:Ct(Qt("div",{ref:dn(t,n),role:"group",...e}),{elementType:"div"}),collapseMotion:Kx(e.collapseMotion,{elementType:Qh,defaultProps:{visible:i,unmountOnExit:!0}})}}function yge(e,t){const n=t.toLowerCase(),r=o=>{var a;return((a=o.textContent)===null||a===void 0?void 0:a.trim().charAt(0).toLowerCase())===n?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};let i=e.nextElement(r);return i||(e.currentElement=e.root,i=e.nextElement(r)),i}const bge=e=>{let t=e.parentElement;for(;t&&t.getAttribute("role")!=="tree";)t=t.parentElement;return t};function xge(){const e=x.useRef(null),t=x.useRef(null),{targetDocument:n}=gn();Gne(a=>{if((a==null?void 0:a.getAttribute("role"))==="treeitem"&&t.current&&t.current.root.contains(a)){const s=bge(a);if(t.current.root!==s)return;i(a)}});const r=x.useCallback(a=>{t.current=a,a.currentElement=a.root;let s=a.firstChild(u=>u.tabIndex===0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP);if(a.currentElement=a.root,s??(s=a.firstChild()),!s)return;s.tabIndex=0,e.current=s;let c=null;for(;(c=a.nextElement())&&c!==s;)c.tabIndex=-1},[]),i=x.useCallback((a,s)=>{e.current&&(e.current.tabIndex=-1,a.tabIndex=0,a.focus(s),e.current=a)},[]),o=x.useCallback(()=>{(e.current===null||!(n!=null&&n.body.contains(e.current)))&&t.current&&r(t.current)},[n,r]);return{rove:i,initialize:r,forceUpdate:o}}function _ge(e,t,n=()=>NodeFilter.FILTER_ACCEPT){let r;const i=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){if(!Ar(o))return NodeFilter.FILTER_REJECT;const a=n(o);var s;return a===NodeFilter.FILTER_ACCEPT&&(s=r==null?void 0:r(o))!==null&&s!==void 0?s:a}});return{get root(){return i.root},get currentElement(){return i.currentNode},set currentElement(o){i.currentNode=o},firstChild:o=>{r=o;const a=i.firstChild();return r=void 0,a},lastChild:o=>{r=o;const a=i.lastChild();return r=void 0,a},nextElement:o=>{r=o;const a=i.nextNode();return r=void 0,a},nextSibling:o=>{r=o;const a=i.nextSibling();return r=void 0,a},parentElement:o=>{r=o;const a=i.parentNode();return r=void 0,a},previousElement:o=>{r=o;const a=i.previousNode();return r=void 0,a},previousSibling:o=>{r=o;const a=i.previousSibling();return r=void 0,a}}}const wge=e=>e.getAttribute("role")==="treeitem"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;function Sge(){const{targetDocument:e}=gn(),t=x.useRef(void 0),n=x.useCallback(r=>{t.current=e&&r?_ge(r,e,wge):void 0},[e]);return{walkerRef:t,rootRef:n}}const yH=x.memo(()=>{const e=pa(r=>r.open),{dir:t}=gn(),n=e?90:t!=="rtl"?0:180;return x.createElement(loe,{style:{...Cge[n],transition:`transform ${q9.durationNormal}ms ${H9.curveEasyEaseMax}`}})});yH.displayName="TreeItemChevron";const Cge={90:{transform:"rotate(90deg)"},0:{transform:"rotate(0deg)"},180:{transform:"rotate(180deg)"}},Tge=(e,t)=>{"use no memo";const{main:n,iconAfter:r,iconBefore:i}=e,o=pa(O=>O.layoutRef),a=ws(O=>O.selectionMode),s=ws(O=>{var z;return(z=O.navigationMode)!==null&&z!==void 0?z:"tree"}),[c,u]=Ng(e.actions)?[e.actions.visible,e.actions.onVisibilityChange]:[void 0,void 0],[d,f]=ro({state:c,initialState:!1}),p=pa(O=>O.selectionRef),m=pa(O=>O.expandIconRef),g=pa(O=>O.actionsRef),v=x.useRef(null),_=pa(O=>O.treeItemRef),y=pa(O=>O.subtreeRef),S=pa(O=>O.checked),w=pa(O=>O.itemType==="branch"),C=x.useCallback(O=>{if(!!!(y.current&&ga(y.current,O.target))){if(u==null||u(O,{visible:!0,event:O,type:O.type}),O.defaultPrevented)return;f(!0)}},[y,f,u]),{targetDocument:M}=gn(),A=v9(),E=x.useCallback(O=>{const z=()=>!!(v.current&&ga(v.current,O.relatedTarget)),W=()=>!!(_.current&&ga(_.current,O.relatedTarget)),F=()=>{var V;return!!(!((V=v.current)===null||V===void 0)&&V.contains(O.target))};if(z()){if(u==null||u(O,{visible:!0,event:O,type:O.type}),O.defaultPrevented)return;f(!0);return}F()&&W()||O.type==="mouseout"&&A()&&((M==null?void 0:M.activeElement)===_.current||ga(v.current,M==null?void 0:M.activeElement))||(u==null||u(O,{visible:!1,event:O,type:O.type}),!O.defaultPrevented&&f(!1))},[f,u,_,A,M]),I=zt(e.expandIcon,{renderByDefault:w,defaultProps:{children:x.createElement(yH,null),"aria-hidden":!0},elementType:"div"}),N=dn(I==null?void 0:I.ref,m);I&&(I.ref=N);const P=BN({circular:s==="tree",axis:"horizontal"}),D=d?zt(e.actions,{defaultProps:{...P,role:"toolbar"},elementType:"div"}):void 0;D==null||delete D.visible,D==null||delete D.onVisibilityChange;const q=dn(D==null?void 0:D.ref,g,v),$=pt(O=>{if(Ng(e.actions)){var z,W;(z=(W=e.actions).onBlur)===null||z===void 0||z.call(W,O)}const F=!!ga(O.currentTarget,O.relatedTarget);u==null||u(O,{visible:F,event:O,type:O.type}),f(F)});D&&(D.ref=q,D.onBlur=$);const j=!!e.actions;return x.useEffect(()=>{if(_.current&&j){const O=_.current,z=C,W=E,F=C,V=E;return O.addEventListener("mouseover",z),O.addEventListener("mouseout",W),O.addEventListener("focus",F),O.addEventListener("blur",V),()=>{O.removeEventListener("mouseover",z),O.removeEventListener("mouseout",W),O.removeEventListener("focus",F),O.removeEventListener("blur",V)}}},[j,_,C,E]),{components:{root:"div",expandIcon:"div",iconBefore:"div",main:"div",iconAfter:"div",actions:"div",aside:"div",selector:a==="multiselect"?ho:kM},buttonContextValue:{size:"small"},root:Ct(Qt("div",{...e,ref:dn(t,o)}),{elementType:"div"}),iconBefore:zt(i,{elementType:"div"}),main:Ct(n,{elementType:"div"}),iconAfter:zt(r,{elementType:"div"}),aside:d?void 0:zt(e.aside,{elementType:"div"}),actions:D,expandIcon:I,selector:zt(e.selector,{renderByDefault:a!=="none",defaultProps:{checked:S,tabIndex:-1,"aria-hidden":!0,ref:p},elementType:a==="multiselect"?ho:kM})}},kge=e=>an(e.root,{children:[e.expandIcon&&Se(e.expandIcon,{}),e.selector&&Se(e.selector,{}),e.iconBefore&&Se(e.iconBefore,{}),Se(e.main,{children:e.root.children}),e.iconAfter&&Se(e.iconAfter,{}),an(Yle,{value:e.buttonContextValue,children:[e.actions&&Se(e.actions,{}),e.aside&&Se(e.aside,{})]})]}),nl={root:"fui-TreeItemLayout",iconBefore:"fui-TreeItemLayout__iconBefore",main:"fui-TreeItemLayout__main",iconAfter:"fui-TreeItemLayout__iconAfter",expandIcon:"fui-TreeItemLayout__expandIcon",aside:"fui-TreeItemLayout__aside",actions:"fui-TreeItemLayout__actions",selector:"fui-TreeItemLayout__selector"},Ege=Rt("ryb8khq",null,[".ryb8khq{display:flex;align-items:center;min-height:32px;box-sizing:border-box;grid-area:layout;}",".ryb8khq:hover{color:var(--colorNeutralForeground2Hover);background-color:var(--colorSubtleBackgroundHover);}",".ryb8khq:hover .fui-TreeItemLayout__expandIcon{color:var(--colorNeutralForeground3Hover);}",".ryb8khq:active{color:var(--colorNeutralForeground2Pressed);background-color:var(--colorSubtleBackgroundPressed);}",".ryb8khq:active .fui-TreeItemLayout__expandIcon{color:var(--colorNeutralForeground3Pressed);}"]),Mge=Fe({leaf:{uwmqm3:["f1k1erfc","faevyjx"]},branch:{uwmqm3:["fo100m9","f6yw3pu"]},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},subtle:{},"subtle-alpha":{Jwef8y:"f146ro5n",ecr2s2:"fkam630"},transparent:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",ecr2s2:"fophhak"}},{d:[".f1k1erfc{padding-left:calc(var(--fluent-TreeItem--level, 1) * var(--spacingHorizontalXXL));}",".faevyjx{padding-right:calc(var(--fluent-TreeItem--level, 1) * var(--spacingHorizontalXXL));}",".fo100m9{padding-left:calc((var(--fluent-TreeItem--level, 1) - 1) * var(--spacingHorizontalXXL));}",".f6yw3pu{padding-right:calc((var(--fluent-TreeItem--level, 1) - 1) * var(--spacingHorizontalXXL));}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1pha7fy{min-height:24px;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}"],h:[".f146ro5n:hover{background-color:var(--colorSubtleBackgroundLightAlphaHover);}",".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}"],a:[".fkam630:active{background-color:var(--colorSubtleBackgroundLightAlphaPressed);}",".fophhak:active{background-color:var(--colorTransparentBackgroundPressed);}"]}),Age=Rt("rzvs2in","r17h8a29",[".rzvs2in{display:flex;margin-left:auto;position:relative;z-index:1;grid-area:aside;padding:0 var(--spacingHorizontalS);}",".r17h8a29{display:flex;margin-right:auto;position:relative;z-index:1;grid-area:aside;padding:0 var(--spacingHorizontalS);}"]),Nge=Rt("r1825u21","rezy0yk",[".r1825u21{display:flex;margin-left:auto;align-items:center;z-index:0;grid-area:aside;padding:0 var(--spacingHorizontalM);gap:var(--spacingHorizontalXS);}",".rezy0yk{display:flex;margin-right:auto;align-items:center;z-index:0;grid-area:aside;padding:0 var(--spacingHorizontalM);gap:var(--spacingHorizontalXS);}"]),Pge=Rt("rh4pu5o",null,[".rh4pu5o{display:flex;align-items:center;justify-content:center;min-width:24px;box-sizing:border-box;color:var(--colorNeutralForeground3);flex:0 0 auto;padding:var(--spacingVerticalXS) 0;}"]),Bge=Rt("rklbe47",null,[".rklbe47{padding:0 var(--spacingHorizontalXXS);}"]),Rge=Rt("rphzgg1",null,[".rphzgg1{display:flex;align-items:center;color:var(--colorNeutralForeground2);line-height:var(--lineHeightBase500);font-size:var(--fontSizeBase500);}"]),jge=Fe({medium:{z189sj:["f7x41pl","fruq291"]},small:{z189sj:["ffczdla","fgiv446"]}},{d:[".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}"]}),Ige=Fe({medium:{uwmqm3:["fruq291","f7x41pl"]},small:{uwmqm3:["fgiv446","ffczdla"]}},{d:[".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}"]}),zge=e=>{"use no memo";const{main:t,iconAfter:n,iconBefore:r,expandIcon:i,root:o,aside:a,actions:s,selector:c}=e,u=Mge(),d=Ege(),f=Age(),p=Nge(),m=Bge(),g=Pge(),v=Rge(),_=jge(),y=Ige(),S=ws(M=>M.size),w=ws(M=>M.appearance),C=pa(M=>M.itemType);return o.className=Ce(nl.root,d,u[w],u[S],u[C],o.className),t.className=Ce(nl.main,m,t.className),i&&(i.className=Ce(nl.expandIcon,g,i.className)),r&&(r.className=Ce(nl.iconBefore,v,_[S],r.className)),n&&(n.className=Ce(nl.iconAfter,v,y[S],n.className)),s&&(s.className=Ce(nl.actions,f,s.className)),a&&(a.className=Ce(nl.aside,p,a.className)),c&&(c.className=Ce(nl.selector,c.className)),e},Im=x.forwardRef((e,t)=>{const n=Tge(e,t);return zge(n),Ft("useTreeItemLayoutStyles_unstable")(n),kge(n)});Im.displayName="TreeItemLayout";function Lge(e="tree"){"use no memo";const{rove:t,initialize:n,forceUpdate:r}=xge(),{findFirstFocusable:i}=Wu(),{walkerRef:o,rootRef:a}=Sge(),s=x.useCallback(d=>{d&&o.current&&n(o.current)},[o,n]),c=d=>{if(!o.current)return null;switch(d.type){case Vr.Click:return d.target;case Vr.TypeAhead:return o.current.currentElement=d.target,yge(o.current,d.event.key);case Vr.ArrowLeft:{const p=gI(d.target);return e==="treegrid"&&(p!=null&&p.contains(d.target.ownerDocument.activeElement))?d.target:(o.current.currentElement=d.target,o.current.parentElement())}case Vr.ArrowRight:if(e==="treegrid"){const p=gI(d.target);if(p){var f;(f=i(p))===null||f===void 0||f.focus()}return null}return o.current.currentElement=d.target,o.current.firstChild();case Vr.End:return o.current.currentElement=o.current.root,Dge(o.current);case Vr.Home:return o.current.currentElement=o.current.root,o.current.firstChild();case Vr.ArrowDown:return o.current.currentElement=d.target,o.current.nextElement();case Vr.ArrowUp:return o.current.currentElement=d.target,o.current.previousElement()}};function u(d,f){const p=c(d);return p&&t(p,f),p}return{navigate:u,treeRef:dn(a,s),forceUpdateRovingTabIndex:r}}function Dge(e){let t=null,n=null;for(;n=e.lastChild();)t=n;return t}const gI=e=>e.querySelector(`:scope > .${nl.root} > .${nl.actions}`),Oge=(e,t)=>{"use no memo";return x.useContext(Db)===void 0?Fge(e,t):Uge(e,t)};function Fge(e,t){"use no memo";const[n,r]=age(e),i=cge(e),o=Lge(e.navigationMode);return Object.assign(fge({...e,openItems:n,checkedItems:i,onOpenChange:pt((a,s)=>{var c;const u=hH(s,n);(c=e.onOpenChange)===null||c===void 0||c.call(e,a,{...s,openItems:Ca.dangerouslyGetInternalSet(u)}),r(u)}),onNavigation:pt((a,s)=>{var c;(c=e.onNavigation)===null||c===void 0||c.call(e,a,s),a.isDefaultPrevented()||o.navigate(s,{preventScroll:s.isScrollPrevented()})}),onCheckedChange:pt((a,s)=>{var c;const u=uge(s,i);(c=e.onCheckedChange)===null||c===void 0||c.call(e,a,{...s,checkedItems:_l.dangerouslyGetInternalMap(u)})})},dn(t,o.treeRef)),{treeType:"nested",forceUpdateRovingTabIndex:o.forceUpdateRovingTabIndex})}function Uge(e,t){"use no memo";return vge(e,t)}function qge(e){"use no memo";if(e.contextType==="root"){const{openItems:t,level:n,contextType:r,treeType:i,checkedItems:o,selectionMode:a,navigationMode:s,appearance:c,size:u,requestTreeResponse:d,forceUpdateRovingTabIndex:f}=e;return{tree:{treeType:i,size:u,openItems:t,appearance:c,checkedItems:o,selectionMode:a,navigationMode:s,contextType:r,level:n,requestTreeResponse:d,forceUpdateRovingTabIndex:f}}}return{tree:x.useMemo(()=>({level:e.level,contextType:"subtree"}),[e.level])}}const Hge={root:"fui-Tree"},Vge=Rt("rnv2ez3",null,[".rnv2ez3{display:flex;flex-direction:column;row-gap:var(--spacingVerticalXXS);}"]),Wge=Fe({subtree:{z8tnut:"fclwglc"}},{d:[".fclwglc{padding-top:var(--spacingVerticalXXS);}"]}),Gge=e=>{"use no memo";const t=Vge(),n=Wge(),r=e.level>1;return e.root.className=Ce(Hge.root,t,r&&n.subtree,e.root.className),e},$ge={level:1,contextType:"subtree"},bH=e=>e.value.contextType==="subtree"?x.createElement(Db.Provider,{value:e.value},e.children):x.createElement(gH.Provider,{value:e.value},x.createElement(Db.Provider,{value:$ge},e.children));bH.displayName="TreeProvider";const Xge=(e,t)=>Se(bH,{value:t.tree,children:e.collapseMotion?Se(e.collapseMotion,{children:Se(e.root,{})}):Se(e.root,{})}),xH=x.forwardRef((e,t)=>{const n=Oge(e,t),r=qge(n);return Gge(n),Ft("useTreeStyles_unstable")(n),Xge(n,r)});xH.displayName="Tree";const Zge="data-fui-tree-item-value";function Kge(e,t){"use no memo";ws(z=>z.treeType);const n=ws(z=>z.requestTreeResponse),r=ws(z=>{var W;return(W=z.navigationMode)!==null&&W!==void 0?W:"tree"}),i=ws(z=>z.forceUpdateRovingTabIndex),{level:o}=mH(),a=pa(z=>{var W;return(W=e.parentValue)!==null&&W!==void 0?W:z.value}),s=vi("fuiTreeItemValue-");var c;const u=(c=e.value)!==null&&c!==void 0?c:s,{onClick:d,onKeyDown:f,onChange:p,as:m="div",itemType:g="leaf","aria-level":v=o,"aria-selected":_,"aria-expanded":y,...S}=e,w=x.useRef(null),C=x.useRef(null),M=x.useRef(null),A=x.useRef(null),E=x.useRef(null),I=x.useRef(null);x.useEffect(()=>{i==null||i();const z=I.current;return()=>{z&&z.tabIndex===0&&(i==null||i())}},[i]);const N=ws(z=>{var W;return(W=e.open)!==null&&W!==void 0?W:z.openItems.has(u)}),P=()=>g==="branch"?!N:N,D=ws(z=>z.selectionMode),q=ws(z=>{var W;return(W=z.checkedItems.get(u))!==null&&W!==void 0?W:!1}),$=pt(z=>{var W;const F=()=>w.current&&ga(w.current,z.target),V=()=>A.current&&ga(A.current,z.target),H=()=>{var Z;return(Z=E.current)===null||Z===void 0?void 0:Z.contains(z.target)},te=(W=C.current)===null||W===void 0?void 0:W.contains(z.target);F()||V()||H()||(te||d==null||d(z),!z.isDefaultPrevented()&&qh.unstable_batchedUpdates(()=>{const Z={event:z,value:u,open:P(),target:z.currentTarget,type:te?Vr.ExpandIconClick:Vr.Click};if(g!=="leaf"){var Q;(Q=e.onOpenChange)===null||Q===void 0||Q.call(e,z,Z),n({...Z,itemType:g,requestType:"open"})}n({...Z,itemType:g,parentValue:a,requestType:"navigate",type:Vr.Click})}))}),j=pt(z=>{if(f==null||f(z),z.isDefaultPrevented()||!I.current)return;const W=z.currentTarget===z.target,F=w.current&&w.current.contains(z.target);switch(z.key){case ll:{if(!W)return;if(D!=="none"){var V;(V=E.current)===null||V===void 0||V.click(),z.preventDefault()}return}case Vr.Enter:return W?z.currentTarget.click():void 0;case Vr.End:case Vr.Home:case Vr.ArrowUp:return!W&&!F?void 0:n({requestType:"navigate",event:z,value:u,itemType:g,parentValue:a,type:z.key,target:z.currentTarget});case Vr.ArrowDown:return!W&&!F||F&&(!Ar(z.target)||z.target.hasAttribute("aria-haspopup"))?void 0:n({requestType:"navigate",event:z,value:u,itemType:g,parentValue:a,type:z.key,target:z.currentTarget});case Vr.ArrowLeft:{if(z.altKey)return;const Q={value:u,event:z,open:P(),type:z.key,itemType:g,parentValue:a,target:z.currentTarget};if(F&&r==="treegrid"){n({...Q,requestType:"navigate"});return}if(!W||v===1&&!N)return;if(N){var H;(H=e.onOpenChange)===null||H===void 0||H.call(e,z,Q)}n({...Q,requestType:N?"open":"navigate"});return}case Vr.ArrowRight:{if(!W||z.altKey)return;const Q={value:u,event:z,open:P(),type:z.key,target:z.currentTarget};if(g==="branch"&&!N){var te;(te=e.onOpenChange)===null||te===void 0||te.call(e,z,Q),n({...Q,itemType:g,requestType:"open"})}else n({...Q,itemType:g,parentValue:a,requestType:"navigate"});return}}if(!W)return;z.key.length===1&&z.key.match(/\w/)&&!z.altKey&&!z.ctrlKey&&!z.metaKey&&n({requestType:"navigate",event:z,target:z.currentTarget,value:u,itemType:g,type:Vr.TypeAhead,parentValue:a})}),O=pt(z=>{p==null||p(z),!(z.isDefaultPrevented()||A.current&&ga(A.current,z.target))&&n({requestType:"selection",event:z,value:u,itemType:g,type:"Change",target:z.currentTarget,checked:q==="mixed"?!0:!q})});return{value:u,open:N,checked:q,subtreeRef:A,layoutRef:M,selectionRef:E,expandIconRef:C,treeItemRef:I,actionsRef:w,itemType:g,level:v,components:{root:"div"},isAsideVisible:!1,isActionsVisible:!1,root:Ct(Qt(m,{tabIndex:-1,[Zge]:u,role:"treeitem",...S,ref:dn(t,I),"aria-level":v,"aria-checked":D==="multiselect"?q:void 0,"aria-selected":_!==void 0?_:D==="single"?!!q:void 0,"aria-expanded":y!==void 0?y:g==="branch"?N:void 0,onClick:$,onKeyDown:j,onChange:O}),{elementType:"div"})}}const Yge=(e,t)=>Se(e.root,{children:Se(gge,{value:t.treeItem,children:e.root.children})}),Jge={root:"fui-TreeItem"},Qge=Rt("r15xhw3a","r2f6k57",[".r15xhw3a{position:relative;cursor:pointer;display:flex;flex-direction:column;box-sizing:border-box;background-color:var(--colorSubtleBackground);color:var(--colorNeutralForeground2);padding-right:var(--spacingHorizontalNone);}",".r15xhw3a:focus{outline-style:none;}",".r15xhw3a:focus-visible{outline-style:none;}",".r15xhw3a[data-fui-focus-visible]>.fui-TreeItemLayout,.r15xhw3a[data-fui-focus-visible]>.fui-TreeItemPersonaLayout{border-radius:var(--borderRadiusMedium);outline-color:var(--colorStrokeFocus2);outline-radius:var(--borderRadiusMedium);outline-width:2px;outline-style:solid;}",".r2f6k57{position:relative;cursor:pointer;display:flex;flex-direction:column;box-sizing:border-box;background-color:var(--colorSubtleBackground);color:var(--colorNeutralForeground2);padding-left:var(--spacingHorizontalNone);}",".r2f6k57:focus{outline-style:none;}",".r2f6k57:focus-visible{outline-style:none;}",".r2f6k57[data-fui-focus-visible]>.fui-TreeItemLayout,.r2f6k57[data-fui-focus-visible]>.fui-TreeItemPersonaLayout{border-radius:var(--borderRadiusMedium);outline-color:var(--colorStrokeFocus2);outline-radius:var(--borderRadiusMedium);outline-width:2px;outline-style:solid;}"]),eve=Fe({level1:{iytv0q:"f10bgyvd"},level2:{iytv0q:"f1h0rod3"},level3:{iytv0q:"fgoqafk"},level4:{iytv0q:"f75dvuh"},level5:{iytv0q:"fqk7yw6"},level6:{iytv0q:"f1r3z17b"},level7:{iytv0q:"f1hrpd1h"},level8:{iytv0q:"f1iy65d0"},level9:{iytv0q:"ftg42e5"},level10:{iytv0q:"fyat3t"}},{d:[".f10bgyvd{--fluent-TreeItem--level:1;}",".f1h0rod3{--fluent-TreeItem--level:2;}",".fgoqafk{--fluent-TreeItem--level:3;}",".f75dvuh{--fluent-TreeItem--level:4;}",".fqk7yw6{--fluent-TreeItem--level:5;}",".f1r3z17b{--fluent-TreeItem--level:6;}",".f1hrpd1h{--fluent-TreeItem--level:7;}",".f1iy65d0{--fluent-TreeItem--level:8;}",".ftg42e5{--fluent-TreeItem--level:9;}",".fyat3t{--fluent-TreeItem--level:10;}"]}),tve=e=>{"use no memo";const t=Qge(),n=eve(),{level:r}=e;return e.root.className=Ce(Jge.root,t,nve(r)&&n[`level${r}`],e.root.className),e};function nve(e){return e>=1&&e<=10}function rve(e){const{value:t,itemType:n,layoutRef:r,subtreeRef:i,open:o,expandIconRef:a,actionsRef:s,treeItemRef:c,isActionsVisible:u,isAsideVisible:d,selectionRef:f,checked:p}=e;return{treeItem:{value:t,checked:p,itemType:n,layoutRef:r,subtreeRef:i,open:o,selectionRef:f,isActionsVisible:u,isAsideVisible:d,actionsRef:s,treeItemRef:c,expandIconRef:a}}}const zm=x.forwardRef((e,t)=>{const n=Kge(e,t);tve(n),Ft("useTreeItemStyles_unstable")(n);const r=rve(n);return Yge(n,r)});zm.displayName="TreeItem";function ive(e){switch(e){case"info":return x.createElement(_ie,null);case"warning":return x.createElement(bie,null);case"error":return x.createElement(jie,null);case"success":return x.createElement(Aie,null);default:return null}}function ove(e=!1){const{targetDocument:t}=gn(),n=x.useReducer(()=>({}),{})[1],r=x.useRef(!1),i=x.useRef(null),o=x.useRef(-1),a=x.useCallback(c=>{var u,d;const f=c[0];var p;const m=(p=f==null||(d=f.borderBoxSize)===null||d===void 0||(u=d[0])===null||u===void 0?void 0:u.inlineSize)!==null&&p!==void 0?p:f==null?void 0:f.target.getBoundingClientRect().width;if(m===void 0||!f)return;const{target:g}=f;if(!Ar(g))return;let v;if(r.current)o.current<m&&(v=!1);else{const _=g.scrollWidth;m<_&&(v=!0)}o.current=m,typeof v<"u"&&r.current!==v&&(r.current=v,n())},[n]),s=x.useCallback(c=>{var u;if(!e||!c||!(t!=null&&t.defaultView))return;(u=i.current)===null||u===void 0||u.disconnect();const d=t.defaultView,f=new d.ResizeObserver(a);i.current=f,f.observe(c,{box:"border-box"})},[t,a,e]);return x.useEffect(()=>()=>{var c;(c=i.current)===null||c===void 0||c.disconnect()},[]),{ref:s,reflowing:r.current}}const _H=x.createContext(void 0),ave={className:"",nodeRef:x.createRef()};_H.Provider;const sve=()=>{var e;return(e=x.useContext(_H))!==null&&e!==void 0?e:ave},lve=x.createContext(void 0);function cve(){return x.useContext(lve)}const uve=(e,t)=>{const{layout:n="auto",intent:r="info",politeness:i,shape:o="rounded"}=e,a=i??r==="info"?"polite":"assertive",s=n==="auto",{ref:c,reflowing:u}=ove(s),d=s?u?"multiline":"singleline":n,{className:f,nodeRef:p}=sve(),m=cve(),g=x.useRef(null),v=x.useRef(null),{announce:_}=Pee(),y=vi();return x.useEffect(()=>{var S,w;const C=(S=v.current)===null||S===void 0?void 0:S.textContent,M=(w=g.current)===null||w===void 0?void 0:w.textContent,A=[C,M].filter(Boolean).join(",");_(A,{polite:a==="polite",alert:a==="assertive"})},[v,g,_,a]),{components:{root:"div",icon:"div",bottomReflowSpacer:"div"},root:Ct(Qt("div",{ref:dn(t,c,p,m),role:"group","aria-labelledby":y,...e}),{elementType:"div"}),icon:zt(e.icon,{renderByDefault:!0,elementType:"div",defaultProps:{children:ive(r)}}),bottomReflowSpacer:zt(e.bottomReflowSpacer,{renderByDefault:d==="multiline",elementType:"div"}),layout:d,intent:r,transitionClassName:f,actionsRef:g,bodyRef:v,titleId:y,shape:o}},wH=x.createContext(void 0),dve={titleId:"",layout:"singleline",actionsRef:x.createRef(),bodyRef:x.createRef()},fve=wH.Provider,hve=()=>{var e;return(e=x.useContext(wH))!==null&&e!==void 0?e:dve},pve=(e,t)=>Se(fve,{value:t.messageBar,children:an(e.root,{children:[e.icon&&Se(e.icon,{}),e.root.children,e.bottomReflowSpacer&&Se(e.bottomReflowSpacer,{})]})}),xw={root:"fui-MessageBar",icon:"fui-MessageBar__icon",bottomReflowSpacer:"fui-MessageBar__bottomReflowSpacer"},mve=Rt("r2oyxsj","r1wuyrhw",['.r2oyxsj{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-left:var(--spacingHorizontalM);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}','.r1wuyrhw{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-right:var(--spacingHorizontalM);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}']),gve=Rt("r1df1z33","rivnfjc",[".r1df1z33{grid-area:icon;font-size:var(--fontSizeBase500);margin-right:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}",".rivnfjc{grid-area:icon;font-size:var(--fontSizeBase500);margin-left:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}"]),vve=Rt("r1vx593n",null,[".r1vx593n{margin-bottom:var(--spacingVerticalS);grid-area:secondaryActions;}"]),yve=Fe({rootMultiline:{Huce71:"f6juhto",Bt984gj:"f1s2louj",z8tnut:"f1ngh7ph",Budl1dq:"f17g0uqy",zoa1oz:"f1w7oly7"},secondaryActionsMultiline:{Brf1p80:"f1e8xxv9",B6of3ja:"f1gaxbfw",jrapky:"fqcjy3b",t21cq0:["fibjyge","f9yszdx"]},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"}},{d:[".f6juhto{white-space:normal;}",".f1s2louj{align-items:start;}",".f1ngh7ph{padding-top:var(--spacingVerticalMNudge);}",".f17g0uqy{grid-template-columns:auto 1fr auto;}",'.f1w7oly7{grid-template-areas:"icon body actions" "secondaryActions secondaryActions secondaryActions";}',".f1e8xxv9{justify-content:end;}",".f1gaxbfw{margin-top:var(--spacingVerticalMNudge);}",".fqcjy3b{margin-bottom:var(--spacingVerticalS);}",".fibjyge{margin-right:0px;}",".f9yszdx{margin-left:0px;}",[".fokr779{border-radius:0;}",{p:-1}]]}),bve=Fe({info:{},error:{sj55zd:"f1ca9wz"},warning:{sj55zd:"f14a4cve"},success:{sj55zd:"f36rra6"}},{d:[".f1ca9wz{color:var(--colorStatusDangerForeground1);}",".f14a4cve{color:var(--colorStatusWarningForeground3);}",".f36rra6{color:var(--colorStatusSuccessForeground1);}"]}),xve=Fe({info:{},error:{De3pzq:"f1eon7jj",g2u3we:"f1f8dvr7",h3c5rm:["f1g1ijmo","f1nxacbt"],B9xav0g:"fo25q1j",zhjwy3:["f1nxacbt","f1g1ijmo"]},warning:{De3pzq:"f13ftzij",g2u3we:"frd1ypx",h3c5rm:["f1gyjrma","f18qd5xz"],B9xav0g:"fqyqtrt",zhjwy3:["f18qd5xz","f1gyjrma"]},success:{De3pzq:"f64thcm",g2u3we:"f1b4u7v",h3c5rm:["f1nyd2b1","f70v3om"],B9xav0g:"fk173vo",zhjwy3:["f70v3om","f1nyd2b1"]}},{d:[".f1eon7jj{background-color:var(--colorStatusDangerBackground1);}",".f1f8dvr7{border-top-color:var(--colorStatusDangerBorder1);}",".f1g1ijmo{border-right-color:var(--colorStatusDangerBorder1);}",".f1nxacbt{border-left-color:var(--colorStatusDangerBorder1);}",".fo25q1j{border-bottom-color:var(--colorStatusDangerBorder1);}",".f13ftzij{background-color:var(--colorStatusWarningBackground1);}",".frd1ypx{border-top-color:var(--colorStatusWarningBorder1);}",".f1gyjrma{border-right-color:var(--colorStatusWarningBorder1);}",".f18qd5xz{border-left-color:var(--colorStatusWarningBorder1);}",".fqyqtrt{border-bottom-color:var(--colorStatusWarningBorder1);}",".f64thcm{background-color:var(--colorStatusSuccessBackground1);}",".f1b4u7v{border-top-color:var(--colorStatusSuccessBorder1);}",".f1nyd2b1{border-right-color:var(--colorStatusSuccessBorder1);}",".f70v3om{border-left-color:var(--colorStatusSuccessBorder1);}",".fk173vo{border-bottom-color:var(--colorStatusSuccessBorder1);}"]}),_ve=e=>{"use no memo";const t=mve(),n=gve(),r=bve(),i=xve(),o=vve(),a=yve();return e.root.className=Ce(xw.root,t,e.layout==="multiline"&&a.rootMultiline,e.shape==="square"&&a.square,i[e.intent],e.root.className),e.icon&&(e.icon.className=Ce(xw.icon,n,r[e.intent],e.icon.className)),e.bottomReflowSpacer&&(e.bottomReflowSpacer.className=Ce(xw.bottomReflowSpacer,o)),e};function wve(e){const{layout:t,actionsRef:n,bodyRef:r,titleId:i}=e;return{messageBar:x.useMemo(()=>({layout:t,actionsRef:n,bodyRef:r,titleId:i}),[t,n,r,i])}}const bn=x.forwardRef((e,t)=>{const n=uve(e,t);return _ve(n),Ft("useMessageBarStyles_unstable")(n),pve(n,wve(n))});bn.displayName="MessageBar";const Sve=(e,t)=>{const{bodyRef:n}=hve();return{components:{root:"div"},root:Ct(Qt("div",{ref:dn(t,n),...e}),{elementType:"div"})}},Cve=(e,t)=>Se(bue,{value:t.link,children:Se(e.root,{})}),Tve={root:"fui-MessageBarBody"},kve=Rt("rtatq2b","re2rary",[".rtatq2b{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-area:body;padding-right:var(--spacingHorizontalM);}",".re2rary{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-area:body;padding-left:var(--spacingHorizontalM);}"]),Eve=e=>{"use no memo";const t=kve();return e.root.className=Ce(Tve.root,t,e.root.className),e};function Mve(e){return{link:x.useMemo(()=>({inline:!0}),[])}}const xn=x.forwardRef((e,t)=>{const n=Sve(e,t),r=Mve();return Eve(n),Ft("useMessageBarBodyStyles_unstable")(n),Cve(n,r)});xn.displayName="MessageBarBody";const Ave={scrollState:"none",setScrollState:()=>({})},SH=x.createContext(void 0),iP=SH.Provider,CH=()=>{var e;return(e=x.useContext(SH))!==null&&e!==void 0?e:Ave},oP=()=>{const[e,t]=x.useState("none");return{setScrollState:t,scrollState:e}},TH={drawerSizeVar:"--fui-Drawer--size"},Nve=Fe({start:{h3c5rm:0,vrafjx:0,Bekrc4i:0,u1mtju:["f1xteiwb","fsqykmd"],oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["fvfyk4","frppm18"]},end:{zhjwy3:0,wvpqe5:0,ibv6hh:0,B4g9neb:["fsqykmd","f1xteiwb"],j35jbq:["f1e31b4d","f1vgc2s3"],oyh7mz:["frppm18","fvfyk4"]},bottom:{B5kzvoi:"f1yab3r1",Bhzewxz:"f198g47y"},small:{Bjr0ffy:"f1exhnwo"},medium:{Bjr0ffy:"fqofjzu"},large:{Bjr0ffy:"fce6y3m"},full:{Bjr0ffy:"fsdmzs6"}},{d:[[".f1xteiwb{border-right:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-1}],[".fsqykmd{border-left:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-1}],".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".fvfyk4{right:auto;}",".frppm18{left:auto;}",[".fsqykmd{border-left:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-1}],[".f1xteiwb{border-right:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-1}],".f1yab3r1{bottom:0;}",".f198g47y{top:auto;}",".f1exhnwo{--fui-Drawer--size:320px;}",".fqofjzu{--fui-Drawer--size:592px;}",".fce6y3m{--fui-Drawer--size:940px;}",".fsdmzs6{--fui-Drawer--size:100vw;}"]}),Pve=Fe({small:{Bjr0ffy:"f1exhnwo"},medium:{Bjr0ffy:"fqofjzu"},large:{Bjr0ffy:"fce6y3m"},full:{Bjr0ffy:"f1rat34m"}},{d:[".f1exhnwo{--fui-Drawer--size:320px;}",".fqofjzu{--fui-Drawer--size:592px;}",".fce6y3m{--fui-Drawer--size:940px;}",".f1rat34m{--fui-Drawer--size:100%;}"]}),kH=({position:e,size:t})=>{const n=Nve(),r=Pve();return Ce(n[e],e==="bottom"&&r[t],e!=="bottom"&&n[t])},aP={small:_n.durationGentle,medium:_n.durationSlow,large:_n.durationSlower,full:_n.durationUltraSlow};function EH(e,t,n){const r=`translate3d(var(${t}), 0, 0)`,i=`translate3d(calc(var(${t}) * -1), 0, 0)`,o=`translate3d(0, var(${t}), 0)`;return e==="start"?n==="ltr"?i:r:e==="end"?n==="ltr"?r:i:e==="bottom"?o:"translate3d(0, 0, 0)"}const vI=lf(({position:e,size:t,dir:n})=>{const r=[{transform:EH(e,TH.drawerSizeVar,n),opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}],i=aP[t];return{enter:{keyframes:r,duration:i,easing:_n.curveDecelerateMid},exit:{keyframes:[...r].reverse(),duration:i,easing:_n.curveAccelerateMin}}}),Bve=lf(({position:e,size:t,dir:n})=>{const r=[{transform:EH(e,TH.drawerSizeVar,n),boxShadow:`0px ${k.colorTransparentBackground}`,opacity:0},{transform:"translate3d(0, 0, 0)",boxShadow:k.shadow64,opacity:1}],i=aP[t];return{enter:{keyframes:r,duration:i,easing:_n.curveDecelerateMid},exit:{keyframes:[...r].reverse(),duration:i,easing:_n.curveAccelerateMin}}}),Rve=lf(({size:e})=>{const t=aP[e],n=_n.curveLinear;return{enter:zu({direction:"enter",duration:t,easing:n}),exit:zu({direction:"exit",duration:t,easing:n})}});function MH(e){const{open:t=!1,size:n="small",position:r="start",unmountOnClose:i=!0}=e;return{size:n,position:r,open:t,unmountOnClose:i}}const jve=Rt("rl76ifk",null,[".rl76ifk{inset:0px;position:fixed;background-color:var(--colorBackgroundOverlay);}"]),Ive=Fe({nested:{De3pzq:"f1c21dwh"},drawerHidden:{Bkecrkj:"f1aehjj5"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1aehjj5{pointer-events:none;}"]}),zve=e=>{"use no memo";const{isNestedDialog:t,backdrop:n,open:r,unmountOnClose:i}=e,o=jve(),a=Ive(),s=!i&&!r;return n&&(n.className=Ce(o,t&&a.nested,s&&a.drawerHidden,n.className)),e},BM=x.forwardRef((e,t)=>{const n=eH({...e,as:e.as},t),r=nH();return zve(n),Ft("useOverlayDrawerSurfaceStyles_unstable")(n),tH(n,r)});BM.displayName="OverlayDrawerSurface";function yI(e,t,n){return e===null?null:{...e,children:(r,i)=>e!=null&&e.children?e.children(t,{...i,...n}):x.createElement(t,{...i,...n},i.children)}}const Lve={active:!0,canRender:!0,ref:x.createRef(),type:"idle"},Dve=(e,t)=>{const{open:n,size:r,position:i,unmountOnClose:o}=MH(e),{modalType:a="modal",inertTrapFocus:s,onOpenChange:c,backdropMotion:u,surfaceMotion:d,mountNode:f}=e,{dir:p,targetDocument:m}=gn(),{element:g}=Sq(f),v=!!(g&&(m==null?void 0:m.body)!==g),_=CN(e.backdrop),S=Ct({...e,ref:t,unmountOnClose:o,backdrop:a!=="non-modal"&&_!==null?{..._}:null,backdropMotion:yI(u,Rve,{size:r})},{elementType:BM}),w=Ct({open:n,onOpenChange:c,inertTrapFocus:s,modalType:a,unmountOnClose:o,surfaceMotion:yI(d,Bve,{position:i,size:r,dir:p}),children:null},{elementType:Qn});return{components:{root:BM,dialog:Qn},root:S,dialog:w,open:n,size:r,position:i,hasMountNodeElement:v,unmountOnClose:o,mountNode:f,motion:Lve}},Ove=(e,t)=>Se(iP,{value:t,children:Se(e.dialog,{children:Se(e.root,{})})}),bI={root:"fui-OverlayDrawer",backdrop:"fui-OverlayDrawer__backdrop"},Fve=Rt("r7dfyj8","rmx02j7",{r:[".r7dfyj8{overflow:hidden;width:var(--fui-Drawer--size);max-width:100vw;height:auto;max-height:100vh;box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);position:fixed;top:0;bottom:0;}",".r7dfyj8:focus{outline-style:none;}",".r7dfyj8:focus-visible{outline-style:none;}",".r7dfyj8[data-fui-focus-visible]{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r7dfyj8[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".rmx02j7{overflow:hidden;width:var(--fui-Drawer--size);max-width:100vw;height:auto;max-height:100vh;box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);position:fixed;top:0;bottom:0;}",".rmx02j7:focus{outline-style:none;}",".rmx02j7:focus-visible{outline-style:none;}",".rmx02j7[data-fui-focus-visible]{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.rmx02j7[data-fui-focus-visible]::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r7dfyj8[data-fui-focus-visible]::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.rmx02j7[data-fui-focus-visible]::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Uve=Fe({start:{},end:{},bottom:{Bhzewxz:"f198g47y",Bqenvij:"fub80nq",a9b677:"fr97h3j"},absolute:{qhf8xq:"f1euv43f"}},{d:[".f198g47y{top:auto;}",".fub80nq{height:var(--fui-Drawer--size);}",".fr97h3j{width:100vw;}",".f1euv43f{position:absolute;}"]}),qve=e=>{"use no memo";const t=kH(e),n=Fve(),r=Uve(),i=e.hasMountNodeElement&&r.absolute,o=e.root.backdrop;return e.root.className=Ce(bI.root,t,n,r[e.position],i,e.root.className),o&&(o.className=Ce(bI.backdrop,i,o.className)),e},Rr=x.forwardRef((e,t)=>{const n=Dve(e,t),r=oP();return qve(n),Ft("useDrawerOverlayStyles_unstable")(n),Ft("useOverlayDrawerStyles_unstable")(n),Ove(n,r)});Rr.displayName="OverlayDrawer";const Hve={active:!0,canRender:!0,ref:x.createRef(),type:"idle"},Vve=(e,t)=>{const{size:n,position:r,open:i,unmountOnClose:o}=MH(e),{separator:a=!1,surfaceMotion:s}=e,{dir:c}=gn(),[u,d]=x.useState(i?"enter":"exit");return{components:{root:"div",surfaceMotion:vI},root:Ct(Qt("div",{...e,ref:t,"aria-hidden":!o&&!i?!0:void 0}),{elementType:"div"}),open:i,position:r,size:n,separator:a,unmountOnClose:o,animationDirection:u,surfaceMotion:Kx(s,{elementType:vI,defaultProps:{position:r,size:n,dir:c,visible:i,appear:o,unmountOnExit:o,onMotionFinish:(f,{direction:p})=>d(p),onMotionStart:(f,{direction:p})=>{p==="enter"&&d("enter")}}}),motion:Hve}},Wve=(e,t)=>Se(iP,{value:t,children:Se(e.surfaceMotion,{children:Se(e.root,{})})}),Gve={root:"fui-InlineDrawer"},$ve=Rt("rkjj3x6",null,[".rkjj3x6{overflow:hidden;width:var(--fui-Drawer--size);max-width:100vw;height:auto;max-height:100vh;box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);position:relative;}"]),Xve=Fe({separatorStart:{h3c5rm:0,vrafjx:0,Bekrc4i:0,u1mtju:["f1cxmi7i","f1j970fk"]},separatorEnd:{zhjwy3:0,wvpqe5:0,ibv6hh:0,B4g9neb:["f1j970fk","f1cxmi7i"]},separatorBottom:{g2u3we:0,icvyot:0,B4j52fo:0,i8vvqc:"f1n3kblk"},start:{},end:{},bottom:{a9b677:"fly5x3f",Bqenvij:"fub80nq"},animationExitStart:{a9b677:"f3tsq5r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh"},animationExitEnd:{a9b677:"f3tsq5r",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh"},animationExitBottom:{Bqenvij:"fniina8",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f3bhgqh"}},{d:[[".f1cxmi7i{border-right:1px solid var(--colorNeutralBackground3);}",{p:-1}],[".f1j970fk{border-left:1px solid var(--colorNeutralBackground3);}",{p:-1}],[".f1j970fk{border-left:1px solid var(--colorNeutralBackground3);}",{p:-1}],[".f1cxmi7i{border-right:1px solid var(--colorNeutralBackground3);}",{p:-1}],[".f1n3kblk{border-top:1px solid var(--colorNeutralBackground3);}",{p:-1}],".fly5x3f{width:100%;}",".fub80nq{height:var(--fui-Drawer--size);}",".f3tsq5r{width:0;}",[".f3bhgqh{border:none;}",{p:-2}],[".f3bhgqh{border:none;}",{p:-2}],".fniina8{height:0;}",[".f3bhgqh{border:none;}",{p:-2}]]});function Zve(e,t){if(e.separator)switch(e.position){case"start":return t.separatorStart;case"end":return t.separatorEnd;case"bottom":return t.separatorBottom;default:return}}function Kve(e,t){switch(e.position){case"start":return t.animationExitStart;case"end":return t.animationExitEnd;case"bottom":return t.animationExitBottom;default:return}}const Yve=e=>{"use no memo";const t=$ve(),n=kH(e),r=Xve();return e.root.className=Ce(Gve.root,t,n,Zve(e,r),r[e.position],e.animationDirection==="exit"&&Kve(e,r),e.root.className),e},AH=x.forwardRef((e,t)=>{const n=Vve(e,t),r=oP();return Yve(n),Ft("useDrawerInlineStyles_unstable")(n),Ft("useInlineDrawerStyles_unstable")(n),Wve(n,r)});AH.displayName="InlineDrawer";const Jve=(e,t)=>{const n=e.type==="inline"?AH:Rr,r=Ct({ref:t,...e},{elementType:n});return{components:{root:n},root:r}},Qve=(e,t)=>Se(iP,{value:t,children:Se(e.root,{})}),e0e={root:"fui-Drawer"},t0e=e=>{"use no memo";return e.root.className=Ce(e0e.root,e.root.className),e},NH=x.forwardRef((e,t)=>{const n=Jve(e,t),r=oP();return t0e(n),Ft("useDrawerStyles_unstable")(n),Qve(n,r)});NH.displayName="Drawer";const n0e=({scrollTop:e,scrollHeight:t,clientHeight:n})=>t<=n?"none":e===0?"top":e+n===t?"bottom":"middle",r0e=(e,t)=>{const{targetDocument:n}=gn(),r=n==null?void 0:n.defaultView,{setScrollState:i}=CH(),o=x.useRef(null),a=dn(t,o),[s,c]=Mb(),[u,d]=Mb(),f=x.useCallback(()=>{o.current&&i(n0e(o.current))},[i]),p=x.useCallback(()=>{c(),s(f)},[c,s,f]);return Ni(f,[e.children,f]),Ni(()=>{if(!o.current||!(r!=null&&r.ResizeObserver))return;const m=new r.ResizeObserver(()=>u(f));return m.observe(o.current),()=>{m.disconnect(),d()}},[u,d,f,r]),{components:{root:"div"},root:Ct(Qt("div",{ref:a,...e,onScroll:un(e.onScroll,p)}),{elementType:"div"})}},i0e=e=>Se(e.root,{}),o0e={root:"fui-DrawerBody"},a0e=Rt("ri6rvx7",null,[".ri6rvx7{padding:0 var(--spacingHorizontalXXL);flex:1;align-self:stretch;position:relative;z-index:1;overflow:auto;}",".ri6rvx7:last-child{padding-bottom:calc(var(--spacingHorizontalXXL) + 1px);}",".ri6rvx7:first-child{padding-top:calc(var(--spacingHorizontalXXL) + 1px);}"]),s0e=e=>{"use no memo";const t=a0e();return e.root.className=Ce(o0e.root,t,e.root.className),e},jr=x.forwardRef((e,t)=>{const n=r0e(e,t);return s0e(n),Ft("useDrawerBodyStyles_unstable")(n),i0e(n)});jr.displayName="DrawerBody";const l0e=(e,t)=>{const{scrollState:n}=CH();return{components:{root:"header"},root:Ct(Qt("header",{ref:t,role:"none",...e}),{elementType:"header"}),scrollState:n}},c0e=e=>Se(e.root,{}),u0e={root:"fui-DrawerHeader"},d0e=Rt("r3ovn4i",null,[".r3ovn4i{width:100%;max-width:100%;padding:var(--spacingVerticalXXL) var(--spacingHorizontalXXL) var(--spacingVerticalS);gap:var(--spacingHorizontalS);align-self:stretch;display:flex;flex-direction:column;box-sizing:border-box;position:relative;z-index:2;}"]),f0e=Fe({separator:{Dlnsje:"fxnjyrl",E3zdtr:"f1mdlcz9",B1piin3:["f15yvnhg","f1n6gb5g"],Eqx8gd:["f1n6gb5g","f15yvnhg"],Bp15pi3:"f1564nw5",Bjyk6c5:"fdlpgxj",F2fol1:"f15cmg8x",Ba2ppi3:"f3f8dgl",B1dyfl9:"fjvo4va",Bsft5z2:"f13zj6fq",By385i5:"fo72kxq"},separatorVisible:{Bp15pi3:"fjsqi2x"}},{d:[".fxnjyrl::after{height:1px;}",".f1mdlcz9::after{position:absolute;}",".f15yvnhg::after{right:0;}",".f1n6gb5g::after{left:0;}",".f1564nw5::after{opacity:0;}",".fdlpgxj::after{background-color:var(--colorNeutralStroke1);}",".f15cmg8x::after{transition-duration:var(--durationNormal);}",".f3f8dgl::after{transition-property:opacity;}",".fjvo4va::after{transition-timing-function:var(--curveEasyEase);}",'.f13zj6fq::after{content:"";}',".fo72kxq::after{bottom:0;}",".fjsqi2x::after{opacity:1;}"]}),h0e=e=>{"use no memo";const t=d0e(),n=f0e();return e.root.className=Ce(u0e.root,t,e.scrollState!=="none"&&n.separator,["middle","bottom"].includes(e.scrollState)&&n.separatorVisible,e.root.className),e},Ir=x.forwardRef((e,t)=>{const n=l0e(e,t);return h0e(n),Ft("useDrawerHeaderStyles_unstable")(n),c0e(n)});Ir.displayName="DrawerHeader";const p0e=(e,t)=>{const{children:n,heading:r}=e,i=Oa(o=>o.dialogTitleId);return{components:{root:"div",heading:"h2",action:"div"},root:Ct(Qt("div",{ref:t,...e}),{elementType:"div"}),heading:zt(r,{defaultProps:{id:i,children:n},renderByDefault:!0,elementType:"h2"}),action:zt(e.action,{elementType:"div"})}},m0e=e=>an(e.root,{children:[e.heading&&Se(e.heading,{}),e.action&&Se(e.action,{})]}),_w={root:"fui-DrawerHeaderTitle",heading:"fui-DrawerHeaderTitle__heading",action:"fui-DrawerHeaderTitle__action"},g0e=Fe({root:{mc9l5x:"f22iagw",Brf1p80:"f1869bpl",Bt984gj:"f122n59",i8kkvl:"fsnqrgy"},action:{t21cq0:["faqnl2i","fd75udd"]}},{d:[".f22iagw{display:flex;}",".f1869bpl{justify-content:space-between;}",".f122n59{align-items:center;}",".fsnqrgy{column-gap:var(--spacingHorizontalS);}",".faqnl2i{margin-right:calc(var(--spacingHorizontalS) * -1);}",".fd75udd{margin-left:calc(var(--spacingHorizontalS) * -1);}"]}),v0e=e=>{"use no memo";const t=g0e(),{heading:n={},action:r,components:i}=e;return Qq({components:{root:i.heading,action:i.action},root:n,action:r}),e.root.className=Ce(_w.root,t.root,e.root.className),e.heading&&(e.heading.className=Ce(_w.heading,e.heading.className)),e.action&&(e.action.className=Ce(_w.action,t.action,e.action.className)),e},zr=x.forwardRef((e,t)=>{const n=p0e(e,t);return v0e(n),Ft("useDrawerHeaderTitleStyles_unstable")(n),m0e(n)});zr.displayName="DrawerHeaderTitle";const y0e=(e,t)=>({components:{root:"nav"},root:Ct(Qt("nav",{ref:t,...e}),{elementType:"nav"})}),b0e=e=>Se(e.root,{}),x0e={root:"fui-DrawerHeaderNavigation"},_0e=Rt("r1ig4pwh",null,[".r1ig4pwh{margin:calc(var(--spacingVerticalS) * -1) calc(var(--spacingHorizontalL) * -1);}"]),w0e=e=>{"use no memo";const t=_0e();return e.root.className=Ce(x0e.root,t,e.root.className),e},PH=x.forwardRef((e,t)=>{const n=y0e(e,t);return w0e(n),Ft("useDrawerHeaderNavigationStyles_unstable")(n),b0e(n)});PH.displayName="DrawerHeaderNavigation";const S0e=(e,t)=>{const{size:n="medium",disabled:r=!1,root:i,contentBefore:o,dismiss:a,contentAfter:s,value:c,defaultValue:u,...d}=e,f=x.useRef(null),p=x.useRef(null),[m,g]=ro({state:c,defaultState:u,initialState:""}),[v,_]=x.useState(!1),y=x.useCallback(()=>{_(!0)},[_]),S=x.useCallback(E=>{var I;_(!!(!((I=f.current)===null||I===void 0)&&I.contains(E.relatedTarget)))},[_]),w=CN(i),C=pt(E=>{var I,N;if(Ng(a)){var P;(P=a.onClick)===null||P===void 0||P.call(a,E)}const D="";g(D),(I=e.onChange)===null||I===void 0||I.call(e,E,{value:D}),(N=p.current)===null||N===void 0||N.focus()}),M=Bq({type:"search",disabled:r,size:n,value:m,root:Ct({...w,ref:dn(w==null?void 0:w.ref,f),onFocus:un(w==null?void 0:w.onFocus,y),onBlur:un(w==null?void 0:w.onBlur,S)},{elementType:"span"}),contentBefore:zt(o,{renderByDefault:!0,defaultProps:{children:x.createElement(ON,null)},elementType:"span"}),contentAfter:zt(s,{renderByDefault:!0,elementType:"span"}),...d,onChange:pt(E=>{var I;const N=E.target.value;(I=e.onChange)===null||I===void 0||I.call(e,E,{value:N}),g(N)})},dn(p,t)),A={...M,components:{...M.components,dismiss:"span"},dismiss:zt(a,{defaultProps:{children:x.createElement(Gn,null),role:"button","aria-label":"clear",tabIndex:-1},renderByDefault:!0,elementType:"span"}),disabled:r,focused:v,size:n};return A.dismiss&&(A.dismiss.onClick=C),A},C0e=e=>an(e.root,{children:[e.contentBefore&&Se(e.contentBefore,{}),Se(e.input,{}),e.contentAfter&&an(e.contentAfter,{children:[e.contentAfter.children,e.dismiss&&Se(e.dismiss,{})]})]}),gm={root:"fui-SearchBox",dismiss:"fui-SearchBox__dismiss",contentAfter:"fui-SearchBox__contentAfter",contentBefore:"fui-SearchBox__contentBefore",input:"fui-SearchBox__input"},T0e=Fe({small:{i8kkvl:"fjuset5",B2u0y6b:"f1xzfw5u",uwmqm3:["fk8j09s","fdw0yi8"],z189sj:["fdw0yi8","fk8j09s"]},medium:{i8kkvl:"fjuset5",B2u0y6b:"f1xzfw5u",uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},large:{i8kkvl:"fjuset5",B2u0y6b:"f1xzfw5u",uwmqm3:["f1ng84yb","f11gcy0p"],z189sj:["f11gcy0p","f1ng84yb"]},input:{uwmqm3:["fk8j09s","fdw0yi8"],z189sj:["fhxju0i","f1cnd47f"],Boqhc8c:"f18izjht",B8uat0v:"fcoa6sg"},unfocusedNoContentAfter:{z189sj:["fhxju0i","f1cnd47f"]}},{d:[".fjuset5{column-gap:0;}",".f1xzfw5u{max-width:468px;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".fhxju0i{padding-right:0;}",".f1cnd47f{padding-left:0;}",".f18izjht::-webkit-search-decoration{display:none;}",".fcoa6sg::-webkit-search-cancel-button{display:none;}"]}),k0e=Fe({small:{z189sj:["fdw0yi8","fk8j09s"]},medium:{z189sj:["f1vdfbxk","f1f5gg8d"]},large:{z189sj:["f11gcy0p","f1ng84yb"]}},{d:[".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}"]}),E0e=Fe({contentAfter:{uwmqm3:["f1uw59to","fw5db7e"],i8kkvl:"f1ufnopg"},rest:{Bqenvij:"fniina8",a9b677:"f3tsq5r",uwmqm3:["f1cnd47f","fhxju0i"],B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp"}},{d:[".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}",".f1ufnopg{column-gap:var(--spacingHorizontalXS);}",".fniina8{height:0;}",".f3tsq5r{width:0;}",".f1cnd47f{padding-left:0;}",".fhxju0i{padding-right:0;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}]]}),M0e=Rt("r1pvzcuu",null,[".r1pvzcuu{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;cursor:pointer;}",".r1pvzcuu>svg{font-size:20px;}"]),A0e=Fe({disabled:{sj55zd:"f1s2aq7o"},small:{Duoase:"f3qv9w"},medium:{},large:{Duoase:"f16u2scb"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3qv9w>svg{font-size:16px;}",".f16u2scb>svg{font-size:24px;}"]}),N0e=e=>{"use no memo";const{disabled:t,focused:n,size:r}=e,i=T0e(),o=k0e(),a=E0e(),s=M0e(),c=A0e();return e.root.className=Ce(gm.root,i[r],!n&&i.unfocusedNoContentAfter,e.root.className),e.input.className=Ce(gm.input,i.input,!n&&o[r],e.input.className),e.dismiss&&(e.dismiss.className=Ce(gm.dismiss,s,t&&c.disabled,c[r],e.dismiss.className)),e.contentBefore&&(e.contentBefore.className=Ce(gm.contentBefore,e.contentBefore.className)),e.contentAfter?e.contentAfter.className=Ce(gm.contentAfter,a.contentAfter,!n&&a.rest,e.contentAfter.className):e.dismiss&&(e.dismiss.className=Ce(e.dismiss.className,a.contentAfter)),Rq(e),e},Ls=x.forwardRef((e,t)=>{const n=S0e(e,t);return N0e(n),Ft("useSearchBoxStyles_unstable")(n),C0e(n)});Ls.displayName="SearchBox";const P0e=(e,t)=>{const{dismissButton:n,icon:r}=e,i=mi(c=>c.setOpen),o=mi(c=>c.triggerRef),a=mi(c=>c.appearance),s=pt(c=>{c.defaultPrevented||i(c,!1),o.current&&o.current.focus()});return{appearance:a,components:{root:"div",dismissButton:"button",icon:"div"},root:Ct(Qt("div",{ref:t,...e}),{elementType:"div"}),icon:zt(r,{renderByDefault:!0,defaultProps:{children:x.createElement(Oie,null),"aria-hidden":!0},elementType:"div"}),dismissButton:zt(n,{renderByDefault:!0,defaultProps:{children:x.createElement(foe,null),role:"button","aria-label":"dismiss",onClick:s},elementType:"button"})}},B0e=e=>an(e.root,{children:[e.icon&&Se(e.icon,{}),e.root.children,e.dismissButton&&Se(e.dismissButton,{})]}),ww={root:"fui-TeachingPopoverHeader",dismissButton:"fui-TeachingPopoverHeader__dismissButton",icon:"fui-TeachingPopoverHeader__icon"},R0e=Fe({root:{mc9l5x:"f22iagw",Beiy3e4:"f1063pyq",sj55zd:"f11d4kpn",Bhrd7zp:"fl43uef",Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm",Byoj8tv:"f14wxoun",Bt984gj:"f122n59",B6of3ja:"f1jkagg5",jrapky:"fi2ljxd"},rootBrand:{sj55zd:"f1phragk"},dismissButton:{sj55zd:"fkfq4zb",qhf8xq:"f10pi13n",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:["f1n71otn","f1deefiw"],Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f88035w",mc9l5x:"f22iagw",Bt984gj:"f122n59",Bceei9c:"f1k6fduh",Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi",De3pzq:"f1c21dwh",B7ck84d:"f1ewtqcl",B7oj6ja:["f3fg2lr","f13av6d4"],Bbmb7ep:["fzi6hpg","fyowgf4"],Jyy4pa:"f1lfeew",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f16d74zd",Bfpq7zp:0,g9k6zt:0,Bn4voq9:0,giviqs:"f89hs3r",Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f2krc9w",B8q5s1w:"f8hki3x",Bci5o5g:["f1d2448m","ffh67wi"],n8qw10:"f1bjia2o",Bdrgwmp:["ffh67wi","f1d2448m"]},dismissBrand:{sj55zd:"f1phragk"},icon:{Bqenvij:"fsv12xs",a9b677:"f19bqwv",Bg96gwp:"fwrc4pm",Be2twd7:"fy9rknc",Bt984gj:"f122n59",B7ck84d:"f1e4lqlz",mc9l5x:"ftuwxu6",Brf1p80:"f4d9j23",w71qe1:"f1iuv45f",ha4doy:"fmrv4ls",qhf8xq:"f10pi13n",De3pzq:"f1c21dwh",sj55zd:"fkfq4zb",Bokbzmb:"fpvr8q1"},iconBrand:{sj55zd:"f1phragk"}},{d:[".f22iagw{display:flex;}",".f1063pyq{flex-direction:row;}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f14wxoun{padding-bottom:var(--spacingVerticalXS);}",".f122n59{align-items:center;}",".f1jkagg5{margin-top:var(--spacingHorizontalNone);}",".fi2ljxd{margin-bottom:var(--spacingHorizontalNone);}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",".f10pi13n{position:relative;}",[".f88035w{border:var(--strokeWidthThin) solid var(--colorTransparentStroke);}",{p:-2}],".f1k6fduh{cursor:pointer;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1ewtqcl{box-sizing:border-box;}",".f3fg2lr{border-top-right-radius:var(--borderRadiusNone);}",".f13av6d4{border-top-left-radius:var(--borderRadiusNone);}",".fzi6hpg{border-bottom-right-radius:var(--borderRadiusNone);}",".fyowgf4{border-bottom-left-radius:var(--borderRadiusNone);}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1lfeew{-webkit-margin-start:auto;margin-inline-start:auto;}",[".f16d74zd{padding:var(--spacingVerticalXS) var(--spacingHorizontalXS);}",{p:-1}],[".f89hs3r[data-fui-focus-visible]{outline:var(--strokeWidthThick) solid var(--colorStrokeFocus2);}",{p:-1}],[".f2krc9w[data-fui-focus-visible]{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f8hki3x[data-fui-focus-visible]{border-top-color:transparent;}",".f1d2448m[data-fui-focus-visible]{border-right-color:transparent;}",".ffh67wi[data-fui-focus-visible]{border-left-color:transparent;}",".f1bjia2o[data-fui-focus-visible]{border-bottom-color:transparent;}",".fsv12xs{height:var(--fontSizeBase200);}",".f19bqwv{width:var(--fontSizeBase200);}",".f1e4lqlz{box-sizing:content-box;}",".ftuwxu6{display:inline-flex;}",".f4d9j23{justify-content:center;}",".f1iuv45f{text-decoration-line:none;}",".fmrv4ls{vertical-align:middle;}",".fpvr8q1{-webkit-margin-end:var(--spacingHorizontalXS);margin-inline-end:var(--spacingHorizontalXS);}"]}),j0e=e=>{"use no memo";const t=R0e(),{appearance:n}=e;return e.root.className=Ce(ww.root,t.root,n==="brand"&&t.rootBrand,e.root.className),e.dismissButton&&(e.dismissButton.className=Ce(ww.dismissButton,t.dismissButton,n==="brand"?t.dismissBrand:void 0,e.dismissButton.className)),e.icon&&(e.icon.className=Ce(ww.icon,t.icon,n==="brand"?t.iconBrand:void 0,e.icon.className)),e},Ui=x.forwardRef((e,t)=>{const n=P0e(e,t);return j0e(n),Ft("useTeachingPopoverHeaderStyles_unstable")(n),B0e(n)});Ui.displayName="TeachingPopoverHeader";const I0e=(e,t)=>{const{mediaLength:n}=e;return{components:{root:"div",media:"span"},root:Ct(Qt("div",{ref:t,...e}),{elementType:"div"}),media:zt(e.media,{elementType:"span"}),mediaLength:n??"short"}},z0e=e=>an(e.root,{children:[e.media&&Se(e.media,{}),e.root.children]}),xI={root:"fui-TeachingPopoverBody",media:"fui-TeachingPopoverBody__media"},L0e=Fe({base:{Bw0ie65:0,Br312pm:0,nk6f5a:0,Ijaq50:0,Bq1tomu:"fujjg13",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",a9b677:"f14z66ap",jrapky:"f1jlhsmd",ha4doy:"fmrv4ls",Brf1p80:"f4d9j23",mc9l5x:"f22iagw"},short:{Bubjx69:"f1taewuw",Bfd67p1:"f2f587x"},medium:{Bubjx69:"f7da563",Bfd67p1:"fmwcswg"},tall:{Bubjx69:"f9ikmtg",Bfd67p1:"f1gv48o"}},{d:[[".fujjg13{grid-area:media;}",{p:-1}],[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f14z66ap{width:auto;}",".f1jlhsmd{margin-bottom:12px;}",".fmrv4ls{vertical-align:middle;}",".f4d9j23{justify-content:center;}",".f22iagw{display:flex;}",".f1taewuw{aspect-ratio:2.4615384615384617;}",".f7da563{aspect-ratio:1.6363636363636365;}",".f9ikmtg{aspect-ratio:1;}"],t:["@supports not (aspect-ratio){.f2f587x{height:117px;}}","@supports not (aspect-ratio){.fmwcswg{height:176px;}}","@supports not (aspect-ratio){.f1gv48o{height:288px;}}"]}),D0e=Fe({root:{mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",Byoj8tv:"fpe6lb7"}},{d:[".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".fpe6lb7{padding-bottom:12px;}"]}),O0e=e=>{"use no memo";const{mediaLength:t}=e,n=D0e(),r=L0e();return e.root.className=Ce(xI.root,n.root,e.root.className),e.media&&(e.media.className=Ce(xI.media,r.base,r[t],e.media.className)),e},qi=x.forwardRef((e,t)=>{const n=I0e(e,t);return O0e(n),Ft("useTeachingPopoverBodyStyles_unstable")(n),z0e(n)});qi.displayName="TeachingPopoverBody";const F0e=(e,t)=>ble(e,t),U0e={root:"fui-TeachingPopoverSurface"},q0e=Fe({root:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f23zza1",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu",Bf4jedk:"f14hp5dx",B7ck84d:"f1ewtqcl"}},{d:[[".f23zza1{padding:var(--spacingVerticalL) var(--spacingVerticalL);}",{p:-1}],[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".f14hp5dx{min-width:320px;}",".f1ewtqcl{box-sizing:border-box;}"]}),H0e=e=>{"use no memo";const t=q0e();return e.root.className=Ce(U0e.root,t.root,e.root.className),Ble(e)},V0e=e=>Mle(e),Hi=x.forwardRef((e,t)=>{const n=F0e(e,t);return H0e(n),Ft("useTeachingPopoverSurfaceStyles_unstable")(n),V0e(n)});Hi.displayName="TeachingPopoverSurface";const W0e=e=>e.children,G0e=e=>Dle(e),Ei=e=>{const t=G0e(e);return W0e(t)};Ei.displayName="TeachingPopoverTrigger";Ei.isFluentTriggerComponent=!0;const $0e=e=>{const t=jle(e);var n,r;return{...t,withArrow:(n=e.withArrow)!==null&&n!==void 0?n:!0,trapFocus:(r=e.trapFocus)!==null&&r!==void 0?r:!0}},X0e=Lle,Vi=e=>{const t=$0e(e);return X0e(t)};Vi.displayName="TeachingPopover";/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _I="popstate";function Z0e(e={}){function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return RM("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dg(i)}return Y0e(t,n,null,e)}function Lr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ns(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K0e(){return Math.random().toString(36).substring(2,10)}function wI(e,t){return{usr:e.state,key:e.key,idx:t}}function RM(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cp(t):t,state:n,key:t&&t.key||r||K0e()}}function Dg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Y0e(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function f(){s="POP";let _=d(),y=_==null?null:_-u;u=_,c&&c({action:s,location:v.location,delta:y})}function p(_,y){s="PUSH";let S=RM(v.location,_,y);u=d()+1;let w=wI(S,u),C=v.createHref(S);try{a.pushState(w,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(C)}o&&c&&c({action:s,location:v.location,delta:1})}function m(_,y){s="REPLACE";let S=RM(v.location,_,y);u=d();let w=wI(S,u),C=v.createHref(S);a.replaceState(w,"",C),o&&c&&c({action:s,location:v.location,delta:0})}function g(_){return J0e(_)}let v={get action(){return s},get location(){return e(i,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(_I,f),c=_,()=>{i.removeEventListener(_I,f),c=null}},createHref(_){return t(i,_)},createURL:g,encodeLocation(_){let y=g(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(_){return a.go(_)}};return v}function J0e(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Dg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function BH(e,t,n="/"){return Q0e(e,t,n,!1)}function Q0e(e,t,n,r){let i=typeof t=="string"?Cp(t):t,o=bc(i.pathname||"/",n);if(o==null)return null;let a=RH(e);eye(a);let s=null;for(let c=0;s==null&&c<a.length;++c){let u=dye(o);s=cye(a[c],u,r)}return s}function RH(e,t=[],n=[],r="",i=!1){let o=(a,s,c=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;Lr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=cc([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(Lr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),RH(a.children,t,p,f,c)),!(a.path==null&&!a.index)&&t.push({path:f,score:sye(f,a.index),routesMeta:p})};return e.forEach((a,s)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,s);else for(let u of jH(a.path))o(a,s,!0,u)}),t}function jH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=jH(r.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function eye(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lye(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var tye=/^:[\w-]+$/,nye=3,rye=2,iye=1,oye=10,aye=-2,SI=e=>e==="*";function sye(e,t){let n=e.split("/"),r=n.length;return n.some(SI)&&(r+=aye),t&&(r+=rye),n.filter(i=>!SI(i)).reduce((i,o)=>i+(tye.test(o)?nye:o===""?iye:oye),r)}function lye(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cye(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:cc([o,f.pathname]),pathnameBase:gye(cc([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=cc([o,f.pathnameBase]))}return a}function Ob(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uye(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let g=s[p]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function uye(e,t=!1,n=!0){ns(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dye(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ns(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var fye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hye=e=>fye.test(e);function pye(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cp(e):e,o;if(n)if(hye(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),ns(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=CI(n.substring(1),"/"):o=CI(n,t)}else o=t;return{pathname:o,search:vye(r),hash:yye(i)}}function CI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mye(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function sP(e){let t=mye(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function lP(e,t,n,r=!1){let i;typeof e=="string"?i=Cp(e):(i={...e},Lr(!i.pathname||!i.pathname.includes("?"),Sw("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),Sw("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),Sw("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?t[f]:"/"}let c=pye(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var cc=e=>e.join("/").replace(/\/\/+/g,"/"),gye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bye(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function xye(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IH=["POST","PUT","PATCH","DELETE"];new Set(IH);var _ye=["GET",...IH];new Set(_ye);var Tp=x.createContext(null);Tp.displayName="DataRouter";var i1=x.createContext(null);i1.displayName="DataRouterState";x.createContext(!1);var zH=x.createContext({isTransitioning:!1});zH.displayName="ViewTransition";var wye=x.createContext(new Map);wye.displayName="Fetchers";var Sye=x.createContext(null);Sye.displayName="Await";var rs=x.createContext(null);rs.displayName="Navigation";var _v=x.createContext(null);_v.displayName="Location";var kl=x.createContext({outlet:null,matches:[],isDataRoute:!1});kl.displayName="Route";var cP=x.createContext(null);cP.displayName="RouteError";function Cye(e,{relative:t}={}){Lr(kp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(rs),{hash:i,pathname:o,search:a}=wv(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:cc([n,o])),r.createHref({pathname:s,search:a,hash:i})}function kp(){return x.useContext(_v)!=null}function is(){return Lr(kp(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_v).location}var LH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DH(e){x.useContext(rs).static||x.useLayoutEffect(e)}function El(){let{isDataRoute:e}=x.useContext(kl);return e?Lye():Tye()}function Tye(){Lr(kp(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Tp),{basename:t,navigator:n}=x.useContext(rs),{matches:r}=x.useContext(kl),{pathname:i}=is(),o=JSON.stringify(sP(r)),a=x.useRef(!1);return DH(()=>{a.current=!0}),x.useCallback((c,u={})=>{if(ns(a.current,LH),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=lP(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:cc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}x.createContext(null);function wv(e,{relative:t}={}){let{matches:n}=x.useContext(kl),{pathname:r}=is(),i=JSON.stringify(sP(n));return x.useMemo(()=>lP(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function kye(e,t){return OH(e,t)}function OH(e,t,n,r,i){var S;Lr(kp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(rs),{matches:a}=x.useContext(kl),s=a[a.length-1],c=s?s.params:{},u=s?s.pathname:"/",d=s?s.pathnameBase:"/",f=s&&s.route;{let w=f&&f.path||"";FH(u,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=is(),m;if(t){let w=typeof t=="string"?Cp(t):t;Lr(d==="/"||((S=w.pathname)==null?void 0:S.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=p;let g=m.pathname||"/",v=g;if(d!=="/"){let w=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=BH(e,{pathname:v});ns(f||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),ns(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Pye(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:cc([d,o.encodeLocation?o.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:cc([d,o.encodeLocation?o.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,r,i);return t&&y?x.createElement(_v.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function Eye(){let e=zye(),t=bye(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,a)}var Mye=x.createElement(Eye,null),Aye=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){this.props.onError?this.props.onError(t,n):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(kl.Provider,{value:this.props.routeContext},x.createElement(cP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nye({routeContext:e,match:t,children:n}){let r=x.useContext(Tp);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(kl.Provider,{value:e},n)}function Pye(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n==null?void 0:n.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Lr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,c=-1;if(n)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let u=n&&r?(d,f)=>{var p,m;r(d,{location:n.location,params:((m=(p=n.matches)==null?void 0:p[0])==null?void 0:m.params)??{},unstable_pattern:xye(n.matches),errorInfo:f})}:void 0;return o.reduceRight((d,f,p)=>{let m,g=!1,v=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||Mye,s&&(c<0&&p===0?(FH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):c===p&&(g=!0,_=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),S=()=>{let w;return m?w=v:g?w=_:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Nye,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(Aye,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):S()},null)}function uP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bye(e){let t=x.useContext(Tp);return Lr(t,uP(e)),t}function Rye(e){let t=x.useContext(i1);return Lr(t,uP(e)),t}function jye(e){let t=x.useContext(kl);return Lr(t,uP(e)),t}function dP(e){let t=jye(e),n=t.matches[t.matches.length-1];return Lr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Iye(){return dP("useRouteId")}function zye(){var r;let e=x.useContext(cP),t=Rye("useRouteError"),n=dP("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function Lye(){let{router:e}=Bye("useNavigate"),t=dP("useNavigate"),n=x.useRef(!1);return DH(()=>{n.current=!0}),x.useCallback(async(i,o={})=>{ns(n.current,LH),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var TI={};function FH(e,t,n){!t&&!TI[e]&&(TI[e]=!0,ns(!1,n))}x.memo(Dye);function Dye({routes:e,future:t,state:n,unstable_onError:r}){return OH(e,void 0,n,r,t)}function jM({to:e,replace:t,state:n,relative:r}){Lr(kp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(rs);ns(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(kl),{pathname:a}=is(),s=El(),c=lP(e,sP(o),a,r==="path"),u=JSON.stringify(c);return x.useEffect(()=>{s(JSON.parse(u),{replace:t,state:n,relative:r})},[s,u,r,t,n]),null}function La(e){Lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oye({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){Lr(!kp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:s,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[s,i,o,a]);typeof n=="string"&&(n=Cp(n));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,g=x.useMemo(()=>{let v=bc(u,s);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:m},navigationType:r}},[s,u,d,f,p,m,r]);return ns(g!=null,`<Router basename="${s}"> is not able to match the URL "${u}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:x.createElement(rs.Provider,{value:c},x.createElement(_v.Provider,{children:t,value:g}))}function Fye({children:e,location:t}){return kye(IM(e),t)}function IM(e,t=[]){let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,IM(r.props.children,o));return}Lr(r.type===La,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=IM(r.props.children,o)),n.push(a)}),n}var qy="get",Hy="application/x-www-form-urlencoded";function o1(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Uye(e){return o1(e)&&e.tagName.toLowerCase()==="button"}function qye(e){return o1(e)&&e.tagName.toLowerCase()==="form"}function Hye(e){return o1(e)&&e.tagName.toLowerCase()==="input"}function Vye(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wye(e,t){return e.button===0&&(!t||t==="_self")&&!Vye(e)}var O0=null;function Gye(){if(O0===null)try{new FormData(document.createElement("form"),0),O0=!1}catch{O0=!0}return O0}var $ye=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cw(e){return e!=null&&!$ye.has(e)?(ns(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hy}"`),null):e}function Xye(e,t){let n,r,i,o,a;if(qye(e)){let s=e.getAttribute("action");r=s?bc(s,t):null,n=e.getAttribute("method")||qy,i=Cw(e.getAttribute("enctype"))||Hy,o=new FormData(e)}else if(Uye(e)||Hye(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||s.getAttribute("action");if(r=c?bc(c,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||qy,i=Cw(e.getAttribute("formenctype"))||Cw(s.getAttribute("enctype"))||Hy,o=new FormData(s,e),!Gye()){let{name:u,type:d,value:f}=e;if(d==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(o1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qy,r=null,i=Hy,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fP(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zye(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&bc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Kye(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yye(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Jye(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await Kye(o,n);return a.links?a.links():[]}return[]}));return nbe(r.flat(1).filter(Yye).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kI(e,t,n,r,i,o){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,s=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>a(c,u)||s(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||s(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Qye(e,t,{includeHydrateFallback:n}={}){return ebe(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function ebe(e){return[...new Set(e)]}function tbe(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function nbe(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(tbe(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function UH(){let e=x.useContext(Tp);return fP(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rbe(){let e=x.useContext(i1);return fP(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hP=x.createContext(void 0);hP.displayName="FrameworkContext";function qH(){let e=x.useContext(hP);return fP(e,"You must render this element inside a <HydratedRouter> element"),e}function ibe(e,t){let n=x.useContext(hP),[r,i]=x.useState(!1),[o,a]=x.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let v=y=>{y.forEach(S=>{a(S.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:vm(s,m),onBlur:vm(c,g),onMouseEnter:vm(u,m),onMouseLeave:vm(d,g),onTouchStart:vm(f,m)}]:[!1,p,{}]}function vm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function obe({page:e,...t}){let{router:n}=UH(),r=x.useMemo(()=>BH(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(sbe,{page:e,matches:r,...t}):null}function abe(e){let{manifest:t,routeModules:n}=qH(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return Jye(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function sbe({page:e,matches:t,...n}){let r=is(),{manifest:i,routeModules:o}=qH(),{basename:a}=UH(),{loaderData:s,matches:c}=rbe(),u=x.useMemo(()=>kI(e,t,c,i,r,"data"),[e,t,c,i,r]),d=x.useMemo(()=>kI(e,t,c,i,r,"assets"),[e,t,c,i,r]),f=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(t.forEach(y=>{var w;let S=i.routes[y.route.id];!S||!S.hasLoader||(!u.some(C=>C.route.id===y.route.id)&&y.route.id in s&&((w=o[y.route.id])!=null&&w.shouldRevalidate)||S.hasClientLoader?v=!0:g.add(y.route.id))}),g.size===0)return[];let _=Zye(e,a,"data");return v&&g.size>0&&_.searchParams.set("_routes",t.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[_.pathname+_.search]},[a,s,r,i,u,t,e,o]),p=x.useMemo(()=>Qye(d,i),[d,i]),m=abe(d);return x.createElement(x.Fragment,null,f.map(g=>x.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),p.map(g=>x.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),m.map(({key:g,link:v})=>x.createElement("link",{key:g,nonce:n.nonce,...v})))}function lbe(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var HH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HH&&(window.__reactRouterVersion="7.10.1")}catch{}function cbe({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current==null&&(i.current=Z0e({window:r,v5Compat:!0}));let o=i.current,[a,s]=x.useState({action:o.action,location:o.location}),c=x.useCallback(u=>{n===!1?s(u):x.startTransition(()=>s(u))},[n]);return x.useLayoutEffect(()=>o.listen(c),[o,c]),x.createElement(Oye,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n===!0})}var VH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WH=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:c,to:u,preventScrollReset:d,viewTransition:f,...p},m){let{basename:g,unstable_useTransitions:v}=x.useContext(rs),_=typeof u=="string"&&VH.test(u),y,S=!1;if(typeof u=="string"&&_&&(y=u,HH))try{let P=new URL(window.location.href),D=u.startsWith("//")?new URL(P.protocol+u):new URL(u),q=bc(D.pathname,g);D.origin===P.origin&&q!=null?u=q+D.search+D.hash:S=!0}catch{ns(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=Cye(u,{relative:i}),[C,M,A]=ibe(r,p),E=hbe(u,{replace:a,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:f,unstable_useTransitions:v});function I(P){t&&t(P),P.defaultPrevented||E(P)}let N=x.createElement("a",{...p,...A,href:y||w,onClick:S||o?t:I,ref:lbe(m,M),target:c,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?x.createElement(x.Fragment,null,N,x.createElement(obe,{page:w})):N});WH.displayName="Link";var ube=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:c,...u},d){let f=wv(a,{relative:u.relative}),p=is(),m=x.useContext(i1),{navigator:g,basename:v}=x.useContext(rs),_=m!=null&&ybe(f)&&s===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,S=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(S=S.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&v&&(w=bc(w,v)||w);const C=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=S===y||!i&&S.startsWith(y)&&S.charAt(C)==="/",A=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),E={isActive:M,isPending:A,isTransitioning:_},I=M?t:void 0,N;typeof r=="function"?N=r(E):N=[r,M?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(E):o;return x.createElement(WH,{...u,"aria-current":I,className:N,ref:d,style:P,to:a,viewTransition:s},typeof c=="function"?c(E):c)});ube.displayName="NavLink";var dbe=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=qy,action:s,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...p},m)=>{let{unstable_useTransitions:g}=x.useContext(rs),v=gbe(),_=vbe(s,{relative:u}),y=a.toLowerCase()==="get"?"get":"post",S=typeof s=="string"&&VH.test(s),w=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,A=(M==null?void 0:M.getAttribute("formmethod"))||a,E=()=>v(M||C.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:f});g&&n!==!1?x.startTransition(()=>E()):E()};return x.createElement("form",{ref:m,method:y,action:_,onSubmit:r?c:w,...p,"data-discover":!S&&e==="render"?"true":void 0})});dbe.displayName="Form";function fbe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GH(e){let t=x.useContext(Tp);return Lr(t,fbe(e)),t}function hbe(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_useTransitions:s}={}){let c=El(),u=is(),d=wv(e,{relative:o});return x.useCallback(f=>{if(Wye(f,t)){f.preventDefault();let p=n!==void 0?n:Dg(u)===Dg(d),m=()=>c(e,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a});s?x.startTransition(()=>m()):m()}},[u,c,d,n,r,t,e,i,o,a,s])}var pbe=0,mbe=()=>`__${String(++pbe)}__`;function gbe(){let{router:e}=GH("useSubmit"),{basename:t}=x.useContext(rs),n=Iye(),r=e.fetch,i=e.navigate;return x.useCallback(async(o,a={})=>{let{action:s,method:c,encType:u,formData:d,body:f}=Xye(o,t);if(a.navigate===!1){let p=a.fetcherKey||mbe();await r(p,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function vbe(e,{relative:t}={}){let{basename:n}=x.useContext(rs),r=x.useContext(kl);Lr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...wv(e||".",{relative:t})},a=is();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),c=s.getAll("index");if(c.some(d=>d==="")){s.delete("index"),c.filter(f=>f).forEach(f=>s.append("index",f));let d=s.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:cc([n,o.pathname])),Dg(o)}function ybe(e,{relative:t}={}){let n=x.useContext(zH);Lr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GH("useViewTransitionState"),i=wv(e,{relative:t});if(!n.isTransitioning)return!1;let o=bc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=bc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ob(i.pathname,a)!=null||Ob(i.pathname,o)!=null}function bbe(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const EI={};function zM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&EI[t[0]]||(typeof t[0]=="string"&&(EI[t[0]]=new Date),bbe(...t))}const $H=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function MI(e,t,n){e.loadNamespaces(t,$H(e,n))}function AI(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,$H(e,r))}function xbe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,c)=>{const u=t.services.backendConnector.state[`${s}|${c}`];return u===-1||u===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(r,e)&&(!i||a(o,e)))}function _be(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(zM("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):xbe(e,t,n)}const wbe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Sbe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Cbe=e=>Sbe[e],Tbe=e=>e.replace(wbe,Cbe);let kbe={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Tbe};function Ebe(){return kbe}let Mbe;function Abe(){return Mbe}const XH=x.createContext();class Nbe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Pbe=(e,t)=>{const n=x.useRef();return x.useEffect(()=>{n.current=e},[e,t]),n.current};function Ri(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=x.useContext(XH)||{},o=n||r||Abe();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Nbe),!o){zM("You will need to pass in an i18next instance by using initReactI18next");const w=(M,A)=>typeof A=="string"?A:A&&typeof A=="object"&&typeof A.defaultValue=="string"?A.defaultValue:Array.isArray(M)?M[M.length-1]:M,C=[w,{},!1];return C.t=w,C.i18n={},C.ready=!1,C}o.options.react&&o.options.react.wait!==void 0&&zM("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Ebe(),...o.options.react,...t},{useSuspense:s,keyPrefix:c}=a;let u=e||i||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const d=(o.isInitialized||o.initializedStoreOnce)&&u.every(w=>_be(w,o,a));function f(){return o.getFixedT(t.lng||null,a.nsMode==="fallback"?u:u[0],c)}const[p,m]=x.useState(f);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const v=Pbe(g),_=x.useRef(!0);x.useEffect(()=>{const{bindI18n:w,bindI18nStore:C}=a;_.current=!0,!d&&!s&&(t.lng?AI(o,t.lng,u,()=>{_.current&&m(f)}):MI(o,u,()=>{_.current&&m(f)})),d&&v&&v!==g&&_.current&&m(f);function M(){_.current&&m(f)}return w&&o&&o.on(w,M),C&&o&&o.store.on(C,M),()=>{_.current=!1,w&&o&&w.split(" ").forEach(A=>o.off(A,M)),C&&o&&C.split(" ").forEach(A=>o.store.off(A,M))}},[o,g]);const y=x.useRef(!0);x.useEffect(()=>{_.current&&!y.current&&m(f),y.current=!1},[o,c]);const S=[p,o,d];if(S.t=p,S.i18n=o,S.ready=d,d||!d&&!s)return S;throw new Promise(w=>{t.lng?AI(o,t.lng,u,()=>w()):MI(o,u,()=>w())})}function Bbe(e){let{i18n:t,defaultNS:n,children:r}=e;const i=x.useMemo(()=>({i18n:t,defaultNS:n}),[t,n]);return x.createElement(XH.Provider,{value:i},r)}const Rbe=e=>e?{id:e.sub,sub:e.sub,email:e.email||"",name:e.name||e.nickname||null,picture:e.picture}:null,jbe=e=>e.replace(/\/+$/,""),pP=(()=>{if(typeof window<"u"){const e=jbe(window.location.origin.toLowerCase()),t={"https://www.dev-cracks.com":"https://api.fractalize.dev-cracks.com","https://dev-cracks.com":"https://api.fractalize.dev-cracks.com","https://dev-cracks.onrender.com":"https://api.fractalize.dev-cracks.com"}[e];if(t)return t}return"http://localhost:5020"})(),Ibe="fractalize-services-api",zbe=()=>typeof window<"u"?`${window.location.origin}/backoffice`:"http://localhost:5173/backoffice",Ql={domain:"dev-cracks.eu.auth0.com",clientId:"puVivGd9KVmrSyVu8hCytE1juOlFLdht",authorizationParams:{redirect_uri:zbe(),audience:Ibe,scope:"openid profile email offline_access"}};class Lbe{constructor(t=pP){s0(this,"baseUrl");s0(this,"retryAttempts",new Map);s0(this,"MAX_RETRIES",2);this.baseUrl=t}getRetryKey(t,n){return`${n.method||"GET"}:${t}`}shouldRetry(t,n){return n>=this.MAX_RETRIES?!1:t===void 0||t>=500&&t<600}async request(t,n={},r=0){var a;const i=new Error().stack,o=((a=i==null?void 0:i.split(`
`)[2])==null?void 0:a.trim())||"unknown";console.log(`[apiService] Request: ${n.method||"GET"} ${t}`,{caller:o,timestamp:new Date().toISOString()});try{const s=await this.getAccessToken(),c={"Content-Type":"application/json",...n.headers};s&&(c.Authorization=`Bearer ${s}`);const u=new AbortController,f=setTimeout(()=>u.abort(),1e4);let p;try{const m=Date.now();p=await fetch(`${this.baseUrl}${t}`,{...n,headers:c,credentials:"include",signal:u.signal}),clearTimeout(f);const g=Date.now()-m;console.log(`[apiService] Response: ${p.status} ${t} (${g}ms)`)}catch(m){throw clearTimeout(f),m.name==="AbortError"?{message:"common.requestTimeout",statusCode:408}:{message:"common.networkError",statusCode:void 0}}if(!p.ok){let m=`HTTP error! status: ${p.status}`,g=null;try{g=await p.json(),g!=null&&g.message?m=g.message:g!=null&&g.detail?m=g.detail:g!=null&&g.title&&(m=g.title)}catch{}throw{message:m,statusCode:p.status}}return p.status===204?void 0:p.json()}catch(s){if(s.statusCode!==void 0||s.message){const d=s;if(this.shouldRetry(d.statusCode,r)){const p=this.getRetryKey(t,n),m=this.retryAttempts.get(p)||0;if(m<this.MAX_RETRIES)return this.retryAttempts.set(p,m+1),console.log(`[apiService] Retrying ${t} (attempt ${m+1}/${this.MAX_RETRIES})`),await new Promise(g=>setTimeout(g,Math.min(1e3*Math.pow(2,m),5e3))),setTimeout(()=>{this.retryAttempts.delete(p)},6e4),this.request(t,n,r+1)}const f=this.getRetryKey(t,n);throw this.retryAttempts.delete(f),s}const c={message:s.message||"Unknown error occurred",statusCode:void 0};if(this.shouldRetry(void 0,r)){const d=this.getRetryKey(t,n),f=this.retryAttempts.get(d)||0;if(f<this.MAX_RETRIES)return this.retryAttempts.set(d,f+1),console.log(`[apiService] Retrying ${t} (attempt ${f+1}/${this.MAX_RETRIES})`),await new Promise(p=>setTimeout(p,Math.min(1e3*Math.pow(2,f),5e3))),setTimeout(()=>{this.retryAttempts.delete(d)},6e4),this.request(t,n,r+1)}const u=this.getRetryKey(t,n);throw this.retryAttempts.delete(u),c}}async getAccessToken(){return null}setAccessTokenProvider(t){this.getAccessToken=async()=>await t()||null}}const ut=new Lbe,Zu=()=>{const{user:e,isLoading:t,isAuthenticated:n,loginWithRedirect:r,logout:i,getAccessTokenSilently:o}=HY(),[a,s]=x.useState(null),[c,u]=x.useState(!1),d=x.useRef(!1),f=Rbe(e),p=x.useMemo(()=>f?{...f,name:(a==null?void 0:a.name)||f.name,tenantId:(a==null?void 0:a.tenantId)||f.tenantId,role:(a==null?void 0:a.role)||f.role}:null,[f,a]),m=x.useCallback(async()=>{if(n&&!d.current)try{return await o({authorizationParams:{audience:Ql.authorizationParams.audience,scope:Ql.authorizationParams.scope}})}catch(w){const C=(w==null?void 0:w.message)||(w==null?void 0:w.error_description)||(w==null?void 0:w.name)||(w==null?void 0:w.toString())||String(w),M=(w==null?void 0:w.error)||(w==null?void 0:w.code),A=(w==null?void 0:w.stack)||"";let E=C+" "+String(w)+" "+A;try{E+=" "+JSON.stringify(w)}catch{}const I=E.toLowerCase(),N=I.includes("missing refresh token")||I.includes("missing_refresh_token")||I.includes("missingrefreshtoken")||M==="missing_refresh_token"||M==="login_required"||M==="consent_required"||(w==null?void 0:w.name)&&w.name.toLowerCase().includes("refresh")||(w==null?void 0:w.name)&&w.name.toLowerCase().includes("missing")||A.toLowerCase().includes("missing refresh token")||A.toLowerCase().includes("_gettokenusingrefreshtoken");if(N&&!d.current){d.current=!0,console.warn("[useAuth] Refresh token missing or expired, redirecting to login..."),setTimeout(()=>{try{r({appState:{returnTo:window.location.pathname},authorizationParams:{prompt:"login",audience:Ql.authorizationParams.audience,scope:Ql.authorizationParams.scope}})}catch(P){console.error("[useAuth] Error during redirect:",P),d.current=!1}},100);return}N||console.error("[useAuth] Error getting access token:",w);return}},[n,o,r]);x.useEffect(()=>{ut.setAccessTokenProvider(m)},[m]);const g=x.useCallback(async()=>{if(n&&!d.current){u(!0);try{const w=await m();if(!w){if(d.current){u(!1);return}u(!1);return}const C=new AbortController,M=setTimeout(()=>C.abort(),1e4);try{const A=await fetch(`${pP}/users/me`,{headers:{Authorization:`Bearer ${w}`},credentials:"include",signal:C.signal});if(clearTimeout(M),A.ok){const E=await A.json();s(E)}else(A.status===401||A.status===403)&&s(null)}catch(A){clearTimeout(M),A.name!=="AbortError"&&A.name!=="TypeError"?console.error("Error loading user details:",A):A.name}}catch(w){d.current||console.error("Error getting access token:",w)}finally{u(!1)}}},[n,m]);x.useEffect(()=>{n&&(d.current=!1)},[n]),x.useEffect(()=>{n&&p&&!d.current?g():s(null)},[n,p==null?void 0:p.id,g]);const v=x.useCallback(w=>{const C="/backoffice";let M=w||window.location.pathname;M&&!M.startsWith(C)&&(M.startsWith("/")?M=`${C}${M}`:M=`${C}/${M}`),r({appState:{returnTo:M}})},[r]),_=x.useCallback(async()=>{await i({logoutParams:{returnTo:window.location.origin}})},[i]),y=x.useCallback(async()=>{await g()},[g]);return{user:p,userDetails:a,isLoading:t||c,isAuthenticated:n,isAdmin:n,getAccessToken:m,login:v,logout:_,refreshUser:y}},In={async getCurrentTenant(){try{return await ut.request("/tenants/me")}catch(e){if((e==null?void 0:e.statusCode)===404)return null;throw e}},async initializeTenant(){return ut.request("/tenants/initialize",{method:"POST"})},async getAllTenants(){return ut.request("/tenants")},async createTenant(e){return ut.request("/tenants",{method:"POST",body:JSON.stringify(e)})},async getTenantById(e){return ut.request(`/tenants/${e}`)},async updateTenant(e,t){return ut.request(`/tenants/${e}`,{method:"PUT",body:JSON.stringify(t)})},async deleteTenant(e){return ut.request(`/tenants/${e}`,{method:"DELETE"})},async suspendTenant(e){return ut.request(`/tenants/${e}/suspend`,{method:"POST"})},async activateTenant(e){return ut.request(`/tenants/${e}/activate`,{method:"POST"})},async getTenantUsers(e){return ut.request(`/tenants/${e}/users`)},async getTenantsByOffice(e){return ut.request(`/tenants/office/${e}`)},async getTenantCustomers(e){return ut.request(`/tenants/${e}/customers`)}},Dbe=()=>{const[e,t]=x.useState([{id:"1",title:"Nuevo usuario registrado",message:"Se ha registrado un nuevo usuario en el sistema",type:"info",timestamp:new Date(Date.now()-18e5),read:!1},{id:"2",title:"Actualizacin del sistema",message:"Se ha completado la actualizacin del sistema exitosamente",type:"success",timestamp:new Date(Date.now()-72e5),read:!1},{id:"3",title:"Advertencia de seguridad",message:"Se detect un intento de acceso no autorizado",type:"warning",timestamp:new Date(Date.now()-18e6),read:!1}]),n=e.filter(c=>!c.read).length,r=x.useCallback(c=>{const u={...c,id:Date.now().toString(),timestamp:new Date,read:!1};t(d=>[u,...d])},[]),i=x.useCallback(c=>{t(u=>u.map(d=>d.id===c?{...d,read:!0}:d))},[]),o=x.useCallback(()=>{t(c=>c.map(u=>({...u,read:!0})))},[]),a=x.useCallback(c=>{t(u=>u.filter(d=>d.id!==c))},[]),s=x.useCallback(()=>{t([])},[]);return{notifications:e,unreadCount:n,addNotification:r,markAsRead:i,markAllAsRead:o,removeNotification:a,clearAll:s}},ZH=x.createContext(void 0),Obe=({children:e})=>{const t=Dbe();return l.jsx(ZH.Provider,{value:t,children:e})},mP=()=>{const e=x.useContext(ZH);if(e===void 0)throw new Error("useNotificationContext must be used within a NotificationProvider");return e},KH=x.createContext(void 0),Fbe=({children:e})=>{const[t,n]=x.useState(!1),r=()=>n(!0),i=()=>n(!1);return l.jsx(KH.Provider,{value:{isOpen:t,openSettings:r,closeSettings:i},children:e})},a1=()=>{const e=x.useContext(KH);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e},Ube=Tr({menuPopover:{padding:0,minWidth:"340px",maxWidth:"400px",borderRadius:k.borderRadiusMedium,boxShadow:k.shadow16},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:`${k.spacingVerticalM} ${k.spacingHorizontalM}`,borderBottom:`1px solid ${k.colorNeutralStroke2}`},headerText:{fontSize:k.fontSizeBase300,color:k.colorNeutralForeground2,fontWeight:k.fontWeightSemibold},signOutLink:{fontSize:k.fontSizeBase300,color:k.colorBrandForeground1,textDecoration:"none",cursor:"pointer",":hover":{textDecoration:"underline"}},accountSection:{padding:k.spacingVerticalM,display:"flex",flexDirection:"column",gap:k.spacingVerticalM},accountInfo:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM},accountAvatar:{flexShrink:0},accountDetails:{display:"flex",flexDirection:"column",gap:k.spacingVerticalXS,flex:1,minWidth:0},accountName:{fontSize:k.fontSizeBase400,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},accountEmail:{fontSize:k.fontSizeBase300,color:k.colorNeutralForeground2},accountLinks:{display:"flex",flexDirection:"column",gap:k.spacingVerticalS,marginTop:k.spacingVerticalM},accountLink:{fontSize:k.fontSizeBase300,color:k.colorBrandForeground1,textDecoration:"none",cursor:"pointer",padding:`${k.spacingVerticalXS} 0`,":hover":{textDecoration:"underline"}},otherAccountsSection:{padding:`${k.spacingVerticalM} ${k.spacingHorizontalM}`,borderTop:`1px solid ${k.colorNeutralStroke2}`},otherAccountsTitle:{fontSize:k.fontSizeBase300,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground2,marginBottom:k.spacingVerticalS},otherAccountItem:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,padding:`${k.spacingVerticalS} ${k.spacingHorizontalS}`,borderRadius:k.borderRadiusSmall,cursor:"pointer",":hover":{backgroundColor:k.colorNeutralBackground2}},otherAccountAvatar:{flexShrink:0},otherAccountInfo:{display:"flex",flexDirection:"column",flex:1,minWidth:0},otherAccountName:{fontSize:k.fontSizeBase300,color:k.colorNeutralForeground1},otherAccountEmail:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2},moreButton:{minWidth:"auto",padding:k.spacingHorizontalXS},addAccountSection:{padding:`${k.spacingVerticalM} ${k.spacingHorizontalM}`,borderTop:`1px solid ${k.colorNeutralStroke2}`},addAccountItem:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,padding:`${k.spacingVerticalS} ${k.spacingHorizontalS}`,borderRadius:k.borderRadiusSmall,cursor:"pointer",":hover":{backgroundColor:k.colorNeutralBackground2}},addAccountText:{fontSize:k.fontSizeBase300,color:k.colorNeutralForeground1}}),qbe=({trigger:e})=>{const t=Ube(),{t:n}=Ri("backoffice"),r=El(),{user:i,logout:o}=Zu(),{openSettings:a}=a1();if(!i)return null;const s=()=>{o()},c=()=>{a()},u=()=>{o().then(()=>{r("/login")})},d=f=>{const p=f.split("@");return p.length>1?p[1].replace("."," "):"dev-cracks com"};return l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:e}),l.jsxs(Tl,{className:t.menuPopover,children:[l.jsxs("div",{className:t.header,children:[l.jsx(ie,{className:t.headerText,children:d(i.email||"dev-cracks.com")}),l.jsx("a",{className:t.signOutLink,onClick:s,children:n("userAccount.signOut")})]}),l.jsxs("div",{className:t.accountSection,children:[l.jsxs("div",{className:t.accountInfo,children:[l.jsx(ep,{className:t.accountAvatar,name:i.name||i.email,image:i.picture,size:56}),l.jsxs("div",{className:t.accountDetails,children:[l.jsx(ie,{className:t.accountName,children:i.name||n("users.user")}),l.jsx(ie,{className:t.accountEmail,children:i.email})]})]}),l.jsxs("div",{className:t.accountLinks,children:[l.jsx("a",{className:t.accountLink,onClick:c,children:n("userAccount.viewAccount")}),l.jsx("a",{className:t.accountLink,onClick:()=>console.log("Open another mailbox"),children:n("userAccount.openAnotherMailbox")})]})]}),l.jsx("div",{className:t.otherAccountsSection,children:l.jsx(ie,{className:t.otherAccountsTitle,children:n("userAccount.otherAccounts")})}),l.jsx("div",{className:t.addAccountSection,children:l.jsxs("div",{className:t.addAccountItem,onClick:u,children:[l.jsx(ep,{className:t.otherAccountAvatar,icon:l.jsx(Wr,{}),size:32,color:"brand"}),l.jsx(ie,{className:t.addAccountText,children:n("userAccount.signInDifferent")})]})})]})]})},Hbe=Tr({container:{display:"flex",flexDirection:"column",padding:k.spacingVerticalM},notificationItem:{display:"flex",padding:k.spacingVerticalM,borderBottom:`1px solid ${k.colorNeutralStroke2}`,gap:k.spacingHorizontalM,":last-child":{borderBottom:"none"}},icon:{flexShrink:0,width:"24px",height:"24px",marginTop:k.spacingVerticalXXS},content:{flex:1,display:"flex",flexDirection:"column",gap:k.spacingVerticalXXS},title:{width:"60%",height:"16px"},message:{width:"100%",height:"14px"},time:{width:"40%",height:"12px",marginTop:k.spacingVerticalXXS},dismissButton:{flexShrink:0,width:"24px",height:"24px"}}),Vbe=({count:e=5})=>{const t=Hbe();return l.jsx("div",{className:t.container,children:Array.from({length:e}).map((n,r)=>l.jsxs("div",{className:t.notificationItem,children:[l.jsx(ci,{className:t.icon,children:l.jsx(ui,{size:24,shape:"circle"})}),l.jsxs("div",{className:t.content,children:[l.jsx(ci,{className:t.title,children:l.jsx(ui,{size:16})}),l.jsx(ci,{className:t.message,children:l.jsx(ui,{size:14})}),l.jsx(ci,{className:t.time,children:l.jsx(ui,{size:12})})]}),l.jsx(ci,{className:t.dismissButton,children:l.jsx(ui,{size:24,shape:"circle"})})]},r))})},Wbe=Tr({drawerBody:{display:"flex",flexDirection:"column",padding:0},notificationsList:{display:"flex",flexDirection:"column",overflowY:"auto",flex:1},emptyState:{padding:k.spacingVerticalXXL,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:k.spacingVerticalM,color:k.colorNeutralForeground3},emptyStateText:{fontSize:k.fontSizeBase300,textAlign:"center"},notificationItem:{display:"flex",padding:k.spacingVerticalM,borderBottom:`1px solid ${k.colorNeutralStroke2}`,cursor:"pointer",position:"relative",gap:k.spacingHorizontalM,":hover":{backgroundColor:k.colorNeutralBackground2},":last-child":{borderBottom:"none"}},notificationItemUnread:{backgroundColor:k.colorNeutralBackground1},notificationIcon:{flexShrink:0,marginTop:k.spacingVerticalXXS},notificationContent:{flex:1,display:"flex",flexDirection:"column",gap:k.spacingVerticalXXS,minWidth:0},notificationTitle:{fontSize:k.fontSizeBase300,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},notificationMessage:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,lineHeight:k.lineHeightBase200},notificationTime:{fontSize:k.fontSizeBase100,color:k.colorNeutralForeground3,marginTop:k.spacingVerticalXXS},dismissButton:{minWidth:"auto",padding:k.spacingHorizontalXXS,color:k.colorNeutralForeground3,":hover":{color:k.colorNeutralForeground1,backgroundColor:k.colorNeutralBackground3}},unreadIndicator:{position:"absolute",left:k.spacingHorizontalS,top:"50%",transform:"translateY(-50%)",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:k.colorBrandForeground1}}),Gbe=e=>{switch(e){case"success":return l.jsx(z9,{style:{color:k.colorPaletteGreenForeground1}});case"warning":return l.jsx(j9,{style:{color:k.colorPaletteYellowForeground1}});case"error":return l.jsx(O9,{style:{color:k.colorPaletteRedForeground1}});case"info":default:return l.jsx(Nb,{style:{color:k.colorBrandForeground1}})}},$be=(e,t)=>{const r=Math.floor((new Date().getTime()-e.getTime())/1e3);if(r<60)return t("notifications.timeAgo.justNow");const i=Math.floor(r/60);if(i<60)return t("notifications.timeAgo.minutesAgo",{count:i});const o=Math.floor(i/60);if(o<24)return t("notifications.timeAgo.hoursAgo",{count:o});const a=Math.floor(o/24);return a<7?t("notifications.timeAgo.daysAgo",{count:a}):e.toLocaleDateString(t("common.locale")||"en-US",{day:"numeric",month:"short"})},Xbe=({open:e,onOpenChange:t})=>{const n=Wbe(),{t:r}=Ri("backoffice"),i=El(),[o,a]=x.useState(!1),{notifications:s,markAsRead:c,removeNotification:u}=mP();x.useEffect(()=>{if(e){a(!0);const p=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(p)}else a(!1)},[e]);const d=p=>{p.read||c(p.id),t(!1),p.actionUrl?i(p.actionUrl):i("/dashboard")},f=(p,m)=>{p.stopPropagation(),u(m)};return l.jsxs(NH,{type:"overlay",position:"end",open:e,onOpenChange:(p,{open:m})=>t(m),size:"medium",children:[l.jsxs(Ir,{children:[l.jsx(PH,{children:l.jsx(pe,{appearance:"subtle","aria-label":r("notifications.close"),icon:l.jsx(Gn,{}),onClick:()=>t(!1)})}),l.jsx(zr,{children:r("notifications.allNotifications")})]}),l.jsx(jr,{className:n.drawerBody,children:l.jsx("div",{className:n.notificationsList,children:o?l.jsx(Vbe,{count:5}):s.length===0?l.jsx("div",{className:n.emptyState,children:l.jsx(ie,{className:n.emptyStateText,children:r("notifications.noNotifications")})}):s.map(p=>l.jsxs("div",{className:`${n.notificationItem} ${p.read?"":n.notificationItemUnread}`,onClick:()=>d(p),children:[!p.read&&l.jsx("div",{className:n.unreadIndicator}),l.jsx("div",{className:n.notificationIcon,children:Gbe(p.type)}),l.jsxs("div",{className:n.notificationContent,children:[l.jsx(ie,{className:n.notificationTitle,children:p.title}),l.jsx(ie,{className:n.notificationMessage,children:p.message}),l.jsx(ie,{className:n.notificationTime,children:$be(p.timestamp,r)})]}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(Gn,{}),className:n.dismissButton,onClick:m=>f(m,p.id),title:r("notifications.dismiss")})]},p.id))})})]})},Zbe=Tr({menuPopover:{padding:0,minWidth:"380px",maxWidth:"420px",maxHeight:"600px",borderRadius:k.borderRadiusMedium,boxShadow:k.shadow16,display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:`${k.spacingVerticalM} ${k.spacingHorizontalM}`,borderBottom:`1px solid ${k.colorNeutralStroke2}`},headerTitle:{fontSize:k.fontSizeBase400,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},headerActions:{display:"flex",gap:k.spacingHorizontalXS},markAllReadButton:{fontSize:k.fontSizeBase300,color:k.colorBrandForeground1,textDecoration:"none",cursor:"pointer",padding:`${k.spacingVerticalXS} ${k.spacingHorizontalS}`,borderRadius:k.borderRadiusSmall,":hover":{backgroundColor:k.colorNeutralBackground2}},notificationsList:{display:"flex",flexDirection:"column",overflowY:"auto",maxHeight:"500px"},emptyState:{padding:k.spacingVerticalXXL,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:k.spacingVerticalM,color:k.colorNeutralForeground3},emptyStateIcon:{fontSize:"48px",color:k.colorNeutralForeground4},emptyStateText:{fontSize:k.fontSizeBase300,textAlign:"center"},notificationItem:{display:"flex",padding:k.spacingVerticalM,borderBottom:`1px solid ${k.colorNeutralStroke2}`,cursor:"pointer",position:"relative",gap:k.spacingHorizontalM,":hover":{backgroundColor:k.colorNeutralBackground2},":last-child":{borderBottom:"none"}},notificationItemUnread:{backgroundColor:k.colorNeutralBackground1},notificationIcon:{flexShrink:0,marginTop:k.spacingVerticalXXS},notificationContent:{flex:1,display:"flex",flexDirection:"column",gap:k.spacingVerticalXXS,minWidth:0},notificationTitle:{fontSize:k.fontSizeBase300,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},notificationMessage:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,lineHeight:k.lineHeightBase200},notificationTime:{fontSize:k.fontSizeBase100,color:k.colorNeutralForeground3,marginTop:k.spacingVerticalXXS},notificationActions:{display:"flex",flexDirection:"column",gap:k.spacingVerticalXXS,alignItems:"flex-end"},dismissButton:{minWidth:"auto",padding:k.spacingHorizontalXXS,color:k.colorNeutralForeground3,":hover":{color:k.colorNeutralForeground1,backgroundColor:k.colorNeutralBackground3}},unreadIndicator:{position:"absolute",left:k.spacingHorizontalS,top:"50%",transform:"translateY(-50%)",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:k.colorBrandForeground1},footer:{padding:`${k.spacingVerticalS} ${k.spacingHorizontalM}`,borderTop:`1px solid ${k.colorNeutralStroke2}`,display:"flex",justifyContent:"center"},viewAllButton:{fontSize:k.fontSizeBase300,color:k.colorBrandForeground1,textDecoration:"none",cursor:"pointer",":hover":{textDecoration:"underline"}}}),Kbe=e=>{switch(e){case"success":return l.jsx(z9,{style:{color:k.colorPaletteGreenForeground1}});case"warning":return l.jsx(j9,{style:{color:k.colorPaletteYellowForeground1}});case"error":return l.jsx(O9,{style:{color:k.colorPaletteRedForeground1}});case"info":default:return l.jsx(Nb,{style:{color:k.colorBrandForeground1}})}},Ybe=(e,t)=>{const r=Math.floor((new Date().getTime()-e.getTime())/1e3);if(r<60)return t("notifications.timeAgo.justNow");const i=Math.floor(r/60);if(i<60)return t("notifications.timeAgo.minutesAgo",{count:i});const o=Math.floor(i/60);if(o<24)return t("notifications.timeAgo.hoursAgo",{count:o});const a=Math.floor(o/24);return a<7?t("notifications.timeAgo.daysAgo",{count:a}):e.toLocaleDateString(t("common.locale")||"en-US",{day:"numeric",month:"short"})},Jbe=({trigger:e})=>{const t=Zbe(),{t:n}=Ri("backoffice"),r=El(),[i,o]=x.useState(!1),{notifications:a,unreadCount:s,markAsRead:c,markAllAsRead:u,removeNotification:d}=mP(),f=m=>{m.read||c(m.id),m.actionUrl&&r(m.actionUrl)},p=(m,g)=>{m.stopPropagation(),d(g)};return l.jsxs(l.Fragment,{children:[l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:e}),l.jsxs(Tl,{className:t.menuPopover,children:[l.jsxs("div",{className:t.header,children:[l.jsx(ie,{className:t.headerTitle,children:n("notifications.title")}),s>0&&l.jsx("div",{className:t.headerActions,children:l.jsx("a",{className:t.markAllReadButton,onClick:m=>{m.stopPropagation(),u()},children:n("notifications.markAllAsRead")})})]}),l.jsx("div",{className:t.notificationsList,children:a.length===0?l.jsxs("div",{className:t.emptyState,children:[l.jsx(R9,{className:t.emptyStateIcon}),l.jsx(ie,{className:t.emptyStateText,children:n("notifications.noNotifications")})]}):a.map(m=>l.jsxs("div",{className:`${t.notificationItem} ${m.read?"":t.notificationItemUnread}`,onClick:()=>f(m),children:[!m.read&&l.jsx("div",{className:t.unreadIndicator}),l.jsx("div",{className:t.notificationIcon,children:Kbe(m.type)}),l.jsxs("div",{className:t.notificationContent,children:[l.jsx(ie,{className:t.notificationTitle,children:m.title}),l.jsx(ie,{className:t.notificationMessage,children:m.message}),l.jsx(ie,{className:t.notificationTime,children:Ybe(m.timestamp,n)})]}),l.jsx("div",{className:t.notificationActions,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Gn,{}),className:t.dismissButton,onClick:g=>p(g,m.id),title:n("notifications.dismiss")})})]},m.id))}),a.length>0&&l.jsx("div",{className:t.footer,children:l.jsx("a",{className:t.viewAllButton,onClick:m=>{m.stopPropagation(),o(!0)},children:n("notifications.viewAllNotifications")})})]})]}),l.jsx(Xbe,{open:i,onOpenChange:o})]})},on=e=>typeof e=="string",ym=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},NI=e=>e==null?"":""+e,Qbe=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},exe=/###/g,PI=e=>e&&e.indexOf("###")>-1?e.replace(exe,"."):e,BI=e=>!e||on(e),og=(e,t,n)=>{const r=on(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(BI(e))return{};const o=PI(r[i]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return BI(e)?{}:{obj:e,k:PI(r[i])}},RI=(e,t,n)=>{const{obj:r,k:i}=og(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],a=t.slice(0,t.length-1),s=og(e,a,Object);for(;s.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),s=og(e,a,Object),s&&s.obj&&typeof s.obj[`${s.k}.${o}`]<"u"&&(s.obj=void 0);s.obj[`${s.k}.${o}`]=n},txe=(e,t,n,r)=>{const{obj:i,k:o}=og(e,t,Object);i[o]=i[o]||[],i[o].push(n)},Fb=(e,t)=>{const{obj:n,k:r}=og(e,t);if(n)return n[r]},nxe=(e,t,n)=>{const r=Fb(e,n);return r!==void 0?r:Fb(t,n)},YH=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?on(e[r])||e[r]instanceof String||on(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):YH(e[r],t[r],n):e[r]=t[r]);return e},Df=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var rxe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ixe=e=>on(e)?e.replace(/[&<>"'\/]/g,t=>rxe[t]):e;class oxe{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const axe=[" ",",","?","!",";"],sxe=new oxe(20),lxe=(e,t,n)=>{t=t||"",n=n||"";const r=axe.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=sxe.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!i.test(e);if(!o){const a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o},LM=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let a,s="";for(let c=o;c<r.length;++c)if(c!==o&&(s+=n),s+=r[c],a=i[s],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;o+=c-o+1;break}i=a}return i},Ub=e=>e&&e.replace("_","-"),cxe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class qb{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||cxe,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(on(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new qb(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new qb(this.logger,t)}}var ul=new qb;class s1{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[s,c]=a;for(let u=0;u<c;u++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[s,c]=a;for(let u=0;u<c;u++)s.apply(s,[t,...r])})}}class jI extends s1{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;t.indexOf(".")>-1?s=t.split("."):(s=[t,n],r&&(Array.isArray(r)?s.push(...r):on(r)&&o?s.push(...r.split(o)):s.push(r)));const c=Fb(this.data,s);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=s[0],n=s[1],r=s.slice(2).join(".")),c||!a||!on(r)?c:LM(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let s=[t,n];r&&(s=s.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(s=t.split("."),i=n,n=s[1]),this.addNamespaces(n),RI(this.data,s,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(on(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[t,n];t.indexOf(".")>-1&&(s=t.split("."),i=r,r=n,n=s[1]),this.addNamespaces(n);let c=Fb(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?YH(c,r,o):c={...c,...r},RI(this.data,s,c),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var JH={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const II={};class Hb extends s1{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Qbe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ul.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!lxe(t,r,i);if(a&&!s){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:on(o)?[o]:o};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(i)}return{key:t,namespaces:on(o)?[o]:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(t[t.length-1],n),c=s[s.length-1],u=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const C=n.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${C}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${C}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:a}const f=this.resolve(t,n);let p=f&&f.res;const m=f&&f.usedKey||a,g=f&&f.exactUsedKey||a,v=Object.prototype.toString.apply(p),_=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!on(p)&&typeof p!="boolean"&&typeof p!="number";if(S&&p&&w&&_.indexOf(v)<0&&!(on(y)&&Array.isArray(p))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,{...n,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=C,f.usedParams=this.getUsedParamsDetails(n),f):C}if(o){const C=Array.isArray(p),M=C?[]:{},A=C?g:m;for(const E in p)if(Object.prototype.hasOwnProperty.call(p,E)){const I=`${A}${o}${E}`;M[E]=this.translate(I,{...n,joinArrays:!1,ns:s}),M[E]===I&&(M[E]=p[E])}p=M}}else if(S&&on(y)&&Array.isArray(p))p=p.join(y),p&&(p=this.extendTranslation(p,t,n,r));else{let C=!1,M=!1;const A=n.count!==void 0&&!on(n.count),E=Hb.hasDefaultValue(n),I=A?this.pluralResolver.getSuffix(u,n.count,n):"",N=n.ordinal&&A?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",P=A&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),D=P&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${N}`]||n.defaultValue;!this.isValidLookup(p)&&E&&(C=!0,p=D),this.isValidLookup(p)||(M=!0,p=a);const $=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:p,j=E&&D!==p&&this.options.updateMissing;if(M||C||j){if(this.logger.log(j?"updateKey":"missingKey",u,c,a,j?D:p),o){const F=this.resolve(a,{...n,keySeparator:!1});F&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let O=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let F=0;F<z.length;F++)O.push(z[F]);else this.options.saveMissingTo==="all"?O=this.languageUtils.toResolveHierarchy(n.lng||this.language):O.push(n.lng||this.language);const W=(F,V,H)=>{const te=E&&H!==p?H:$;this.options.missingKeyHandler?this.options.missingKeyHandler(F,c,V,te,j,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(F,c,V,te,j,n),this.emit("missingKey",F,c,V,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?O.forEach(F=>{const V=this.pluralResolver.getSuffixes(F,n);P&&n[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(H=>{W([F],a+H,n[`defaultValue${H}`]||D)})}):W(O,a,D))}p=this.extendTranslation(p,t,n,f,r),M&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${c}:${a}`),(M||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,C?p:void 0):p=this.options.parseMissingKeyHandler(p))}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(n),f):p}extendTranslation(t,n,r,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=on(t)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const p=t.match(this.interpolator.nestingRegexp);d=p&&p.length}let f=r.replace&&!on(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||i.usedLng,r),u){const p=t.match(this.interpolator.nestingRegexp),m=p&&p.length;d<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return o&&o[0]===m[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):a.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,c=on(s)?[s]:s;return t!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(t=JH.handle(c,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,a,s;return on(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const p=n.count!==void 0&&!on(n.count),m=p&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(on(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(_=>{this.isValidLookup(r)||(s=_,!II[`${v[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(II[`${v[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(y=>{if(this.isValidLookup(r))return;a=y;const S=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,d,y,_,n);else{let C;p&&(C=this.pluralResolver.getSuffix(y,n.count,n));const M=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(S.push(d+C),n.ordinal&&C.indexOf(A)===0&&S.push(d+C.replace(A,this.options.pluralSeparator)),m&&S.push(d+M)),g){const E=`${d}${this.options.contextSeparator}${n.context}`;S.push(E),p&&(S.push(E+C),n.ordinal&&C.indexOf(A)===0&&S.push(E+C.replace(A,this.options.pluralSeparator)),m&&S.push(E+M))}}let w;for(;w=S.pop();)this.isValidLookup(r)||(o=w,r=this.getResource(y,_,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:a,usedNS:s}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!on(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}const Tw=e=>e.charAt(0).toUpperCase()+e.slice(1);class zI{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ul.create("languageUtils")}getScriptPartFromCode(t){if(t=Ub(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Ub(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(on(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(t)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Tw(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Tw(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Tw(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),on(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return on(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):on(t)&&o(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&o(this.formatLanguageCode(a))}),i}}let uxe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],dxe={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const fxe=["v1","v2","v3"],hxe=["v4"],LI={zero:0,one:1,two:2,few:3,many:4,other:5},pxe=()=>{const e={};return uxe.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:dxe[t.fc]}})}),e};class mxe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=ul.create("pluralResolver"),(!this.options.compatibilityJSON||hxe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=pxe(),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Ub(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(c,n)}return this.pluralRulesCache[o]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>LI[i]-LI[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!fxe.includes(this.options.compatibilityJSON)}}const DI=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=nxe(e,t,n);return!o&&i&&on(n)&&(o=LM(e,n,r),o===void 0&&(o=LM(t,n,r))),o},kw=e=>e.replace(/\$/g,"$$$$");class gxe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ul.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:p,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:_,maxReplaces:y,alwaysFormat:S}=t.interpolation;this.escape=n!==void 0?n:ixe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Df(o):a||"{{",this.suffix=s?Df(s):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=p?Df(p):m||Df("$t("),this.nestingSuffix=g?Df(g):v||Df(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=y||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,a,s;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){const y=DI(n,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:m}):y}const g=m.split(this.formatSeparator),v=g.shift().trim(),_=g.join(this.formatSeparator).trim();return this.format(DI(n,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>kw(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?kw(this.escape(m)):kw(m)}].forEach(m=>{for(s=0;o=m.regex.exec(t);){const g=o[1].trim();if(a=u(g),a===void 0)if(typeof d=="function"){const _=d(t,o,i);a=on(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(f){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),a="";else!on(a)&&!this.useRawValueToEscape&&(a=NI(a));const v=m.safeValue(a);if(t=t.replace(o[0],v),f?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,a;const s=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let p=`{${f[1]}`;c=f[0],p=this.interpolate(p,a);const m=p.match(/'/g),g=p.match(/"/g);(m&&m.length%2===0&&!g||g.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),u&&(a={...u,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];a={...r},a=a.replace&&!on(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),c=d,u=!0}if(o=n(s.call(this,i[1].trim(),a),a),o&&i[0]===t&&!on(o))return o;on(o)||(o=NI(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),u&&(o=c.reduce((d,f)=>this.format(d,f,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}const vxe=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[s,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},Of=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const a=r+JSON.stringify(o);let s=t[a];return s||(s=e(Ub(r),i),t[a]=s),s(n)}};class yxe{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ul.create("formatter"),this.options=t,this.formats={number:Of((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Of((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Of((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Of((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Of((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Of(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(s=>s.indexOf(")")>-1)){const s=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,s)].join(this.formatSeparator)}return o.reduce((s,c)=>{const{formatName:u,formatOptions:d}=vxe(c);if(this.formats[u]){let f=s;try{const p=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=p.locale||p.lng||i.locale||i.lng||r;f=this.formats[u](s,m,{...d,...i,...p})}catch(p){this.logger.warn(p)}return f}else this.logger.warn(`there was no format function for ${u}`);return s},t)}}const bxe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class xxe extends s1{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ul.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},a={},s={},c={};return t.forEach(u=>{let d=!0;n.forEach(f=>{const p=`${u}|${f}`;!r.reload&&this.store.hasResourceBundle(u,f)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,d=!1,a[p]===void 0&&(a[p]=!0),o[p]===void 0&&(o[p]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(s[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const i=t.split("|"),o=i[0],a=i[1];n&&this.emit("failedLoading",o,a,n),!n&&r&&this.store.addResourceBundle(o,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const s={};this.queue.forEach(c=>{txe(c.loaded,[o],a),bxe(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{s[u]||(s[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:a});return}this.readingCalls++;const s=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,a)},o);return}a(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>s(null,d)).catch(s):s(null,u)}catch(u){s(u)}return}return c(t,n,s)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();on(t)&&(t=this.languageUtils.toResolveHierarchy(t)),on(n)&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(a,s)=>{a&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,a),!a&&s&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,s),this.loaded(t,a,s)})}saveMissing(t,n,r,i,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,n,r,i,c):d=u(t,n,r,i),d&&typeof d.then=="function"?d.then(f=>s(null,f)).catch(s):s(null,d)}catch(d){s(d)}else u(t,n,r,i,s,c)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const OI=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),on(e[1])&&(t.defaultValue=e[1]),on(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),FI=e=>(on(e.ns)&&(e.ns=[e.ns]),on(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),on(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),F0=()=>{},_xe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Og extends s1{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=FI(t),this.services={},this.logger=ul,this.modules={external:[]},_xe(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(on(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=OI();this.options={...i,...this.options,...FI(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ul.init(o(this.modules.logger),this.options):ul.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=yxe);const f=new zI(this.options);this.store=new jI(this.options.resources,this.options);const p=this.services;p.logger=ul,p.resourceStore=this.store,p.languageUtils=f,p.pluralResolver=new mxe(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(p.formatter=o(d),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new gxe(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new xxe(o(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];t.emit(m,...v)}),this.modules.languageDetector&&(p.languageDetector=o(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=o(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new Hb(this.services,this.options),this.translator.on("*",function(m){for(var g=arguments.length,v=new Array(g>1?g-1:0),_=1;_<g;_++)v[_-1]=arguments[_];t.emit(m,...v)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=F0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const c=ym(),u=()=>{const d=(f,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(p),r(f,p)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F0;const i=on(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],a=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(s=>a(s)),this.services.backendConnector.load(o,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(s)})}else r(null)}reloadResources(t,n,r){const i=ym();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=F0),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&JH.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=ym();this.emit("languageChanging",t);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},s=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=on(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t),i}getFixedT(t,n,r){var i=this;const o=function(a,s){let c;if(typeof s!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];c=i.options.overloadTranslationOptionHandler([a,s].concat(d))}else c={...s};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||o.keyPrefix);const p=i.options.keySeparator||".";let m;return c.keyPrefix&&Array.isArray(a)?m=a.map(g=>`${c.keyPrefix}${p}${g}`):m=c.keyPrefix?`${c.keyPrefix}${p}${a}`:a,i.t(m,c)};return on(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(s,c)=>{const u=this.services.backendConnector.state[`${s}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const s=n.precheck(this,a);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(o,t)))}loadNamespaces(t,n){const r=ym();return this.options.ns?(on(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=ym();on(t)&&(t=[t]);const i=this.options.preload||[],o=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=i.concat(o),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new zI(OI());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Og(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F0;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Og(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(s=>{o[s]=this[s]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new jI(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Hb(o.services,i),o.translator.on("*",function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];o.emit(s,...u)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const yo=Og.createInstance();yo.createInstance=Og.createInstance;yo.createInstance;yo.dir;yo.init;yo.loadResources;yo.reloadResources;yo.use;yo.changeLanguage;yo.getFixedT;yo.t;yo.exists;yo.setDefaultNamespace;yo.hasLoadedNamespace;yo.loadNamespaces;yo.loadLanguages;function wxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function Sxe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Cxe(e){var t=Sxe(e,"string");return Fg(t)=="symbol"?t:t+""}function Txe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cxe(r.key),r)}}function kxe(e,t,n){return t&&Txe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var QH=[],Exe=QH.forEach,Mxe=QH.slice;function Axe(e){return Exe.call(Mxe.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e}var UI=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Nxe=function(t,n,r){var i=r||{};i.path=i.path||"/";var o=encodeURIComponent(n),a="".concat(t,"=").concat(o);if(i.maxAge>0){var s=i.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(s))}if(i.domain){if(!UI.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!UI.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var c=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},qI={create:function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),i&&(o.domain=i),document.cookie=Nxe(t,encodeURIComponent(n),o)},read:function(t){for(var n="".concat(t,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(t){this.create(t,"",-1)}},Pxe={name:"cookie",lookup:function(t){var n;if(t.lookupCookie&&typeof document<"u"){var r=qI.read(t.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupCookie&&typeof document<"u"&&qI.create(n.lookupCookie,t,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},Bxe={name:"querystring",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),o=i.split("&"),a=0;a<o.length;a++){var s=o[a].indexOf("=");if(s>0){var c=o[a].substring(0,s);c===t.lookupQuerystring&&(n=o[a].substring(s+1))}}}return n}},bm=null,HI=function(){if(bm!==null)return bm;try{bm=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{bm=!1}return bm},Rxe={name:"localStorage",lookup:function(t){var n;if(t.lookupLocalStorage&&HI()){var r=window.localStorage.getItem(t.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupLocalStorage&&HI()&&window.localStorage.setItem(n.lookupLocalStorage,t)}},xm=null,VI=function(){if(xm!==null)return xm;try{xm=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{xm=!1}return xm},jxe={name:"sessionStorage",lookup:function(t){var n;if(t.lookupSessionStorage&&VI()){var r=window.sessionStorage.getItem(t.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(t,n){n.lookupSessionStorage&&VI()&&window.sessionStorage.setItem(n.lookupSessionStorage,t)}},Ixe={name:"navigator",lookup:function(t){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},zxe={name:"htmlTag",lookup:function(t){var n,r=t.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Lxe={name:"path",lookup:function(t){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof r[t.lookupFromPathIndex]!="string")return;n=r[t.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Dxe={name:"subdomain",lookup:function(t){var n=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}},eV=!1;try{document.cookie,eV=!0}catch{}var tV=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];eV||tV.splice(1,1);function Oxe(){return{order:tV,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(t){return t}}}var nV=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};wxe(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return kxe(e,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=Axe(r,this.options||{},Oxe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(o){return o.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Pxe),this.addDetector(Bxe),this.addDetector(Rxe),this.addDetector(jxe),this.addDetector(Ixe),this.addDetector(zxe),this.addDetector(Lxe),this.addDetector(Dxe)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(o){if(r.detectors[o]){var a=r.detectors[o].lookup(r.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(o){return r.options.convertDetectedLanguage(o)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(n,i.options)}))}}])}();nV.type="languageDetector";const DM={en:"English",es:"Espaol",de:"Deutsch",fr:"Franais",zh:""},Fxe="es",Uxe={fallbackLng:Fxe,supportedLngs:Object.keys(DM),debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}};function qxe(e,t){const n=yo.createInstance();return n.use(nV).init({...Uxe,resources:e,defaultNS:t,ns:[t,"common"]}),n}const Hxe=()=>{const{i18n:e,t}=Ri("backoffice"),n=o=>{e.changeLanguage(o)},r=e.language||"en",i=DM[r]||"English";return l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(yie,{}),"aria-label":t("languageSelector.selectLanguage"),children:i})}),l.jsx(Tl,{children:l.jsx(Xu,{children:Object.entries(DM).map(([o,a])=>l.jsx(zn,{onClick:()=>n(o),checked:r===o,children:a},o))})})]})},Yt={async getAllCustomers(){return ut.request("/customers")},async getCustomerById(e){return ut.request(`/customers/${e}`)},async createCustomer(e){return ut.request("/customers",{method:"POST",body:JSON.stringify(e)})},async updateCustomer(e,t){return ut.request(`/customers/${e}`,{method:"PUT",body:JSON.stringify(t)})},async deleteCustomer(e){return ut.request(`/customers/${e}`,{method:"DELETE"})},async suspendCustomer(e){return ut.request(`/customers/${e}/suspend`,{method:"POST"})},async activateCustomer(e){return ut.request(`/customers/${e}/activate`,{method:"POST"})},async getCustomerTenants(e){return ut.request(`/customers/${e}/tenants`)},async getCustomerUsers(e){return ut.request(`/customers/${e}/users`)},async assignTenantToCustomer(e,t){return ut.request(`/customers/${e}/assign-tenant`,{method:"POST",body:JSON.stringify({tenantName:t})})},async assignParentToCustomer(e,t){return ut.request(`/customers/${e}/assign-parent`,{method:"POST",body:JSON.stringify({parentId:t||null})})},async assignOfficeToCustomer(e,t){return ut.request(`/customers/${e}/assign-office`,{method:"POST",body:JSON.stringify({officeId:t})})},async removeOfficeFromCustomer(e,t){return ut.request(`/customers/${e}/offices/${t}`,{method:"DELETE"})}},$l={async getByCustomerId(e){return ut.request(`/customer-parameters/customer/${e}`)},async getByCustomerIdAndKey(e,t){try{return await ut.request(`/customer-parameters/customer/${e}/key/${encodeURIComponent(t)}`)}catch(n){if((n==null?void 0:n.statusCode)===404)return null;throw n}},async createOrUpdate(e){return ut.request("/customer-parameters",{method:"POST",body:JSON.stringify(e)})},async delete(e){return ut.request(`/customer-parameters/${e}`,{method:"DELETE"})}},gP={async getAllCountries(){return ut.request("/countries")}},Vxe=Tr({ribbonBar:{height:"48px",backgroundColor:"#0078d4",display:"flex",alignItems:"center",paddingLeft:k.spacingHorizontalM,paddingRight:k.spacingHorizontalM,gap:k.spacingHorizontalM,position:"relative",zIndex:100},logoSection:{display:"flex",alignItems:"center",gap:k.spacingHorizontalS,flexShrink:0},logoIcon:{color:"white",fontSize:"20px"},logoImage:{height:"24px",width:"auto",objectFit:"contain"},logoText:{color:"white",fontSize:k.fontSizeBase400,fontWeight:k.fontWeightSemibold,cursor:"pointer",textDecoration:"none",":hover":{textDecoration:"underline"}},searchSection:{flex:1,maxWidth:"600px",marginLeft:k.spacingHorizontalXL,marginRight:k.spacingHorizontalXL},searchInput:{width:"100%",backgroundColor:"white","&::placeholder":{color:k.colorNeutralForeground3}},actionsSection:{display:"flex",alignItems:"center",gap:k.spacingHorizontalS,flexShrink:0,marginLeft:"auto"},actionButton:{color:"white",minWidth:"auto",":hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},badgeContainer:{position:"relative",display:"inline-flex"},badge:{position:"absolute",top:"4px",right:"4px",zIndex:1},avatarButton:{color:"white",minWidth:"auto",paddingLeft:k.spacingHorizontalXS,paddingRight:k.spacingHorizontalXS}}),Ew={SITE_NAME:"SiteName",SITE_URL:"SiteUrl",SITE_LOGO:"SiteLogo"},Wxe=({onMenuToggle:e})=>{const t=Vxe();El();const{t:n}=Ri("backoffice"),{user:r}=Zu(),{unreadCount:i}=mP(),{openSettings:o}=a1(),[a,s]=x.useState("Dev Cracks"),[c,u]=x.useState(""),[d,f]=x.useState("");x.useEffect(()=>{p();const m=v=>{var y;const _=v;((y=_.detail)==null?void 0:y.logoUrl)!==void 0&&f(_.detail.logoUrl)},g=()=>{p()};return window.addEventListener("siteLogoUpdated",m),window.addEventListener("siteSettingsUpdated",g),()=>{window.removeEventListener("siteLogoUpdated",m),window.removeEventListener("siteSettingsUpdated",g)}},[]);const p=async()=>{try{const m=await In.getCurrentTenant();if(!(m!=null&&m.customerId))return;const g=await $l.getByCustomerId(m.customerId),v=new Map(g.map(_=>[_.key,_.value]));s(v.get(Ew.SITE_NAME)||"Dev Cracks"),u(v.get(Ew.SITE_URL)||""),f(v.get(Ew.SITE_LOGO)||"")}catch(m){console.error("Error cargando configuracin del sitio:",m)}};return l.jsxs("div",{className:t.ribbonBar,children:[l.jsxs("div",{className:t.logoSection,children:[d?l.jsx("img",{src:d,alt:a,className:t.logoImage,onError:m=>{m.currentTarget.style.display="none"}}):l.jsx(zie,{className:t.logoIcon}),c?l.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:t.logoText,children:a}):l.jsx("span",{className:t.logoText,children:a})]}),l.jsx("div",{className:t.searchSection,children:l.jsx(ye,{className:t.searchInput,placeholder:n("ribbonBar.search"),contentBefore:l.jsx(ON,{}),appearance:"filled-darker"})}),l.jsxs("div",{className:t.actionsSection,children:[l.jsx(pe,{appearance:"subtle",icon:l.jsx(FN,{}),className:t.actionButton,title:n("ribbonBar.new")}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(P9,{}),className:t.actionButton,title:n("ribbonBar.calendar")}),l.jsxs("div",{className:t.badgeContainer,children:[l.jsx(Jbe,{trigger:l.jsx(pe,{appearance:"subtle",icon:l.jsx(R9,{}),className:t.actionButton,title:n("ribbonBar.notifications")})}),i>0&&l.jsx(Ke,{appearance:"filled",color:"important",size:"small",className:t.badge,children:i>99?"99+":i})]}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(Zx,{}),className:t.actionButton,title:n("ribbonBar.settings"),onClick:o}),l.jsx(Hxe,{}),r&&l.jsx(qbe,{trigger:l.jsx(pe,{appearance:"subtle",icon:l.jsx(ep,{name:r.name||r.email,image:r.picture,size:24}),className:t.avatarButton})})]})]})},Gxe=Tr({dialogSurface:{width:"90vw",maxWidth:"1200px",height:"85vh",maxHeight:"800px",display:"flex",flexDirection:"column",...it.overflow("hidden")},dialogBody:{display:"flex",flex:1,...it.overflow("hidden"),padding:0},sidebar:{width:"280px",backgroundColor:k.colorNeutralBackground1,borderRight:`1px solid ${k.colorNeutralStroke2}`,display:"flex",flexDirection:"column",...it.overflow("hidden"),flexShrink:0},sidebarHeader:{padding:k.spacingVerticalM,borderBottom:`1px solid ${k.colorNeutralStroke2}`},sidebarTitle:{fontSize:k.fontSizeBase500,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1,marginBottom:k.spacingVerticalM},searchContainer:{position:"relative"},searchInput:{width:"100%"},sidebarContent:{flex:1,overflowY:"auto",padding:k.spacingVerticalS},categoryList:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXXS),listStyle:"none",margin:0,padding:0},categoryItem:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalS),padding:`${k.spacingVerticalS} ${k.spacingHorizontalM}`,borderRadius:k.borderRadiusSmall,cursor:"pointer",color:k.colorNeutralForeground1,fontSize:k.fontSizeBase300,fontWeight:k.fontWeightRegular,transition:"background-color 0.2s ease",":hover":{backgroundColor:k.colorNeutralBackground2}},categoryItemActive:{backgroundColor:k.colorBrandBackground2,color:k.colorBrandForeground1,fontWeight:k.fontWeightSemibold},subcategoryList:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXXS),listStyle:"none",margin:0,padding:0,marginTop:k.spacingVerticalXS,marginLeft:k.spacingHorizontalXL},subcategoryItem:{padding:`${k.spacingVerticalXS} ${k.spacingHorizontalM}`,borderRadius:k.borderRadiusSmall,cursor:"pointer",color:k.colorNeutralForeground2,fontSize:k.fontSizeBase200,transition:"background-color 0.2s ease, color 0.2s ease",":hover":{backgroundColor:k.colorNeutralBackground2,color:k.colorNeutralForeground1}},subcategoryItemActive:{backgroundColor:k.colorBrandBackground2,color:k.colorBrandForeground1,fontWeight:k.fontWeightSemibold},contentArea:{flex:1,display:"flex",flexDirection:"column",...it.overflow("hidden"),backgroundColor:k.colorNeutralBackground2},contentHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:`${k.spacingVerticalL} ${k.spacingHorizontalXL}`,borderBottom:`1px solid ${k.colorNeutralStroke2}`},contentTitle:{fontSize:k.fontSizeBase600,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},closeButton:{minWidth:"auto",color:k.colorNeutralForeground2,":hover":{backgroundColor:k.colorNeutralBackground3}},contentBody:{flex:1,overflowY:"auto",padding:k.spacingVerticalXL},section:{marginBottom:k.spacingVerticalXXL},sectionTitle:{fontSize:k.fontSizeBase400,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1,marginBottom:k.spacingVerticalM},sectionDescription:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,marginBottom:k.spacingVerticalL,lineHeight:k.lineHeightBase300},formGroup:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM),marginBottom:k.spacingVerticalL},formRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:`${k.spacingVerticalM} 0`,borderBottom:`1px solid ${k.colorNeutralStroke2}`},formRowLast:{borderBottom:"none"},formLabel:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXXS),flex:1},formLabelText:{fontSize:k.fontSizeBase300,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},formLabelDescription:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2},formControl:{minWidth:"200px"},link:{color:k.colorBrandForeground1,textDecoration:"none",fontSize:k.fontSizeBase300,":hover":{textDecoration:"underline"}},infoBanner:{backgroundColor:k.colorNeutralBackground3,border:`1px solid ${k.colorNeutralStroke2}`,borderRadius:k.borderRadiusMedium,padding:k.spacingVerticalM,marginBottom:k.spacingVerticalL,fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,lineHeight:k.lineHeightBase300},cardContainer:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalL),marginBottom:k.spacingVerticalXL},infoRow:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXXS),padding:`${k.spacingVerticalS} 0`,borderBottom:`1px solid ${k.colorNeutralStroke2}`},infoRowLast:{borderBottom:"none"},infoLabel:{fontSize:k.fontSizeBase200,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground2},infoValue:{fontSize:k.fontSizeBase300,color:k.colorNeutralForeground1}}),$xe=e=>[{id:"account",label:e("settingsDialog.account"),icon:l.jsx(B9,{})},{id:"general",label:e("settingsDialog.general"),icon:l.jsx(Zx,{}),subcategories:[{id:"language-time",label:e("settingsDialog.languageAndTime")},{id:"appearance",label:e("settingsDialog.appearance")},{id:"notifications",label:e("settingsDialog.notifications")},{id:"accessibility",label:e("settingsDialog.accessibility")},{id:"distribution-groups",label:e("settingsDialog.distributionGroups")},{id:"privacy-data",label:e("settingsDialog.privacyAndData")},{id:"search",label:e("settingsDialog.search")}]},{id:"mail",label:e("settingsDialog.mail"),icon:l.jsx(vie,{})},{id:"calendar",label:e("settingsDialog.calendar"),icon:l.jsx(P9,{})},{id:"people",label:e("settingsDialog.people"),icon:l.jsx(gl,{})}],Xxe=({open:e,onOpenChange:t})=>{var C,M;const n=Gxe(),{t:r}=Ri("backoffice"),{userDetails:i}=Zu(),[o,a]=x.useState("general"),[s,c]=x.useState("language-time"),[u,d]=x.useState(""),[f,p]=x.useState(null),[m,g]=x.useState(!1),v=$xe(r),_=()=>{t(!1),d("")};x.useEffect(()=>{(async()=>{if(o==="account"&&(i!=null&&i.customerId)){g(!0);try{const E=await Yt.getCustomerById(i.customerId);p(E)}catch(E){console.error("Error loading customer info:",E),p(null)}finally{g(!1)}}else p(null)})()},[o,i==null?void 0:i.customerId]);const y=v.find(A=>A.id===o),S=(y==null?void 0:y.subcategories)&&y.subcategories.length>0,w=()=>o==="general"&&s==="language-time"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:n.infoBanner,children:[r("settingsDialog.cantFindSettings")," ",l.jsx("a",{href:"#",className:n.link,onClick:A=>{A.preventDefault(),a("account")},children:r("settingsDialog.clickHere")})," ",r("settingsDialog.toViewAccountTab")]}),l.jsxs("div",{className:n.section,children:[l.jsx(ie,{className:n.sectionTitle,children:r("settingsDialog.syncAcrossMicrosoft365")}),l.jsx(ie,{className:n.sectionDescription,children:r("settingsDialog.syncDescription")}),l.jsxs("div",{className:n.formGroup,children:[l.jsxs("div",{className:n.formRow,children:[l.jsx("div",{className:n.formLabel,children:l.jsx(ie,{className:n.formLabelText,children:r("settingsDialog.useMicrosoft365Settings")})}),l.jsx(lc,{})]}),l.jsx(ie,{className:n.sectionDescription,children:l.jsx("a",{href:"#",className:n.link,children:r("settingsDialog.viewManageMicrosoft365")})})]})]}),l.jsxs("div",{className:n.section,children:[l.jsx(ie,{className:n.sectionTitle,children:r("settingsDialog.outlookSettings")}),l.jsxs("div",{className:n.formGroup,children:[l.jsxs("div",{className:n.formRow,children:[l.jsx("div",{className:n.formLabel,children:l.jsx(Nr,{htmlFor:"language",className:n.formLabelText,children:r("settingsDialog.languageCountryRegion")})}),l.jsxs(mu,{id:"language",className:n.formControl,children:[l.jsx("option",{children:"English (United States)"}),l.jsx("option",{children:"Espaol (Espaa)"}),l.jsx("option",{children:"Espaol (Mxico)"})]})]}),l.jsxs("div",{className:n.formRow,children:[l.jsxs("div",{className:n.formLabel,children:[l.jsx(Nr,{htmlFor:"dateFormat",className:n.formLabelText,children:r("settingsDialog.dateFormat")}),l.jsx(ie,{className:n.formLabelDescription,children:r("settingsDialog.dateFormatExample")})]}),l.jsxs(mu,{id:"dateFormat",className:n.formControl,children:[l.jsx("option",{children:"9/1/2026"}),l.jsx("option",{children:"01/09/2026"}),l.jsx("option",{children:"2026-09-01"})]})]}),l.jsxs("div",{className:n.formRow,children:[l.jsx("div",{className:n.formLabel,children:l.jsx(Nr,{htmlFor:"timeFormat",className:n.formLabelText,children:r("settingsDialog.timeFormat")})}),l.jsxs(mu,{id:"timeFormat",className:n.formControl,children:[l.jsx("option",{children:"1:01 AM - 11:59 PM"}),l.jsx("option",{children:"01:01 - 23:59"})]})]}),l.jsxs("div",{className:n.formRow,children:[l.jsxs("div",{className:n.formLabel,children:[l.jsx(Nr,{className:n.formLabelText,children:r("settingsDialog.timeZone")}),l.jsx(ie,{className:n.formLabelDescription,children:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris"})]}),l.jsx(pe,{appearance:"subtle",className:n.formControl,children:r("settingsDialog.change")})]})]})]})]}):o==="general"&&s==="appearance"?l.jsxs("div",{className:n.section,children:[l.jsx(ie,{className:n.sectionTitle,children:r("settingsDialog.appearance")}),l.jsx("div",{className:n.formGroup,children:l.jsxs("div",{className:n.formRow,children:[l.jsxs("div",{className:n.formLabel,children:[l.jsx(Nr,{htmlFor:"theme",className:n.formLabelText,children:r("settingsDialog.theme")}),l.jsx(ie,{className:n.formLabelDescription,children:r("settingsDialog.chooseTheme")})]}),l.jsxs(mu,{id:"theme",className:n.formControl,children:[l.jsx("option",{children:r("settingsDialog.light")}),l.jsx("option",{children:r("settingsDialog.dark")}),l.jsx("option",{children:r("settingsDialog.system")})]})]})})]}):o==="general"&&s==="notifications"?l.jsxs("div",{className:n.section,children:[l.jsx(ie,{className:n.sectionTitle,children:r("settingsDialog.notifications")}),l.jsxs("div",{className:n.formGroup,children:[l.jsxs("div",{className:n.formRow,children:[l.jsxs("div",{className:n.formLabel,children:[l.jsx(Nr,{htmlFor:"emailNotifications",className:n.formLabelText,children:r("settingsDialog.emailNotifications")}),l.jsx(ie,{className:n.formLabelDescription,children:r("settingsDialog.emailNotificationsDescription")})]}),l.jsx(lc,{id:"emailNotifications",defaultChecked:!0})]}),l.jsxs("div",{className:n.formRow,children:[l.jsxs("div",{className:n.formLabel,children:[l.jsx(Nr,{htmlFor:"browserNotifications",className:n.formLabelText,children:r("settingsDialog.browserNotifications")}),l.jsx(ie,{className:n.formLabelDescription,children:r("settingsDialog.browserNotificationsDescription")})]}),l.jsx(lc,{id:"browserNotifications",defaultChecked:!0})]})]})]}):o==="account"?l.jsx("div",{className:n.section,children:l.jsxs("div",{className:n.cardContainer,children:[l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:r("settingsDialog.myUserInformation")}),description:r("settingsDialog.myUserInformationDescription")}),l.jsx("div",{style:{padding:"20px"},children:i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.name")}),l.jsx(ie,{className:n.infoValue,children:i.name||r("settingsDialog.notSpecified")})]}),l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.email")}),l.jsx(ie,{className:n.infoValue,children:i.email})]}),i.contactEmail&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.contactEmail")}),l.jsx(ie,{className:n.infoValue,children:i.contactEmail})]}),i.phone&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.phone")}),l.jsx(ie,{className:n.infoValue,children:i.phone})]}),l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.role")}),l.jsx(ie,{className:n.infoValue,children:i.role==="Admin"?r("settingsDialog.administrator"):r("settingsDialog.user")})]}),l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.status")}),l.jsx(ie,{className:n.infoValue,children:i.isSuspended?r("settingsDialog.suspended"):i.isActive===!1?r("settingsDialog.inactive"):r("settingsDialog.active")})]}),l.jsxs("div",{className:`${n.infoRow} ${n.infoRowLast}`,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.userId")}),l.jsx(ie,{className:n.infoValue,children:i.id})]})]}):l.jsx(ie,{children:r("settingsDialog.couldNotLoadUserInfo")})})]}),(i==null?void 0:i.customerId)&&l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:r("settingsDialog.myCustomerInformation")}),description:r("settingsDialog.myCustomerInformationDescription")}),l.jsx("div",{style:{padding:"20px"},children:m?l.jsx(ie,{children:r("settingsDialog.loadingCustomerInfo")}):f?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.name")}),l.jsx(ie,{className:n.infoValue,children:f.name})]}),l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.identification")}),l.jsx(ie,{className:n.infoValue,children:f.identification})]}),f.countryName&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.country")}),l.jsx(ie,{className:n.infoValue,children:f.countryName})]}),f.stateProvince&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.stateProvince")}),l.jsx(ie,{className:n.infoValue,children:f.stateProvince})]}),f.city&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.city")}),l.jsx(ie,{className:n.infoValue,children:f.city})]}),f.phone&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.phone")}),l.jsx(ie,{className:n.infoValue,children:f.phone})]}),f.email&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.email")}),l.jsx(ie,{className:n.infoValue,children:f.email})]}),f.parentName&&l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.parentCustomer")}),l.jsx(ie,{className:n.infoValue,children:f.parentName})]}),l.jsxs("div",{className:n.infoRow,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.status")}),l.jsx(ie,{className:n.infoValue,children:f.isSuspended?r("settingsDialog.suspended"):f.isActive===!1?r("settingsDialog.inactive"):r("settingsDialog.active")})]}),l.jsxs("div",{className:`${n.infoRow} ${n.infoRowLast}`,children:[l.jsx(ie,{className:n.infoLabel,children:r("settingsDialog.customerId")}),l.jsx(ie,{className:n.infoValue,children:f.id})]})]}):l.jsx(ie,{children:r("settingsDialog.couldNotLoadCustomerInfo")})})]})]})}):l.jsxs("div",{className:n.section,children:[l.jsx(ie,{className:n.sectionTitle,children:(y==null?void 0:y.label)||r("settingsDialog.title")}),l.jsxs(ie,{className:n.sectionDescription,children:[r("settingsDialog.configurationFor")," ",(y==null?void 0:y.label.toLowerCase())||r("settingsDialog.title").toLowerCase()," ",r("settingsDialog.willBeAvailable")]})]});return l.jsx(Qn,{open:e,onOpenChange:(A,E)=>t(E.open),modalType:"modal",children:l.jsx(or,{className:n.dialogSurface,children:l.jsxs(ir,{className:n.dialogBody,children:[l.jsxs("div",{className:n.sidebar,children:[l.jsxs("div",{className:n.sidebarHeader,children:[l.jsx(ie,{className:n.sidebarTitle,children:r("settingsDialog.title")}),l.jsx("div",{className:n.searchContainer,children:l.jsx(ye,{placeholder:r("settingsDialog.searchPlaceholder"),value:u,onChange:A=>d(A.target.value),contentBefore:l.jsx(ON,{}),className:n.searchInput})})]}),l.jsx("div",{className:n.sidebarContent,children:l.jsx("ul",{className:n.categoryList,children:v.map(A=>l.jsxs("li",{children:[l.jsxs("div",{className:`${n.categoryItem} ${o===A.id?n.categoryItemActive:""}`,onClick:()=>{a(A.id),A.subcategories&&A.subcategories.length>0&&c(A.subcategories[0].id)},children:[A.icon,A.label]}),A.subcategories&&o===A.id&&l.jsx("ul",{className:n.subcategoryList,children:A.subcategories.map(E=>l.jsx("li",{className:`${n.subcategoryItem} ${s===E.id?n.subcategoryItemActive:""}`,onClick:()=>c(E.id),children:E.label},E.id))})]},A.id))})})]}),l.jsxs("div",{className:n.contentArea,children:[l.jsxs("div",{className:n.contentHeader,children:[l.jsx(ie,{className:n.contentTitle,children:S?((M=(C=y==null?void 0:y.subcategories)==null?void 0:C.find(A=>A.id===s))==null?void 0:M.label)||(y==null?void 0:y.label):(y==null?void 0:y.label)||r("settingsDialog.title")}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(Gn,{}),className:n.closeButton,onClick:_,title:r("settingsDialog.close")})]}),l.jsx("div",{className:n.contentBody,children:w()})]})]})})})};class Zxe{async sendMessage(t){return ut.request("/chat/message",{method:"POST",body:JSON.stringify(t)})}async getUsage(){try{return await ut.request("/chat/usage",{method:"GET"})}catch(t){if(t.statusCode===404)return null;throw t}}async getSubscription(){try{return await ut.request("/chat/subscription",{method:"GET"})}catch(t){if(t.statusCode===404)return null;throw t}}}const WI=new Zxe,Kxe=Tr({floatingButton:{position:"fixed",bottom:"24px",right:"24px",width:"56px",height:"56px",borderRadius:"50%",zIndex:1e3,boxShadow:k.shadow16,...it.border("none"),backgroundColor:k.colorBrandBackground,color:k.colorNeutralForegroundOnBrand,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{backgroundColor:k.colorBrandBackgroundHover}},dialogSurface:{width:"90vw",maxWidth:"500px",height:"80vh",maxHeight:"700px",display:"flex",flexDirection:"column",...it.overflow("hidden")},dialogBody:{display:"flex",flexDirection:"column",flex:1,...it.overflow("hidden"),padding:0},dialogHeader:{padding:k.spacingVerticalM,paddingLeft:k.spacingHorizontalL,paddingRight:k.spacingHorizontalL,borderBottom:`1px solid ${k.colorNeutralStroke2}`,display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0},dialogTitle:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalS),fontSize:k.fontSizeBase500,fontWeight:k.fontWeightSemibold},usageInfo:{padding:k.spacingVerticalS,paddingLeft:k.spacingHorizontalL,paddingRight:k.spacingHorizontalL,borderBottom:`1px solid ${k.colorNeutralStroke2}`,backgroundColor:k.colorNeutralBackground2,flexShrink:0},usageBar:{marginTop:k.spacingVerticalXS},usageText:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground3,marginTop:k.spacingVerticalXS},messagesContainer:{flex:1,overflowY:"auto",padding:k.spacingVerticalM,paddingLeft:k.spacingHorizontalL,paddingRight:k.spacingHorizontalL,display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},message:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXS),maxWidth:"80%"},userMessage:{alignSelf:"flex-end",backgroundColor:k.colorBrandBackground,color:k.colorNeutralForegroundOnBrand,...it.padding(k.spacingVerticalM,k.spacingHorizontalM),borderRadius:k.borderRadiusMedium,...it.border("none")},assistantMessage:{alignSelf:"flex-start",backgroundColor:k.colorNeutralBackground2,...it.padding(k.spacingVerticalM,k.spacingHorizontalM),borderRadius:k.borderRadiusMedium,...it.border("none")},messageContent:{fontSize:k.fontSizeBase300,whiteSpace:"pre-wrap",wordBreak:"break-word"},inputContainer:{padding:k.spacingVerticalM,paddingLeft:k.spacingHorizontalL,paddingRight:k.spacingHorizontalL,borderTop:`1px solid ${k.colorNeutralStroke2}`,display:"flex",...it.gap(k.spacingHorizontalS),flexShrink:0},input:{flex:1},sendButton:{flexShrink:0},loadingContainer:{display:"flex",alignItems:"center",justifyContent:"center",padding:k.spacingVerticalL},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,...it.gap(k.spacingVerticalL),color:k.colorNeutralForeground3},warningBar:{marginBottom:k.spacingVerticalM}}),Yxe=()=>{const e=Kxe(),{t}=Ri("backoffice"),[n,r]=x.useState(!1),[i,o]=x.useState([]),[a,s]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(null),[p,m]=x.useState(null),g=x.useRef(null);x.useEffect(()=>{n&&_()},[n]),x.useEffect(()=>{v()},[i]);const v=()=>{var M;(M=g.current)==null||M.scrollIntoView({behavior:"smooth"})},_=async()=>{try{const M=await WI.getUsage();f(M)}catch(M){console.error("Error loading usage:",M)}},y=async()=>{if(!a.trim()||c)return;const M={role:"user",content:a.trim()};o(A=>[...A,M]),s(""),u(!0),m(null);try{const A=await WI.sendMessage({message:M.content,conversationHistory:i}),E={role:"assistant",content:A.content};if(o(I=>[...I,E]),A.usage&&f(A.usage),A.usage){const I=A.usage.usagePercentageTokens,N=A.usage.usagePercentageMessages;I>=95||N>=95?m(t("jarvis.limit95")):I>=90||N>=90?m(t("jarvis.limit90")):(I>=80||N>=80)&&m(t("jarvis.limit80"))}}catch(A){const E=A.message||t("jarvis.errorSending");if(m(E),E.includes("suscripcin")||E.includes("subscription")||A.statusCode===400){const I={role:"assistant",content:` ${E}

${t("jarvis.contactSupport")}`};o(N=>[...N,I])}else{const I={role:"assistant",content:`${t("common.error")}: ${E}`};o(N=>[...N,I])}}finally{u(!1)}},S=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),y())},w=M=>M?Math.max(M.usagePercentageTokens,M.usagePercentageMessages):0,C=M=>M>=95?k.colorPaletteRedBackground3:M>=90?k.colorPaletteOrangeBackground3:M>=80?k.colorPaletteYellowBackground3:k.colorBrandBackground;return l.jsxs(l.Fragment,{children:[l.jsx("button",{className:e.floatingButton,onClick:()=>r(!0),"aria-label":t("jarvis.openChat"),children:l.jsx(fw,{fontSize:24})}),l.jsx(Qn,{open:n,onOpenChange:(M,A)=>r(A.open),modalType:"modal",children:l.jsx(or,{className:e.dialogSurface,children:l.jsxs(ir,{className:e.dialogBody,children:[l.jsxs("div",{className:e.dialogHeader,children:[l.jsxs("div",{className:e.dialogTitle,children:[l.jsx(fw,{}),l.jsx(ie,{children:t("jarvis.title")})]}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(Gn,{}),onClick:()=>r(!1),"aria-label":t("jarvis.close")})]}),d&&l.jsxs("div",{className:e.usageInfo,children:[l.jsx(ie,{size:200,weight:"semibold",children:t("jarvis.monthlyUsage")}),l.jsx("div",{className:e.usageBar,children:l.jsx(Lb,{value:w(d),max:100,color:C(w(d))})}),l.jsxs("div",{className:e.usageText,children:[t("jarvis.tokens"),": ",d.monthlyUsageTokens," / ",d.maxTokensPerMonth??""," (",d.usagePercentageTokens,"%) | ",t("jarvis.messages"),": ",d.monthlyUsageMessages," /"," ",d.maxMessagesPerMonth??""," (",d.usagePercentageMessages,"%)"]})]}),p&&l.jsx("div",{className:e.warningBar,children:l.jsx(bn,{intent:"warning",children:l.jsx(xn,{children:l.jsx(ie,{size:200,children:p})})})}),l.jsxs("div",{className:e.messagesContainer,children:[i.length===0?l.jsxs("div",{className:e.emptyState,children:[l.jsx(fw,{fontSize:48}),l.jsx(ie,{size:400,weight:"semibold",children:t("jarvis.greeting")}),l.jsx(ie,{size:300,align:"center",children:t("jarvis.greetingDescription")})]}):i.map((M,A)=>l.jsx("div",{className:`${e.message} ${M.role==="user"?e.userMessage:e.assistantMessage}`,children:l.jsx(ie,{className:e.messageContent,children:M.content})},A)),c&&l.jsx("div",{className:e.loadingContainer,children:l.jsx(Cn,{size:"small",label:t("jarvis.thinking")})}),l.jsx("div",{ref:g})]}),l.jsxs("div",{className:e.inputContainer,children:[l.jsx(ye,{className:e.input,placeholder:t("jarvis.placeholder"),value:a,onChange:M=>s(M.target.value),onKeyPress:S,disabled:c}),l.jsx(pe,{className:e.sendButton,appearance:"primary",icon:l.jsx(kie,{}),onClick:y,disabled:c||!a.trim(),"aria-label":t("jarvis.sendMessage"),children:t("jarvis.send")})]})]})})})]})},Jxe=Tr({container:{display:"flex",flexDirection:"column",height:"100vh",width:"100%"},ribbonContainer:{display:"flex",flexDirection:"column",width:"100%",position:"fixed",top:0,left:0,right:0,zIndex:1e3},bodyContainer:{display:"flex",flex:1,marginTop:"48px",overflow:"hidden",gap:0},sidebar:{width:"250px",backgroundColor:k.colorNeutralBackground1,borderRight:`1px solid ${k.colorNeutralStroke1}`,display:"flex",flexDirection:"column",transition:"width 0.3s ease, transform 0.3s ease",flexShrink:0,position:"fixed",left:0,top:"48px",bottom:0,zIndex:900,boxSizing:"border-box","@media (min-width: 768px)":{position:"relative",top:0,width:"250px",flexShrink:0}},sidebarCollapsed:{transform:"translateX(-100%)","@media (min-width: 768px)":{transform:"translateX(0)",width:"64px",minWidth:"64px",maxWidth:"64px"}},header:{height:"60px",display:"flex",alignItems:"center",justifyContent:"space-between",paddingLeft:k.spacingHorizontalM,paddingRight:k.spacingHorizontalM,borderBottom:`1px solid ${k.colorNeutralStroke1}`,backgroundColor:k.colorNeutralBackground2,minWidth:0},headerCollapsed:{justifyContent:"center",paddingLeft:k.spacingHorizontalXS,paddingRight:k.spacingHorizontalXS},headerTitle:{fontWeight:k.fontWeightSemibold,fontSize:k.fontSizeBase400},mainContent:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0,marginLeft:"250px",transition:"margin-left 0.3s ease","@media (min-width: 768px)":{marginLeft:"0",width:"auto"}},mainContentCollapsed:{marginLeft:"0","@media (min-width: 768px)":{marginLeft:"0"}},content:{flex:1,overflow:"auto",padding:k.spacingVerticalXL,backgroundColor:k.colorNeutralBackground2},overlay:{position:"fixed",top:"48px",left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:999,"@media (min-width: 768px)":{display:"none"}},navList:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXS),padding:k.spacingVerticalM,flex:1,overflowY:"auto"},navListCollapsed:{padding:k.spacingVerticalS,alignItems:"center",width:"100%"},navGroup:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXS),marginBottom:k.spacingVerticalL},navGroupHeader:{fontSize:k.fontSizeBase300,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground3,padding:`${k.spacingVerticalS} ${k.spacingHorizontalM}`,textTransform:"uppercase",letterSpacing:"0.5px"},navItem:{width:"100%",justifyContent:"flex-start",paddingLeft:k.spacingHorizontalM,paddingRight:k.spacingHorizontalM,minHeight:"40px",minWidth:0},navItemCollapsed:{justifyContent:"center",paddingLeft:k.spacingHorizontalXS,paddingRight:k.spacingHorizontalXS,minWidth:"64px",width:"64px"},navItemSelected:{backgroundColor:k.colorNeutralBackground2,borderLeft:`3px solid ${k.colorBrandForeground1}`},navItemSelectedCollapsed:{borderLeft:"none",borderTop:`3px solid ${k.colorBrandForeground1}`}}),$c=({children:e})=>{const t=Jxe(),n=El(),r=is(),{t:i}=Ri("backoffice"),{userDetails:o,refreshUser:a}=Zu(),{isOpen:s,closeSettings:c}=a1(),[u,d]=x.useState(!1),[f,p]=x.useState(null),[m,g]=x.useState(!1);x.useEffect(()=>{o&&v()},[o]);const v=async()=>{try{const w=await In.getCurrentTenant();w?p(w):m||await _()}catch(w){(w==null?void 0:w.statusCode)!==404&&(w==null?void 0:w.statusCode)!==void 0&&console.error("Error loading tenant:",w),!m&&((w==null?void 0:w.statusCode)===404||!(w!=null&&w.statusCode))&&await _()}},_=async()=>{if(!m)try{g(!0);const w=await In.initializeTenant();p(w.tenant),await a()}catch(w){console.error("Error initializing tenant:",w)}finally{g(!1)}},y=[{name:i("layout.dashboard"),icon:l.jsx(D9,{}),path:"/dashboard"},{name:i("layout.customers"),icon:l.jsx(Ld,{}),path:"/customers"},{name:i("layout.tenants"),icon:l.jsx(Ah,{}),path:"/tenants"},{name:i("layout.offices"),icon:l.jsx(cu,{}),path:"/offices"},{name:i("layout.shipments"),icon:l.jsx(Rie,{}),path:"/shipments"},{name:i("layout.subscriptions"),icon:l.jsx(wie,{}),path:"/subscriptions"},{name:i("layout.users"),icon:l.jsx(gl,{}),path:"/users"},{name:i("layout.settings"),icon:l.jsx(Zx,{}),path:"/settings"}],S=()=>{d(!u)};return l.jsxs("div",{className:t.container,children:[l.jsx("div",{className:t.ribbonContainer,children:l.jsx(Wxe,{onMenuToggle:S})}),l.jsxs("div",{className:t.bodyContainer,children:[!u&&l.jsx("div",{className:t.overlay,onClick:()=>d(!0)}),l.jsxs("div",{className:Ce(t.sidebar,u&&t.sidebarCollapsed),children:[l.jsxs("div",{className:Ce(t.header,u&&t.headerCollapsed),children:[!u&&l.jsx(ahe,{className:t.headerTitle,children:i("layout.mainMenu")}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(Iie,{}),onClick:S})]}),l.jsx("nav",{className:Ce(t.navList,u&&t.navListCollapsed),children:l.jsx("div",{className:t.navGroup,children:y.map(w=>l.jsx(pe,{appearance:(r.pathname===w.path,"subtle"),icon:w.icon,onClick:()=>{n(w.path),d(!0)},className:Ce(t.navItem,u&&t.navItemCollapsed,r.pathname===w.path&&t.navItemSelected,r.pathname===w.path&&u&&t.navItemSelectedCollapsed),title:u?w.name:void 0,children:!u&&w.name},w.path))})})]}),l.jsx("div",{className:Ce(t.mainContent,u&&t.mainContentCollapsed),children:l.jsx("div",{className:t.content,children:e})})]}),l.jsx(Xxe,{open:s,onOpenChange:w=>!w&&c()}),l.jsx(Yxe,{})]})},Qxe={async getUsers(){return ut.request("/backoffice/users")},async createUser(e){return ut.request("/backoffice/users",{method:"POST",body:JSON.stringify(e)})},async updateUser(e,t){return ut.request(`/backoffice/users/${e}`,{method:"PUT",body:JSON.stringify(t)})},async deleteUser(e){return ut.request(`/backoffice/users/${e}`,{method:"DELETE"})},async updateUserRole(e,t){return ut.request(`/backoffice/users/${e}/role`,{method:"PUT",body:JSON.stringify({role:t})})}},En={async getAllOffices(){return await ut.request("/offices",{method:"GET"})},async getOfficeById(e){return await ut.request(`/offices/${e}`,{method:"GET"})},async getOfficesByCustomer(e){return await ut.request(`/offices/customer/${e}`,{method:"GET"})},async getOfficesByTenant(e){return await ut.request(`/offices/tenant/${e}`,{method:"GET"})},async createOffice(e){return(await ut.request("/offices",{method:"POST",body:JSON.stringify(e)})).office},async updateOffice(e,t){return await ut.request(`/offices/${e}`,{method:"PUT",body:JSON.stringify(t)})},async deleteOffice(e){await ut.request(`/offices/${e}`,{method:"DELETE"})},async activateOffice(e){return await ut.request(`/offices/${e}/activate`,{method:"POST"})},async deactivateOffice(e){return await ut.request(`/offices/${e}/deactivate`,{method:"POST"})},async suspendOffice(e){return await ut.request(`/offices/${e}/suspend`,{method:"POST"})},async getOfficeUsers(e){return ut.request(`/offices/${e}/users`)}};function e1e(e){return typeof e=="string"?e==="Admin"||e==="User"?e:e.toLowerCase()==="admin"?"Admin":"User":e===1?"Admin":"User"}function Ll(e){return{...e,role:e1e(e.role),isActive:e.isActive??e.IsActive??!0,isSuspended:e.isSuspended??e.IsSuspended??!1}}const vn={async getAllUsers(){try{return(await ut.request("/users")).map(Ll)}catch(e){if((e==null?void 0:e.statusCode)===403||(e==null?void 0:e.statusCode)===401)return(await ut.request("/backoffice/users")).map(Ll);throw e}},async getUserById(e){const t=await ut.request(`/users/${e}`);return Ll(t)},async createUser(e){var r,i,o,a,s,c,u;const t={email:e.email,role:e.role==="Admin"?1:e.role==="User"?0:void 0};(r=e.name)!=null&&r.trim()&&(t.name=e.name.trim()),(i=e.tenantId)!=null&&i.trim()&&(t.tenantId=e.tenantId.trim()),(o=e.customerId)!=null&&o.trim()&&(t.customerId=e.customerId.trim()),(a=e.officeId)!=null&&a.trim()&&(t.officeId=e.officeId.trim()),(s=e.contactEmail)!=null&&s.trim()&&(t.contactEmail=e.contactEmail.trim()),(c=e.phone)!=null&&c.trim()&&(t.phone=e.phone.trim()),(u=e.auth0Id)!=null&&u.trim()&&(t.auth0Id=e.auth0Id.trim());const n=await ut.request("/backoffice/users",{method:"POST",body:JSON.stringify(t)});return Ll(n)},async updateUser(e,t){const r=t.tenantId!==void 0||t.customerId!==void 0?`/users/${e}`:`/backoffice/users/${e}`,i={...t,role:t.role==="Admin"?1:t.role==="User"?0:void 0},o=await ut.request(r,{method:"PUT",body:JSON.stringify(i)});return Ll(o)},async deleteUser(e){try{return await ut.request(`/backoffice/users/${e}`,{method:"DELETE"})}catch(t){if((t==null?void 0:t.statusCode)===403||(t==null?void 0:t.status)===403)return await ut.request(`/users/${e}`,{method:"DELETE"});throw t}},async suspendUser(e){const t=await ut.request(`/backoffice/users/${e}/suspend`,{method:"POST"});return Ll(t)},async activateUser(e){const t=await ut.request(`/backoffice/users/${e}/activate`,{method:"POST"});return Ll(t)},async getUsersByTenantId(e){return(await ut.request(`/tenants/${e}/users`)).map(Ll)},async getUsersByCustomerId(e){return(await ut.request(`/customers/${e}/users`)).map(Ll)},async getUserOffices(e){return ut.request(`/users/${e}/offices`)},async getUserTenants(e){return ut.request(`/users/${e}/tenants`)},async assignTenantToUser(e,t){return ut.request(`/users/${e}/tenants/${t}`,{method:"POST"})},async removeTenantFromUser(e,t){return ut.request(`/users/${e}/tenants/${t}`,{method:"DELETE"})},async assignOfficeToUser(e,t){return ut.request(`/users/${e}/offices/${t}`,{method:"POST"})},async removeOfficeFromUser(e,t){return ut.request(`/users/${e}/offices/${t}`,{method:"DELETE"})}},t1e=Tr({container:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},row:{display:"flex",justifyContent:"space-between",...it.padding(k.spacingVerticalS),borderBottom:`1px solid ${k.colorNeutralStroke2}`},label:{width:"40%"},value:{width:"55%"}}),ki=({rows:e=8})=>{const t=t1e();return l.jsx("div",{className:t.container,children:Array.from({length:e}).map((n,r)=>l.jsxs("div",{className:t.row,children:[l.jsx(ci,{className:t.label,children:l.jsx(ui,{size:16})}),l.jsx(ci,{className:t.value,children:l.jsx(ui,{size:16})})]},r))})};function rV(e,t){const n=x.useRef(t);x.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const n1e=1;function r1e(e){return Object.freeze({__version:n1e,map:e})}function i1e(e,t){return Object.freeze({...e,...t})}const iV=x.createContext(null),oV=iV.Provider;function vP(){const e=x.useContext(iV);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function o1e(e){function t(n,r){const{instance:i,context:o}=e(n).current;return x.useImperativeHandle(r,()=>i),n.children==null?null:Hd.createElement(oV,{value:o},n.children)}return x.forwardRef(t)}function a1e(e){function t(n,r){const[i,o]=x.useState(!1),{instance:a}=e(n,o).current;x.useImperativeHandle(r,()=>a),x.useEffect(function(){i&&a.update()},[a,i,n.children]);const s=a._contentNode;return s?qh.createPortal(n.children,s):null}return x.forwardRef(t)}function s1e(e){function t(n,r){const{instance:i}=e(n).current;return x.useImperativeHandle(r,()=>i),null}return x.forwardRef(t)}function aV(e,t){const n=x.useRef();x.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function yP(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function l1e(e,t){return function(r,i){const o=vP(),a=e(yP(r,o),o);return rV(o.map,r.attribution),aV(a.current,r.eventHandlers),t(a.current,o,r,i),a}}var OM={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Am,function(n){var r="1.9.4";function i(h){var b,T,B,U;for(T=1,B=arguments.length;T<B;T++){U=arguments[T];for(b in U)h[b]=U[b]}return h}var o=Object.create||function(){function h(){}return function(b){return h.prototype=b,new h}}();function a(h,b){var T=Array.prototype.slice;if(h.bind)return h.bind.apply(h,T.call(arguments,1));var B=T.call(arguments,2);return function(){return h.apply(b,B.length?B.concat(T.call(arguments)):arguments)}}var s=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function u(h,b,T){var B,U,K,de;return de=function(){B=!1,U&&(K.apply(T,U),U=!1)},K=function(){B?U=arguments:(h.apply(T,arguments),setTimeout(de,b),B=!0)},K}function d(h,b,T){var B=b[1],U=b[0],K=B-U;return h===B&&T?h:((h-U)%K+K)%K+U}function f(){return!1}function p(h,b){if(b===!1)return h;var T=Math.pow(10,b===void 0?6:b);return Math.round(h*T)/T}function m(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function g(h){return m(h).split(/\s+/)}function v(h,b){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?o(h.options):{});for(var T in b)h.options[T]=b[T];return h.options}function _(h,b,T){var B=[];for(var U in h)B.push(encodeURIComponent(T?U.toUpperCase():U)+"="+encodeURIComponent(h[U]));return(!b||b.indexOf("?")===-1?"?":"&")+B.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function S(h,b){return h.replace(y,function(T,B){var U=b[B];if(U===void 0)throw new Error("No value provided for variable "+T);return typeof U=="function"&&(U=U(b)),U})}var w=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function C(h,b){for(var T=0;T<h.length;T++)if(h[T]===b)return T;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var E=0;function I(h){var b=+new Date,T=Math.max(0,16-(b-E));return E=b+T,window.setTimeout(h,T)}var N=window.requestAnimationFrame||A("RequestAnimationFrame")||I,P=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function D(h,b,T){if(T&&N===I)h.call(b);else return N.call(window,a(h,b))}function q(h){h&&P.call(window,h)}var $={__proto__:null,extend:i,create:o,bind:a,get lastId(){return s},stamp:c,throttle:u,wrapNum:d,falseFn:f,formatNum:p,trim:m,splitWords:g,setOptions:v,getParamString:_,template:S,isArray:w,indexOf:C,emptyImageUrl:M,requestFn:N,cancelFn:P,requestAnimFrame:D,cancelAnimFrame:q};function j(){}j.extend=function(h){var b=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},T=b.__super__=this.prototype,B=o(T);B.constructor=b,b.prototype=B;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(b[U]=this[U]);return h.statics&&i(b,h.statics),h.includes&&(O(h.includes),i.apply(null,[B].concat(h.includes))),i(B,h),delete B.statics,delete B.includes,B.options&&(B.options=T.options?o(T.options):{},i(B.options,h.options)),B._initHooks=[],B.callInitHooks=function(){if(!this._initHooksCalled){T.callInitHooks&&T.callInitHooks.call(this),this._initHooksCalled=!0;for(var K=0,de=B._initHooks.length;K<de;K++)B._initHooks[K].call(this)}},b},j.include=function(h){var b=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=b,this.mergeOptions(h.options)),this},j.mergeOptions=function(h){return i(this.prototype.options,h),this},j.addInitHook=function(h){var b=Array.prototype.slice.call(arguments,1),T=typeof h=="function"?h:function(){this[h].apply(this,b)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(T),this};function O(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=w(h)?h:[h];for(var b=0;b<h.length;b++)h[b]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(h,b,T){if(typeof h=="object")for(var B in h)this._on(B,h[B],b);else{h=g(h);for(var U=0,K=h.length;U<K;U++)this._on(h[U],b,T)}return this},off:function(h,b,T){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var B in h)this._off(B,h[B],b);else{h=g(h);for(var U=arguments.length===1,K=0,de=h.length;K<de;K++)U?this._off(h[K]):this._off(h[K],b,T)}return this},_on:function(h,b,T,B){if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}if(this._listens(h,b,T)===!1){T===this&&(T=void 0);var U={fn:b,ctx:T};B&&(U.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(U)}},_off:function(h,b,T){var B,U,K;if(this._events&&(B=this._events[h],!!B)){if(arguments.length===1){if(this._firingCount)for(U=0,K=B.length;U<K;U++)B[U].fn=f;delete this._events[h];return}if(typeof b!="function"){console.warn("wrong listener type: "+typeof b);return}var de=this._listens(h,b,T);if(de!==!1){var Te=B[de];this._firingCount&&(Te.fn=f,this._events[h]=B=B.slice()),B.splice(de,1)}}},fire:function(h,b,T){if(!this.listens(h,T))return this;var B=i({},b,{type:h,target:this,sourceTarget:b&&b.sourceTarget||this});if(this._events){var U=this._events[h];if(U){this._firingCount=this._firingCount+1||1;for(var K=0,de=U.length;K<de;K++){var Te=U[K],Be=Te.fn;Te.once&&this.off(h,Be,Te.ctx),Be.call(Te.ctx||this,B)}this._firingCount--}}return T&&this._propagateEvent(B),this},listens:function(h,b,T,B){typeof h!="string"&&console.warn('"string" type argument expected');var U=b;typeof b!="function"&&(B=!!b,U=void 0,T=void 0);var K=this._events&&this._events[h];if(K&&K.length&&this._listens(h,U,T)!==!1)return!0;if(B){for(var de in this._eventParents)if(this._eventParents[de].listens(h,b,T,B))return!0}return!1},_listens:function(h,b,T){if(!this._events)return!1;var B=this._events[h]||[];if(!b)return!!B.length;T===this&&(T=void 0);for(var U=0,K=B.length;U<K;U++)if(B[U].fn===b&&B[U].ctx===T)return U;return!1},once:function(h,b,T){if(typeof h=="object")for(var B in h)this._on(B,h[B],b,!0);else{h=g(h);for(var U=0,K=h.length;U<K;U++)this._on(h[U],b,T,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var b in this._eventParents)this._eventParents[b].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var W=j.extend(z);function F(h,b,T){this.x=T?Math.round(h):h,this.y=T?Math.round(b):b}var V=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(h){return this.clone()._add(H(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(H(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new F(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new F(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(h){h=H(h);var b=h.x-this.x,T=h.y-this.y;return Math.sqrt(b*b+T*T)},equals:function(h){return h=H(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=H(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function H(h,b,T){return h instanceof F?h:w(h)?new F(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new F(h.x,h.y):new F(h,b,T)}function te(h,b){if(h)for(var T=b?[h,b]:h,B=0,U=T.length;B<U;B++)this.extend(T[B])}te.prototype={extend:function(h){var b,T;if(!h)return this;if(h instanceof F||typeof h[0]=="number"||"x"in h)b=T=H(h);else if(h=Z(h),b=h.min,T=h.max,!b||!T)return this;return!this.min&&!this.max?(this.min=b.clone(),this.max=T.clone()):(this.min.x=Math.min(b.x,this.min.x),this.max.x=Math.max(T.x,this.max.x),this.min.y=Math.min(b.y,this.min.y),this.max.y=Math.max(T.y,this.max.y)),this},getCenter:function(h){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var b,T;return typeof h[0]=="number"||h instanceof F?h=H(h):h=Z(h),h instanceof te?(b=h.min,T=h.max):b=T=h,b.x>=this.min.x&&T.x<=this.max.x&&b.y>=this.min.y&&T.y<=this.max.y},intersects:function(h){h=Z(h);var b=this.min,T=this.max,B=h.min,U=h.max,K=U.x>=b.x&&B.x<=T.x,de=U.y>=b.y&&B.y<=T.y;return K&&de},overlaps:function(h){h=Z(h);var b=this.min,T=this.max,B=h.min,U=h.max,K=U.x>b.x&&B.x<T.x,de=U.y>b.y&&B.y<T.y;return K&&de},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var b=this.min,T=this.max,B=Math.abs(b.x-T.x)*h,U=Math.abs(b.y-T.y)*h;return Z(H(b.x-B,b.y-U),H(T.x+B,T.y+U))},equals:function(h){return h?(h=Z(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function Z(h,b){return!h||h instanceof te?h:new te(h,b)}function Q(h,b){if(h)for(var T=b?[h,b]:h,B=0,U=T.length;B<U;B++)this.extend(T[B])}Q.prototype={extend:function(h){var b=this._southWest,T=this._northEast,B,U;if(h instanceof ue)B=h,U=h;else if(h instanceof Q){if(B=h._southWest,U=h._northEast,!B||!U)return this}else return h?this.extend(oe(h)||re(h)):this;return!b&&!T?(this._southWest=new ue(B.lat,B.lng),this._northEast=new ue(U.lat,U.lng)):(b.lat=Math.min(B.lat,b.lat),b.lng=Math.min(B.lng,b.lng),T.lat=Math.max(U.lat,T.lat),T.lng=Math.max(U.lng,T.lng)),this},pad:function(h){var b=this._southWest,T=this._northEast,B=Math.abs(b.lat-T.lat)*h,U=Math.abs(b.lng-T.lng)*h;return new Q(new ue(b.lat-B,b.lng-U),new ue(T.lat+B,T.lng+U))},getCenter:function(){return new ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ue||"lat"in h?h=oe(h):h=re(h);var b=this._southWest,T=this._northEast,B,U;return h instanceof Q?(B=h.getSouthWest(),U=h.getNorthEast()):B=U=h,B.lat>=b.lat&&U.lat<=T.lat&&B.lng>=b.lng&&U.lng<=T.lng},intersects:function(h){h=re(h);var b=this._southWest,T=this._northEast,B=h.getSouthWest(),U=h.getNorthEast(),K=U.lat>=b.lat&&B.lat<=T.lat,de=U.lng>=b.lng&&B.lng<=T.lng;return K&&de},overlaps:function(h){h=re(h);var b=this._southWest,T=this._northEast,B=h.getSouthWest(),U=h.getNorthEast(),K=U.lat>b.lat&&B.lat<T.lat,de=U.lng>b.lng&&B.lng<T.lng;return K&&de},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,b){return h?(h=re(h),this._southWest.equals(h.getSouthWest(),b)&&this._northEast.equals(h.getNorthEast(),b)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(h,b){return h instanceof Q?h:new Q(h,b)}function ue(h,b,T){if(isNaN(h)||isNaN(b))throw new Error("Invalid LatLng object: ("+h+", "+b+")");this.lat=+h,this.lng=+b,T!==void 0&&(this.alt=+T)}ue.prototype={equals:function(h,b){if(!h)return!1;h=oe(h);var T=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return T<=(b===void 0?1e-9:b)},toString:function(h){return"LatLng("+p(this.lat,h)+", "+p(this.lng,h)+")"},distanceTo:function(h){return ke.distance(this,oe(h))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(h){var b=180*h/40075017,T=b/Math.cos(Math.PI/180*this.lat);return re([this.lat-b,this.lng-T],[this.lat+b,this.lng+T])},clone:function(){return new ue(this.lat,this.lng,this.alt)}};function oe(h,b,T){return h instanceof ue?h:w(h)&&typeof h[0]!="object"?h.length===3?new ue(h[0],h[1],h[2]):h.length===2?new ue(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ue(h.lat,"lng"in h?h.lng:h.lon,h.alt):b===void 0?null:new ue(h,b,T)}var be={latLngToPoint:function(h,b){var T=this.projection.project(h),B=this.scale(b);return this.transformation._transform(T,B)},pointToLatLng:function(h,b){var T=this.scale(b),B=this.transformation.untransform(h,T);return this.projection.unproject(B)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var b=this.projection.bounds,T=this.scale(h),B=this.transformation.transform(b.min,T),U=this.transformation.transform(b.max,T);return new te(B,U)},infinite:!1,wrapLatLng:function(h){var b=this.wrapLng?d(h.lng,this.wrapLng,!0):h.lng,T=this.wrapLat?d(h.lat,this.wrapLat,!0):h.lat,B=h.alt;return new ue(T,b,B)},wrapLatLngBounds:function(h){var b=h.getCenter(),T=this.wrapLatLng(b),B=b.lat-T.lat,U=b.lng-T.lng;if(B===0&&U===0)return h;var K=h.getSouthWest(),de=h.getNorthEast(),Te=new ue(K.lat-B,K.lng-U),Be=new ue(de.lat-B,de.lng-U);return new Q(Te,Be)}},ke=i({},be,{wrapLng:[-180,180],R:6371e3,distance:function(h,b){var T=Math.PI/180,B=h.lat*T,U=b.lat*T,K=Math.sin((b.lat-h.lat)*T/2),de=Math.sin((b.lng-h.lng)*T/2),Te=K*K+Math.cos(B)*Math.cos(U)*de*de,Be=2*Math.atan2(Math.sqrt(Te),Math.sqrt(1-Te));return this.R*Be}}),He=6378137,Je={R:He,MAX_LATITUDE:85.0511287798,project:function(h){var b=Math.PI/180,T=this.MAX_LATITUDE,B=Math.max(Math.min(T,h.lat),-T),U=Math.sin(B*b);return new F(this.R*h.lng*b,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(h){var b=180/Math.PI;return new ue((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*b,h.x*b/this.R)},bounds:function(){var h=He*Math.PI;return new te([-h,-h],[h,h])}()};function rt(h,b,T,B){if(w(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=b,this._c=T,this._d=B}rt.prototype={transform:function(h,b){return this._transform(h.clone(),b)},_transform:function(h,b){return b=b||1,h.x=b*(this._a*h.x+this._b),h.y=b*(this._c*h.y+this._d),h},untransform:function(h,b){return b=b||1,new F((h.x/b-this._b)/this._a,(h.y/b-this._d)/this._c)}};function le(h,b,T,B){return new rt(h,b,T,B)}var at=i({},ke,{code:"EPSG:3857",projection:Je,transformation:function(){var h=.5/(Math.PI*Je.R);return le(h,.5,-h,.5)}()}),Ge=i({},at,{code:"EPSG:900913"});function We(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function $e(h,b){var T="",B,U,K,de,Te,Be;for(B=0,K=h.length;B<K;B++){for(Te=h[B],U=0,de=Te.length;U<de;U++)Be=Te[U],T+=(U?"L":"M")+Be.x+" "+Be.y;T+=b?xt.svg?"z":"x":""}return T||"M0 0"}var et=document.documentElement.style,Xe="ActiveXObject"in window,X=Xe&&!document.addEventListener,Y="msLaunchUri"in navigator&&!("documentMode"in document),me=kr("webkit"),Ne=kr("android"),Re=kr("android 2")||kr("android 3"),Ee=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ye=Ne&&kr("Google")&&Ee<537&&!("AudioNode"in window),Ze=!!window.opera,st=!Y&&kr("chrome"),wt=kr("gecko")&&!me&&!Ze&&!Xe,_t=!st&&kr("safari"),je=kr("phantom"),jt="OTransition"in et,ve=navigator.platform.indexOf("Win")===0,tt=Xe&&"transition"in et,ze="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Re,nt="MozPerspective"in et,Ve=!window.L_DISABLE_3D&&(tt||ze||nt)&&!jt&&!je,Et=typeof orientation<"u"||kr("mobile"),Zt=Et&&me,Dt=Et&&ze,dt=!window.PointerEvent&&window.MSPointerEvent,G=!!(window.PointerEvent||dt),Pe="ontouchstart"in window||!!window.TouchEvent,qe=!window.L_NO_TOUCH&&(Pe||G),Bt=Et&&Ze,Tt=Et&&wt,bt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vt=function(){var h=!1;try{var b=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",f,b),window.removeEventListener("testPassiveEventSupport",f,b)}catch{}return h}(),qn=function(){return!!document.createElement("canvas").getContext}(),Ln=!!(document.createElementNS&&We("svg").createSVGRect),pn=!!Ln&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Hn=!Ln&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var b=h.firstChild;return b.style.behavior="url(#default#VML)",b&&typeof b.adj=="object"}catch{return!1}}(),fr=navigator.platform.indexOf("Mac")===0,di=navigator.platform.indexOf("Linux")===0;function kr(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var xt={ie:Xe,ielt9:X,edge:Y,webkit:me,android:Ne,android23:Re,androidStock:Ye,opera:Ze,chrome:st,gecko:wt,safari:_t,phantom:je,opera12:jt,win:ve,ie3d:tt,webkit3d:ze,gecko3d:nt,any3d:Ve,mobile:Et,mobileWebkit:Zt,mobileWebkit3d:Dt,msPointer:dt,pointer:G,touch:qe,touchNative:Pe,mobileOpera:Bt,mobileGecko:Tt,retina:bt,passiveEvents:Vt,canvas:qn,svg:Ln,vml:Hn,inlineSvg:pn,mac:fr,linux:di},Ur=xt.msPointer?"MSPointerDown":"pointerdown",An=xt.msPointer?"MSPointerMove":"pointermove",Vn=xt.msPointer?"MSPointerUp":"pointerup",Yr=xt.msPointer?"MSPointerCancel":"pointercancel",Er={touchstart:Ur,touchmove:An,touchend:Vn,touchcancel:Yr},Pn={touchstart:ht,touchmove:De,touchend:De,touchcancel:De},qr={},ne=!1;function _e(h,b,T){return b==="touchstart"&&Le(),Pn[b]?(T=Pn[b].bind(this,T),h.addEventListener(Er[b],T,!1),T):(console.warn("wrong event specified:",b),f)}function Ae(h,b,T){if(!Er[b]){console.warn("wrong event specified:",b);return}h.removeEventListener(Er[b],T,!1)}function se(h){qr[h.pointerId]=h}function ge(h){qr[h.pointerId]&&(qr[h.pointerId]=h)}function ae(h){delete qr[h.pointerId]}function Le(){ne||(document.addEventListener(Ur,se,!0),document.addEventListener(An,ge,!0),document.addEventListener(Vn,ae,!0),document.addEventListener(Yr,ae,!0),ne=!0)}function De(h,b){if(b.pointerType!==(b.MSPOINTER_TYPE_MOUSE||"mouse")){b.touches=[];for(var T in qr)b.touches.push(qr[T]);b.changedTouches=[b],h(b)}}function ht(h,b){b.MSPOINTER_TYPE_TOUCH&&b.pointerType===b.MSPOINTER_TYPE_TOUCH&&rr(b),De(h,b)}function Gt(h){var b={},T,B;for(B in h)T=h[B],b[B]=T&&T.bind?T.bind(h):T;return h=b,b.type="dblclick",b.detail=2,b.isTrusted=!1,b._simulated=!0,b}var yt=200;function St(h,b){h.addEventListener("dblclick",b);var T=0,B;function U(K){if(K.detail!==1){B=K.detail;return}if(!(K.pointerType==="mouse"||K.sourceCapabilities&&!K.sourceCapabilities.firesTouchEvents)){var de=_o(K);if(!(de.some(function(Be){return Be instanceof HTMLLabelElement&&Be.attributes.for})&&!de.some(function(Be){return Be instanceof HTMLInputElement||Be instanceof HTMLSelectElement}))){var Te=Date.now();Te-T<=yt?(B++,B===2&&b(Gt(K))):B=1,T=Te}}}return h.addEventListener("click",U),{dblclick:b,simDblclick:U}}function rn(h,b){h.removeEventListener("dblclick",b.dblclick),h.removeEventListener("click",b.simDblclick)}var $t=$i(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nn=$i(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tr=nn==="webkitTransition"||nn==="OTransition"?nn+"End":"transitionend";function en(h){return typeof h=="string"?document.getElementById(h):h}function Ot(h,b){var T=h.style[b]||h.currentStyle&&h.currentStyle[b];if((!T||T==="auto")&&document.defaultView){var B=document.defaultView.getComputedStyle(h,null);T=B?B[b]:null}return T==="auto"?null:T}function sn(h,b,T){var B=document.createElement(h);return B.className=b||"",T&&T.appendChild(B),B}function Ut(h){var b=h.parentNode;b&&b.removeChild(h)}function fi(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Mr(h){var b=h.parentNode;b&&b.lastChild!==h&&b.appendChild(h)}function lr(h){var b=h.parentNode;b&&b.firstChild!==h&&b.insertBefore(h,b.firstChild)}function ji(h,b){if(h.classList!==void 0)return h.classList.contains(b);var T=hr(h);return T.length>0&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(T)}function At(h,b){if(h.classList!==void 0)for(var T=g(b),B=0,U=T.length;B<U;B++)h.classList.add(T[B]);else if(!ji(h,b)){var K=hr(h);Ii(h,(K?K+" ":"")+b)}}function fn(h,b){h.classList!==void 0?h.classList.remove(b):Ii(h,m((" "+hr(h)+" ").replace(" "+b+" "," ")))}function Ii(h,b){h.className.baseVal===void 0?h.className=b:h.className.baseVal=b}function hr(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function xr(h,b){"opacity"in h.style?h.style.opacity=b:"filter"in h.style&&Oo(h,b)}function Oo(h,b){var T=!1,B="DXImageTransform.Microsoft.Alpha";try{T=h.filters.item(B)}catch{if(b===1)return}b=Math.round(b*100),T?(T.Enabled=b!==100,T.Opacity=b):h.style.filter+=" progid:"+B+"(opacity="+b+")"}function $i(h){for(var b=document.documentElement.style,T=0;T<h.length;T++)if(h[T]in b)return h[T];return!1}function zi(h,b,T){var B=b||new F(0,0);h.style[$t]=(xt.ie3d?"translate("+B.x+"px,"+B.y+"px)":"translate3d("+B.x+"px,"+B.y+"px,0)")+(T?" scale("+T+")":"")}function Dn(h,b){h._leaflet_pos=b,xt.any3d?zi(h,b):(h.style.left=b.x+"px",h.style.top=b.y+"px")}function io(h){return h._leaflet_pos||new F(0,0)}var Li,bo,gr;if("onselectstart"in document)Li=function(){ce(window,"selectstart",rr)},bo=function(){Ue(window,"selectstart",rr)};else{var Fo=$i(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Li=function(){if(Fo){var h=document.documentElement.style;gr=h[Fo],h[Fo]="none"}},bo=function(){Fo&&(document.documentElement.style[Fo]=gr,gr=void 0)}}function xo(){ce(window,"dragstart",rr)}function oa(){Ue(window,"dragstart",rr)}var _i,Uo;function oo(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(fe(),_i=h,Uo=h.style.outlineStyle,h.style.outlineStyle="none",ce(window,"keydown",fe))}function fe(){_i&&(_i.style.outlineStyle=Uo,_i=void 0,Uo=void 0,Ue(window,"keydown",fe))}function Qe(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Nt(h){var b=h.getBoundingClientRect();return{x:b.width/h.offsetWidth||1,y:b.height/h.offsetHeight||1,boundingClientRect:b}}var J={__proto__:null,TRANSFORM:$t,TRANSITION:nn,TRANSITION_END:tr,get:en,getStyle:Ot,create:sn,remove:Ut,empty:fi,toFront:Mr,toBack:lr,hasClass:ji,addClass:At,removeClass:fn,setClass:Ii,getClass:hr,setOpacity:xr,testProp:$i,setTransform:zi,setPosition:Dn,getPosition:io,get disableTextSelection(){return Li},get enableTextSelection(){return bo},disableImageDrag:xo,enableImageDrag:oa,preventOutline:oo,restoreOutline:fe,getSizedParentNode:Qe,getScale:Nt};function ce(h,b,T,B){if(b&&typeof b=="object")for(var U in b)ii(h,U,b[U],T);else{b=g(b);for(var K=0,de=b.length;K<de;K++)ii(h,b[K],T,B)}return this}var mt="_leaflet_events";function Ue(h,b,T,B){if(arguments.length===1)It(h),delete h[mt];else if(b&&typeof b=="object")for(var U in b)qt(h,U,b[U],T);else if(b=g(b),arguments.length===2)It(h,function(Te){return C(b,Te)!==-1});else for(var K=0,de=b.length;K<de;K++)qt(h,b[K],T,B);return this}function It(h,b){for(var T in h[mt]){var B=T.split(/\d/)[0];(!b||b(B))&&qt(h,B,null,null,T)}}var Kn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ii(h,b,T,B){var U=b+c(T)+(B?"_"+c(B):"");if(h[mt]&&h[mt][U])return this;var K=function(Te){return T.call(B||h,Te||window.event)},de=K;!xt.touchNative&&xt.pointer&&b.indexOf("touch")===0?K=_e(h,b,K):xt.touch&&b==="dblclick"?K=St(h,K):"addEventListener"in h?b==="touchstart"||b==="touchmove"||b==="wheel"||b==="mousewheel"?h.addEventListener(Kn[b]||b,K,xt.passiveEvents?{passive:!1}:!1):b==="mouseenter"||b==="mouseleave"?(K=function(Te){Te=Te||window.event,Nl(h,Te)&&de(Te)},h.addEventListener(Kn[b],K,!1)):h.addEventListener(b,de,!1):h.attachEvent("on"+b,K),h[mt]=h[mt]||{},h[mt][U]=K}function qt(h,b,T,B,U){U=U||b+c(T)+(B?"_"+c(B):"");var K=h[mt]&&h[mt][U];if(!K)return this;!xt.touchNative&&xt.pointer&&b.indexOf("touch")===0?Ae(h,b,K):xt.touch&&b==="dblclick"?rn(h,K):"removeEventListener"in h?h.removeEventListener(Kn[b]||b,K,!1):h.detachEvent("on"+b,K),h[mt][U]=null}function Yn(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function qo(h){return ii(h,"wheel",Yn),this}function oi(h){return ce(h,"mousedown touchstart dblclick contextmenu",Yn),h._leaflet_disable_click=!0,this}function rr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function wi(h){return rr(h),Yn(h),this}function _o(h){if(h.composedPath)return h.composedPath();for(var b=[],T=h.target;T;)b.push(T),T=T.parentNode;return b}function Ws(h,b){if(!b)return new F(h.clientX,h.clientY);var T=Nt(b),B=T.boundingClientRect;return new F((h.clientX-B.left)/T.x-b.clientLeft,(h.clientY-B.top)/T.y-b.clientTop)}var vf=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Rc(h){return xt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/vf:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Nl(h,b){var T=b.relatedTarget;if(!T)return!0;try{for(;T&&T!==h;)T=T.parentNode}catch{return!1}return T!==h}var Lp={__proto__:null,on:ce,off:Ue,stopPropagation:Yn,disableScrollPropagation:qo,disableClickPropagation:oi,preventDefault:rr,stop:wi,getPropagationPath:_o,getMousePosition:Ws,getWheelDelta:Rc,isExternalTarget:Nl,addListener:ce,removeListener:Ue},Dp=W.extend({run:function(h,b,T,B){this.stop(),this._el=h,this._inProgress=!0,this._duration=T||.25,this._easeOutPower=1/Math.max(B||.5,.2),this._startPos=io(h),this._offset=b.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(h){var b=+new Date-this._startTime,T=this._duration*1e3;b<T?this._runFrame(this._easeOut(b/T),h):(this._runFrame(1),this._complete())},_runFrame:function(h,b){var T=this._startPos.add(this._offset.multiplyBy(h));b&&T._round(),Dn(this._el,T),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Tn=W.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,b){b=v(this,b),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),b.maxBounds&&this.setMaxBounds(b.maxBounds),b.zoom!==void 0&&(this._zoom=this._limitZoom(b.zoom)),b.center&&b.zoom!==void 0&&this.setView(oe(b.center),b.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nn&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ce(this._proxy,tr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,b,T){if(b=b===void 0?this._zoom:this._limitZoom(b),h=this._limitCenter(oe(h),b,this.options.maxBounds),T=T||{},this._stop(),this._loaded&&!T.reset&&T!==!0){T.animate!==void 0&&(T.zoom=i({animate:T.animate},T.zoom),T.pan=i({animate:T.animate,duration:T.duration},T.pan));var B=this._zoom!==b?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,b,T.zoom):this._tryAnimatedPan(h,T.pan);if(B)return clearTimeout(this._sizeTimer),this}return this._resetView(h,b,T.pan&&T.pan.noMoveStart),this},setZoom:function(h,b){return this._loaded?this.setView(this.getCenter(),h,{zoom:b}):(this._zoom=h,this)},zoomIn:function(h,b){return h=h||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,b)},zoomOut:function(h,b){return h=h||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,b)},setZoomAround:function(h,b,T){var B=this.getZoomScale(b),U=this.getSize().divideBy(2),K=h instanceof F?h:this.latLngToContainerPoint(h),de=K.subtract(U).multiplyBy(1-1/B),Te=this.containerPointToLatLng(U.add(de));return this.setView(Te,b,{zoom:T})},_getBoundsCenterZoom:function(h,b){b=b||{},h=h.getBounds?h.getBounds():re(h);var T=H(b.paddingTopLeft||b.padding||[0,0]),B=H(b.paddingBottomRight||b.padding||[0,0]),U=this.getBoundsZoom(h,!1,T.add(B));if(U=typeof b.maxZoom=="number"?Math.min(b.maxZoom,U):U,U===1/0)return{center:h.getCenter(),zoom:U};var K=B.subtract(T).divideBy(2),de=this.project(h.getSouthWest(),U),Te=this.project(h.getNorthEast(),U),Be=this.unproject(de.add(Te).divideBy(2).add(K),U);return{center:Be,zoom:U}},fitBounds:function(h,b){if(h=re(h),!h.isValid())throw new Error("Bounds are not valid.");var T=this._getBoundsCenterZoom(h,b);return this.setView(T.center,T.zoom,b)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,b){return this.setView(h,this._zoom,{pan:b})},panBy:function(h,b){if(h=H(h).round(),b=b||{},!h.x&&!h.y)return this.fire("moveend");if(b.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Dp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),b.noMoveStart||this.fire("movestart"),b.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var T=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,T,b.duration||.25,b.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,b,T){if(T=T||{},T.animate===!1||!xt.any3d)return this.setView(h,b,T);this._stop();var B=this.project(this.getCenter()),U=this.project(h),K=this.getSize(),de=this._zoom;h=oe(h),b=b===void 0?de:b;var Te=Math.max(K.x,K.y),Be=Te*this.getZoomScale(de,b),ot=U.distanceTo(B)||1,Pt=1.42,Kt=Pt*Pt;function hn(Jr){var Pf=Jr?-1:1,g_=Jr?Be:Te,v_=Be*Be-Te*Te+Pf*Kt*Kt*ot*ot,o0=2*g_*Kt*ot,Bf=v_/o0,nm=Math.sqrt(Bf*Bf+1)-Bf,a0=nm<1e-9?-18:Math.log(nm);return a0}function Hr(Jr){return(Math.exp(Jr)-Math.exp(-Jr))/2}function hi(Jr){return(Math.exp(Jr)+Math.exp(-Jr))/2}function Wo(Jr){return Hr(Jr)/hi(Jr)}var so=hn(0);function qc(Jr){return Te*(hi(so)/hi(so+Pt*Jr))}function f_(Jr){return Te*(hi(so)*Wo(so+Pt*Jr)-Hr(so))/Kt}function h_(Jr){return 1-Math.pow(1-Jr,1.5)}var p_=Date.now(),em=(hn(1)-so)/Pt,m_=T.duration?1e3*T.duration:1e3*em*.8;function tm(){var Jr=(Date.now()-p_)/m_,Pf=h_(Jr)*em;Jr<=1?(this._flyToFrame=D(tm,this),this._move(this.unproject(B.add(U.subtract(B).multiplyBy(f_(Pf)/ot)),de),this.getScaleZoom(Te/qc(Pf),de),{flyTo:!0})):this._move(h,b)._moveEnd(!0)}return this._moveStart(!0,T.noMoveStart),tm.call(this),this},flyToBounds:function(h,b){var T=this._getBoundsCenterZoom(h,b);return this.flyTo(T.center,T.zoom,b)},setMaxBounds:function(h){return h=re(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var b=this.options.minZoom;return this.options.minZoom=h,this._loaded&&b!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var b=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&b!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,b){this._enforcingBounds=!0;var T=this.getCenter(),B=this._limitCenter(T,this._zoom,re(h));return T.equals(B)||this.panTo(B,b),this._enforcingBounds=!1,this},panInside:function(h,b){b=b||{};var T=H(b.paddingTopLeft||b.padding||[0,0]),B=H(b.paddingBottomRight||b.padding||[0,0]),U=this.project(this.getCenter()),K=this.project(h),de=this.getPixelBounds(),Te=Z([de.min.add(T),de.max.subtract(B)]),Be=Te.getSize();if(!Te.contains(K)){this._enforcingBounds=!0;var ot=K.subtract(Te.getCenter()),Pt=Te.extend(K).getSize().subtract(Be);U.x+=ot.x<0?-Pt.x:Pt.x,U.y+=ot.y<0?-Pt.y:Pt.y,this.panTo(this.unproject(U),b),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var b=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var T=this.getSize(),B=b.divideBy(2).round(),U=T.divideBy(2).round(),K=B.subtract(U);return!K.x&&!K.y?this:(h.animate&&h.pan?this.panBy(K):(h.pan&&this._rawPanBy(K),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:b,newSize:T}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var b=a(this._handleGeolocationResponse,this),T=a(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(b,T,h):navigator.geolocation.getCurrentPosition(b,T,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var b=h.code,T=h.message||(b===1?"permission denied":b===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:b,message:"Geolocation error: "+T+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var b=h.coords.latitude,T=h.coords.longitude,B=new ue(b,T),U=B.toBounds(h.coords.accuracy*2),K=this._locateOptions;if(K.setView){var de=this.getBoundsZoom(U);this.setView(B,K.maxZoom?Math.min(de,K.maxZoom):de)}var Te={latlng:B,bounds:U,timestamp:h.timestamp};for(var Be in h.coords)typeof h.coords[Be]=="number"&&(Te[Be]=h.coords[Be]);this.fire("locationfound",Te)}},addHandler:function(h,b){if(!b)return this;var T=this[h]=new b(this);return this._handlers.push(T),this.options[h]&&T.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Ut(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,b){var T="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),B=sn("div",T,b||this._mapPane);return h&&(this._panes[h]=B),B},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),b=this.unproject(h.getBottomLeft()),T=this.unproject(h.getTopRight());return new Q(b,T)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,b,T){h=re(h),T=H(T||[0,0]);var B=this.getZoom()||0,U=this.getMinZoom(),K=this.getMaxZoom(),de=h.getNorthWest(),Te=h.getSouthEast(),Be=this.getSize().subtract(T),ot=Z(this.project(Te,B),this.project(de,B)).getSize(),Pt=xt.any3d?this.options.zoomSnap:1,Kt=Be.x/ot.x,hn=Be.y/ot.y,Hr=b?Math.max(Kt,hn):Math.min(Kt,hn);return B=this.getScaleZoom(Hr,B),Pt&&(B=Math.round(B/(Pt/100))*(Pt/100),B=b?Math.ceil(B/Pt)*Pt:Math.floor(B/Pt)*Pt),Math.max(U,Math.min(K,B))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,b){var T=this._getTopLeftPoint(h,b);return new te(T,T.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,b){var T=this.options.crs;return b=b===void 0?this._zoom:b,T.scale(h)/T.scale(b)},getScaleZoom:function(h,b){var T=this.options.crs;b=b===void 0?this._zoom:b;var B=T.zoom(h*T.scale(b));return isNaN(B)?1/0:B},project:function(h,b){return b=b===void 0?this._zoom:b,this.options.crs.latLngToPoint(oe(h),b)},unproject:function(h,b){return b=b===void 0?this._zoom:b,this.options.crs.pointToLatLng(H(h),b)},layerPointToLatLng:function(h){var b=H(h).add(this.getPixelOrigin());return this.unproject(b)},latLngToLayerPoint:function(h){var b=this.project(oe(h))._round();return b._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(oe(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(re(h))},distance:function(h,b){return this.options.crs.distance(oe(h),oe(b))},containerPointToLayerPoint:function(h){return H(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return H(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var b=this.containerPointToLayerPoint(H(h));return this.layerPointToLatLng(b)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(h)))},mouseEventToContainerPoint:function(h){return Ws(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var b=this._container=en(h);if(b){if(b._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ce(b,"scroll",this._onScroll,this),this._containerId=c(b)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,At(h,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var b=Ot(h,"position");b!=="absolute"&&b!=="relative"&&b!=="fixed"&&b!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dn(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(h.markerPane,"leaflet-zoom-hide"),At(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,b,T){Dn(this._mapPane,new F(0,0));var B=!this._loaded;this._loaded=!0,b=this._limitZoom(b),this.fire("viewprereset");var U=this._zoom!==b;this._moveStart(U,T)._move(h,b)._moveEnd(U),this.fire("viewreset"),B&&this.fire("load")},_moveStart:function(h,b){return h&&this.fire("zoomstart"),b||this.fire("movestart"),this},_move:function(h,b,T,B){b===void 0&&(b=this._zoom);var U=this._zoom!==b;return this._zoom=b,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),B?T&&T.pinch&&this.fire("zoom",T):((U||T&&T.pinch)&&this.fire("zoom",T),this.fire("move",T)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Dn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var b=h?Ue:ce;b(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&b(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,b){for(var T=[],B,U=b==="mouseout"||b==="mouseover",K=h.target||h.srcElement,de=!1;K;){if(B=this._targets[c(K)],B&&(b==="click"||b==="preclick")&&this._draggableMoved(B)){de=!0;break}if(B&&B.listens(b,!0)&&(U&&!Nl(K,h)||(T.push(B),U))||K===this._container)break;K=K.parentNode}return!T.length&&!de&&!U&&this.listens(b,!0)&&(T=[this]),T},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var b=h.target||h.srcElement;if(!(!this._loaded||b._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(b))){var T=h.type;T==="mousedown"&&oo(b),this._fireDOMEvent(h,T)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,b,T){if(h.type==="click"){var B=i({},h);B.type="preclick",this._fireDOMEvent(B,B.type,T)}var U=this._findEventTargets(h,b);if(T){for(var K=[],de=0;de<T.length;de++)T[de].listens(b,!0)&&K.push(T[de]);U=K.concat(U)}if(U.length){b==="contextmenu"&&rr(h);var Te=U[0],Be={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ot=Te.getLatLng&&(!Te._radius||Te._radius<=10);Be.containerPoint=ot?this.latLngToContainerPoint(Te.getLatLng()):this.mouseEventToContainerPoint(h),Be.layerPoint=this.containerPointToLayerPoint(Be.containerPoint),Be.latlng=ot?Te.getLatLng():this.layerPointToLatLng(Be.layerPoint)}for(de=0;de<U.length;de++)if(U[de].fire(b,Be,!0),Be.originalEvent._stopped||U[de].options.bubblingMouseEvents===!1&&C(this._mouseEvents,b)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,b=this._handlers.length;h<b;h++)this._handlers[h].disable()},whenReady:function(h,b){return this._loaded?h.call(b||this,{target:this}):this.on("load",h,b),this},_getMapPanePos:function(){return io(this._mapPane)||new F(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,b){var T=h&&b!==void 0?this._getNewPixelOrigin(h,b):this.getPixelOrigin();return T.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,b){var T=this.getSize()._divideBy(2);return this.project(h,b)._subtract(T)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,b,T){var B=this._getNewPixelOrigin(T,b);return this.project(h,b)._subtract(B)},_latLngBoundsToNewLayerBounds:function(h,b,T){var B=this._getNewPixelOrigin(T,b);return Z([this.project(h.getSouthWest(),b)._subtract(B),this.project(h.getNorthWest(),b)._subtract(B),this.project(h.getSouthEast(),b)._subtract(B),this.project(h.getNorthEast(),b)._subtract(B)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,b,T){if(!T)return h;var B=this.project(h,b),U=this.getSize().divideBy(2),K=new te(B.subtract(U),B.add(U)),de=this._getBoundsOffset(K,T,b);return Math.abs(de.x)<=1&&Math.abs(de.y)<=1?h:this.unproject(B.add(de),b)},_limitOffset:function(h,b){if(!b)return h;var T=this.getPixelBounds(),B=new te(T.min.add(h),T.max.add(h));return h.add(this._getBoundsOffset(B,b))},_getBoundsOffset:function(h,b,T){var B=Z(this.project(b.getNorthEast(),T),this.project(b.getSouthWest(),T)),U=B.min.subtract(h.min),K=B.max.subtract(h.max),de=this._rebound(U.x,-K.x),Te=this._rebound(U.y,-K.y);return new F(de,Te)},_rebound:function(h,b){return h+b>0?Math.round(h-b)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(b))},_limitZoom:function(h){var b=this.getMinZoom(),T=this.getMaxZoom(),B=xt.any3d?this.options.zoomSnap:1;return B&&(h=Math.round(h/B)*B),Math.max(b,Math.min(T,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,b){var T=this._getCenterOffset(h)._trunc();return(b&&b.animate)!==!0&&!this.getSize().contains(T)?!1:(this.panBy(T,b),!0)},_createAnimProxy:function(){var h=this._proxy=sn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(b){var T=$t,B=this._proxy.style[T];zi(this._proxy,this.project(b.center,b.zoom),this.getZoomScale(b.zoom,1)),B===this._proxy.style[T]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),b=this.getZoom();zi(this._proxy,this.project(h,b),this.getZoomScale(b,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,b,T){if(this._animatingZoom)return!0;if(T=T||{},!this._zoomAnimated||T.animate===!1||this._nothingToAnimate()||Math.abs(b-this._zoom)>this.options.zoomAnimationThreshold)return!1;var B=this.getZoomScale(b),U=this._getCenterOffset(h)._divideBy(1-1/B);return T.animate!==!0&&!this.getSize().contains(U)?!1:(D(function(){this._moveStart(!0,T.noMoveStart||!1)._animateZoom(h,b,!0)},this),!0)},_animateZoom:function(h,b,T,B){this._mapPane&&(T&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=b,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:b,noUpdate:B}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hv(h,b){return new Tn(h,b)}var Ho=j.extend({options:{position:"topright"},initialize:function(h){v(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var b=this._map;return b&&b.removeControl(this),this.options.position=h,b&&b.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var b=this._container=this.onAdd(h),T=this.getPosition(),B=h._controlCorners[T];return At(b,"leaflet-control"),T.indexOf("bottom")!==-1?B.insertBefore(b,B.firstChild):B.appendChild(b),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),ss=function(h){return new Ho(h)};Tn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},b="leaflet-",T=this._controlContainer=sn("div",b+"control-container",this._container);function B(U,K){var de=b+U+" "+b+K;h[U+K]=sn("div",de,T)}B("top","left"),B("top","right"),B("bottom","left"),B("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Ut(this._controlCorners[h]);Ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Op=Ho.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,b,T,B){return T<B?-1:B<T?1:0}},initialize:function(h,b,T){v(this,T),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var B in h)this._addLayer(h[B],B);for(B in b)this._addLayer(b[B],B,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ho.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,b){return this._addLayer(h,b),this._map?this._update():this},addOverlay:function(h,b){return this._addLayer(h,b,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var b=this._getLayer(c(h));return b&&this._layers.splice(this._layers.indexOf(b),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):fn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",b=this._container=sn("div",h),T=this.options.collapsed;b.setAttribute("aria-haspopup",!0),oi(b),qo(b);var B=this._section=sn("section",h+"-list");T&&(this._map.on("click",this.collapse,this),ce(b,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=sn("a",h+"-toggle",b);U.href="#",U.title="Layers",U.setAttribute("role","button"),ce(U,{keydown:function(K){K.keyCode===13&&this._expandSafely()},click:function(K){rr(K),this._expandSafely()}},this),T||this.expand(),this._baseLayersList=sn("div",h+"-base",B),this._separator=sn("div",h+"-separator",B),this._overlaysList=sn("div",h+"-overlays",B),b.appendChild(B)},_getLayer:function(h){for(var b=0;b<this._layers.length;b++)if(this._layers[b]&&c(this._layers[b].layer)===h)return this._layers[b]},_addLayer:function(h,b,T){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:b,overlay:T}),this.options.sortLayers&&this._layers.sort(a(function(B,U){return this.options.sortFunction(B.layer,U.layer,B.name,U.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fi(this._baseLayersList),fi(this._overlaysList),this._layerControlInputs=[];var h,b,T,B,U=0;for(T=0;T<this._layers.length;T++)B=this._layers[T],this._addItem(B),b=b||B.overlay,h=h||!B.overlay,U+=B.overlay?0:1;return this.options.hideSingleBase&&(h=h&&U>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=b&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var b=this._getLayer(c(h.target)),T=b.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;T&&this._map.fire(T,b)},_createRadioElement:function(h,b){var T='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(b?' checked="checked"':"")+"/>",B=document.createElement("div");return B.innerHTML=T,B.firstChild},_addItem:function(h){var b=document.createElement("label"),T=this._map.hasLayer(h.layer),B;h.overlay?(B=document.createElement("input"),B.type="checkbox",B.className="leaflet-control-layers-selector",B.defaultChecked=T):B=this._createRadioElement("leaflet-base-layers_"+c(this),T),this._layerControlInputs.push(B),B.layerId=c(h.layer),ce(B,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+h.name;var K=document.createElement("span");b.appendChild(K),K.appendChild(B),K.appendChild(U);var de=h.overlay?this._overlaysList:this._baseLayersList;return de.appendChild(b),this._checkDisabledLayers(),b},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,b,T,B=[],U=[];this._handlingClick=!0;for(var K=h.length-1;K>=0;K--)b=h[K],T=this._getLayer(b.layerId).layer,b.checked?B.push(T):b.checked||U.push(T);for(K=0;K<U.length;K++)this._map.hasLayer(U[K])&&this._map.removeLayer(U[K]);for(K=0;K<B.length;K++)this._map.hasLayer(B[K])||this._map.addLayer(B[K]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,b,T,B=this._map.getZoom(),U=h.length-1;U>=0;U--)b=h[U],T=this._getLayer(b.layerId).layer,b.disabled=T.options.minZoom!==void 0&&B<T.options.minZoom||T.options.maxZoom!==void 0&&B>T.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,ce(h,"click",rr),this.expand();var b=this;setTimeout(function(){Ue(h,"click",rr),b._preventClick=!1})}}),Qu=function(h,b,T){return new Op(h,b,T)},yf=Ho.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var b="leaflet-control-zoom",T=sn("div",b+" leaflet-bar"),B=this.options;return this._zoomInButton=this._createButton(B.zoomInText,B.zoomInTitle,b+"-in",T,this._zoomIn),this._zoomOutButton=this._createButton(B.zoomOutText,B.zoomOutTitle,b+"-out",T,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),T},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,b,T,B,U){var K=sn("a",T,B);return K.innerHTML=h,K.href="#",K.title=b,K.setAttribute("role","button"),K.setAttribute("aria-label",b),oi(K),ce(K,"click",wi),ce(K,"click",U,this),ce(K,"click",this._refocusOnMap,this),K},_updateDisabled:function(){var h=this._map,b="leaflet-disabled";fn(this._zoomInButton,b),fn(this._zoomOutButton,b),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(At(this._zoomOutButton,b),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(At(this._zoomInButton,b),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tn.mergeOptions({zoomControl:!0}),Tn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yf,this.addControl(this.zoomControl))});var wo=function(h){return new yf(h)},Fp=Ho.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var b="leaflet-control-scale",T=sn("div",b),B=this.options;return this._addScales(B,b+"-line",T),h.on(B.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),T},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,b,T){h.metric&&(this._mScale=sn("div",b,T)),h.imperial&&(this._iScale=sn("div",b,T))},_update:function(){var h=this._map,b=h.getSize().y/2,T=h.distance(h.containerPointToLatLng([0,b]),h.containerPointToLatLng([this.options.maxWidth,b]));this._updateScales(T)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var b=this._getRoundNum(h),T=b<1e3?b+" m":b/1e3+" km";this._updateScale(this._mScale,T,b/h)},_updateImperial:function(h){var b=h*3.2808399,T,B,U;b>5280?(T=b/5280,B=this._getRoundNum(T),this._updateScale(this._iScale,B+" mi",B/T)):(U=this._getRoundNum(b),this._updateScale(this._iScale,U+" ft",U/b))},_updateScale:function(h,b,T){h.style.width=Math.round(this.options.maxWidth*T)+"px",h.innerHTML=b},_getRoundNum:function(h){var b=Math.pow(10,(Math.floor(h)+"").length-1),T=h/b;return T=T>=10?10:T>=5?5:T>=3?3:T>=2?2:1,b*T}}),Gs=function(h){return new Fp(h)},Y1='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vv=Ho.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?Y1+" ":"")+"Leaflet</a>"},initialize:function(h){v(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=sn("div","leaflet-control-attribution"),oi(this._container);for(var b in h._layers)h._layers[b].getAttribution&&this.addAttribution(h._layers[b].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var b in this._attributions)this._attributions[b]&&h.push(b);var T=[];this.options.prefix&&T.push(this.options.prefix),h.length&&T.push(h.join(", ")),this._container.innerHTML=T.join(' <span aria-hidden="true">|</span> ')}}});Tn.mergeOptions({attributionControl:!0}),Tn.addInitHook(function(){this.options.attributionControl&&new Vv().addTo(this)});var TB=function(h){return new Vv(h)};Ho.Layers=Op,Ho.Zoom=yf,Ho.Scale=Fp,Ho.Attribution=Vv,ss.layers=Qu,ss.zoom=wo,ss.scale=Gs,ss.attribution=TB;var ls=j.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ls.addTo=function(h,b){return h.addHandler(b,this),this};var kB={Events:z},J1=xt.touch?"touchstart mousedown":"mousedown",Pl=W.extend({options:{clickTolerance:3},initialize:function(h,b,T,B){v(this,B),this._element=h,this._dragStartTarget=b||h,this._preventOutline=T},enable:function(){this._enabled||(ce(this._dragStartTarget,J1,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pl._dragging===this&&this.finishDrag(!0),Ue(this._dragStartTarget,J1,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!ji(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Pl._dragging===this&&this.finishDrag();return}if(!(Pl._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Pl._dragging=this,this._preventOutline&&oo(this._element),xo(),Li(),!this._moving)){this.fire("down");var b=h.touches?h.touches[0]:h,T=Qe(this._element);this._startPoint=new F(b.clientX,b.clientY),this._startPos=io(this._element),this._parentScale=Nt(T);var B=h.type==="mousedown";ce(document,B?"mousemove":"touchmove",this._onMove,this),ce(document,B?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var b=h.touches&&h.touches.length===1?h.touches[0]:h,T=new F(b.clientX,b.clientY)._subtract(this._startPoint);!T.x&&!T.y||Math.abs(T.x)+Math.abs(T.y)<this.options.clickTolerance||(T.x/=this._parentScale.x,T.y/=this._parentScale.y,rr(h),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(T),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Dn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){fn(document.body,"leaflet-dragging"),this._lastTarget&&(fn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ue(document,"mousemove touchmove",this._onMove,this),Ue(document,"mouseup touchend touchcancel",this._onUp,this),oa(),bo();var b=this._moved&&this._moving;this._moving=!1,Pl._dragging=!1,b&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function Jn(h,b,T){var B,U=[1,4,2,8],K,de,Te,Be,ot,Pt,Kt,hn;for(K=0,Pt=h.length;K<Pt;K++)h[K]._code=ja(h[K],b);for(Te=0;Te<4;Te++){for(Kt=U[Te],B=[],K=0,Pt=h.length,de=Pt-1;K<Pt;de=K++)Be=h[K],ot=h[de],Be._code&Kt?ot._code&Kt||(hn=Bl(ot,Be,Kt,b,T),hn._code=ja(hn,b),B.push(hn)):(ot._code&Kt&&(hn=Bl(ot,Be,Kt,b,T),hn._code=ja(hn,b),B.push(hn)),B.push(Be));h=B}return h}function Si(h,b){var T,B,U,K,de,Te,Be,ot,Pt;if(!h||h.length===0)throw new Error("latlngs not passed");So(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Kt=oe([0,0]),hn=re(h),Hr=hn.getNorthWest().distanceTo(hn.getSouthWest())*hn.getNorthEast().distanceTo(hn.getNorthWest());Hr<1700&&(Kt=Ba(h));var hi=h.length,Wo=[];for(T=0;T<hi;T++){var so=oe(h[T]);Wo.push(b.project(oe([so.lat-Kt.lat,so.lng-Kt.lng])))}for(Te=Be=ot=0,T=0,B=hi-1;T<hi;B=T++)U=Wo[T],K=Wo[B],de=U.y*K.x-K.y*U.x,Be+=(U.x+K.x)*de,ot+=(U.y+K.y)*de,Te+=de*3;Te===0?Pt=Wo[0]:Pt=[Be/Te,ot/Te];var qc=b.unproject(H(Pt));return oe([qc.lat+Kt.lat,qc.lng+Kt.lng])}function Ba(h){for(var b=0,T=0,B=0,U=0;U<h.length;U++){var K=oe(h[U]);b+=K.lat,T+=K.lng,B++}return oe([b/B,T/B])}var bf={__proto__:null,clipPolygon:Jn,polygonCenter:Si,centroid:Ba};function aa(h,b){if(!b||!h.length)return h.slice();var T=b*b;return h=_f(h,T),h=Up(h,T),h}function xf(h,b,T){return Math.sqrt($s(h,b,T,!0))}function Ra(h,b,T){return $s(h,b,T)}function Up(h,b){var T=h.length,B=typeof Uint8Array<"u"?Uint8Array:Array,U=new B(T);U[0]=U[T-1]=1,jc(h,U,b,0,T-1);var K,de=[];for(K=0;K<T;K++)U[K]&&de.push(h[K]);return de}function jc(h,b,T,B,U){var K=0,de,Te,Be;for(Te=B+1;Te<=U-1;Te++)Be=$s(h[Te],h[B],h[U],!0),Be>K&&(de=Te,K=Be);K>T&&(b[de]=1,jc(h,b,T,B,de),jc(h,b,T,de,U))}function _f(h,b){for(var T=[h[0]],B=1,U=0,K=h.length;B<K;B++)ed(h[B],h[U])>b&&(T.push(h[B]),U=B);return U<K-1&&T.push(h[K-1]),T}var qp;function Hp(h,b,T,B,U){var K=B?qp:ja(h,T),de=ja(b,T),Te,Be,ot;for(qp=de;;){if(!(K|de))return[h,b];if(K&de)return!1;Te=K||de,Be=Bl(h,b,Te,T,U),ot=ja(Be,T),Te===K?(h=Be,K=ot):(b=Be,de=ot)}}function Bl(h,b,T,B,U){var K=b.x-h.x,de=b.y-h.y,Te=B.min,Be=B.max,ot,Pt;return T&8?(ot=h.x+K*(Be.y-h.y)/de,Pt=Be.y):T&4?(ot=h.x+K*(Te.y-h.y)/de,Pt=Te.y):T&2?(ot=Be.x,Pt=h.y+de*(Be.x-h.x)/K):T&1&&(ot=Te.x,Pt=h.y+de*(Te.x-h.x)/K),new F(ot,Pt,U)}function ja(h,b){var T=0;return h.x<b.min.x?T|=1:h.x>b.max.x&&(T|=2),h.y<b.min.y?T|=4:h.y>b.max.y&&(T|=8),T}function ed(h,b){var T=b.x-h.x,B=b.y-h.y;return T*T+B*B}function $s(h,b,T,B){var U=b.x,K=b.y,de=T.x-U,Te=T.y-K,Be=de*de+Te*Te,ot;return Be>0&&(ot=((h.x-U)*de+(h.y-K)*Te)/Be,ot>1?(U=T.x,K=T.y):ot>0&&(U+=de*ot,K+=Te*ot)),de=h.x-U,Te=h.y-K,B?de*de+Te*Te:new F(U,K)}function So(h){return!w(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Vp(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),So(h)}function Wp(h,b){var T,B,U,K,de,Te,Be,ot;if(!h||h.length===0)throw new Error("latlngs not passed");So(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Pt=oe([0,0]),Kt=re(h),hn=Kt.getNorthWest().distanceTo(Kt.getSouthWest())*Kt.getNorthEast().distanceTo(Kt.getNorthWest());hn<1700&&(Pt=Ba(h));var Hr=h.length,hi=[];for(T=0;T<Hr;T++){var Wo=oe(h[T]);hi.push(b.project(oe([Wo.lat-Pt.lat,Wo.lng-Pt.lng])))}for(T=0,B=0;T<Hr-1;T++)B+=hi[T].distanceTo(hi[T+1])/2;if(B===0)ot=hi[0];else for(T=0,K=0;T<Hr-1;T++)if(de=hi[T],Te=hi[T+1],U=de.distanceTo(Te),K+=U,K>B){Be=(K-B)/U,ot=[Te.x-Be*(Te.x-de.x),Te.y-Be*(Te.y-de.y)];break}var so=b.unproject(H(ot));return oe([so.lat+Pt.lat,so.lng+Pt.lng])}var Wv={__proto__:null,simplify:aa,pointToSegmentDistance:xf,closestPointOnSegment:Ra,clipSegment:Hp,_getEdgeIntersection:Bl,_getBitCode:ja,_sqClosestPointOnSegment:$s,isFlat:So,_flat:Vp,polylineCenter:Wp},ao={project:function(h){return new F(h.lng,h.lat)},unproject:function(h){return new ue(h.y,h.x)},bounds:new te([-180,-90],[180,90])},Ic={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var b=Math.PI/180,T=this.R,B=h.lat*b,U=this.R_MINOR/T,K=Math.sqrt(1-U*U),de=K*Math.sin(B),Te=Math.tan(Math.PI/4-B/2)/Math.pow((1-de)/(1+de),K/2);return B=-T*Math.log(Math.max(Te,1e-10)),new F(h.lng*b*T,B)},unproject:function(h){for(var b=180/Math.PI,T=this.R,B=this.R_MINOR/T,U=Math.sqrt(1-B*B),K=Math.exp(-h.y/T),de=Math.PI/2-2*Math.atan(K),Te=0,Be=.1,ot;Te<15&&Math.abs(Be)>1e-7;Te++)ot=U*Math.sin(de),ot=Math.pow((1-ot)/(1+ot),U/2),Be=Math.PI/2-2*Math.atan(K*ot)-de,de+=Be;return new ue(de*b,h.x*b/T)}},Xs={__proto__:null,LonLat:ao,Mercator:Ic,SphericalMercator:Je},Gv=i({},ke,{code:"EPSG:3395",projection:Ic,transformation:function(){var h=.5/(Math.PI*Ic.R);return le(h,.5,-h,.5)}()}),td=i({},ke,{code:"EPSG:4326",projection:ao,transformation:le(1/180,1,-1/180,.5)}),$v=i({},be,{projection:ao,transformation:le(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,b){var T=b.lng-h.lng,B=b.lat-h.lat;return Math.sqrt(T*T+B*B)},infinite:!0});be.Earth=ke,be.EPSG3395=Gv,be.EPSG3857=at,be.EPSG900913=Ge,be.EPSG4326=td,be.Simple=$v;var Vo=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var b=h.target;if(b.hasLayer(this)){if(this._map=b,this._zoomAnimated=b._zoomAnimated,this.getEvents){var T=this.getEvents();b.on(T,this),this.once("remove",function(){b.off(T,this)},this)}this.onAdd(b),this.fire("add"),b.fire("layeradd",{layer:this})}}});Tn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var b=c(h);return this._layers[b]?this:(this._layers[b]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var b=c(h);return this._layers[b]?(this._loaded&&h.onRemove(this),delete this._layers[b],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,b){for(var T in this._layers)h.call(b,this._layers[T]);return this},_addLayers:function(h){h=h?w(h)?h:[h]:[];for(var b=0,T=h.length;b<T;b++)this.addLayer(h[b])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var b=c(h);this._zoomBoundLayers[b]&&(delete this._zoomBoundLayers[b],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,b=-1/0,T=this._getZoomSpan();for(var B in this._zoomBoundLayers){var U=this._zoomBoundLayers[B].options;h=U.minZoom===void 0?h:Math.min(h,U.minZoom),b=U.maxZoom===void 0?b:Math.max(b,U.maxZoom)}this._layersMaxZoom=b===-1/0?void 0:b,this._layersMinZoom=h===1/0?void 0:h,T!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cr=Vo.extend({initialize:function(h,b){v(this,b),this._layers={};var T,B;if(h)for(T=0,B=h.length;T<B;T++)this.addLayer(h[T])},addLayer:function(h){var b=this.getLayerId(h);return this._layers[b]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var b=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[b]&&this._map.removeLayer(this._layers[b]),delete this._layers[b],this},hasLayer:function(h){var b=typeof h=="number"?h:this.getLayerId(h);return b in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var b=Array.prototype.slice.call(arguments,1),T,B;for(T in this._layers)B=this._layers[T],B[h]&&B[h].apply(B,b);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,b){for(var T in this._layers)h.call(b,this._layers[T]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Q1=function(h,b){return new cr(h,b)},Xi=cr.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),cr.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),cr.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new Q;for(var b in this._layers){var T=this._layers[b];h.extend(T.getBounds?T.getBounds():T.getLatLng())}return h}}),e_=function(h,b){return new Xi(h,b)},zc=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){v(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,b){var T=this._getIconUrl(h);if(!T){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var B=this._createImg(T,b&&b.tagName==="IMG"?b:null);return this._setIconStyles(B,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(B.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),B},_setIconStyles:function(h,b){var T=this.options,B=T[b+"Size"];typeof B=="number"&&(B=[B,B]);var U=H(B),K=H(b==="shadow"&&T.shadowAnchor||T.iconAnchor||U&&U.divideBy(2,!0));h.className="leaflet-marker-"+b+" "+(T.className||""),K&&(h.style.marginLeft=-K.x+"px",h.style.marginTop=-K.y+"px"),U&&(h.style.width=U.x+"px",h.style.height=U.y+"px")},_createImg:function(h,b){return b=b||document.createElement("img"),b.src=h,b},_getIconUrl:function(h){return xt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function t_(h){return new zc(h)}var nd=zc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof nd.imagePath!="string"&&(nd.imagePath=this._detectIconPath()),(this.options.imagePath||nd.imagePath)+zc.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var b=function(T,B,U){var K=B.exec(T);return K&&K[U]};return h=b(h,/^url\((['"])?(.+)\1\)$/,2),h&&b(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=sn("div","leaflet-default-icon-path",document.body),b=Ot(h,"background-image")||Ot(h,"backgroundImage");if(document.body.removeChild(h),b=this._stripUrl(b),b)return b;var T=document.querySelector('link[href$="leaflet.css"]');return T?T.href.substring(0,T.href.length-11-1):""}}),Xv=ls.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Pl(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var b=this._marker,T=b._map,B=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,K=io(b._icon),de=T.getPixelBounds(),Te=T.getPixelOrigin(),Be=Z(de.min._subtract(Te).add(U),de.max._subtract(Te).subtract(U));if(!Be.contains(K)){var ot=H((Math.max(Be.max.x,K.x)-Be.max.x)/(de.max.x-Be.max.x)-(Math.min(Be.min.x,K.x)-Be.min.x)/(de.min.x-Be.min.x),(Math.max(Be.max.y,K.y)-Be.max.y)/(de.max.y-Be.max.y)-(Math.min(Be.min.y,K.y)-Be.min.y)/(de.min.y-Be.min.y)).multiplyBy(B);T.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),Dn(b._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=D(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,h)))},_onDrag:function(h){var b=this._marker,T=b._shadow,B=io(b._icon),U=b._map.layerPointToLatLng(B);T&&Dn(T,B),b._latlng=U,h.latlng=U,h.oldLatLng=this._oldLatLng,b.fire("move",h).fire("drag",h)},_onDragEnd:function(h){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),wf=Vo.extend({options:{icon:new nd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,b){v(this,b),this._latlng=oe(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var b=this._latlng;return this._latlng=oe(h),this.update(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,b="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),T=h.icon.createIcon(this._icon),B=!1;T!==this._icon&&(this._icon&&this._removeIcon(),B=!0,h.title&&(T.title=h.title),T.tagName==="IMG"&&(T.alt=h.alt||"")),At(T,b),h.keyboard&&(T.tabIndex="0",T.setAttribute("role","button")),this._icon=T,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(T,"focus",this._panOnFocus,this);var U=h.icon.createShadow(this._shadow),K=!1;U!==this._shadow&&(this._removeShadow(),K=!0),U&&(At(U,b),U.alt=""),this._shadow=U,h.opacity<1&&this._updateOpacity(),B&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&K&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(this._icon,"focus",this._panOnFocus,this),Ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ut(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Dn(this._icon,h),this._shadow&&Dn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(b)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xv)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xv(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&xr(this._icon,h),this._shadow&&xr(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var b=this.options.icon.options,T=b.iconSize?H(b.iconSize):H(0,0),B=b.iconAnchor?H(b.iconAnchor):H(0,0);h.panInside(this._latlng,{paddingTopLeft:B,paddingBottomRight:T.subtract(B)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function n_(h,b){return new wf(h,b)}var Zs=Vo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return v(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Lc=Zs.extend({options:{fill:!0,radius:10},initialize:function(h,b){v(this,b),this._latlng=oe(h),this._radius=this.options.radius},setLatLng:function(h){var b=this._latlng;return this._latlng=oe(h),this.redraw(),this.fire("move",{oldLatLng:b,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var b=h&&h.radius||this._radius;return Zs.prototype.setStyle.call(this,h),this.setRadius(b),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,b=this._radiusY||h,T=this._clickTolerance(),B=[h+T,b+T];this._pxBounds=new te(this._point.subtract(B),this._point.add(B))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function r_(h,b){return new Lc(h,b)}var sa=Lc.extend({initialize:function(h,b,T){if(typeof b=="number"&&(b=i({},T,{radius:b})),v(this,b),this._latlng=oe(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new Q(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:Zs.prototype.setStyle,_project:function(){var h=this._latlng.lng,b=this._latlng.lat,T=this._map,B=T.options.crs;if(B.distance===ke.distance){var U=Math.PI/180,K=this._mRadius/ke.R/U,de=T.project([b+K,h]),Te=T.project([b-K,h]),Be=de.add(Te).divideBy(2),ot=T.unproject(Be).lat,Pt=Math.acos((Math.cos(K*U)-Math.sin(b*U)*Math.sin(ot*U))/(Math.cos(b*U)*Math.cos(ot*U)))/U;(isNaN(Pt)||Pt===0)&&(Pt=K/Math.cos(Math.PI/180*b)),this._point=Be.subtract(T.getPixelOrigin()),this._radius=isNaN(Pt)?0:Be.x-T.project([ot,h-Pt]).x,this._radiusY=Be.y-de.y}else{var Kt=B.unproject(B.project(this._latlng).subtract([this._mRadius,0]));this._point=T.latLngToLayerPoint(this._latlng),this._radius=this._point.x-T.latLngToLayerPoint(Kt).x}this._updateBounds()}});function Dc(h,b,T){return new sa(h,b,T)}var Ks=Zs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,b){v(this,b),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var b=1/0,T=null,B=$s,U,K,de=0,Te=this._parts.length;de<Te;de++)for(var Be=this._parts[de],ot=1,Pt=Be.length;ot<Pt;ot++){U=Be[ot-1],K=Be[ot];var Kt=B(h,U,K,!0);Kt<b&&(b=Kt,T=B(h,U,K))}return T&&(T.distance=Math.sqrt(b)),T},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,b){return b=b||this._defaultShape(),h=oe(h),b.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new Q,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return So(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var b=[],T=So(h),B=0,U=h.length;B<U;B++)T?(b[B]=oe(h[B]),this._bounds.extend(b[B])):b[B]=this._convertLatLngs(h[B]);return b},_project:function(){var h=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),b=new F(h,h);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(b),this._rawPxBounds.max.add(b)]))},_projectLatlngs:function(h,b,T){var B=h[0]instanceof ue,U=h.length,K,de;if(B){for(de=[],K=0;K<U;K++)de[K]=this._map.latLngToLayerPoint(h[K]),T.extend(de[K]);b.push(de)}else for(K=0;K<U;K++)this._projectLatlngs(h[K],b,T)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var b=this._parts,T,B,U,K,de,Te,Be;for(T=0,U=0,K=this._rings.length;T<K;T++)for(Be=this._rings[T],B=0,de=Be.length;B<de-1;B++)Te=Hp(Be[B],Be[B+1],h,B,!0),Te&&(b[U]=b[U]||[],b[U].push(Te[0]),(Te[1]!==Be[B+1]||B===de-2)&&(b[U].push(Te[1]),U++))}},_simplifyPoints:function(){for(var h=this._parts,b=this.options.smoothFactor,T=0,B=h.length;T<B;T++)h[T]=aa(h[T],b)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,b){var T,B,U,K,de,Te,Be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(T=0,K=this._parts.length;T<K;T++)for(Te=this._parts[T],B=0,de=Te.length,U=de-1;B<de;U=B++)if(!(!b&&B===0)&&xf(h,Te[U],Te[B])<=Be)return!0;return!1}});function Sf(h,b){return new Ks(h,b)}Ks._flat=Vp;var Ci=Ks.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Si(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var b=Ks.prototype._convertLatLngs.call(this,h),T=b.length;return T>=2&&b[0]instanceof ue&&b[0].equals(b[T-1])&&b.pop(),b},_setLatLngs:function(h){Ks.prototype._setLatLngs.call(this,h),So(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return So(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,b=this.options.weight,T=new F(b,b);if(h=new te(h.min.subtract(T),h.max.add(T)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var B=0,U=this._rings.length,K;B<U;B++)K=Jn(this._rings[B],h,!0),K.length&&this._parts.push(K)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var b=!1,T,B,U,K,de,Te,Be,ot;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(K=0,Be=this._parts.length;K<Be;K++)for(T=this._parts[K],de=0,ot=T.length,Te=ot-1;de<ot;Te=de++)B=T[de],U=T[Te],B.y>h.y!=U.y>h.y&&h.x<(U.x-B.x)*(h.y-B.y)/(U.y-B.y)+B.x&&(b=!b);return b||Ks.prototype._containsPoint.call(this,h,!0)}});function i_(h,b){return new Ci(h,b)}var cs=Xi.extend({initialize:function(h,b){v(this,b),this._layers={},h&&this.addData(h)},addData:function(h){var b=w(h)?h:h.features,T,B,U;if(b){for(T=0,B=b.length;T<B;T++)U=b[T],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var K=this.options;if(K.filter&&!K.filter(h))return this;var de=Cf(h,K);return de?(de.feature=Fc(h),de.defaultOptions=de.options,this.resetStyle(de),K.onEachFeature&&K.onEachFeature(h,de),this.addLayer(de)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(b){this._setLayerStyle(b,h)},this)},_setLayerStyle:function(h,b){h.setStyle&&(typeof b=="function"&&(b=b(h.feature)),h.setStyle(b))}});function Cf(h,b){var T=h.type==="Feature"?h.geometry:h,B=T?T.coordinates:null,U=[],K=b&&b.pointToLayer,de=b&&b.coordsToLatLng||Oc,Te,Be,ot,Pt;if(!B&&!T)return null;switch(T.type){case"Point":return Te=de(B),Tf(K,h,Te,b);case"MultiPoint":for(ot=0,Pt=B.length;ot<Pt;ot++)Te=de(B[ot]),U.push(Tf(K,h,Te,b));return new Xi(U);case"LineString":case"MultiLineString":return Be=rd(B,T.type==="LineString"?0:1,de),new Ks(Be,b);case"Polygon":case"MultiPolygon":return Be=rd(B,T.type==="Polygon"?1:2,de),new Ci(Be,b);case"GeometryCollection":for(ot=0,Pt=T.geometries.length;ot<Pt;ot++){var Kt=Cf({geometry:T.geometries[ot],type:"Feature",properties:h.properties},b);Kt&&U.push(Kt)}return new Xi(U);case"FeatureCollection":for(ot=0,Pt=T.features.length;ot<Pt;ot++){var hn=Cf(T.features[ot],b);hn&&U.push(hn)}return new Xi(U);default:throw new Error("Invalid GeoJSON object.")}}function Tf(h,b,T,B){return h?h(b,T):new wf(T,B&&B.markersInheritOptions&&B)}function Oc(h){return new ue(h[1],h[0],h[2])}function rd(h,b,T){for(var B=[],U=0,K=h.length,de;U<K;U++)de=b?rd(h[U],b-1,T):(T||Oc)(h[U]),B.push(de);return B}function Rl(h,b){return h=oe(h),h.alt!==void 0?[p(h.lng,b),p(h.lat,b),p(h.alt,b)]:[p(h.lng,b),p(h.lat,b)]}function kf(h,b,T,B){for(var U=[],K=0,de=h.length;K<de;K++)U.push(b?kf(h[K],So(h[K])?0:b-1,T,B):Rl(h[K],B));return!b&&T&&U.length>0&&U.push(U[0].slice()),U}function jl(h,b){return h.feature?i({},h.feature,{geometry:b}):Fc(b)}function Fc(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Zv={toGeoJSON:function(h){return jl(this,{type:"Point",coordinates:Rl(this.getLatLng(),h)})}};wf.include(Zv),sa.include(Zv),Lc.include(Zv),Ks.include({toGeoJSON:function(h){var b=!So(this._latlngs),T=kf(this._latlngs,b?1:0,!1,h);return jl(this,{type:(b?"Multi":"")+"LineString",coordinates:T})}}),Ci.include({toGeoJSON:function(h){var b=!So(this._latlngs),T=b&&!So(this._latlngs[0]),B=kf(this._latlngs,T?2:b?1:0,!0,h);return b||(B=[B]),jl(this,{type:(T?"Multi":"")+"Polygon",coordinates:B})}}),cr.include({toMultiPoint:function(h){var b=[];return this.eachLayer(function(T){b.push(T.toGeoJSON(h).geometry.coordinates)}),jl(this,{type:"MultiPoint",coordinates:b})},toGeoJSON:function(h){var b=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(b==="MultiPoint")return this.toMultiPoint(h);var T=b==="GeometryCollection",B=[];return this.eachLayer(function(U){if(U.toGeoJSON){var K=U.toGeoJSON(h);if(T)B.push(K.geometry);else{var de=Fc(K);de.type==="FeatureCollection"?B.push.apply(B,de.features):B.push(de)}}}),T?jl(this,{geometries:B,type:"GeometryCollection"}):{type:"FeatureCollection",features:B}}});function Kv(h,b){return new cs(h,b)}var EB=Kv,Ef=Vo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,b,T){this._url=h,this._bounds=re(b),v(this,T)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Mr(this._image),this},bringToBack:function(){return this._map&&lr(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=re(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",b=this._image=h?this._url:sn("img");if(At(b,"leaflet-image-layer"),this._zoomAnimated&&At(b,"leaflet-zoom-animated"),this.options.className&&At(b,this.options.className),b.onselectstart=f,b.onmousemove=f,b.onload=a(this.fire,this,"load"),b.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=b.src;return}b.src=this._url,b.alt=this.options.alt},_animateZoom:function(h){var b=this._map.getZoomScale(h.zoom),T=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;zi(this._image,T,b)},_reset:function(){var h=this._image,b=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),T=b.getSize();Dn(h,b.min),h.style.width=T.x+"px",h.style.height=T.y+"px"},_updateOpacity:function(){xr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),o_=function(h,b,T){return new Ef(h,b,T)},Yv=Ef.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",b=this._image=h?this._url:sn("video");if(At(b,"leaflet-image-layer"),this._zoomAnimated&&At(b,"leaflet-zoom-animated"),this.options.className&&At(b,this.options.className),b.onselectstart=f,b.onmousemove=f,b.onloadeddata=a(this.fire,this,"load"),h){for(var T=b.getElementsByTagName("source"),B=[],U=0;U<T.length;U++)B.push(T[U].src);this._url=T.length>0?B:[b.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(b.style,"objectFit")&&(b.style.objectFit="fill"),b.autoplay=!!this.options.autoplay,b.loop=!!this.options.loop,b.muted=!!this.options.muted,b.playsInline=!!this.options.playsInline;for(var K=0;K<this._url.length;K++){var de=sn("source");de.src=this._url[K],b.appendChild(de)}}});function MB(h,b,T){return new Yv(h,b,T)}var Jv=Ef.extend({_initImage:function(){var h=this._image=this._url;At(h,"leaflet-image-layer"),this._zoomAnimated&&At(h,"leaflet-zoom-animated"),this.options.className&&At(h,this.options.className),h.onselectstart=f,h.onmousemove=f}});function AB(h,b,T){return new Jv(h,b,T)}var la=Vo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,b){h&&(h instanceof ue||w(h))?(this._latlng=oe(h),v(this,b)):(v(this,h),this._source=b),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&xr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&xr(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(xr(this._container,0),this._removeTimeout=setTimeout(a(Ut,void 0,this._container),200)):Ut(this._container),this.options.interactive&&(fn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=oe(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mr(this._container),this},bringToBack:function(){return this._map&&lr(this._container),this},_prepareOpen:function(h){var b=this._source;if(!b._map)return!1;if(b instanceof Xi){b=null;var T=this._source._layers;for(var B in T)if(T[B]._map){b=T[B];break}if(!b)return!1;this._source=b}if(!h)if(b.getCenter)h=b.getCenter();else if(b.getLatLng)h=b.getLatLng();else if(b.getBounds)h=b.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,b=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof b=="string")h.innerHTML=b;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(b)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),b=H(this.options.offset),T=this._getAnchor();this._zoomAnimated?Dn(this._container,h.add(T)):b=b.add(h).add(T);var B=this._containerBottom=-b.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+b.x;this._container.style.bottom=B+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});Tn.include({_initOverlay:function(h,b,T,B){var U=b;return U instanceof h||(U=new h(B).setContent(b)),T&&U.setLatLng(T),U}}),Vo.include({_initOverlay:function(h,b,T,B){var U=T;return U instanceof h?(v(U,B),U._source=this):(U=b&&!B?b:new h(B,this),U.setContent(T)),U}});var Mf=la.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,la.prototype.openOn.call(this,h)},onAdd:function(h){la.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zs||this._source.on("preclick",Yn))},onRemove:function(h){la.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zs||this._source.off("preclick",Yn))},getEvents:function(){var h=la.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",b=this._container=sn("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),T=this._wrapper=sn("div",h+"-content-wrapper",b);if(this._contentNode=sn("div",h+"-content",T),oi(b),qo(this._contentNode),ce(b,"contextmenu",Yn),this._tipContainer=sn("div",h+"-tip-container",b),this._tip=sn("div",h+"-tip",this._tipContainer),this.options.closeButton){var B=this._closeButton=sn("a",h+"-close-button",b);B.setAttribute("role","button"),B.setAttribute("aria-label","Close popup"),B.href="#close",B.innerHTML='<span aria-hidden="true">&#215;</span>',ce(B,"click",function(U){rr(U),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,b=h.style;b.width="",b.whiteSpace="nowrap";var T=h.offsetWidth;T=Math.min(T,this.options.maxWidth),T=Math.max(T,this.options.minWidth),b.width=T+1+"px",b.whiteSpace="",b.height="";var B=h.offsetHeight,U=this.options.maxHeight,K="leaflet-popup-scrolled";U&&B>U?(b.height=U+"px",At(h,K)):fn(h,K),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),T=this._getAnchor();Dn(this._container,b.add(T))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,b=parseInt(Ot(this._container,"marginBottom"),10)||0,T=this._container.offsetHeight+b,B=this._containerWidth,U=new F(this._containerLeft,-T-this._containerBottom);U._add(io(this._container));var K=h.layerPointToContainerPoint(U),de=H(this.options.autoPanPadding),Te=H(this.options.autoPanPaddingTopLeft||de),Be=H(this.options.autoPanPaddingBottomRight||de),ot=h.getSize(),Pt=0,Kt=0;K.x+B+Be.x>ot.x&&(Pt=K.x+B-ot.x+Be.x),K.x-Pt-Te.x<0&&(Pt=K.x-Te.x),K.y+T+Be.y>ot.y&&(Kt=K.y+T-ot.y+Be.y),K.y-Kt-Te.y<0&&(Kt=K.y-Te.y),(Pt||Kt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Pt,Kt]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),a_=function(h,b){return new Mf(h,b)};Tn.mergeOptions({closePopupOnClick:!0}),Tn.include({openPopup:function(h,b,T){return this._initOverlay(Mf,h,b,T).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Vo.include({bindPopup:function(h,b){return this._popup=this._initOverlay(Mf,this._popup,h,b),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Xi||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){wi(h);var b=h.layer||h.target;if(this._popup._source===b&&!(b instanceof Zs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=b,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Af=la.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){la.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){la.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=la.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",b=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=sn("div",b),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var b,T,B=this._map,U=this._container,K=B.latLngToContainerPoint(B.getCenter()),de=B.layerPointToContainerPoint(h),Te=this.options.direction,Be=U.offsetWidth,ot=U.offsetHeight,Pt=H(this.options.offset),Kt=this._getAnchor();Te==="top"?(b=Be/2,T=ot):Te==="bottom"?(b=Be/2,T=0):Te==="center"?(b=Be/2,T=ot/2):Te==="right"?(b=0,T=ot/2):Te==="left"?(b=Be,T=ot/2):de.x<K.x?(Te="right",b=0,T=ot/2):(Te="left",b=Be+(Pt.x+Kt.x)*2,T=ot/2),h=h.subtract(H(b,T,!0)).add(Pt).add(Kt),fn(U,"leaflet-tooltip-right"),fn(U,"leaflet-tooltip-left"),fn(U,"leaflet-tooltip-top"),fn(U,"leaflet-tooltip-bottom"),At(U,"leaflet-tooltip-"+Te),Dn(U,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&xr(this._container,h)},_animateZoom:function(h){var b=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(b)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),s_=function(h,b){return new Af(h,b)};Tn.include({openTooltip:function(h,b,T){return this._initOverlay(Af,h,b,T).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Vo.include({bindTooltip:function(h,b){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Af,this._tooltip,h,b),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var b=h?"off":"on",T={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?T.add=this._openTooltip:(T.mouseover=this._openTooltip,T.mouseout=this.closeTooltip,T.click=this._openTooltip,this._map?this._addFocusListeners():T.add=this._addFocusListeners),this._tooltip.options.sticky&&(T.mousemove=this._moveTooltip),this[b](T),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Xi||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var b=typeof h.getElement=="function"&&h.getElement();b&&(ce(b,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),ce(b,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var b=typeof h.getElement=="function"&&h.getElement();b&&b.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var b=this;this._map.once("moveend",function(){b._openOnceFlag=!1,b._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var b=h.latlng,T,B;this._tooltip.options.sticky&&h.originalEvent&&(T=this._map.mouseEventToContainerPoint(h.originalEvent),B=this._map.containerPointToLayerPoint(T),b=this._map.layerPointToLatLng(B)),this._tooltip.setLatLng(b)}});var Qv=zc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var b=h&&h.tagName==="DIV"?h:document.createElement("div"),T=this.options;if(T.html instanceof Element?(fi(b),b.appendChild(T.html)):b.innerHTML=T.html!==!1?T.html:"",T.bgPos){var B=H(T.bgPos);b.style.backgroundPosition=-B.x+"px "+-B.y+"px"}return this._setIconStyles(b,"icon"),b},createShadow:function(){return null}});function l_(h){return new Qv(h)}zc.Default=nd;var id=Vo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){v(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Ut(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof F?h:new F(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var b=this.getPane().children,T=-h(-1/0,1/0),B=0,U=b.length,K;B<U;B++)K=b[B].style.zIndex,b[B]!==this._container&&K&&(T=h(T,+K));isFinite(T)&&(this.options.zIndex=T+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){xr(this._container,this.options.opacity);var h=+new Date,b=!1,T=!1;for(var B in this._tiles){var U=this._tiles[B];if(!(!U.current||!U.loaded)){var K=Math.min(1,(h-U.loaded)/200);xr(U.el,K),K<1?b=!0:(U.active?T=!0:this._onOpaqueTile(U),U.active=!0)}}T&&!this._noPrune&&this._pruneTiles(),b&&(q(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=sn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,b=this.options.maxZoom;if(h!==void 0){for(var T in this._levels)T=Number(T),this._levels[T].el.children.length||T===h?(this._levels[T].el.style.zIndex=b-Math.abs(h-T),this._onUpdateLevel(T)):(Ut(this._levels[T].el),this._removeTilesAtZoom(T),this._onRemoveLevel(T),delete this._levels[T]);var B=this._levels[h],U=this._map;return B||(B=this._levels[h]={},B.el=sn("div","leaflet-tile-container leaflet-zoom-animated",this._container),B.el.style.zIndex=b,B.origin=U.project(U.unproject(U.getPixelOrigin()),h).round(),B.zoom=h,this._setZoomTransform(B,U.getCenter(),U.getZoom()),f(B.el.offsetWidth),this._onCreateLevel(B)),this._level=B,B}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var h,b,T=this._map.getZoom();if(T>this.options.maxZoom||T<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)b=this._tiles[h],b.retain=b.current;for(h in this._tiles)if(b=this._tiles[h],b.current&&!b.active){var B=b.coords;this._retainParent(B.x,B.y,B.z,B.z-5)||this._retainChildren(B.x,B.y,B.z,B.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var b in this._tiles)this._tiles[b].coords.z===h&&this._removeTile(b)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Ut(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,b,T,B){var U=Math.floor(h/2),K=Math.floor(b/2),de=T-1,Te=new F(+U,+K);Te.z=+de;var Be=this._tileCoordsToKey(Te),ot=this._tiles[Be];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),de>B?this._retainParent(U,K,de,B):!1)},_retainChildren:function(h,b,T,B){for(var U=2*h;U<2*h+2;U++)for(var K=2*b;K<2*b+2;K++){var de=new F(U,K);de.z=T+1;var Te=this._tileCoordsToKey(de),Be=this._tiles[Te];if(Be&&Be.active){Be.retain=!0;continue}else Be&&Be.loaded&&(Be.retain=!0);T+1<B&&this._retainChildren(U,K,T+1,B)}},_resetView:function(h){var b=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),b,b)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var b=this.options;return b.minNativeZoom!==void 0&&h<b.minNativeZoom?b.minNativeZoom:b.maxNativeZoom!==void 0&&b.maxNativeZoom<h?b.maxNativeZoom:h},_setView:function(h,b,T,B){var U=Math.round(b);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var K=this.options.updateWhenZooming&&U!==this._tileZoom;(!B||K)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(h),T||this._pruneTiles(),this._noPrune=!!T),this._setZoomTransforms(h,b)},_setZoomTransforms:function(h,b){for(var T in this._levels)this._setZoomTransform(this._levels[T],h,b)},_setZoomTransform:function(h,b,T){var B=this._map.getZoomScale(T,h.zoom),U=h.origin.multiplyBy(B).subtract(this._map._getNewPixelOrigin(b,T)).round();xt.any3d?zi(h.el,U,B):Dn(h.el,U)},_resetGrid:function(){var h=this._map,b=h.options.crs,T=this._tileSize=this.getTileSize(),B=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=b.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,b.wrapLng[0]],B).x/T.x),Math.ceil(h.project([0,b.wrapLng[1]],B).x/T.y)],this._wrapY=b.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([b.wrapLat[0],0],B).y/T.x),Math.ceil(h.project([b.wrapLat[1],0],B).y/T.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var b=this._map,T=b._animatingZoom?Math.max(b._animateToZoom,b.getZoom()):b.getZoom(),B=b.getZoomScale(T,this._tileZoom),U=b.project(h,this._tileZoom).floor(),K=b.getSize().divideBy(B*2);return new te(U.subtract(K),U.add(K))},_update:function(h){var b=this._map;if(b){var T=this._clampZoom(b.getZoom());if(h===void 0&&(h=b.getCenter()),this._tileZoom!==void 0){var B=this._getTiledPixelBounds(h),U=this._pxBoundsToTileRange(B),K=U.getCenter(),de=[],Te=this.options.keepBuffer,Be=new te(U.getBottomLeft().subtract([Te,-Te]),U.getTopRight().add([Te,-Te]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var Pt=this._tiles[ot].coords;(Pt.z!==this._tileZoom||!Be.contains(new F(Pt.x,Pt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(T-this._tileZoom)>1){this._setView(h,T);return}for(var Kt=U.min.y;Kt<=U.max.y;Kt++)for(var hn=U.min.x;hn<=U.max.x;hn++){var Hr=new F(hn,Kt);if(Hr.z=this._tileZoom,!!this._isValidTile(Hr)){var hi=this._tiles[this._tileCoordsToKey(Hr)];hi?hi.current=!0:de.push(Hr)}}if(de.sort(function(so,qc){return so.distanceTo(K)-qc.distanceTo(K)}),de.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wo=document.createDocumentFragment();for(hn=0;hn<de.length;hn++)this._addTile(de[hn],Wo);this._level.el.appendChild(Wo)}}}},_isValidTile:function(h){var b=this._map.options.crs;if(!b.infinite){var T=this._globalTileRange;if(!b.wrapLng&&(h.x<T.min.x||h.x>T.max.x)||!b.wrapLat&&(h.y<T.min.y||h.y>T.max.y))return!1}if(!this.options.bounds)return!0;var B=this._tileCoordsToBounds(h);return re(this.options.bounds).overlaps(B)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var b=this._map,T=this.getTileSize(),B=h.scaleBy(T),U=B.add(T),K=b.unproject(B,h.z),de=b.unproject(U,h.z);return[K,de]},_tileCoordsToBounds:function(h){var b=this._tileCoordsToNwSe(h),T=new Q(b[0],b[1]);return this.options.noWrap||(T=this._map.wrapLatLngBounds(T)),T},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var b=h.split(":"),T=new F(+b[0],+b[1]);return T.z=+b[2],T},_removeTile:function(h){var b=this._tiles[h];b&&(Ut(b.el),delete this._tiles[h],this.fire("tileunload",{tile:b.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){At(h,"leaflet-tile");var b=this.getTileSize();h.style.width=b.x+"px",h.style.height=b.y+"px",h.onselectstart=f,h.onmousemove=f,xt.ielt9&&this.options.opacity<1&&xr(h,this.options.opacity)},_addTile:function(h,b){var T=this._getTilePos(h),B=this._tileCoordsToKey(h),U=this.createTile(this._wrapCoords(h),a(this._tileReady,this,h));this._initTile(U),this.createTile.length<2&&D(a(this._tileReady,this,h,null,U)),Dn(U,T),this._tiles[B]={el:U,coords:h,current:!0},b.appendChild(U),this.fire("tileloadstart",{tile:U,coords:h})},_tileReady:function(h,b,T){b&&this.fire("tileerror",{error:b,tile:T,coords:h});var B=this._tileCoordsToKey(h);T=this._tiles[B],T&&(T.loaded=+new Date,this._map._fadeAnimated?(xr(T.el,0),q(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(T.active=!0,this._pruneTiles()),b||(At(T.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:T.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var b=new F(this._wrapX?d(h.x,this._wrapX):h.x,this._wrapY?d(h.y,this._wrapY):h.y);return b.z=h.z,b},_pxBoundsToTileRange:function(h){var b=this.getTileSize();return new te(h.min.unscaleBy(b).floor(),h.max.unscaleBy(b).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function c_(h){return new id(h)}var Il=id.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,b){this._url=h,b=v(this,b),b.detectRetina&&xt.retina&&b.maxZoom>0?(b.tileSize=Math.floor(b.tileSize/2),b.zoomReverse?(b.zoomOffset--,b.minZoom=Math.min(b.maxZoom,b.minZoom+1)):(b.zoomOffset++,b.maxZoom=Math.max(b.minZoom,b.maxZoom-1)),b.minZoom=Math.max(0,b.minZoom)):b.zoomReverse?b.minZoom=Math.min(b.maxZoom,b.minZoom):b.maxZoom=Math.max(b.minZoom,b.maxZoom),typeof b.subdomains=="string"&&(b.subdomains=b.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,b){return this._url===h&&b===void 0&&(b=!0),this._url=h,b||this.redraw(),this},createTile:function(h,b){var T=document.createElement("img");return ce(T,"load",a(this._tileOnLoad,this,b,T)),ce(T,"error",a(this._tileOnError,this,b,T)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(T.referrerPolicy=this.options.referrerPolicy),T.alt="",T.src=this.getTileUrl(h),T},getTileUrl:function(h){var b={r:xt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var T=this._globalTileRange.max.y-h.y;this.options.tms&&(b.y=T),b["-y"]=T}return S(this._url,i(b,this.options))},_tileOnLoad:function(h,b){xt.ielt9?setTimeout(a(h,this,null,b),0):h(null,b)},_tileOnError:function(h,b,T){var B=this.options.errorTileUrl;B&&b.getAttribute("src")!==B&&(b.src=B),h(T,b)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,b=this.options.maxZoom,T=this.options.zoomReverse,B=this.options.zoomOffset;return T&&(h=b-h),h+B},_getSubdomain:function(h){var b=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[b]},_abortLoading:function(){var h,b;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(b=this._tiles[h].el,b.onload=f,b.onerror=f,!b.complete)){b.src=M;var T=this._tiles[h].coords;Ut(b),delete this._tiles[h],this.fire("tileabort",{tile:b,coords:T})}},_removeTile:function(h){var b=this._tiles[h];if(b)return b.el.setAttribute("src",M),id.prototype._removeTile.call(this,h)},_tileReady:function(h,b,T){if(!(!this._map||T&&T.getAttribute("src")===M))return id.prototype._tileReady.call(this,h,b,T)}});function Gp(h,b){return new Il(h,b)}var $p=Il.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,b){this._url=h;var T=i({},this.defaultWmsParams);for(var B in b)B in this.options||(T[B]=b[B]);b=v(this,b);var U=b.detectRetina&&xt.retina?2:1,K=this.getTileSize();T.width=K.x*U,T.height=K.y*U,this.wmsParams=T},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var b=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[b]=this._crs.code,Il.prototype.onAdd.call(this,h)},getTileUrl:function(h){var b=this._tileCoordsToNwSe(h),T=this._crs,B=Z(T.project(b[0]),T.project(b[1])),U=B.min,K=B.max,de=(this._wmsVersion>=1.3&&this._crs===td?[U.y,U.x,K.y,K.x]:[U.x,U.y,K.x,K.y]).join(","),Te=Il.prototype.getTileUrl.call(this,h);return Te+_(this.wmsParams,Te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+de},setParams:function(h,b){return i(this.wmsParams,h),b||this.redraw(),this}});function u_(h,b){return new $p(h,b)}Il.WMS=$p,Gp.wms=u_;var us=Vo.extend({options:{padding:.1},initialize:function(h){v(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,b){var T=this._map.getZoomScale(b,this._zoom),B=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,b),K=B.multiplyBy(-T).add(U).subtract(this._map._getNewPixelOrigin(h,b));xt.any3d?zi(this._container,K,T):Dn(this._container,K)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,b=this._map.getSize(),T=this._map.containerPointToLayerPoint(b.multiplyBy(-h)).round();this._bounds=new te(T,T.add(b.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),e0=us.extend({options:{tolerance:0},getEvents:function(){var h=us.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){us.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");ce(h,"mousemove",this._onMouseMove,this),ce(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ce(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Ut(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var b in this._layers)h=this._layers[b],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){us.prototype._update.call(this);var h=this._bounds,b=this._container,T=h.getSize(),B=xt.retina?2:1;Dn(b,h.min),b.width=B*T.x,b.height=B*T.y,b.style.width=T.x+"px",b.style.height=T.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){us.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var b=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=b),this._drawLast=b,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var b=h._order,T=b.next,B=b.prev;T?T.prev=B:this._drawLast=B,B?B.next=T:this._drawFirst=T,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var b=h.options.dashArray.split(/[, ]+/),T=[],B,U;for(U=0;U<b.length;U++){if(B=Number(b[U]),isNaN(B))return;T.push(B)}h.options._dashArray=T}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var b=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(h._pxBounds.min.subtract([b,b])),this._redrawBounds.extend(h._pxBounds.max.add([b,b]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var b=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,b.x,b.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,b=this._redrawBounds;if(this._ctx.save(),b){var T=b.getSize();this._ctx.beginPath(),this._ctx.rect(b.min.x,b.min.y,T.x,T.y),this._ctx.clip()}this._drawing=!0;for(var B=this._drawFirst;B;B=B.next)h=B.layer,(!b||h._pxBounds&&h._pxBounds.intersects(b))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,b){if(this._drawing){var T,B,U,K,de=h._parts,Te=de.length,Be=this._ctx;if(Te){for(Be.beginPath(),T=0;T<Te;T++){for(B=0,U=de[T].length;B<U;B++)K=de[T][B],Be[B?"lineTo":"moveTo"](K.x,K.y);b&&Be.closePath()}this._fillStroke(Be,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var b=h._point,T=this._ctx,B=Math.max(Math.round(h._radius),1),U=(Math.max(Math.round(h._radiusY),1)||B)/B;U!==1&&(T.save(),T.scale(1,U)),T.beginPath(),T.arc(b.x,b.y/U,B,0,Math.PI*2,!1),U!==1&&T.restore(),this._fillStroke(T,h)}},_fillStroke:function(h,b){var T=b.options;T.fill&&(h.globalAlpha=T.fillOpacity,h.fillStyle=T.fillColor||T.color,h.fill(T.fillRule||"evenodd")),T.stroke&&T.weight!==0&&(h.setLineDash&&h.setLineDash(b.options&&b.options._dashArray||[]),h.globalAlpha=T.opacity,h.lineWidth=T.weight,h.strokeStyle=T.color,h.lineCap=T.lineCap,h.lineJoin=T.lineJoin,h.stroke())},_onClick:function(h){for(var b=this._map.mouseEventToLayerPoint(h),T,B,U=this._drawFirst;U;U=U.next)T=U.layer,T.options.interactive&&T._containsPoint(b)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(T))&&(B=T);this._fireEvent(B?[B]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var b=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,b)}},_handleMouseOut:function(h){var b=this._hoveredLayer;b&&(fn(this._container,"leaflet-interactive"),this._fireEvent([b],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,b){if(!this._mouseHoverThrottled){for(var T,B,U=this._drawFirst;U;U=U.next)T=U.layer,T.options.interactive&&T._containsPoint(b)&&(B=T);B!==this._hoveredLayer&&(this._handleMouseOut(h),B&&(At(this._container,"leaflet-interactive"),this._fireEvent([B],h,"mouseover"),this._hoveredLayer=B)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,b,T){this._map._fireDOMEvent(b,T||b.type,h)},_bringToFront:function(h){var b=h._order;if(b){var T=b.next,B=b.prev;if(T)T.prev=B;else return;B?B.next=T:T&&(this._drawFirst=T),b.prev=this._drawLast,this._drawLast.next=b,b.next=null,this._drawLast=b,this._requestRedraw(h)}},_bringToBack:function(h){var b=h._order;if(b){var T=b.next,B=b.prev;if(B)B.next=T;else return;T?T.prev=B:B&&(this._drawLast=B),b.prev=null,b.next=this._drawFirst,this._drawFirst.prev=b,this._drawFirst=b,this._requestRedraw(h)}}});function t0(h){return xt.canvas?new e0(h):null}var od=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),d_={_initContainer:function(){this._container=sn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(us.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var b=h._container=od("shape");At(b,"leaflet-vml-shape "+(this.options.className||"")),b.coordsize="1 1",h._path=od("path"),b.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var b=h._container;this._container.appendChild(b),h.options.interactive&&h.addInteractiveTarget(b)},_removePath:function(h){var b=h._container;Ut(b),h.removeInteractiveTarget(b),delete this._layers[c(h)]},_updateStyle:function(h){var b=h._stroke,T=h._fill,B=h.options,U=h._container;U.stroked=!!B.stroke,U.filled=!!B.fill,B.stroke?(b||(b=h._stroke=od("stroke")),U.appendChild(b),b.weight=B.weight+"px",b.color=B.color,b.opacity=B.opacity,B.dashArray?b.dashStyle=w(B.dashArray)?B.dashArray.join(" "):B.dashArray.replace(/( *, *)/g," "):b.dashStyle="",b.endcap=B.lineCap.replace("butt","flat"),b.joinstyle=B.lineJoin):b&&(U.removeChild(b),h._stroke=null),B.fill?(T||(T=h._fill=od("fill")),U.appendChild(T),T.color=B.fillColor||B.color,T.opacity=B.fillOpacity):T&&(U.removeChild(T),h._fill=null)},_updateCircle:function(h){var b=h._point.round(),T=Math.round(h._radius),B=Math.round(h._radiusY||T);this._setPath(h,h._empty()?"M0 0":"AL "+b.x+","+b.y+" "+T+","+B+" 0,"+65535*360)},_setPath:function(h,b){h._path.v=b},_bringToFront:function(h){Mr(h._container)},_bringToBack:function(h){lr(h._container)}},Nf=xt.vml?od:We,ad=us.extend({_initContainer:function(){this._container=Nf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ut(this._container),Ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){us.prototype._update.call(this);var h=this._bounds,b=h.getSize(),T=this._container;(!this._svgSize||!this._svgSize.equals(b))&&(this._svgSize=b,T.setAttribute("width",b.x),T.setAttribute("height",b.y)),Dn(T,h.min),T.setAttribute("viewBox",[h.min.x,h.min.y,b.x,b.y].join(" ")),this.fire("update")}},_initPath:function(h){var b=h._path=Nf("path");h.options.className&&At(b,h.options.className),h.options.interactive&&At(b,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Ut(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var b=h._path,T=h.options;b&&(T.stroke?(b.setAttribute("stroke",T.color),b.setAttribute("stroke-opacity",T.opacity),b.setAttribute("stroke-width",T.weight),b.setAttribute("stroke-linecap",T.lineCap),b.setAttribute("stroke-linejoin",T.lineJoin),T.dashArray?b.setAttribute("stroke-dasharray",T.dashArray):b.removeAttribute("stroke-dasharray"),T.dashOffset?b.setAttribute("stroke-dashoffset",T.dashOffset):b.removeAttribute("stroke-dashoffset")):b.setAttribute("stroke","none"),T.fill?(b.setAttribute("fill",T.fillColor||T.color),b.setAttribute("fill-opacity",T.fillOpacity),b.setAttribute("fill-rule",T.fillRule||"evenodd")):b.setAttribute("fill","none"))},_updatePoly:function(h,b){this._setPath(h,$e(h._parts,b))},_updateCircle:function(h){var b=h._point,T=Math.max(Math.round(h._radius),1),B=Math.max(Math.round(h._radiusY),1)||T,U="a"+T+","+B+" 0 1,0 ",K=h._empty()?"M0 0":"M"+(b.x-T)+","+b.y+U+T*2+",0 "+U+-T*2+",0 ";this._setPath(h,K)},_setPath:function(h,b){h._path.setAttribute("d",b)},_bringToFront:function(h){Mr(h._path)},_bringToBack:function(h){lr(h._path)}});xt.vml&&ad.include(d_);function n0(h){return xt.svg||xt.vml?new ad(h):null}Tn.include({getRenderer:function(h){var b=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return b||(b=this._renderer=this._createRenderer()),this.hasLayer(b)||this.addLayer(b),b},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var b=this._paneRenderers[h];return b===void 0&&(b=this._createRenderer({pane:h}),this._paneRenderers[h]=b),b},_createRenderer:function(h){return this.options.preferCanvas&&t0(h)||n0(h)}});var zl=Ci.extend({initialize:function(h,b){Ci.prototype.initialize.call(this,this._boundsToLatLngs(h),b)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=re(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function Uc(h,b){return new zl(h,b)}ad.create=Nf,ad.pointsToPath=$e,cs.geometryToLayer=Cf,cs.coordsToLatLng=Oc,cs.coordsToLatLngs=rd,cs.latLngToCoords=Rl,cs.latLngsToCoords=kf,cs.getFeature=jl,cs.asFeature=Fc,Tn.mergeOptions({boxZoom:!0});var Ys=ls.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Li(),xo(),this._startPoint=this._map.mouseEventToContainerPoint(h),ce(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=sn("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var b=new te(this._point,this._startPoint),T=b.getSize();Dn(this._box,b.min),this._box.style.width=T.x+"px",this._box.style.height=T.y+"px"},_finish:function(){this._moved&&(Ut(this._box),fn(this._container,"leaflet-crosshair")),bo(),oa(),Ue(document,{contextmenu:wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var b=new Q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(b).fire("boxzoomend",{boxZoomBounds:b})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tn.addInitHook("addHandler","boxZoom",Ys),Tn.mergeOptions({doubleClickZoom:!0});var Xp=ls.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var b=this._map,T=b.getZoom(),B=b.options.zoomDelta,U=h.originalEvent.shiftKey?T-B:T+B;b.options.doubleClickZoom==="center"?b.setZoom(U):b.setZoomAround(h.containerPoint,U)}});Tn.addInitHook("addHandler","doubleClickZoom",Xp),Tn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zp=ls.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Pl(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fn(this._map._container,"leaflet-grab"),fn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var b=re(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(b.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(b.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var b=this._lastTime=+new Date,T=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(T),this._times.push(b),this._prunePositions(b)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),b=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=b.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,b){return h-(h-b)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),b=this._offsetLimit;h.x<b.min.x&&(h.x=this._viscousLimit(h.x,b.min.x)),h.y<b.min.y&&(h.y=this._viscousLimit(h.y,b.min.y)),h.x>b.max.x&&(h.x=this._viscousLimit(h.x,b.max.x)),h.y>b.max.y&&(h.y=this._viscousLimit(h.y,b.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,b=Math.round(h/2),T=this._initialWorldOffset,B=this._draggable._newPos.x,U=(B-b+T)%h+b-T,K=(B+b+T)%h-b-T,de=Math.abs(U+T)<Math.abs(K+T)?U:K;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=de},_onDragEnd:function(h){var b=this._map,T=b.options,B=!T.inertia||h.noInertia||this._times.length<2;if(b.fire("dragend",h),B)b.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),K=(this._lastTime-this._times[0])/1e3,de=T.easeLinearity,Te=U.multiplyBy(de/K),Be=Te.distanceTo([0,0]),ot=Math.min(T.inertiaMaxSpeed,Be),Pt=Te.multiplyBy(ot/Be),Kt=ot/(T.inertiaDeceleration*de),hn=Pt.multiplyBy(-Kt/2).round();!hn.x&&!hn.y?b.fire("moveend"):(hn=b._limitOffset(hn,b.options.maxBounds),D(function(){b.panBy(hn,{duration:Kt,easeLinearity:de,noMoveStart:!0,animate:!0})}))}}});Tn.addInitHook("addHandler","dragging",Zp),Tn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kp=ls.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),ce(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,b=document.documentElement,T=h.scrollTop||b.scrollTop,B=h.scrollLeft||b.scrollLeft;this._map._container.focus(),window.scrollTo(B,T)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var b=this._panKeys={},T=this.keyCodes,B,U;for(B=0,U=T.left.length;B<U;B++)b[T.left[B]]=[-1*h,0];for(B=0,U=T.right.length;B<U;B++)b[T.right[B]]=[h,0];for(B=0,U=T.down.length;B<U;B++)b[T.down[B]]=[0,h];for(B=0,U=T.up.length;B<U;B++)b[T.up[B]]=[0,-1*h]},_setZoomDelta:function(h){var b=this._zoomKeys={},T=this.keyCodes,B,U;for(B=0,U=T.zoomIn.length;B<U;B++)b[T.zoomIn[B]]=h;for(B=0,U=T.zoomOut.length;B<U;B++)b[T.zoomOut[B]]=-h},_addHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var b=h.keyCode,T=this._map,B;if(b in this._panKeys){if(!T._panAnim||!T._panAnim._inProgress)if(B=this._panKeys[b],h.shiftKey&&(B=H(B).multiplyBy(3)),T.options.maxBounds&&(B=T._limitOffset(H(B),T.options.maxBounds)),T.options.worldCopyJump){var U=T.wrapLatLng(T.unproject(T.project(T.getCenter()).add(B)));T.panTo(U)}else T.panBy(B)}else if(b in this._zoomKeys)T.setZoom(T.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[b]);else if(b===27&&T._popup&&T._popup.options.closeOnEscapeKey)T.closePopup();else return;wi(h)}}});Tn.addInitHook("addHandler","keyboard",Kp),Tn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yp=ls.extend({addHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var b=Rc(h),T=this._map.options.wheelDebounceTime;this._delta+=b,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var B=Math.max(T-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),B),wi(h)},_performZoom:function(){var h=this._map,b=h.getZoom(),T=this._map.options.zoomSnap||0;h._stop();var B=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(B))))/Math.LN2,K=T?Math.ceil(U/T)*T:U,de=h._limitZoom(b+(this._delta>0?K:-K))-b;this._delta=0,this._startTime=null,de&&(h.options.scrollWheelZoom==="center"?h.setZoom(b+de):h.setZoomAround(this._lastMousePos,b+de))}});Tn.addInitHook("addHandler","scrollWheelZoom",Yp);var r0=600;Tn.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var Jp=ls.extend({addHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var b=h.touches[0];this._startPos=this._newPos=new F(b.clientX,b.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ce(document,"touchend",rr),ce(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",b))},this),r0),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Ue(document,"touchend",rr),Ue(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)},_onMove:function(h){var b=h.touches[0];this._newPos=new F(b.clientX,b.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,b){var T=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY});T._simulated=!0,b.target.dispatchEvent(T)}});Tn.addInitHook("addHandler","tapHold",Jp),Tn.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var Qp=ls.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fn(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var b=this._map;if(!(!h.touches||h.touches.length!==2||b._animatingZoom||this._zooming)){var T=b.mouseEventToContainerPoint(h.touches[0]),B=b.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=b.getSize()._divideBy(2),this._startLatLng=b.containerPointToLatLng(this._centerPoint),b.options.touchZoom!=="center"&&(this._pinchStartLatLng=b.containerPointToLatLng(T.add(B)._divideBy(2))),this._startDist=T.distanceTo(B),this._startZoom=b.getZoom(),this._moved=!1,this._zooming=!0,b._stop(),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),rr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var b=this._map,T=b.mouseEventToContainerPoint(h.touches[0]),B=b.mouseEventToContainerPoint(h.touches[1]),U=T.distanceTo(B)/this._startDist;if(this._zoom=b.getScaleZoom(U,this._startZoom),!b.options.bounceAtZoomLimits&&(this._zoom<b.getMinZoom()&&U<1||this._zoom>b.getMaxZoom()&&U>1)&&(this._zoom=b._limitZoom(this._zoom)),b.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var K=T._add(B)._divideBy(2)._subtract(this._centerPoint);if(U===1&&K.x===0&&K.y===0)return;this._center=b.unproject(b.project(this._pinchStartLatLng,this._zoom).subtract(K),this._zoom)}this._moved||(b._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var de=a(b._move,b,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(de,this,!0),rr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tn.addInitHook("addHandler","touchZoom",Qp),Tn.BoxZoom=Ys,Tn.DoubleClickZoom=Xp,Tn.Drag=Zp,Tn.Keyboard=Kp,Tn.ScrollWheelZoom=Yp,Tn.TapHold=Jp,Tn.TouchZoom=Qp,n.Bounds=te,n.Browser=xt,n.CRS=be,n.Canvas=e0,n.Circle=sa,n.CircleMarker=Lc,n.Class=j,n.Control=Ho,n.DivIcon=Qv,n.DivOverlay=la,n.DomEvent=Lp,n.DomUtil=J,n.Draggable=Pl,n.Evented=W,n.FeatureGroup=Xi,n.GeoJSON=cs,n.GridLayer=id,n.Handler=ls,n.Icon=zc,n.ImageOverlay=Ef,n.LatLng=ue,n.LatLngBounds=Q,n.Layer=Vo,n.LayerGroup=cr,n.LineUtil=Wv,n.Map=Tn,n.Marker=wf,n.Mixin=kB,n.Path=Zs,n.Point=F,n.PolyUtil=bf,n.Polygon=Ci,n.Polyline=Ks,n.Popup=Mf,n.PosAnimation=Dp,n.Projection=Xs,n.Rectangle=zl,n.Renderer=us,n.SVG=ad,n.SVGOverlay=Jv,n.TileLayer=Il,n.Tooltip=Af,n.Transformation=rt,n.Util=$,n.VideoOverlay=Yv,n.bind=a,n.bounds=Z,n.canvas=t0,n.circle=Dc,n.circleMarker=r_,n.control=ss,n.divIcon=l_,n.extend=i,n.featureGroup=e_,n.geoJSON=Kv,n.geoJson=EB,n.gridLayer=c_,n.icon=t_,n.imageOverlay=o_,n.latLng=oe,n.latLngBounds=re,n.layerGroup=Q1,n.map=Hv,n.marker=n_,n.point=H,n.polygon=i_,n.polyline=Sf,n.popup=a_,n.rectangle=Uc,n.setOptions=v,n.stamp=c,n.svg=n0,n.svgOverlay=AB,n.tileLayer=Gp,n.tooltip=s_,n.transformation=le,n.version=r,n.videoOverlay=MB;var i0=window.L;n.noConflict=function(){return window.L=i0,this},window.L=n})})(OM,OM.exports);var Sv=OM.exports;const Cv=Qg(Sv);function bP(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function xP(e,t){return t==null?function(r,i){const o=x.useRef();return o.current||(o.current=e(r,i)),o}:function(r,i){const o=x.useRef();o.current||(o.current=e(r,i));const a=x.useRef(r),{instance:s}=o.current;return x.useEffect(function(){a.current!==r&&(t(s,r,a.current),a.current=r)},[s,r,i]),o}}function c1e(e,t){x.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function sV(e){return function(n){const r=vP(),i=e(yP(n,r),r);return rV(r.map,n.attribution),aV(i.current,n.eventHandlers),c1e(i.current,r),i}}function u1e(e,t){const n=xP(e,t),r=sV(n);return o1e(r)}function d1e(e,t){const n=xP(e),r=l1e(n,t);return a1e(r)}function f1e(e,t){const n=xP(e,t),r=sV(n);return s1e(r)}function h1e(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function lV(){return vP().map}function p1e(e){const t=lV();return x.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function FM(){return FM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FM.apply(this,arguments)}function m1e({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:a,style:s,whenReady:c,zoom:u,...d},f){const[p]=x.useState({className:i,id:o,style:s}),[m,g]=x.useState(null);x.useImperativeHandle(f,()=>(m==null?void 0:m.map)??null,[m]);const v=x.useCallback(y=>{if(y!==null&&m===null){const S=new Sv.Map(y,d);n!=null&&u!=null?S.setView(n,u):e!=null&&S.fitBounds(e,t),c!=null&&S.whenReady(c),g(r1e(S))}},[]);x.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const _=m?Hd.createElement(oV,{value:m},r):a??null;return Hd.createElement("div",FM({},p,{ref:v}),_)}const cV=x.forwardRef(m1e),uV=u1e(function({position:t,...n},r){const i=new Sv.Marker(t,n);return bP(i,i1e(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),dV=d1e(function(t,n){const r=new Sv.Popup(t,n.overlayContainer);return bP(r,n)},function(t,n,{position:r},i){x.useEffect(function(){const{instance:a}=t;function s(u){u.popup===a&&(a.update(),i(!0))}function c(u){u.popup===a&&i(!1)}return n.map.on({popupopen:s,popupclose:c}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var d;n.map.off({popupopen:s,popupclose:c}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(a)}},[t,n,i,r])}),fV=f1e(function({url:t,...n},r){const i=new Sv.TileLayer(t,yP(n,r));return bP(i,r)},function(t,n,r){h1e(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});delete Cv.Icon.Default.prototype._getIconUrl;Cv.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const g1e=Tr({mapContainer:{height:"500px",width:"100%",borderRadius:k.borderRadiusMedium,overflow:"hidden"},popupContent:{display:"flex",flexDirection:"column",gap:k.spacingVerticalXS,minWidth:"200px"},popupTitle:{fontWeight:k.fontWeightSemibold},popupText:{fontSize:k.fontSizeBase200}});function v1e({offices:e}){const t=lV();return x.useEffect(()=>{const n=e.filter(i=>i.latitude!==null&&i.latitude!==void 0&&i.longitude!==null&&i.longitude!==void 0);if(n.length===0){t.setView([40.4168,-3.7038],6);return}if(n.length===1){const i=n[0];t.setView([i.latitude,i.longitude],15);return}const r=Cv.latLngBounds(n.map(i=>[i.latitude,i.longitude]));t.fitBounds(r,{padding:[50,50],maxZoom:15})},[t,e]),null}const y1e=({offices:e})=>{const t=g1e(),n=e.filter(o=>o.latitude!==null&&o.latitude!==void 0&&o.longitude!==null&&o.longitude!==void 0),r=[40.4168,-3.7038],i=n.length===0?6:10;return l.jsx("div",{className:t.mapContainer,children:l.jsxs(cV,{center:r,zoom:i,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[l.jsx(fV,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.jsx(v1e,{offices:e}),n.map(o=>l.jsx(uV,{position:[o.latitude,o.longitude],children:l.jsx(dV,{children:l.jsxs("div",{className:t.popupContent,children:[l.jsx(ie,{className:t.popupTitle,children:o.name}),o.fullAddress&&l.jsx(ie,{className:t.popupText,children:o.fullAddress}),o.city&&o.stateProvince&&l.jsxs(ie,{className:t.popupText,children:[o.city,", ",o.stateProvince]}),o.countryName&&l.jsx(ie,{className:t.popupText,children:o.countryName}),o.phone&&l.jsxs(ie,{className:t.popupText,children:["Tel: ",o.phone]}),o.email&&l.jsxs(ie,{className:t.popupText,children:["Email: ",o.email]})]})})},o.id))]})})},b1e=Tr({container:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXL)},header:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},welcomeMessage:{fontSize:"48px",fontWeight:k.fontWeightBold,color:k.colorNeutralForeground1,marginBottom:k.spacingVerticalL,textAlign:"center",padding:k.spacingVerticalXL,backgroundColor:k.colorNeutralBackground2,...it.borderRadius(k.borderRadiusLarge)},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",...it.gap(k.spacingVerticalL)},card:{height:"100%"},numberSkeleton:{width:"80px",height:"48px",marginTop:k.spacingVerticalM},previewContent:{padding:"20px",fontSize:"32px",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60px"},treeCard:{minHeight:"400px"},treeContainer:{padding:k.spacingVerticalL,maxHeight:"600px",overflowY:"auto"},personaContainer:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalS)}}),x1e=()=>{const e=b1e(),{t}=Ri("backoffice"),{userDetails:n,user:r}=Zu(),[i,o]=x.useState(null),[a,s]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[p,m]=x.useState([]),[g,v]=x.useState(!0),[_,y]=x.useState(null),[S,w]=x.useState(!1);x.useEffect(()=>{n?(C(),A()):v(!1)},[n]);const C=async()=>{try{const[D,q,$,j]=await Promise.allSettled([Qxe.getUsers(),In.getAllTenants(),Yt.getAllCustomers(),En.getAllOffices()]);D.status==="fulfilled"?o(D.value.length):(M(D.reason,"users"),o(0)),q.status==="fulfilled"?s(q.value.length):(M(q.reason,"tenants"),s(0)),$.status==="fulfilled"?u($.value.length):(M($.reason,"customers"),u(0)),j.status==="fulfilled"?(f(j.value.length),m(j.value)):(M(j.reason,"offices"),f(0),m([]))}catch(D){D==null||D.statusCode,console.error("Error loading stats:",D),o(0),s(0),u(0),f(0),m([])}finally{v(!1)}},M=(D,q)=>{D==null||D.statusCode,(D==null?void 0:D.statusCode)===403?console.warn(`Access denied to ${q}. Showing 0.`):console.error(`Error loading ${q}:`,D)},A=async()=>{try{w(!0);const[D,q,$,j]=await Promise.allSettled([Yt.getAllCustomers(),In.getAllTenants(),En.getAllOffices(),vn.getAllUsers()]),O=D.status==="fulfilled"?D.value:[],z=q.status==="fulfilled"?q.value:[],W=$.status==="fulfilled"?$.value:[],F=j.status==="fulfilled"?j.value:[],V=new Map,H=W.map(async Z=>{try{const re=(await En.getOfficeUsers(Z.id)).map(ue=>({id:ue.id,email:ue.email,name:ue.name||null,tenantId:ue.tenantId||null,customerId:ue.customerId||null,role:ue.role===1||ue.role==="Admin"?"Admin":"User",contactEmail:ue.contactEmail||null,phone:ue.phone||null,auth0Id:ue.auth0Id||null,createdAt:ue.createdAt,updatedAt:ue.updatedAt,isActive:ue.isActive??!0,isSuspended:ue.isSuspended??!1}));V.set(Z.id,re)}catch(Q){console.warn(`Error loading users for office ${Z.id}:`,Q),V.set(Z.id,[])}});await Promise.allSettled(H),y({customers:O,tenants:z,offices:W,users:F,officeUsersMap:V})}catch(D){console.error("Error loading tree data:",D),y({customers:[],tenants:[],offices:[],users:[],officeUsersMap:new Map})}finally{w(!1)}},E=x.useMemo(()=>{if(!_)return[];const{customers:D,tenants:q,offices:$,officeUsersMap:j}=_,O=W=>{const F=D.filter(te=>te.parentId===W.id),H=q.filter(te=>te.customerId===W.id).map(te=>{const Q=$.filter(re=>re.tenantId===te.id).map(re=>{const ue=j.get(re.id)||[];return{office:re,users:ue}});return{tenant:te,offices:Q}});return{customer:W,children:F.map(O),tenants:H}};return D.filter(W=>!W.parentId||W.parentId===null).map(O)},[_]),I=()=>{if(S)return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXL},children:l.jsx(Cn,{size:"large",label:t("dashboard.loadingHierarchicalStructure")})});if(!_||E.length===0)return l.jsx("div",{style:{padding:k.spacingVerticalXL,textAlign:"center"},children:l.jsx(ie,{children:t("dashboard.noDataAvailable")})});const D=(q,$=0)=>l.jsxs(zm,{itemType:"branch",children:[l.jsx(Im,{iconBefore:l.jsx(Ld,{}),aside:l.jsx(ie,{size:300,children:q.customer.name}),children:l.jsx(ie,{weight:$===0?"semibold":"regular",children:q.customer.name})}),q.children.map(j=>D(j,$+1)),q.tenants.map((j,O)=>l.jsxs(zm,{itemType:"branch",children:[l.jsx(Im,{iconBefore:l.jsx(Ah,{}),aside:l.jsx(ie,{size:300,children:j.tenant.name}),children:l.jsx(ie,{children:j.tenant.name})}),j.offices.map((z,W)=>l.jsxs(zm,{itemType:"branch",children:[l.jsx(Im,{iconBefore:l.jsx(cu,{}),aside:l.jsx(ie,{size:300,children:z.office.name}),children:l.jsx(ie,{children:z.office.name})}),z.users.map((F,V)=>l.jsx(zm,{itemType:"leaf",children:l.jsx(Im,{iconBefore:l.jsx(gl,{}),children:l.jsxs("div",{className:e.personaContainer,children:[l.jsx(Du,{name:F.name||F.email,secondaryText:F.email,size:"extra-small"}),F.role&&l.jsxs(ie,{size:200,style:{marginLeft:k.spacingHorizontalS},children:["(",F.role,")"]})]})})},`user-${F.id}-${V}`))]},`office-${z.office.id}-${W}`))]},`tenant-${j.tenant.id}-${O}`))]},`customer-${q.customer.id}-${$}`);return l.jsx(xH,{"aria-label":"Hierarchical structure of customers, tenants, offices and users",children:E.map((q,$)=>D(q,0))})},P=(()=>{const D=r==null?void 0:r.name;if(D)return D;const q=(r==null?void 0:r.email)||(n==null?void 0:n.email);if(q){const $=q.split("@")[0];return $.charAt(0).toUpperCase()+$.slice(1)}return"User"})();return l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(D9,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("dashboard.title")}),l.jsx(pe,{appearance:"default",icon:l.jsx(Iu,{}),onClick:C,disabled:g,title:t("dashboard.refresh"),children:t("dashboard.refresh")}),l.jsx(pe,{appearance:"default",icon:l.jsx(Iu,{}),onClick:A,disabled:S,title:t("dashboard.refreshTree"),children:t("dashboard.refreshTree")})]}),l.jsx("div",{className:e.welcomeMessage,children:t("dashboard.welcome",{name:P})}),l.jsxs("div",{className:e.statsGrid,children:[l.jsxs(Pr,{className:e.card,children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.customers")}),description:t("dashboard.customersDescription")}),l.jsx(Fa,{children:l.jsx("div",{className:e.previewContent,children:g||c===null?l.jsx(ci,{className:e.numberSkeleton,children:l.jsx(ui,{size:48})}):c})})]}),l.jsxs(Pr,{className:e.card,children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.tenants")}),description:t("dashboard.tenantsDescription")}),l.jsx(Fa,{children:l.jsx("div",{className:e.previewContent,children:g||a===null?l.jsx(ci,{className:e.numberSkeleton,children:l.jsx(ui,{size:48})}):a})})]}),l.jsxs(Pr,{className:e.card,children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.users")}),description:t("dashboard.usersDescription")}),l.jsx(Fa,{children:l.jsx("div",{className:e.previewContent,children:g||i===null?l.jsx(ci,{className:e.numberSkeleton,children:l.jsx(ui,{size:48})}):i})})]}),l.jsxs(Pr,{className:e.card,children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.offices")}),description:t("dashboard.officesDescription")}),l.jsx(Fa,{children:l.jsx("div",{className:e.previewContent,children:g||d===null?l.jsx(ci,{className:e.numberSkeleton,children:l.jsx(ui,{size:48})}):d})})]})]}),l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.officeMap")}),description:t("dashboard.officeMapDescription")}),l.jsx(Fa,{children:l.jsx("div",{style:{padding:"20px"},children:g?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXL},children:l.jsx(Cn,{size:"large",label:t("dashboard.loadingMap")})}):p.length===0?l.jsx(ie,{children:t("dashboard.noOfficesAvailable")}):l.jsx(y1e,{offices:p})})})]}),l.jsxs(Pr,{className:e.treeCard,children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.hierarchicalStructure")}),description:t("dashboard.hierarchicalStructureDescription")}),l.jsx(Fa,{children:l.jsx("div",{className:e.treeContainer,children:I()})})]}),l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("dashboard.recentActivity")}),description:t("dashboard.recentActivityDescription")}),l.jsx(Fa,{children:l.jsx("div",{style:{padding:"20px"},children:g?l.jsx(ki,{rows:5}):l.jsx(ie,{children:t("dashboard.recentActivityEmpty")})})})]})]})},_1e=Tr({skeletonRow:{...it.padding(k.spacingVerticalM,k.spacingHorizontalM)}}),uc=({rows:e=5,columns:t,showHeader:n=!0})=>{const r=_1e();return l.jsxs(Rn,{children:[n&&l.jsx(jn,{children:l.jsx(Mt,{children:Array.from({length:t}).map((i,o)=>l.jsx(we,{children:l.jsx(ci,{children:l.jsx(ui,{size:16})})},o))})}),l.jsx(Bn,{children:Array.from({length:e}).map((i,o)=>l.jsx(Mt,{children:Array.from({length:t}).map((a,s)=>l.jsx(xe,{className:r.skeletonRow,children:l.jsx(ci,{children:l.jsx(ui,{size:16})})},s))},o))})]})},hV=x.createContext(void 0),w1e=({children:e})=>{const[t,n]=x.useState([]),r=x.useCallback(a=>{n(s=>{const c=s.findIndex(u=>u.id===a.id);if(c>=0){const u=[...s];return u[c]=a,u}return[...s,a]})},[]),i=x.useCallback(a=>{n(s=>s.filter(c=>c.id!==a))},[]),o=x.useCallback(()=>{n([])},[]);return l.jsx(hV.Provider,{value:{groups:t,setGroups:n,addGroup:r,removeGroup:i,clearGroups:o},children:e})},Ep=()=>{const e=x.useContext(hV);if(!e)throw new Error("useRibbonMenu must be used within a RibbonMenuProvider");return e},S1e=Tr({ribbonMenu:{height:"60px",backgroundColor:"white",display:"flex",alignItems:"center",borderBottom:`1px solid ${k.colorNeutralStroke1}`,paddingLeft:k.spacingHorizontalM,paddingRight:k.spacingHorizontalM,gap:k.spacingHorizontalXS,margin:0,width:"100%",boxSizing:"border-box"},ribbonContent:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,flex:1},groupContainer:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS,paddingLeft:k.spacingHorizontalM,paddingRight:k.spacingHorizontalM,borderRight:`1px solid ${k.colorNeutralStroke2}`,"&:last-child":{borderRight:"none"}},menuButton:{height:"44px",paddingLeft:k.spacingHorizontalM,paddingRight:k.spacingHorizontalM,borderRadius:0,borderBottom:"3px solid transparent",backgroundColor:"transparent",":hover":{backgroundColor:k.colorNeutralBackground2,borderBottomColor:k.colorNeutralStroke1}},menuButtonActive:{backgroundColor:k.colorNeutralBackground2,borderBottomColor:"#0078d4",color:"#0078d4",fontWeight:k.fontWeightSemibold,":hover":{backgroundColor:k.colorNeutralBackground2,borderBottomColor:"#0078d4"}},fileMenu:{fontWeight:k.fontWeightSemibold}}),Tv=({onMenuToggle:e})=>{var m,g,v,_;const t=S1e(),n=is();El();const{t:r}=Ri("backoffice"),{openSettings:i}=a1(),{groups:o}=Ep(),a=[{id:"file",label:r("ribbonMenu.file"),icon:l.jsx(FN,{}),items:[{label:r("ribbonMenu.new"),action:()=>console.log("New")},{label:r("ribbonMenu.open"),action:()=>console.log("Open")},{label:r("ribbonMenu.save"),action:()=>console.log("Save")},{label:r("ribbonMenu.settings"),action:()=>i()}]},{id:"view",label:r("ribbonMenu.view"),icon:l.jsx(ju,{}),items:[{label:r("ribbonMenu.refresh"),action:()=>window.location.reload()},{label:r("ribbonMenu.toggleSidebar"),action:()=>e==null?void 0:e()}]},{id:"help",label:r("ribbonMenu.help"),icon:l.jsx(Lie,{}),items:[{label:r("ribbonMenu.documentation"),action:()=>console.log("Docs")},{label:r("ribbonMenu.about"),action:()=>console.log("About")}]}],s=y=>y.path?n.pathname===y.path:!1,c=(m=o.find(y=>y.id==="customers"))==null?void 0:m.items.find(y=>y.id==="create"),u=(g=o.find(y=>y.id==="offices"))==null?void 0:g.items.find(y=>y.id==="create"),d=(v=o.find(y=>y.id==="tenants"))==null?void 0:v.items.find(y=>y.id==="create"),f=(_=o.find(y=>y.id==="users"))==null?void 0:_.items.find(y=>y.id==="create"),p=o.map(y=>y.id==="customers"||y.id==="offices"||y.id==="tenants"||y.id==="users"?{...y,items:y.items.filter(S=>S.id!=="create")}:y);return l.jsxs("div",{className:t.ribbonMenu,children:[c&&l.jsx("div",{style:{marginRight:k.spacingHorizontalM},children:l.jsx(pe,{appearance:"primary",shape:"square",size:"large",icon:c.icon,onClick:c.action,disabled:c.disabled,children:c.label})}),u&&l.jsx("div",{style:{marginRight:k.spacingHorizontalM},children:l.jsx(pe,{appearance:"primary",shape:"square",size:"large",icon:u.icon,onClick:u.action,disabled:u.disabled,children:u.label})}),d&&l.jsx("div",{style:{marginRight:k.spacingHorizontalM},children:l.jsx(pe,{appearance:"primary",shape:"square",size:"large",icon:d.icon,onClick:d.action,disabled:d.disabled,children:d.label})}),f&&l.jsx("div",{style:{marginRight:k.spacingHorizontalM},children:l.jsx(pe,{appearance:"primary",shape:"square",size:"large",icon:f.icon,onClick:f.action,disabled:f.disabled,children:f.label})}),a.map(y=>l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",className:Ce(t.menuButton,s(y)&&t.menuButtonActive),children:y.label})}),l.jsx(Tl,{children:l.jsx(Xu,{children:y.items.map((S,w)=>l.jsx(zn,{onClick:S.action,children:S.label},w))})})]},y.id)),p.length>0&&p.some(y=>y.items.length>0)&&l.jsx("div",{className:t.ribbonContent,children:p.filter(y=>y.items.length>0).map(y=>l.jsx("div",{className:t.groupContainer,children:y.items.map(S=>l.jsx(pe,{appearance:"subtle",icon:S.icon,onClick:S.action,disabled:S.disabled,children:S.label},S.id))},y.id))})]})},C1e=Tr({detailsContent:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},formField:{marginBottom:k.spacingVerticalM},tabContent:{padding:k.spacingVerticalL},tableContainer:{marginTop:k.spacingVerticalM},actionBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM,...it.gap(k.spacingHorizontalM)},selectedCount:{color:k.colorNeutralForeground2}});function T1e(e){return e==="Admin"?"Administrador":"Usuario"}const k1e=({user:e,isOpen:t,onClose:n,onUserUpdated:r,isEditMode:i=!1})=>{var je,jt;const o=C1e(),[a,s]=x.useState("details"),[c,u]=x.useState(!1),[d,f]=x.useState(null),[p,m]=x.useState(!1),[g,v]=x.useState({email:"",name:"",role:"User",contactEmail:"",phone:""}),[_,y]=x.useState(!1),[S,w]=x.useState(""),[C,M]=x.useState(""),[A,E]=x.useState(!1),[I,N]=x.useState([]),[P,D]=x.useState([]),[q,$]=x.useState(new Set),[j,O]=x.useState(!1),[z,W]=x.useState(!1),[F,V]=x.useState(""),[H,te]=x.useState([]),[Z,Q]=x.useState([]),[re,ue]=x.useState(new Set),[oe,be]=x.useState(!1),[ke,He]=x.useState(!1),[Je,rt]=x.useState("");x.useEffect(()=>{t&&e&&le()},[t,e]),x.useEffect(()=>{a==="offices"&&I.length===0&&s("details")},[I.length,a]);const le=async()=>{if(e){u(!0),f(null);try{const ve=await vn.getUserById(e.id);v({email:ve.email,name:ve.name||"",role:ve.role,contactEmail:ve.contactEmail||"",phone:ve.phone||""}),y(ve.isActive??!1),w(ve.createdAt),M(ve.updatedAt);const tt=await at();await Ge(),await We(),await $e(tt)}catch(ve){console.error("[UserDetailsView] Error cargando datos:",ve),f(ve.message||"Error al cargar datos del usuario")}finally{u(!1)}}},at=async()=>{if(!e)return[];O(!0);try{const tt=(await vn.getUserTenants(e.id)).map(ze=>({id:ze.id,name:ze.name,customerId:ze.customerId,customerName:ze.customerName,createdAt:ze.createdAt,updatedAt:ze.updatedAt,isActive:ze.isActive,isSuspended:ze.isSuspended}));return N(tt),tt}catch(ve){return console.error("[UserDetailsView] Error cargando tenants:",ve),f(ve.message||"Error al cargar tenants"),[]}finally{O(!1)}},Ge=async()=>{if(e){be(!0);try{const tt=(await vn.getUserOffices(e.id)).map(ze=>({id:ze.id,name:ze.name,tenantId:ze.tenantId,tenantName:ze.tenantName,customerId:ze.customerId,customerName:ze.customerName,address:ze.address,city:ze.city,stateProvince:ze.stateProvince,postalCode:ze.postalCode,phone:ze.phone,email:ze.email,createdAt:ze.createdAt,updatedAt:ze.updatedAt,isActive:ze.isActive,isSuspended:ze.isSuspended}));te(tt)}catch(ve){console.error("[UserDetailsView] Error cargando oficinas:",ve),f(ve.message||"Error al cargar oficinas")}finally{be(!1)}}},We=async()=>{try{const ve=await In.getAllTenants();D(ve)}catch(ve){console.error("[UserDetailsView] Error cargando todos los tenants:",ve)}},$e=async ve=>{try{const tt=ve||I;if(tt.length===0){Q([]);return}const ze=tt.map(Et=>En.getOfficesByTenant(Et.id)),Ve=(await Promise.all(ze)).flat();Q(Ve)}catch(tt){console.error("[UserDetailsView] Error cargando oficinas de los tenants del usuario:",tt),Q([])}},et=async()=>{if(e)try{f(null),m(!0),await vn.updateUser(e.id,{email:g.email,name:g.name||void 0,role:g.role,contactEmail:g.contactEmail||void 0,phone:g.phone||void 0}),await r()}catch(ve){f(ve.message||"Error al guardar cambios")}finally{m(!1)}},Xe=async ve=>{if(e)try{f(null),E(!0),ve?await vn.activateUser(e.id):await vn.suspendUser(e.id),y(ve),await r()}catch(tt){f(tt.message||"Error al actualizar estado"),y(!ve)}finally{E(!1)}},X=ve=>{$(tt=>{const ze=new Set(tt);return ze.has(ve)?ze.delete(ve):ze.add(ve),ze})},Y=()=>{q.size===I.length?$(new Set):$(new Set(I.map(ve=>ve.id)))},me=async()=>{if(!(!e||q.size===0))try{f(null),W(!0);const ve=Array.from(q),ze=H.filter(Et=>ve.includes(Et.tenantId)).map(Et=>vn.removeOfficeFromUser(e.id,Et.id)),nt=ve.map(Et=>vn.removeTenantFromUser(e.id,Et));await Promise.all([...ze,...nt]),$(new Set);const Ve=await at();await Ge(),await $e(Ve),await r()}catch(ve){f(ve.message||"Error al desasignar tenants")}finally{W(!1)}},Ne=async()=>{if(!(!e||!F))try{f(null),W(!0),await vn.assignTenantToUser(e.id,F),V("");const ve=await at();await $e(ve),await r()}catch(ve){f(ve.message||"Error al asignar tenant")}finally{W(!1)}},Re=ve=>{ue(tt=>{const ze=new Set(tt);return ze.has(ve)?ze.delete(ve):ze.add(ve),ze})},Ee=()=>{re.size===H.length?ue(new Set):ue(new Set(H.map(ve=>ve.id)))},Ye=async()=>{if(!(!e||re.size===0))try{f(null),He(!0);const ve=Array.from(re).map(tt=>vn.removeOfficeFromUser(e.id,tt));await Promise.all(ve),ue(new Set),await Ge(),await r()}catch(ve){f(ve.message||"Error al desasignar oficinas")}finally{He(!1)}},Ze=async()=>{if(!(!e||!Je))try{f(null),He(!0),await vn.assignOfficeToUser(e.id,Je),rt(""),await Ge(),await r()}catch(ve){f(ve.message||"Error al asignar oficina")}finally{He(!1)}},st=P.filter(ve=>!I.some(tt=>tt.id===ve.id)),wt=new Set(I.map(ve=>ve.id)),_t=Z.filter(ve=>wt.has(ve.tenantId)&&!H.some(tt=>tt.id===ve.id));return e?l.jsxs(Rr,{position:"end",size:"large",open:t,modalType:"alert",onOpenChange:(ve,tt)=>{tt.open||n()},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":"Cerrar",icon:l.jsx(Gn,{}),onClick:n}),children:i?"Editar Usuario":"Detalles del Usuario"})}),l.jsx(jr,{children:c?l.jsx(ki,{rows:8}):l.jsxs("div",{className:o.detailsContent,children:[d&&l.jsx(bn,{intent:"error",children:l.jsx(xn,{children:d})}),l.jsxs(Ka,{selectedValue:a,onTabSelect:(ve,tt)=>s(tt.value),children:[l.jsx(ur,{value:"details",children:"Detalles"}),l.jsx(ur,{value:"tenants",children:"Tenants"}),I.length>0&&l.jsx(ur,{value:"offices",children:"Sedes"})]}),a==="details"&&l.jsxs("div",{className:o.tabContent,children:[l.jsx(he,{label:"Nombre",className:o.formField,children:l.jsx(ye,{value:g.name,onChange:ve=>v({...g,name:ve.target.value}),readOnly:!i})}),l.jsx(he,{label:"Email de Contacto",className:o.formField,children:l.jsx(ye,{type:"email",value:g.contactEmail,onChange:ve=>v({...g,contactEmail:ve.target.value}),readOnly:!i})}),l.jsx(he,{label:"Telfono",className:o.formField,children:l.jsx(ye,{value:g.phone,onChange:ve=>v({...g,phone:ve.target.value}),readOnly:!i})}),l.jsx(he,{label:"Rol",className:o.formField,children:i?l.jsxs(mu,{value:g.role,onChange:ve=>v({...g,role:ve.target.value}),children:[l.jsx("option",{value:"User",children:"Usuario"}),l.jsx("option",{value:"Admin",children:"Administrador"})]}):l.jsx(ye,{value:T1e(g.role),readOnly:!0})}),l.jsx(he,{label:"Email",required:!0,className:o.formField,children:l.jsx(ye,{type:"email",value:g.email,onChange:ve=>v({...g,email:ve.target.value}),readOnly:!i})}),S&&l.jsxs("div",{style:{marginBottom:k.spacingVerticalM},children:[l.jsx(ie,{size:300,style:{color:k.colorNeutralForeground3,marginBottom:k.spacingVerticalXS},children:"Fecha de Creacin"}),l.jsx(ie,{children:new Date(S).toLocaleString("es-ES")})]}),C&&l.jsxs("div",{style:{marginBottom:k.spacingVerticalM},children:[l.jsx(ie,{size:300,style:{color:k.colorNeutralForeground3,marginBottom:k.spacingVerticalXS},children:"Fecha de Actualizacin"}),l.jsx(ie,{children:new Date(C).toLocaleString("es-ES")})]}),l.jsxs("div",{className:o.formField,children:[l.jsx(Nr,{children:"Estado"}),l.jsx(lc,{checked:_,onChange:(ve,tt)=>Xe(tt.checked??!1),disabled:A,label:_?"Activo":"Inactivo"})]}),i&&l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:n,disabled:p,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:et,disabled:p,children:p?"Guardando...":"Guardar"})]})]}),a==="tenants"&&l.jsxs("div",{className:o.tabContent,children:[l.jsxs("div",{className:o.actionBar,children:[l.jsxs("div",{children:[l.jsx(ln,{placeholder:"Seleccionar tenant para agregar",value:F&&((je=st.find(ve=>ve.id===F))==null?void 0:je.name)||"",onOptionSelect:(ve,tt)=>{const ze=st.find(nt=>nt.name===tt.optionValue);ze&&V(ze.id)},style:{width:"300px"},children:st.map(ve=>l.jsxs(Jt,{value:ve.name,children:[ve.name," ",ve.customerName?`(${ve.customerName})`:""]},ve.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Ne,disabled:!F||z,style:{marginLeft:k.spacingHorizontalM},children:"Agregar"})]}),q.size>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM},children:[l.jsxs("span",{className:o.selectedCount,children:[q.size," seleccionado(s)"]}),l.jsx(pe,{appearance:"secondary",icon:l.jsx(Xa,{}),onClick:me,disabled:z,children:"Desasignar Seleccionados"})]})]}),j?l.jsx(Cn,{label:"Cargando tenants..."}):l.jsx("div",{className:o.tableContainer,children:I.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx("p",{children:"No hay tenants asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"50px"},children:l.jsx(ho,{checked:q.size===I.length&&I.length>0,onChange:Y})}),l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Cliente"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:I.map(ve=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ho,{checked:q.has(ve.id),onChange:()=>X(ve.id)})}),l.jsx(xe,{children:ve.name}),l.jsx(xe,{children:ve.customerName||"N/A"}),l.jsx(xe,{children:ve.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):ve.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})]},ve.id))})]})})]}),a==="offices"&&l.jsxs("div",{className:o.tabContent,children:[l.jsxs("div",{className:o.actionBar,children:[l.jsxs("div",{children:[l.jsx(ln,{placeholder:"Seleccionar sede para agregar",value:Je&&((jt=_t.find(ve=>ve.id===Je))==null?void 0:jt.name)||"",onOptionSelect:(ve,tt)=>{const ze=_t.find(nt=>nt.name===tt.optionValue);ze&&rt(ze.id)},style:{width:"300px"},children:_t.map(ve=>l.jsxs(Jt,{value:ve.name,children:[ve.name," ",ve.city?`(${ve.city})`:""," - ",ve.tenantName||"N/A"]},ve.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Ze,disabled:!Je||ke,style:{marginLeft:k.spacingHorizontalM},children:"Agregar"})]}),re.size>0&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM},children:[l.jsxs("span",{className:o.selectedCount,children:[re.size," seleccionada(s)"]}),l.jsx(pe,{appearance:"secondary",icon:l.jsx(Xa,{}),onClick:Ye,disabled:ke,children:"Desasignar Seleccionadas"})]})]}),oe?l.jsx(Cn,{label:"Cargando sedes..."}):l.jsx("div",{className:o.tableContainer,children:H.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx("p",{children:"No hay sedes asignadas"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"50px"},children:l.jsx(ho,{checked:re.size===H.length&&H.length>0,onChange:Ee})}),l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Ciudad"}),l.jsx(we,{children:"Tenant"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:H.map(ve=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ho,{checked:re.has(ve.id),onChange:()=>Re(ve.id)})}),l.jsx(xe,{children:ve.name}),l.jsx(xe,{children:ve.city||"N/A"}),l.jsx(xe,{children:ve.tenantName||"N/A"}),l.jsx(xe,{children:ve.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendida"}):ve.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activa"}):l.jsx(Ke,{appearance:"outline",children:"Inactiva"})})]},ve.id))})]})})]})]})})]}):null};function GI(e){return e==="Admin"?"Administrator":"User"}const E1e=Tr({container:{display:"flex",flexDirection:"column",...it.gap(0),margin:0,padding:0},ribbonMenuContainer:{marginLeft:`calc(-1 * ${k.spacingVerticalXL})`,marginRight:`calc(-1 * ${k.spacingVerticalXL})`,marginTop:`calc(-1 * ${k.spacingVerticalXL})`,marginBottom:k.spacingVerticalL,width:`calc(100% + ${k.spacingVerticalXL} * 2)`},header:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},toolbar:{display:"flex",width:"100%",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalL},detailsContent:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},formField:{marginBottom:k.spacingVerticalM}}),M1e=()=>{var Pn,qr,ne,_e,Ae,se,ge;const e=E1e(),{t}=Ri("backoffice"),{addGroup:n,removeGroup:r}=Ep(),{userDetails:i}=Zu(),o=dv(),[a,s]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[p,m]=x.useState({}),[g,v]=x.useState({}),[_,y]=x.useState({}),[S,w]=x.useState(!1),[C,M]=x.useState(null),[A,E]=x.useState(""),[I,N]=x.useState(null),[P,D]=x.useState(!1),[q,$]=x.useState(!1),[j,O]=x.useState(!1),[z,W]=x.useState(!1),[F,V]=x.useState(!1),[H,te]=x.useState(!1),[Z,Q]=x.useState(!1),[re,ue]=x.useState(!1),[oe,be]=x.useState(!1),[ke,He]=x.useState(!1),[Je,rt]=x.useState(!1),[le,at]=x.useState(!1),[Ge,We]=x.useState(null),[$e,et]=x.useState(!1),[Xe,X]=x.useState(""),[Y,me]=x.useState(!1),[Ne,Re]=x.useState(!1),[Ee,Ye]=x.useState(null),[Ze,st]=x.useState(""),[wt,_t]=x.useState(""),[je,jt]=x.useState([]),[ve,tt]=x.useState(!1),[ze,nt]=x.useState(!1),[Ve,Et]=x.useState([]),[Zt,Dt]=x.useState([]),dt=x.useRef(!1),G=x.useRef(!1),Pe=x.useCallback(async()=>{if(!dt.current)try{dt.current=!0,w(!0),M(null);const ae=await vn.getAllUsers();s(ae)}catch(ae){console.error("[UsersPage] Error cargando usuarios:",ae),M(ae.message||"Error al cargar usuarios")}finally{w(!1),dt.current=!1}},[]),qe=x.useCallback(async()=>{try{const ae=await In.getAllTenants();u(ae)}catch(ae){console.error("[UsersPage] Error loading tenants:",ae)}},[]),Bt=x.useCallback(async()=>{try{const ae=await Yt.getAllCustomers();f(ae);const Le={};ae.forEach(De=>{Le[De.id]=De.name}),m(Le)}catch(ae){console.error("[UsersPage] Error loading customers:",ae)}},[]),Tt=x.useCallback(async ae=>{try{const[Le,De]=await Promise.all([vn.getUserOffices(ae),vn.getUserTenants(ae)]),ht=Le.map(yt=>({id:yt.id,name:yt.name,tenantId:yt.tenantId,tenantName:yt.tenantName,customerId:yt.customerId,customerName:yt.customerName,address:yt.address,city:yt.city,stateProvince:yt.stateProvince,postalCode:yt.postalCode,phone:yt.phone,email:yt.email,createdAt:yt.createdAt,updatedAt:yt.updatedAt,isActive:yt.isActive,isSuspended:yt.isSuspended})),Gt=De.map(yt=>({id:yt.id,name:yt.name,customerId:yt.customerId,customerName:yt.customerName,createdAt:yt.createdAt,updatedAt:yt.updatedAt,isActive:yt.isActive,isSuspended:yt.isSuspended}));v(yt=>({...yt,[ae]:ht})),y(yt=>({...yt,[ae]:Gt}))}catch(Le){console.error("[UsersPage] Error loading user associations:",Le),v(De=>({...De,[ae]:[]})),y(De=>({...De,[ae]:[]}))}},[]);x.useEffect(()=>{!dt.current&&!G.current&&(G.current=!0,Pe(),qe(),Bt())},[Pe,qe,Bt]),x.useEffect(()=>{a.length>0&&a.forEach(ae=>{Tt(ae.id)})},[a,Tt]),x.useEffect(()=>(n({id:"users",label:"Users",icon:l.jsx(gl,{}),items:[{id:"create",label:t("ribbonBar.new"),icon:l.jsx(Wr,{}),action:()=>{Vt({email:"",name:"",role:"User",tenantId:"",customerId:"",officeId:"",contactEmail:"",phone:"",auth0Id:""}),D(!0)}}]}),()=>{r("users")}),[n,r]);const[bt,Vt]=x.useState({email:"",name:"",role:"User",tenantId:"",customerId:"",officeId:"",contactEmail:"",phone:"",auth0Id:""}),qn=A.trim()===""?a:a.filter(ae=>{var Le;return ae.email.toLowerCase().includes(A.toLowerCase())||(((Le=ae.name)==null?void 0:Le.toLowerCase().includes(A.toLowerCase()))??!1)||ae.role.toLowerCase().includes(A.toLowerCase())}),Ln=async ae=>{N(ae),be(!0),ue(!0)},pn=async()=>{var ae;if(!bt.email.trim()){M("Email is required");return}try{M(null),$(!0);const Le={...bt,auth0Id:((ae=bt.auth0Id)==null?void 0:ae.trim())||void 0};await vn.createUser(Le),D(!1),$(!1),Dt([]),Vt({email:"",name:"",role:"User",tenantId:"",customerId:"",officeId:"",contactEmail:"",phone:"",auth0Id:""}),await Pe()}catch(Le){M(Le.message||"Error creating user"),$(!1)}},Hn=async()=>{if(!I||!bt.email.trim()){M("Email is required");return}try{M(null),W(!0),await vn.updateUser(I.id,{...bt,officeId:bt.officeId||void 0}),O(!1),N(null),W(!1),Et([]),Vt({email:"",name:"",role:"User",tenantId:"",customerId:"",officeId:"",contactEmail:"",phone:"",auth0Id:""}),await Pe()}catch(ae){M(ae.message||"Error saving user"),W(!1)}},fr=ae=>{N(ae),V(!0)},di=async()=>{if(I)try{await vn.deleteUser(I.id),V(!1),N(null),await Pe()}catch(ae){M(ae.message||"Error deleting user")}},kr=async ae=>{try{await vn.suspendUser(ae.id),await Pe()}catch(Le){M(Le.message||"Error suspending user")}},xt=async ae=>{try{await vn.activateUser(ae.id),await Pe()}catch(Le){M(Le.message||"Error activating user")}},Ur=ae=>{N(ae),be(!1),ue(!0)},An=async()=>{if(!I||!Xe){M("Must select a customer");return}if(Xe===I.customerId){M("Selected customer is the same as the current one");return}try{M(null),me(!0);const ae=await Yt.getCustomerTenants(Xe),Le=ae.length>0?ae[0].id:"",De=await En.getOfficesByCustomer(Xe),ht=De.length>0&&De[0].tenantId?De[0].tenantId:Le;await vn.updateUser(I.id,{email:I.email,name:I.name||"",role:I.role,customerId:Xe,tenantId:ht,contactEmail:I.contactEmail||"",phone:I.phone||""}),et(!1),N(null),X(""),await Pe(),me(!1)}catch(ae){M(ae.message||"Error changing user customer"),me(!1)}},Vn=async ae=>{st(ae),_t("");try{const Le=await En.getOfficesByTenant(ae);jt(Le)}catch(Le){console.error("[UsersPage] Error loading offices:",Le),jt([])}},Yr=async()=>{if(!Ee||!Ze){M("Must select a tenant");return}try{M(null),tt(!0);const ae=c.find(Le=>Le.id===Ze);if(!ae){M("Tenant not found"),tt(!1);return}await vn.updateUser(Ee.id,{email:Ee.email,name:Ee.name||"",role:Ee.role,tenantId:Ze,customerId:ae.customerId||Ee.customerId||"",officeId:wt||void 0,contactEmail:Ee.contactEmail||"",phone:Ee.phone||""}),Re(!1),Ye(null),st(""),_t(""),jt([]),await Pe(),tt(!1)}catch(ae){M(ae.message||"Error assigning tenant and office"),tt(!1)}},Er=async()=>{var ae,Le;if(!Ee){M("No user selected");return}try{M(null),nt(!0);const De=await gP.getAllCountries();if(De.length===0){M("No countries available. Please contact administrator."),nt(!1);return}const ht=De[0],Gt=Ee.name||Ee.email.split("@")[0],yt=`USER-${Ee.id.substring(0,8).toUpperCase()}`,St=await Yt.createCustomer({name:`${Gt} - Default Customer`,identification:yt,countryId:ht.id,email:Ee.contactEmail||Ee.email,phone:Ee.phone});let rn;if(St&&typeof St=="object"&&"customer"in St)rn=St.customer;else if(St&&typeof St=="object"&&"id"in St)rn=St;else{M("Error creating customer: invalid server response"),nt(!1);return}if(!rn||!rn.id){M("Error creating customer: no valid ID received"),nt(!1);return}let $t=null;if((ae=St==null?void 0:St.tenant)!=null&&ae.id)$t=St.tenant;else{const en=await Yt.getCustomerTenants(rn.id);if(en.length===0){M("Could not create default tenant"),nt(!1);return}$t=en[0]}if(!$t||!$t.id){M("Could not get created tenant"),nt(!1);return}let nn=null;if((Le=St==null?void 0:St.office)!=null&&Le.id)nn=St.office;else{const en=await En.getOfficesByTenant($t.id);en.length>0&&(nn=en[0])}await vn.updateUser(Ee.id,{email:Ee.email,name:Ee.name||"",role:Ee.role,tenantId:$t.id,customerId:rn.id,officeId:(nn==null?void 0:nn.id)||void 0,contactEmail:Ee.contactEmail||"",phone:Ee.phone||""});const tr=Ee.id;await Pe(),await qe(),await Bt(),await Tt(tr),Re(!1),Ye(null),st(""),_t(""),jt([]),nt(!1)}catch(De){M(De.message||"Error al inicializar por defecto"),nt(!1)}};return x.useEffect(()=>{if(H){Q(!0);const ae=setTimeout(()=>{Q(!1)},300);return()=>clearTimeout(ae)}else Q(!1)},[H]),x.useEffect(()=>{if(P){He(!0);const ae=setTimeout(()=>{He(!1)},200);return()=>clearTimeout(ae)}else He(!1)},[P]),x.useEffect(()=>{if(j){rt(!0);const ae=setTimeout(()=>{rt(!1)},300);return()=>clearTimeout(ae)}else rt(!1)},[j]),S&&a.length===0?l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(gl,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("users.title")})]}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("users.searchPlaceholder"),disabled:!0,size:"large",style:{width:"100%"}})})}),l.jsx(Pr,{children:l.jsx(uc,{rows:8,columns:6})})]}):l.jsxs("div",{className:e.container,children:[l.jsx("div",{className:e.ribbonMenuContainer,children:l.jsx(Tv,{})}),l.jsxs("div",{className:e.header,children:[l.jsx(gl,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("users.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("users.searchPlaceholder"),value:A,onChange:(ae,Le)=>E(Le.value),size:"large",style:{width:"100%"}})}),l.jsx(pe,{appearance:"default",icon:l.jsx(Iu,{}),onClick:Pe,disabled:S,title:t("users.refreshTitle"),children:t("users.refresh")})]}),l.jsx(Pr,{children:l.jsx(Fa,{children:l.jsxs("div",{style:{padding:k.spacingVerticalXL},children:[C&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:C.startsWith("common.")||C.startsWith("users.")||C.startsWith("customers.")||C.startsWith("offices.")||C.startsWith("subscriptions.")?t(C):C})}),l.jsxs("div",{style:{position:"relative"},children:[S&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(Cn,{size:"large",label:t("users.loadingUsers")})}),qn.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:t("users.noUsersFound")})}):l.jsxs(Rn,{style:{tableLayout:"auto",width:"100%"},children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("users.name")}),l.jsx(we,{children:t("users.phone")}),l.jsx(we,{children:t("users.tenants")}),l.jsx(we,{children:t("users.offices")}),l.jsx(we,{children:t("users.role")}),l.jsx(we,{children:t("users.status")}),l.jsx(we,{children:t("users.auth0Id")}),l.jsx(we,{children:t("users.creationDate")}),l.jsx(we,{children:t("users.actions")})]})}),l.jsx(Bn,{children:qn.map(ae=>{const Le=g[ae.id]||[],De=_[ae.id]||[];return l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(Du,{name:ae.name||ae.email,secondaryText:ae.contactEmail||void 0})}),l.jsx(xe,{children:ae.phone||t("common.notAvailable")}),l.jsx(xe,{children:De.length>0?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:De.length,size:"medium",appearance:"filled",color:De.length===0?"informative":"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:t("users.associatedTenants")}),l.jsx(qi,{children:l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto"},children:l.jsxs(Rn,{size:"small",children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("users.name")}),l.jsx(we,{children:t("users.customerDetails")})]})}),l.jsx(Bn,{children:De.map(ht=>l.jsxs(Mt,{children:[l.jsx(xe,{children:ht.name}),l.jsx(xe,{children:ht.customerName||"N/A"})]},ht.id))})]})})})]})]}):l.jsx(pe,{appearance:"subtle",icon:l.jsx(jg,{}),onClick:()=>{M(null),Ye(ae),st(""),_t(""),jt([]),Re(!0)},title:"Assign office and tenant"})}),l.jsx(xe,{children:Le.length>0?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:Le.length,size:"medium",appearance:"filled",color:Le.length===0?"informative":"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:t("users.associatedOffices")}),l.jsx(qi,{children:l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:Le.map(ht=>l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalXS},children:[l.jsx(ie,{weight:"semibold",children:ht.name}),l.jsxs(ie,{size:200,style:{color:k.colorNeutralForeground2},children:[ht.city||"N/A","  ",ht.tenantName||"N/A"]})]},ht.id))})})]})]}):l.jsx(pe,{appearance:"subtle",icon:l.jsx(jg,{}),onClick:()=>{M(null),Ye(ae),st(""),_t(""),jt([]),Re(!0)},title:"Assign office and tenant"})}),l.jsx(xe,{children:l.jsx(Ke,{appearance:ae.role==="Admin"?"filled":"outline",color:ae.role==="Admin"?"brand":"neutral",children:GI(ae.role)})}),l.jsx(xe,{children:ae.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspended"}):ae.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Active"}):l.jsx(Ke,{appearance:"outline",children:"Inactive"})}),l.jsx(xe,{children:ae.auth0Id||"N/A"}),l.jsx(xe,{children:new Date(ae.createdAt).toLocaleDateString()}),l.jsx(xe,{children:l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(pv,{}),"aria-label":"More actions"})}),l.jsx(Tl,{children:l.jsxs(Xu,{children:[l.jsx(zn,{icon:l.jsx(ju,{}),onClick:()=>Ur(ae),children:t("users.viewDetails")}),l.jsx(zn,{icon:l.jsx(zd,{}),onClick:()=>Ln(ae),children:"Edit"}),ae.isSuspended?l.jsx(zn,{icon:l.jsx(mv,{}),onClick:()=>xt(ae),children:"Activate"}):l.jsx(zn,{icon:l.jsx(gv,{}),onClick:()=>kr(ae),children:"Suspend"}),ae.id!==(i==null?void 0:i.id)&&l.jsx(zn,{icon:l.jsx(Xa,{}),onClick:()=>fr(ae),children:"Delete"})]})})]})})]},ae.id)})})]})]})]})})}),l.jsxs(Rr,{...o,position:"end",size:"large",open:P,modalType:"alert",onOpenChange:(ae,Le)=>{D(Le.open),Le.open||Dt([])},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>D(!1)}),children:t("users.newUser")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:ke||q?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("users.email"),required:!0,className:e.formField,children:l.jsx(ye,{type:"email",value:bt.email,onChange:ae=>Vt({...bt,email:ae.target.value})})}),l.jsx(he,{label:t("users.name"),className:e.formField,children:l.jsx(ye,{value:bt.name,onChange:ae=>Vt({...bt,name:ae.target.value})})}),l.jsx(he,{label:t("users.role"),className:e.formField,children:l.jsxs(mu,{value:bt.role,onChange:ae=>Vt({...bt,role:ae.target.value}),children:[l.jsx("option",{value:"User",children:t("users.user")}),l.jsx("option",{value:"Admin",children:t("users.administrator")})]})}),l.jsx(he,{label:t("users.tenants"),className:e.formField,children:l.jsx(ln,{value:bt.tenantId&&((Pn=c.find(ae=>ae.id===bt.tenantId))==null?void 0:Pn.name)||"",onOptionSelect:async(ae,Le)=>{const De=c.find(ht=>ht.name===Le.optionValue);if(De){Vt({...bt,tenantId:De.id,officeId:""});try{const ht=await En.getOfficesByTenant(De.id);Dt(ht)}catch(ht){console.error("[UsersPage] Error loading offices:",ht),Dt([])}}},children:c.map(ae=>l.jsx(Jt,{value:ae.name,children:ae.name},ae.id))})}),bt.tenantId&&l.jsx(he,{label:t("users.offices"),className:e.formField,children:l.jsx(ln,{value:bt.officeId&&((qr=Zt.find(ae=>ae.id===bt.officeId))==null?void 0:qr.name)||"",onOptionSelect:(ae,Le)=>{const De=Zt.find(ht=>ht.name===Le.optionValue);De&&Vt({...bt,officeId:De.id})},children:Zt.length>0?Zt.map(ae=>l.jsxs(Jt,{value:ae.name,children:[ae.name," ",ae.city?`- ${ae.city}`:""]},ae.id)):l.jsx(Jt,{value:"",disabled:!0,children:t("users.noOfficesForTenant")})})}),l.jsx(he,{label:t("users.contactEmail"),className:e.formField,children:l.jsx(ye,{type:"email",value:bt.contactEmail,onChange:ae=>Vt({...bt,contactEmail:ae.target.value})})}),l.jsx(he,{label:t("users.auth0IdOptional"),className:e.formField,children:l.jsx(ye,{value:bt.auth0Id,onChange:ae=>Vt({...bt,auth0Id:ae.target.value}),placeholder:t("users.auth0IdPlaceholder")})}),l.jsx(he,{label:t("users.phone"),className:e.formField,children:l.jsx(ye,{value:bt.phone,onChange:ae=>Vt({...bt,phone:ae.target.value})})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>D(!1),disabled:q,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:pn,disabled:q,children:t(q?"common.creating":"common.create")})]})]})})})]}),l.jsxs(Rr,{...o,position:"end",size:"large",open:j,modalType:"alert",onOpenChange:(ae,Le)=>{O(Le.open),Le.open||Et([])},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>O(!1)}),children:t("common.editUser")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Je||z?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("users.email"),required:!0,className:e.formField,children:l.jsx(ye,{type:"email",value:bt.email,onChange:ae=>Vt({...bt,email:ae.target.value})})}),l.jsx(he,{label:t("users.name"),className:e.formField,children:l.jsx(ye,{value:bt.name,onChange:ae=>Vt({...bt,name:ae.target.value})})}),l.jsx(he,{label:t("users.role"),className:e.formField,children:l.jsxs(mu,{value:bt.role,onChange:ae=>Vt({...bt,role:ae.target.value}),children:[l.jsx("option",{value:"User",children:t("users.user")}),l.jsx("option",{value:"Admin",children:t("users.administrator")})]})}),l.jsx(he,{label:t("users.tenants"),className:e.formField,children:l.jsx(ln,{value:bt.tenantId&&((ne=c.find(ae=>ae.id===bt.tenantId))==null?void 0:ne.name)||"",onOptionSelect:async(ae,Le)=>{const De=c.find(ht=>ht.name===Le.optionValue);if(De){Vt({...bt,tenantId:De.id,officeId:""});try{const ht=await En.getOfficesByTenant(De.id);Et(ht),ht.length>0&&Vt(Gt=>({...Gt,tenantId:De.id,officeId:ht[0].id}))}catch(ht){console.error("[UsersPage] Error loading offices:",ht),Et([])}}},children:c.map(ae=>l.jsx(Jt,{value:ae.name,children:ae.name},ae.id))})}),bt.tenantId&&l.jsx(he,{label:t("users.offices"),className:e.formField,children:l.jsx(ln,{value:bt.officeId&&((_e=Ve.find(ae=>ae.id===bt.officeId))==null?void 0:_e.name)||"",onOptionSelect:(ae,Le)=>{const De=Ve.find(ht=>ht.name===Le.optionValue);De&&Vt({...bt,officeId:De.id})},children:Ve.length>0?Ve.map(ae=>l.jsxs(Jt,{value:ae.name,children:[ae.name," ",ae.city?`- ${ae.city}`:""]},ae.id)):l.jsx(Jt,{value:"",disabled:!0,children:t("users.noOfficesForTenant")})})}),l.jsx(he,{label:t("users.contactEmail"),className:e.formField,children:l.jsx(ye,{type:"email",value:bt.contactEmail,onChange:ae=>Vt({...bt,contactEmail:ae.target.value})})}),l.jsx(he,{label:t("users.auth0Id"),className:e.formField,children:l.jsx(ye,{value:bt.auth0Id,readOnly:!0,placeholder:"auth0|..."})}),l.jsx(he,{label:t("users.phone"),className:e.formField,children:l.jsx(ye,{value:bt.phone,onChange:ae=>Vt({...bt,phone:ae.target.value})})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>O(!1),disabled:z,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:Hn,disabled:z,children:t(z?"common.saving":"common.save")})]})]})})})]}),l.jsx(Qn,{open:F,onOpenChange:(ae,Le)=>V(Le.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Confirm deletion"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs(ie,{children:['Are you sure you want to delete the user "',(I==null?void 0:I.name)||(I==null?void 0:I.email),'"? This action cannot be undone.']})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>V(!1),children:"Cancel"}),l.jsx(pe,{appearance:"primary",onClick:di,children:"Delete"})]})]})}),l.jsxs(Rr,{...o,position:"end",size:"large",open:H,modalType:"alert",onOpenChange:(ae,Le)=>te(Le.open),children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":"Close",icon:l.jsx(Gn,{}),onClick:()=>{te(!1),N(null)}}),children:"User Details"})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Z?l.jsx(ki,{rows:8}):I?l.jsxs(l.Fragment,{children:[l.jsx(he,{label:"Email",className:e.formField,children:l.jsx(ye,{value:I.email,readOnly:!0})}),l.jsx(he,{label:"Name",className:e.formField,children:l.jsx(ye,{value:I.name||"N/A",readOnly:!0})}),l.jsx(he,{label:"Role",className:e.formField,children:l.jsx(ye,{value:GI(I.role),readOnly:!0})}),l.jsx(he,{label:"Status",className:e.formField,children:l.jsx("div",{children:I.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspended"}):I.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Active"}):l.jsx(Ke,{appearance:"outline",children:"Inactive"})})}),l.jsx(he,{label:"Contact Email",className:e.formField,children:l.jsx(ye,{value:I.contactEmail||"N/A",readOnly:!0})}),l.jsx(he,{label:"Auth0 ID",className:e.formField,children:l.jsx(ye,{value:I.auth0Id||"N/A",readOnly:!0})}),l.jsx(he,{label:"Phone",className:e.formField,children:l.jsx(ye,{value:I.phone||"N/A",readOnly:!0})}),l.jsx(he,{label:"Created",className:e.formField,children:l.jsx(ye,{value:new Date(I.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:"Updated",className:e.formField,children:l.jsx(ye,{value:new Date(I.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>te(!1),children:"Close"})})]}):null})})]}),l.jsxs(Rr,{...o,position:"end",size:"large",open:le,modalType:"alert",onOpenChange:(ae,Le)=>{Le.open===!1?(at(!1),We(null)):at(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{at(!1),We(null)}}),children:t("customers.details")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Ge&&l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("customers.name"),className:e.formField,children:l.jsx(ye,{value:Ge.name,readOnly:!0})}),l.jsx(he,{label:t("customers.identification"),className:e.formField,children:l.jsx(ye,{value:Ge.identification,readOnly:!0})}),l.jsx(he,{label:t("customers.country"),className:e.formField,children:l.jsx(ye,{value:Ge.countryName||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:Ge.stateProvince||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:Ge.city||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:Ge.phone||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{value:Ge.email||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("customers.status"),className:e.formField,children:l.jsx("div",{children:Ge.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:t("common.suspended")}):Ge.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:t("common.active")}):l.jsx(Ke,{appearance:"outline",children:t("common.inactive")})})}),l.jsx(he,{label:t("customers.tenants"),className:e.formField,children:l.jsx(ye,{value:String(Ge.tenantCount||0),readOnly:!0})}),l.jsx(he,{label:t("customers.users"),className:e.formField,children:l.jsx(ye,{value:String(Ge.userCount||0),readOnly:!0})}),l.jsx(he,{label:t("common.created"),className:e.formField,children:l.jsx(ye,{value:new Date(Ge.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:t("common.updated"),className:e.formField,children:l.jsx(ye,{value:new Date(Ge.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>at(!1),children:t("common.close")})})]})})})]}),l.jsx(Qn,{open:$e,onOpenChange:(ae,Le)=>et(Le.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Change User Customer"}),l.jsx(ir,{children:l.jsxs($r,{children:[l.jsxs(ie,{children:['Select a new customer for user "',(I==null?void 0:I.name)||(I==null?void 0:I.email),'". When changing the customer, the associated office and tenant will also be updated.']}),l.jsx(he,{label:"Customer",required:!0,className:e.formField,style:{marginTop:k.spacingVerticalM},children:l.jsx(ln,{value:((Ae=d.find(ae=>ae.id===Xe))==null?void 0:Ae.name)||"",onOptionSelect:(ae,Le)=>{const De=d.find(ht=>ht.name===Le.optionValue);De&&X(De.id)},children:d.map(ae=>l.jsx(Jt,{value:ae.name,children:ae.name},ae.id))})}),(I==null?void 0:I.customerId)&&p[I.customerId]&&l.jsxs(ie,{size:300,style:{marginTop:k.spacingVerticalS,color:k.colorNeutralForeground3},children:["Current customer: ",p[I.customerId]]})]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{et(!1),X("")},disabled:Y,children:"Cancel"}),l.jsx(pe,{appearance:"primary",onClick:An,disabled:Y||!Xe,children:Y?"Changing...":"Change Customer"})]})]})}),l.jsxs(Rr,{...o,position:"end",size:"large",open:Ne,modalType:"alert",onOpenChange:(ae,Le)=>{Re(Le.open),Le.open||(Ye(null),st(""),_t(""),jt([]))},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>Re(!1)}),children:t("users.assignTenantAndOffice")})}),l.jsx(jr,{children:l.jsxs("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:[C&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:C.startsWith("common.")||C.startsWith("users.")||C.startsWith("customers.")||C.startsWith("offices.")||C.startsWith("subscriptions.")?t(C):C})}),Ee&&l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("users.user"),className:e.formField,children:l.jsx(ye,{value:Ee.name||Ee.email,readOnly:!0})}),l.jsxs("div",{style:{marginBottom:k.spacingVerticalM},children:[l.jsx(pe,{appearance:"secondary",icon:l.jsx(Eie,{}),onClick:Er,disabled:ze||ve,style:{width:"100%"},children:t(ze?"users.initializing":"users.initializeDefault")}),l.jsx(ie,{size:300,style:{marginTop:k.spacingVerticalS,color:k.colorNeutralForeground3,display:"block"},children:t("users.initializeDefaultDescription")})]}),l.jsx(he,{label:t("users.tenants"),required:!0,className:e.formField,children:l.jsx(ln,{value:Ze&&((se=c.find(ae=>ae.id===Ze))==null?void 0:se.name)||"",onOptionSelect:(ae,Le)=>{const De=c.find(ht=>ht.name===Le.optionValue);De&&Vn(De.id)},children:c.map(ae=>l.jsx(Jt,{value:ae.name,children:ae.name},ae.id))})}),Ze&&l.jsx(he,{label:t("users.offices"),className:e.formField,children:l.jsx(ln,{value:wt&&((ge=je.find(ae=>ae.id===wt))==null?void 0:ge.name)||"",onOptionSelect:(ae,Le)=>{const De=je.find(ht=>ht.name===Le.optionValue);De&&_t(De.id)},children:je.length>0?je.map(ae=>l.jsxs(Jt,{value:ae.name,children:[ae.name," ",ae.city?`- ${ae.city}`:""]},ae.id)):l.jsx(Jt,{value:"",disabled:!0,children:t("users.noOfficesForTenant")})})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>Re(!1),disabled:ve||ze,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:Yr,disabled:ve||ze||!Ze,children:t(ve?"users.assigning":"users.assign")})]})]})]})})]}),l.jsx(k1e,{user:I,isOpen:re,onClose:()=>{ue(!1),N(null),be(!1)},onUserUpdated:async()=>{await Pe(),I&&await Tt(I.id)},isEditMode:oe})]})};function bi(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=bi(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var A1e={value:()=>{}};function l1(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vy(n)}function Vy(e){this._=e}function N1e(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vy.prototype=l1.prototype={constructor:Vy,on:function(e,t){var n=this._,r=N1e(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=P1e(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=$I(n[i],e.name,t);else if(t==null)for(i in n)n[i]=$I(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Vy(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function P1e(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function $I(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=A1e,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var UM="http://www.w3.org/1999/xhtml";const XI={svg:"http://www.w3.org/2000/svg",xhtml:UM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function c1(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),XI.hasOwnProperty(t)?{space:XI[t],local:e}:e}function B1e(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===UM&&t.documentElement.namespaceURI===UM?t.createElement(e):t.createElementNS(n,e)}}function R1e(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function pV(e){var t=c1(e);return(t.local?R1e:B1e)(t)}function j1e(){}function _P(e){return e==null?j1e:function(){return this.querySelector(e)}}function I1e(e){typeof e!="function"&&(e=_P(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),c,u,d=0;d<a;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),s[d]=u);return new Aa(r,this._parents)}function z1e(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function L1e(){return[]}function mV(e){return e==null?L1e:function(){return this.querySelectorAll(e)}}function D1e(e){return function(){return z1e(e.apply(this,arguments))}}function O1e(e){typeof e=="function"?e=D1e(e):e=mV(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&(r.push(e.call(c,c.__data__,u,a)),i.push(c));return new Aa(r,i)}function gV(e){return function(){return this.matches(e)}}function vV(e){return function(t){return t.matches(e)}}var F1e=Array.prototype.find;function U1e(e){return function(){return F1e.call(this.children,e)}}function q1e(){return this.firstElementChild}function H1e(e){return this.select(e==null?q1e:U1e(typeof e=="function"?e:vV(e)))}var V1e=Array.prototype.filter;function W1e(){return Array.from(this.children)}function G1e(e){return function(){return V1e.call(this.children,e)}}function $1e(e){return this.selectAll(e==null?W1e:G1e(typeof e=="function"?e:vV(e)))}function X1e(e){typeof e!="function"&&(e=gV(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new Aa(r,this._parents)}function yV(e){return new Array(e.length)}function Z1e(){return new Aa(this._enter||this._groups.map(yV),this._parents)}function Vb(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vb.prototype={constructor:Vb,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function K1e(e){return function(){return e}}function Y1e(e,t,n,r,i,o){for(var a=0,s,c=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Vb(e,o[a]);for(;a<c;++a)(s=t[a])&&(i[a]=s)}function J1e(e,t,n,r,i,o,a){var s,c,u=new Map,d=t.length,f=o.length,p=new Array(d),m;for(s=0;s<d;++s)(c=t[s])&&(p[s]=m=a.call(c,c.__data__,s,t)+"",u.has(m)?i[s]=c:u.set(m,c));for(s=0;s<f;++s)m=a.call(e,o[s],s,o)+"",(c=u.get(m))?(r[s]=c,c.__data__=o[s],u.delete(m)):n[s]=new Vb(e,o[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(p[s])===c&&(i[s]=c)}function Q1e(e){return e.__data__}function e_e(e,t){if(!arguments.length)return Array.from(this,Q1e);var n=t?J1e:Y1e,r=this._parents,i=this._groups;typeof e!="function"&&(e=K1e(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],f=i[u],p=f.length,m=t_e(e.call(d,d&&d.__data__,u,r)),g=m.length,v=s[u]=new Array(g),_=a[u]=new Array(g),y=c[u]=new Array(p);n(d,f,v,_,y,m,t);for(var S=0,w=0,C,M;S<g;++S)if(C=v[S]){for(S>=w&&(w=S+1);!(M=_[w])&&++w<g;);C._next=M||null}}return a=new Aa(a,r),a._enter=s,a._exit=c,a}function t_e(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function n_e(){return new Aa(this._exit||this._groups.map(yV),this._parents)}function r_e(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function i_e(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var u=n[c],d=r[c],f=u.length,p=s[c]=new Array(f),m,g=0;g<f;++g)(m=u[g]||d[g])&&(p[g]=m);for(;c<i;++c)s[c]=n[c];return new Aa(s,this._parents)}function o_e(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function a_e(e){e||(e=s_e);function t(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),u,d=0;d<s;++d)(u=a[d])&&(c[d]=u);c.sort(t)}return new Aa(i,this._parents).order()}function s_e(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function l_e(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function c_e(){return Array.from(this)}function u_e(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function d_e(){let e=0;for(const t of this)++e;return e}function f_e(){return!this.node()}function h_e(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function p_e(e){return function(){this.removeAttribute(e)}}function m_e(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g_e(e,t){return function(){this.setAttribute(e,t)}}function v_e(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function y_e(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function b_e(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function x_e(e,t){var n=c1(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?m_e:p_e:typeof t=="function"?n.local?b_e:y_e:n.local?v_e:g_e)(n,t))}function bV(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function __e(e){return function(){this.style.removeProperty(e)}}function w_e(e,t,n){return function(){this.style.setProperty(e,t,n)}}function S_e(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function C_e(e,t,n){return arguments.length>1?this.each((t==null?__e:typeof t=="function"?S_e:w_e)(e,t,n??"")):ip(this.node(),e)}function ip(e,t){return e.style.getPropertyValue(t)||bV(e).getComputedStyle(e,null).getPropertyValue(t)}function T_e(e){return function(){delete this[e]}}function k_e(e,t){return function(){this[e]=t}}function E_e(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function M_e(e,t){return arguments.length>1?this.each((t==null?T_e:typeof t=="function"?E_e:k_e)(e,t)):this.node()[e]}function xV(e){return e.trim().split(/^|\s+/)}function wP(e){return e.classList||new _V(e)}function _V(e){this._node=e,this._names=xV(e.getAttribute("class")||"")}_V.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wV(e,t){for(var n=wP(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function SV(e,t){for(var n=wP(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function A_e(e){return function(){wV(this,e)}}function N_e(e){return function(){SV(this,e)}}function P_e(e,t){return function(){(t.apply(this,arguments)?wV:SV)(this,e)}}function B_e(e,t){var n=xV(e+"");if(arguments.length<2){for(var r=wP(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?P_e:t?A_e:N_e)(n,t))}function R_e(){this.textContent=""}function j_e(e){return function(){this.textContent=e}}function I_e(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function z_e(e){return arguments.length?this.each(e==null?R_e:(typeof e=="function"?I_e:j_e)(e)):this.node().textContent}function L_e(){this.innerHTML=""}function D_e(e){return function(){this.innerHTML=e}}function O_e(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function F_e(e){return arguments.length?this.each(e==null?L_e:(typeof e=="function"?O_e:D_e)(e)):this.node().innerHTML}function U_e(){this.nextSibling&&this.parentNode.appendChild(this)}function q_e(){return this.each(U_e)}function H_e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V_e(){return this.each(H_e)}function W_e(e){var t=typeof e=="function"?e:pV(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function G_e(){return null}function $_e(e,t){var n=typeof e=="function"?e:pV(e),r=t==null?G_e:typeof t=="function"?t:_P(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function X_e(){var e=this.parentNode;e&&e.removeChild(this)}function Z_e(){return this.each(X_e)}function K_e(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Y_e(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function J_e(e){return this.select(e?Y_e:K_e)}function Q_e(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ewe(e){return function(t){e.call(this,t,this.__data__)}}function twe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function nwe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function rwe(e,t,n){return function(){var r=this.__on,i,o=ewe(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function iwe(e,t,n){var r=twe(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,u=s.length,d;c<u;++c)for(i=0,d=s[c];i<o;++i)if((a=r[i]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?rwe:nwe,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function CV(e,t,n){var r=bV(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function owe(e,t){return function(){return CV(this,e,t)}}function awe(e,t){return function(){return CV(this,e,t.apply(this,arguments))}}function swe(e,t){return this.each((typeof t=="function"?awe:owe)(e,t))}function*lwe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var TV=[null];function Aa(e,t){this._groups=e,this._parents=t}function kv(){return new Aa([[document.documentElement]],TV)}function cwe(){return this}Aa.prototype=kv.prototype={constructor:Aa,select:I1e,selectAll:O1e,selectChild:H1e,selectChildren:$1e,filter:X1e,data:e_e,enter:Z1e,exit:n_e,join:r_e,merge:i_e,selection:cwe,order:o_e,sort:a_e,call:l_e,nodes:c_e,node:u_e,size:d_e,empty:f_e,each:h_e,attr:x_e,style:C_e,property:M_e,classed:B_e,text:z_e,html:F_e,raise:q_e,lower:V_e,append:W_e,insert:$_e,remove:Z_e,clone:J_e,datum:Q_e,on:iwe,dispatch:swe,[Symbol.iterator]:lwe};function ya(e){return typeof e=="string"?new Aa([[document.querySelector(e)]],[document.documentElement]):new Aa([[e]],TV)}function uwe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ss(e,t){if(e=uwe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const dwe={passive:!1},Ug={capture:!0,passive:!1};function Mw(e){e.stopImmediatePropagation()}function Ph(e){e.preventDefault(),e.stopImmediatePropagation()}function kV(e){var t=e.document.documentElement,n=ya(e).on("dragstart.drag",Ph,Ug);"onselectstart"in t?n.on("selectstart.drag",Ph,Ug):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function EV(e,t){var n=e.document.documentElement,r=ya(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ph,Ug),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const U0=e=>()=>e;function qM(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}qM.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function fwe(e){return!e.ctrlKey&&!e.button}function hwe(){return this.parentNode}function pwe(e,t){return t??{x:e.x,y:e.y}}function mwe(){return navigator.maxTouchPoints||"ontouchstart"in this}function MV(){var e=fwe,t=hwe,n=pwe,r=mwe,i={},o=l1("start","drag","end"),a=0,s,c,u,d,f=0;function p(C){C.on("mousedown.drag",m).filter(r).on("touchstart.drag",_).on("touchmove.drag",y,dwe).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(C,M){if(!(d||!e.call(this,C,M))){var A=w(this,t.call(this,C,M),C,M,"mouse");A&&(ya(C.view).on("mousemove.drag",g,Ug).on("mouseup.drag",v,Ug),kV(C.view),Mw(C),u=!1,s=C.clientX,c=C.clientY,A("start",C))}}function g(C){if(Ph(C),!u){var M=C.clientX-s,A=C.clientY-c;u=M*M+A*A>f}i.mouse("drag",C)}function v(C){ya(C.view).on("mousemove.drag mouseup.drag",null),EV(C.view,u),Ph(C),i.mouse("end",C)}function _(C,M){if(e.call(this,C,M)){var A=C.changedTouches,E=t.call(this,C,M),I=A.length,N,P;for(N=0;N<I;++N)(P=w(this,E,C,M,A[N].identifier,A[N]))&&(Mw(C),P("start",C,A[N]))}}function y(C){var M=C.changedTouches,A=M.length,E,I;for(E=0;E<A;++E)(I=i[M[E].identifier])&&(Ph(C),I("drag",C,M[E]))}function S(C){var M=C.changedTouches,A=M.length,E,I;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),E=0;E<A;++E)(I=i[M[E].identifier])&&(Mw(C),I("end",C,M[E]))}function w(C,M,A,E,I,N){var P=o.copy(),D=Ss(N||A,M),q,$,j;if((j=n.call(C,new qM("beforestart",{sourceEvent:A,target:p,identifier:I,active:a,x:D[0],y:D[1],dx:0,dy:0,dispatch:P}),E))!=null)return q=j.x-D[0]||0,$=j.y-D[1]||0,function O(z,W,F){var V=D,H;switch(z){case"start":i[I]=O,H=a++;break;case"end":delete i[I],--a;case"drag":D=Ss(F||W,M),H=a;break}P.call(z,C,new qM(z,{sourceEvent:W,subject:j,target:p,identifier:I,active:H,x:D[0]+q,y:D[1]+$,dx:D[0]-V[0],dy:D[1]-V[1],dispatch:P}),E)}}return p.filter=function(C){return arguments.length?(e=typeof C=="function"?C:U0(!!C),p):e},p.container=function(C){return arguments.length?(t=typeof C=="function"?C:U0(C),p):t},p.subject=function(C){return arguments.length?(n=typeof C=="function"?C:U0(C),p):n},p.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:U0(!!C),p):r},p.on=function(){var C=o.on.apply(o,arguments);return C===o?p:C},p.clickDistance=function(C){return arguments.length?(f=(C=+C)*C,p):Math.sqrt(f)},p}function SP(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function AV(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ev(){}var qg=.7,Wb=1/qg,Bh="\\s*([+-]?\\d+)\\s*",Hg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gwe=/^#([0-9a-f]{3,8})$/,vwe=new RegExp(`^rgb\\(${Bh},${Bh},${Bh}\\)$`),ywe=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),bwe=new RegExp(`^rgba\\(${Bh},${Bh},${Bh},${Hg}\\)$`),xwe=new RegExp(`^rgba\\(${yl},${yl},${yl},${Hg}\\)$`),_we=new RegExp(`^hsl\\(${Hg},${yl},${yl}\\)$`),wwe=new RegExp(`^hsla\\(${Hg},${yl},${yl},${Hg}\\)$`),ZI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SP(Ev,Yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KI,formatHex:KI,formatHex8:Swe,formatHsl:Cwe,formatRgb:YI,toString:YI});function KI(){return this.rgb().formatHex()}function Swe(){return this.rgb().formatHex8()}function Cwe(){return NV(this).formatHsl()}function YI(){return this.rgb().formatRgb()}function Yd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gwe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JI(t):n===3?new Qo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?q0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?q0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=vwe.exec(e))?new Qo(t[1],t[2],t[3],1):(t=ywe.exec(e))?new Qo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bwe.exec(e))?q0(t[1],t[2],t[3],t[4]):(t=xwe.exec(e))?q0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_we.exec(e))?t5(t[1],t[2]/100,t[3]/100,1):(t=wwe.exec(e))?t5(t[1],t[2]/100,t[3]/100,t[4]):ZI.hasOwnProperty(e)?JI(ZI[e]):e==="transparent"?new Qo(NaN,NaN,NaN,0):null}function JI(e){return new Qo(e>>16&255,e>>8&255,e&255,1)}function q0(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qo(e,t,n,r)}function Twe(e){return e instanceof Ev||(e=Yd(e)),e?(e=e.rgb(),new Qo(e.r,e.g,e.b,e.opacity)):new Qo}function HM(e,t,n,r){return arguments.length===1?Twe(e):new Qo(e,t,n,r??1)}function Qo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}SP(Qo,HM,AV(Ev,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new Qo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?qg:Math.pow(qg,e),new Qo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qo(Dd(this.r),Dd(this.g),Dd(this.b),Gb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QI,formatHex:QI,formatHex8:kwe,formatRgb:e5,toString:e5}));function QI(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}`}function kwe(){return`#${Pd(this.r)}${Pd(this.g)}${Pd(this.b)}${Pd((isNaN(this.opacity)?1:this.opacity)*255)}`}function e5(){const e=Gb(this.opacity);return`${e===1?"rgb(":"rgba("}${Dd(this.r)}, ${Dd(this.g)}, ${Dd(this.b)}${e===1?")":`, ${e})`}`}function Gb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pd(e){return e=Dd(e),(e<16?"0":"")+e.toString(16)}function t5(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Es(e,t,n,r)}function NV(e){if(e instanceof Es)return new Es(e.h,e.s,e.l,e.opacity);if(e instanceof Ev||(e=Yd(e)),!e)return new Es;if(e instanceof Es)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Es(a,s,c,e.opacity)}function Ewe(e,t,n,r){return arguments.length===1?NV(e):new Es(e,t,n,r??1)}function Es(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}SP(Es,Ewe,AV(Ev,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new Es(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?qg:Math.pow(qg,e),new Es(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qo(Aw(e>=240?e-240:e+120,i,r),Aw(e,i,r),Aw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Es(n5(this.h),H0(this.s),H0(this.l),Gb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gb(this.opacity);return`${e===1?"hsl(":"hsla("}${n5(this.h)}, ${H0(this.s)*100}%, ${H0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function n5(e){return e=(e||0)%360,e<0?e+360:e}function H0(e){return Math.max(0,Math.min(1,e||0))}function Aw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const CP=e=>()=>e;function Mwe(e,t){return function(n){return e+n*t}}function Awe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Nwe(e){return(e=+e)==1?PV:function(t,n){return n-t?Awe(t,n,e):CP(isNaN(t)?n:t)}}function PV(e,t){var n=t-e;return n?Mwe(e,n):CP(isNaN(e)?t:e)}const $b=function e(t){var n=Nwe(t);function r(i,o){var a=n((i=HM(i)).r,(o=HM(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),u=PV(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function Pwe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Bwe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Rwe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ag(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function jwe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function ol(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Iwe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ag(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var VM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nw=new RegExp(VM.source,"g");function zwe(e){return function(){return e}}function Lwe(e){return function(t){return e(t)+""}}function BV(e,t){var n=VM.lastIndex=Nw.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=VM.exec(e))&&(i=Nw.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:ol(r,i)})),n=Nw.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?Lwe(c[0].x):zwe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function ag(e,t){var n=typeof t,r;return t==null||n==="boolean"?CP(t):(n==="number"?ol:n==="string"?(r=Yd(t))?(t=r,$b):BV:t instanceof Yd?$b:t instanceof Date?jwe:Bwe(t)?Pwe:Array.isArray(t)?Rwe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Iwe:ol)(e,t)}var r5=180/Math.PI,WM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RV(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*r5,skewX:Math.atan(c)*r5,scaleX:a,scaleY:s}}var V0;function Dwe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?WM:RV(t.a,t.b,t.c,t.d,t.e,t.f)}function Owe(e){return e==null||(V0||(V0=document.createElementNS("http://www.w3.org/2000/svg","g")),V0.setAttribute("transform",e),!(e=V0.transform.baseVal.consolidate()))?WM:(e=e.matrix,RV(e.a,e.b,e.c,e.d,e.e,e.f))}function jV(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,d,f,p,m,g){if(u!==f||d!==p){var v=m.push("translate(",null,t,null,n);g.push({i:v-4,x:ol(u,f)},{i:v-2,x:ol(d,p)})}else(f||p)&&m.push("translate("+f+t+p+n)}function a(u,d,f,p){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),p.push({i:f.push(i(f)+"rotate(",null,r)-2,x:ol(u,d)})):d&&f.push(i(f)+"rotate("+d+r)}function s(u,d,f,p){u!==d?p.push({i:f.push(i(f)+"skewX(",null,r)-2,x:ol(u,d)}):d&&f.push(i(f)+"skewX("+d+r)}function c(u,d,f,p,m,g){if(u!==f||d!==p){var v=m.push(i(m)+"scale(",null,",",null,")");g.push({i:v-4,x:ol(u,f)},{i:v-2,x:ol(d,p)})}else(f!==1||p!==1)&&m.push(i(m)+"scale("+f+","+p+")")}return function(u,d){var f=[],p=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,f,p),a(u.rotate,d.rotate,f,p),s(u.skewX,d.skewX,f,p),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,p),u=d=null,function(m){for(var g=-1,v=p.length,_;++g<v;)f[(_=p[g]).i]=_.x(m);return f.join("")}}}var Fwe=jV(Dwe,"px, ","px)","deg)"),Uwe=jV(Owe,", ",")",")"),qwe=1e-12;function i5(e){return((e=Math.exp(e))+1/e)/2}function Hwe(e){return((e=Math.exp(e))-1/e)/2}function Vwe(e){return((e=Math.exp(2*e))-1)/(e+1)}const Wy=function e(t,n,r){function i(o,a){var s=o[0],c=o[1],u=o[2],d=a[0],f=a[1],p=a[2],m=d-s,g=f-c,v=m*m+g*g,_,y;if(v<qwe)y=Math.log(p/u)/t,_=function(E){return[s+E*m,c+E*g,u*Math.exp(t*E*y)]};else{var S=Math.sqrt(v),w=(p*p-u*u+r*v)/(2*u*n*S),C=(p*p-u*u-r*v)/(2*p*n*S),M=Math.log(Math.sqrt(w*w+1)-w),A=Math.log(Math.sqrt(C*C+1)-C);y=(A-M)/t,_=function(E){var I=E*y,N=i5(M),P=u/(n*S)*(N*Vwe(t*I+M)-Hwe(M));return[s+P*m,c+P*g,u*N/i5(t*I+M)]}}return _.duration=y*1e3*t/Math.SQRT2,_}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,c=s*s;return e(a,s,c)},i}(Math.SQRT2,2,4);var op=0,Lm=0,_m=0,IV=1e3,Xb,Dm,Zb=0,Jd=0,u1=0,Vg=typeof performance=="object"&&performance.now?performance:Date,zV=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function TP(){return Jd||(zV(Wwe),Jd=Vg.now()+u1)}function Wwe(){Jd=0}function Kb(){this._call=this._time=this._next=null}Kb.prototype=LV.prototype={constructor:Kb,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?TP():+n)+(t==null?0:+t),!this._next&&Dm!==this&&(Dm?Dm._next=this:Xb=this,Dm=this),this._call=e,this._time=n,GM()},stop:function(){this._call&&(this._call=null,this._time=1/0,GM())}};function LV(e,t,n){var r=new Kb;return r.restart(e,t,n),r}function Gwe(){TP(),++op;for(var e=Xb,t;e;)(t=Jd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--op}function o5(){Jd=(Zb=Vg.now())+u1,op=Lm=0;try{Gwe()}finally{op=0,Xwe(),Jd=0}}function $we(){var e=Vg.now(),t=e-Zb;t>IV&&(u1-=t,Zb=e)}function Xwe(){for(var e,t=Xb,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xb=n);Dm=e,GM(r)}function GM(e){if(!op){Lm&&(Lm=clearTimeout(Lm));var t=e-Jd;t>24?(e<1/0&&(Lm=setTimeout(o5,e-Vg.now()-u1)),_m&&(_m=clearInterval(_m))):(_m||(Zb=Vg.now(),_m=setInterval($we,IV)),op=1,zV(o5))}}function a5(e,t,n){var r=new Kb;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Zwe=l1("start","end","cancel","interrupt"),Kwe=[],DV=0,s5=1,$M=2,Gy=3,l5=4,XM=5,$y=6;function d1(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Ywe(e,n,{name:t,index:r,group:i,on:Zwe,tween:Kwe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:DV})}function kP(e,t){var n=Fs(e,t);if(n.state>DV)throw new Error("too late; already scheduled");return n}function Ml(e,t){var n=Fs(e,t);if(n.state>Gy)throw new Error("too late; already running");return n}function Fs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ywe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=LV(o,0,n.time);function o(u){n.state=s5,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,f,p,m;if(n.state!==s5)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Gy)return a5(a);m.state===l5?(m.state=$y,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=$y,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(a5(function(){n.state===Gy&&(n.state=l5,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=$M,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$M){for(n.state=Gy,i=new Array(p=n.tween.length),d=0,f=-1;d<p;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function s(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=XM,1),f=-1,p=i.length;++f<p;)i[f].call(e,d);n.state===XM&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=$y,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Xy(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>$M&&r.state<XM,r.state=$y,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function Jwe(e){return this.each(function(){Xy(this,e)})}function Qwe(e,t){var n,r;return function(){var i=Ml(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function eSe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ml(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=s;break}c===u&&i.push(s)}o.tween=i}}function tSe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Fs(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Qwe:eSe)(n,e,t))}function EP(e,t,n){var r=e._id;return e.each(function(){var i=Ml(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Fs(i,r).value[t]}}function OV(e,t){var n;return(typeof t=="number"?ol:t instanceof Yd?$b:(n=Yd(t))?(t=n,$b):BV)(e,t)}function nSe(e){return function(){this.removeAttribute(e)}}function rSe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iSe(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function oSe(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function aSe(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function sSe(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function lSe(e,t){var n=c1(e),r=n==="transform"?Uwe:OV;return this.attrTween(e,typeof t=="function"?(n.local?sSe:aSe)(n,r,EP(this,"attr."+e,t)):t==null?(n.local?rSe:nSe)(n):(n.local?oSe:iSe)(n,r,t))}function cSe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function uSe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function dSe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&uSe(e,o)),n}return i._value=t,i}function fSe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&cSe(e,o)),n}return i._value=t,i}function hSe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=c1(e);return this.tween(n,(r.local?dSe:fSe)(r,t))}function pSe(e,t){return function(){kP(this,e).delay=+t.apply(this,arguments)}}function mSe(e,t){return t=+t,function(){kP(this,e).delay=t}}function gSe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pSe:mSe)(t,e)):Fs(this.node(),t).delay}function vSe(e,t){return function(){Ml(this,e).duration=+t.apply(this,arguments)}}function ySe(e,t){return t=+t,function(){Ml(this,e).duration=t}}function bSe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vSe:ySe)(t,e)):Fs(this.node(),t).duration}function xSe(e,t){if(typeof t!="function")throw new Error;return function(){Ml(this,e).ease=t}}function _Se(e){var t=this._id;return arguments.length?this.each(xSe(t,e)):Fs(this.node(),t).ease}function wSe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ml(this,e).ease=n}}function SSe(e){if(typeof e!="function")throw new Error;return this.each(wSe(this._id,e))}function CSe(e){typeof e!="function"&&(e=gV(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,u=0;u<a;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&s.push(c);return new xc(r,this._parents,this._name,this._id)}function TSe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=t[s],u=n[s],d=c.length,f=a[s]=new Array(d),p,m=0;m<d;++m)(p=c[m]||u[m])&&(f[m]=p);for(;s<r;++s)a[s]=t[s];return new xc(a,this._parents,this._name,this._id)}function kSe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ESe(e,t,n){var r,i,o=kSe(t)?kP:Ml;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function MSe(e,t){var n=this._id;return arguments.length<2?Fs(this.node(),n).on.on(e):this.each(ESe(n,e,t))}function ASe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function NSe(){return this.on("end.remove",ASe(this._id))}function PSe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_P(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,u=o[a]=new Array(c),d,f,p=0;p<c;++p)(d=s[p])&&(f=e.call(d,d.__data__,p,s))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f,d1(u[p],t,n,p,u,Fs(d,n)));return new xc(o,this._parents,t,n)}function BSe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mV(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var p=e.call(d,d.__data__,f,c),m,g=Fs(d,n),v=0,_=p.length;v<_;++v)(m=p[v])&&d1(m,t,n,v,p,g);o.push(p),a.push(d)}return new xc(o,a,t,n)}var RSe=kv.prototype.constructor;function jSe(){return new RSe(this._groups,this._parents)}function ISe(e,t){var n,r,i;return function(){var o=ip(this,e),a=(this.style.removeProperty(e),ip(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function FV(e){return function(){this.style.removeProperty(e)}}function zSe(e,t,n){var r,i=n+"",o;return function(){var a=ip(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function LSe(e,t,n){var r,i,o;return function(){var a=ip(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),ip(this,e))),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}function DSe(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var c=Ml(this,e),u=c.on,d=c.value[o]==null?s||(s=FV(t)):void 0;(u!==n||i!==d)&&(r=(n=u).copy()).on(a,i=d),c.on=r}}function OSe(e,t,n){var r=(e+="")=="transform"?Fwe:OV;return t==null?this.styleTween(e,ISe(e,r)).on("end.style."+e,FV(e)):typeof t=="function"?this.styleTween(e,LSe(e,r,EP(this,"style."+e,t))).each(DSe(this._id,e)):this.styleTween(e,zSe(e,r,t),n).on("end.style."+e,null)}function FSe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function USe(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&FSe(e,a,n)),r}return o._value=t,o}function qSe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,USe(e,t,n??""))}function HSe(e){return function(){this.textContent=e}}function VSe(e){return function(){var t=e(this);this.textContent=t??""}}function WSe(e){return this.tween("text",typeof e=="function"?VSe(EP(this,"text",e)):HSe(e==null?"":e+""))}function GSe(e){return function(t){this.textContent=e.call(this,t)}}function $Se(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&GSe(i)),t}return r._value=e,r}function XSe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,$Se(e))}function ZSe(){for(var e=this._name,t=this._id,n=UV(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)if(c=a[u]){var d=Fs(c,t);d1(c,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new xc(r,this._parents,e,n)}function KSe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var u=Ml(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),u.on=t}),i===0&&o()})}var YSe=0;function xc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function UV(){return++YSe}var Dl=kv.prototype;xc.prototype={constructor:xc,select:PSe,selectAll:BSe,selectChild:Dl.selectChild,selectChildren:Dl.selectChildren,filter:CSe,merge:TSe,selection:jSe,transition:ZSe,call:Dl.call,nodes:Dl.nodes,node:Dl.node,size:Dl.size,empty:Dl.empty,each:Dl.each,on:MSe,attr:lSe,attrTween:hSe,style:OSe,styleTween:qSe,text:WSe,textTween:XSe,remove:NSe,tween:tSe,delay:gSe,duration:bSe,ease:_Se,easeVarying:SSe,end:KSe,[Symbol.iterator]:Dl[Symbol.iterator]};function JSe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var QSe={time:null,delay:0,duration:250,ease:JSe};function eCe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function tCe(e){var t,n;e instanceof xc?(t=e._id,e=e._name):(t=UV(),(n=QSe).time=TP(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,u=0;u<s;++u)(c=a[u])&&d1(c,e,t,u,a,n||eCe(c,t));return new xc(r,this._parents,e,t)}kv.prototype.interrupt=Jwe;kv.prototype.transition=tCe;const W0=e=>()=>e;function nCe(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ec(e,t,n){this.k=e,this.x=t,this.y=n}ec.prototype={constructor:ec,scale:function(e){return e===1?this:new ec(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ec(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var f1=new ec(1,0,0);qV.prototype=ec.prototype;function qV(e){for(;!e.__zoom;)if(!(e=e.parentNode))return f1;return e.__zoom}function Pw(e){e.stopImmediatePropagation()}function wm(e){e.preventDefault(),e.stopImmediatePropagation()}function rCe(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function iCe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function c5(){return this.__zoom||f1}function oCe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function aCe(){return navigator.maxTouchPoints||"ontouchstart"in this}function sCe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function HV(){var e=rCe,t=iCe,n=sCe,r=oCe,i=aCe,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,c=Wy,u=l1("start","zoom","end"),d,f,p,m=500,g=150,v=0,_=10;function y(j){j.property("__zoom",c5).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",P).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(j,O,z,W){var F=j.selection?j.selection():j;F.property("__zoom",c5),j!==F?M(j,O,z,W):F.interrupt().each(function(){A(this,arguments).event(W).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},y.scaleBy=function(j,O,z,W){y.scaleTo(j,function(){var F=this.__zoom.k,V=typeof O=="function"?O.apply(this,arguments):O;return F*V},z,W)},y.scaleTo=function(j,O,z,W){y.transform(j,function(){var F=t.apply(this,arguments),V=this.__zoom,H=z==null?C(F):typeof z=="function"?z.apply(this,arguments):z,te=V.invert(H),Z=typeof O=="function"?O.apply(this,arguments):O;return n(w(S(V,Z),H,te),F,a)},z,W)},y.translateBy=function(j,O,z,W){y.transform(j,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),a)},null,W)},y.translateTo=function(j,O,z,W,F){y.transform(j,function(){var V=t.apply(this,arguments),H=this.__zoom,te=W==null?C(V):typeof W=="function"?W.apply(this,arguments):W;return n(f1.translate(te[0],te[1]).scale(H.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof z=="function"?-z.apply(this,arguments):-z),V,a)},W,F)};function S(j,O){return O=Math.max(o[0],Math.min(o[1],O)),O===j.k?j:new ec(O,j.x,j.y)}function w(j,O,z){var W=O[0]-z[0]*j.k,F=O[1]-z[1]*j.k;return W===j.x&&F===j.y?j:new ec(j.k,W,F)}function C(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function M(j,O,z,W){j.on("start.zoom",function(){A(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(W).end()}).tween("zoom",function(){var F=this,V=arguments,H=A(F,V).event(W),te=t.apply(F,V),Z=z==null?C(te):typeof z=="function"?z.apply(F,V):z,Q=Math.max(te[1][0]-te[0][0],te[1][1]-te[0][1]),re=F.__zoom,ue=typeof O=="function"?O.apply(F,V):O,oe=c(re.invert(Z).concat(Q/re.k),ue.invert(Z).concat(Q/ue.k));return function(be){if(be===1)be=ue;else{var ke=oe(be),He=Q/ke[2];be=new ec(He,Z[0]-ke[0]*He,Z[1]-ke[1]*He)}H.zoom(null,be)}})}function A(j,O,z){return!z&&j.__zooming||new E(j,O)}function E(j,O){this.that=j,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(j,O),this.taps=0}E.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,O){return this.mouse&&j!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var O=ya(this.that).datum();u.call(j,this.that,new nCe(j,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),O)}};function I(j,...O){if(!e.apply(this,arguments))return;var z=A(this,O).event(j),W=this.__zoom,F=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),V=Ss(j);if(z.wheel)(z.mouse[0][0]!==V[0]||z.mouse[0][1]!==V[1])&&(z.mouse[1]=W.invert(z.mouse[0]=V)),clearTimeout(z.wheel);else{if(W.k===F)return;z.mouse=[V,W.invert(V)],Xy(this),z.start()}wm(j),z.wheel=setTimeout(H,g),z.zoom("mouse",n(w(S(W,F),z.mouse[0],z.mouse[1]),z.extent,a));function H(){z.wheel=null,z.end()}}function N(j,...O){if(p||!e.apply(this,arguments))return;var z=j.currentTarget,W=A(this,O,!0).event(j),F=ya(j.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",Q,!0),V=Ss(j,z),H=j.clientX,te=j.clientY;kV(j.view),Pw(j),W.mouse=[V,this.__zoom.invert(V)],Xy(this),W.start();function Z(re){if(wm(re),!W.moved){var ue=re.clientX-H,oe=re.clientY-te;W.moved=ue*ue+oe*oe>v}W.event(re).zoom("mouse",n(w(W.that.__zoom,W.mouse[0]=Ss(re,z),W.mouse[1]),W.extent,a))}function Q(re){F.on("mousemove.zoom mouseup.zoom",null),EV(re.view,W.moved),wm(re),W.event(re).end()}}function P(j,...O){if(e.apply(this,arguments)){var z=this.__zoom,W=Ss(j.changedTouches?j.changedTouches[0]:j,this),F=z.invert(W),V=z.k*(j.shiftKey?.5:2),H=n(w(S(z,V),W,F),t.apply(this,O),a);wm(j),s>0?ya(this).transition().duration(s).call(M,H,W,j):ya(this).call(y.transform,H,W,j)}}function D(j,...O){if(e.apply(this,arguments)){var z=j.touches,W=z.length,F=A(this,O,j.changedTouches.length===W).event(j),V,H,te,Z;for(Pw(j),H=0;H<W;++H)te=z[H],Z=Ss(te,this),Z=[Z,this.__zoom.invert(Z),te.identifier],F.touch0?!F.touch1&&F.touch0[2]!==Z[2]&&(F.touch1=Z,F.taps=0):(F.touch0=Z,V=!0,F.taps=1+!!d);d&&(d=clearTimeout(d)),V&&(F.taps<2&&(f=Z[0],d=setTimeout(function(){d=null},m)),Xy(this),F.start())}}function q(j,...O){if(this.__zooming){var z=A(this,O).event(j),W=j.changedTouches,F=W.length,V,H,te,Z;for(wm(j),V=0;V<F;++V)H=W[V],te=Ss(H,this),z.touch0&&z.touch0[2]===H.identifier?z.touch0[0]=te:z.touch1&&z.touch1[2]===H.identifier&&(z.touch1[0]=te);if(H=z.that.__zoom,z.touch1){var Q=z.touch0[0],re=z.touch0[1],ue=z.touch1[0],oe=z.touch1[1],be=(be=ue[0]-Q[0])*be+(be=ue[1]-Q[1])*be,ke=(ke=oe[0]-re[0])*ke+(ke=oe[1]-re[1])*ke;H=S(H,Math.sqrt(be/ke)),te=[(Q[0]+ue[0])/2,(Q[1]+ue[1])/2],Z=[(re[0]+oe[0])/2,(re[1]+oe[1])/2]}else if(z.touch0)te=z.touch0[0],Z=z.touch0[1];else return;z.zoom("touch",n(w(H,te,Z),z.extent,a))}}function $(j,...O){if(this.__zooming){var z=A(this,O).event(j),W=j.changedTouches,F=W.length,V,H;for(Pw(j),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),V=0;V<F;++V)H=W[V],z.touch0&&z.touch0[2]===H.identifier?delete z.touch0:z.touch1&&z.touch1[2]===H.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(H=Ss(H,this),Math.hypot(f[0]-H[0],f[1]-H[1])<_)){var te=ya(this).on("dblclick.zoom");te&&te.apply(this,arguments)}}}return y.wheelDelta=function(j){return arguments.length?(r=typeof j=="function"?j:W0(+j),y):r},y.filter=function(j){return arguments.length?(e=typeof j=="function"?j:W0(!!j),y):e},y.touchable=function(j){return arguments.length?(i=typeof j=="function"?j:W0(!!j),y):i},y.extent=function(j){return arguments.length?(t=typeof j=="function"?j:W0([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),y):t},y.scaleExtent=function(j){return arguments.length?(o[0]=+j[0],o[1]=+j[1],y):[o[0],o[1]]},y.translateExtent=function(j){return arguments.length?(a[0][0]=+j[0][0],a[1][0]=+j[1][0],a[0][1]=+j[0][1],a[1][1]=+j[1][1],y):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},y.constrain=function(j){return arguments.length?(n=j,y):n},y.duration=function(j){return arguments.length?(s=+j,y):s},y.interpolate=function(j){return arguments.length?(c=j,y):c},y.on=function(){var j=u.on.apply(u,arguments);return j===u?y:j},y.clickDistance=function(j){return arguments.length?(v=(j=+j)*j,y):Math.sqrt(v)},y.tapDistance=function(j){return arguments.length?(_=+j,y):_},y}const wl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Wg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],VV=["Enter"," ","Escape"],WV={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ap;(function(e){e.Strict="strict",e.Loose="loose"})(ap||(ap={}));var Od;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Od||(Od={}));var Gg;(function(e){e.Partial="partial",e.Full="full"})(Gg||(Gg={}));const GV={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var uu;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(uu||(uu={}));var Yb;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Yb||(Yb={}));var Xt;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Xt||(Xt={}));const u5={[Xt.Left]:Xt.Right,[Xt.Right]:Xt.Left,[Xt.Top]:Xt.Bottom,[Xt.Bottom]:Xt.Top};function $V(e){return e===null?null:e?"valid":"invalid"}const XV=e=>"id"in e&&"source"in e&&"target"in e,lCe=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),MP=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Mv=(e,t=[0,0])=>{const{width:n,height:r}=Mc(e),i=e.origin??t,o=n*i[0],a=r*i[1];return{x:e.position.x-o,y:e.position.y-a}},cCe=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let a=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(a=o?t.nodeLookup.get(i):MP(i)?i:t.nodeLookup.get(i.id));const s=a?Jb(a,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return h1(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return p1(n)},Av=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=h1(n,Jb(i)),r=!0)}),r?p1(n):{x:0,y:0,width:0,height:0}},AP=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1)=>{const s={...Pv(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const u of e.values()){const{measured:d,selectable:f=!0,hidden:p=!1}=u;if(a&&!f||p)continue;const m=d.width??u.width??u.initialWidth??null,g=d.height??u.height??u.initialHeight??null,v=$g(s,lp(u)),_=(m??0)*(g??0),y=o&&v>0;(!u.internals.handleBounds||y||v>=_||u.dragging)&&c.push(u)}return c},uCe=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function dCe(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function fCe({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},a){if(e.size===0)return Promise.resolve(!0);const s=dCe(e,a),c=Av(s),u=NP(c,t,n,(a==null?void 0:a.minZoom)??i,(a==null?void 0:a.maxZoom)??o,(a==null?void 0:a.padding)??.1);return await r.setViewport(u,{duration:a==null?void 0:a.duration,ease:a==null?void 0:a.ease,interpolate:a==null?void 0:a.interpolate}),Promise.resolve(!0)}function ZV({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:c,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},d=a.origin??r;let f=a.extent||i;if(a.extent==="parent"&&!a.expandParent)if(!s)o==null||o("005",wl.error005());else{const m=s.measured.width,g=s.measured.height;m&&g&&(f=[[c,u],[c+m,u+g]])}else s&&cp(a.extent)&&(f=[[a.extent[0][0]+c,a.extent[0][1]+u],[a.extent[1][0]+c,a.extent[1][1]+u]]);const p=cp(f)?Qd(t,f,a.measured):t;return(a.measured.width===void 0||a.measured.height===void 0)&&(o==null||o("015",wl.error015())),{position:{x:p.x-c+(a.measured.width??0)*d[0],y:p.y-u+(a.measured.height??0)*d[1]},positionAbsolute:p}}async function hCe({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(p=>p.id)),a=[];for(const p of n){if(p.deletable===!1)continue;const m=o.has(p.id),g=!m&&p.parentId&&a.find(v=>v.id===p.parentId);(m||g)&&a.push(p)}const s=new Set(t.map(p=>p.id)),c=r.filter(p=>p.deletable!==!1),d=uCe(a,c);for(const p of c)s.has(p.id)&&!d.find(g=>g.id===p.id)&&d.push(p);if(!i)return{edges:d,nodes:a};const f=await i({nodes:a,edges:d});return typeof f=="boolean"?f?{edges:d,nodes:a}:{edges:[],nodes:[]}:f}const sp=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Qd=(e={x:0,y:0},t,n)=>({x:sp(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:sp(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function KV(e,t,n){const{width:r,height:i}=Mc(n),{x:o,y:a}=n.internals.positionAbsolute;return Qd(e,[[o,a],[o+r,a+i]],t)}const d5=(e,t,n)=>e<t?sp(Math.abs(e-t),1,t)/t:e>n?-sp(Math.abs(e-n),1,t)/t:0,YV=(e,t,n=15,r=40)=>{const i=d5(e.x,r,t.width-r)*n,o=d5(e.y,r,t.height-r)*n;return[i,o]},h1=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ZM=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),p1=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),lp=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=MP(e)?e.internals.positionAbsolute:Mv(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},Jb=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=MP(e)?e.internals.positionAbsolute:Mv(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},JV=(e,t)=>p1(h1(ZM(e),ZM(t))),$g=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},f5=e=>Ns(e.width)&&Ns(e.height)&&Ns(e.x)&&Ns(e.y),Ns=e=>!isNaN(e)&&isFinite(e),pCe=(e,t)=>{},Nv=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Pv=({x:e,y:t},[n,r,i],o=!1,a=[1,1])=>{const s={x:(e-n)/i,y:(t-r)/i};return o?Nv(s,a):s},Qb=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function Ff(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function mCe(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ff(e,n),i=Ff(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=Ff(e.top??e.y??0,n),i=Ff(e.bottom??e.y??0,n),o=Ff(e.left??e.x??0,t),a=Ff(e.right??e.x??0,t);return{top:r,right:a,bottom:i,left:o,x:o+a,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function gCe(e,t,n,r,i,o){const{x:a,y:s}=Qb(e,[t,n,r]),{x:c,y:u}=Qb({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=i-c,f=o-u;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(d),bottom:Math.floor(f)}}const NP=(e,t,n,r,i,o)=>{const a=mCe(o,t,n),s=(t-a.x)/e.width,c=(n-a.y)/e.height,u=Math.min(s,c),d=sp(u,r,i),f=e.x+e.width/2,p=e.y+e.height/2,m=t/2-f*d,g=n/2-p*d,v=gCe(e,m,g,d,t,n),_={left:Math.min(v.left-a.left,0),top:Math.min(v.top-a.top,0),right:Math.min(v.right-a.right,0),bottom:Math.min(v.bottom-a.bottom,0)};return{x:m-_.left+_.right,y:g-_.top+_.bottom,zoom:d}},Xg=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function cp(e){return e!=null&&e!=="parent"}function Mc(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function QV(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function eW(e,t={width:0,height:0},n,r,i){const o={...e},a=r.get(n);if(a){const s=a.origin||i;o.x+=a.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=a.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function h5(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function vCe(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function yCe(e){return{...WV,...e||{}}}function sg(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:a}=Ps(e),s=Pv({x:o-((i==null?void 0:i.left)??0),y:a-((i==null?void 0:i.top)??0)},r),{x:c,y:u}=n?Nv(s,t):s;return{xSnapped:c,ySnapped:u,...s}}const PP=e=>({width:e.offsetWidth,height:e.offsetHeight}),tW=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},bCe=["INPUT","SELECT","TEXTAREA"];function nW(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:bCe.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const rW=e=>"clientX"in e,Ps=(e,t)=>{var o,a;const n=rW(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(a=e.touches)==null?void 0:a[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},p5=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(a=>{const s=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:e,nodeId:i,position:a.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...PP(a)}})};function iW({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const c=e*.125+i*.375+a*.375+n*.125,u=t*.125+o*.375+s*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}function G0(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function m5({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case Xt.Left:return[t-G0(t-r,o),n];case Xt.Right:return[t+G0(r-t,o),n];case Xt.Top:return[t,n-G0(n-i,o)];case Xt.Bottom:return[t,n+G0(i-n,o)]}}function oW({sourceX:e,sourceY:t,sourcePosition:n=Xt.Bottom,targetX:r,targetY:i,targetPosition:o=Xt.Top,curvature:a=.25}){const[s,c]=m5({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,d]=m5({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[f,p,m,g]=iW({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${s},${c} ${u},${d} ${r},${i}`,f,p,m,g]}function aW({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function xCe({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const a=i&&n?r+1e3:r,s=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return a+s}function _Ce({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=h1(Jb(e),Jb(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return $g(a,p1(o))>0}const wCe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,SCe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),m1=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||wCe;let i;return XV(e)?i={...e}:i={...e,id:r(e)},SCe(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function sW({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=aW({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const g5={[Xt.Left]:{x:-1,y:0},[Xt.Right]:{x:1,y:0},[Xt.Top]:{x:0,y:-1},[Xt.Bottom]:{x:0,y:1}},CCe=({source:e,sourcePosition:t=Xt.Bottom,target:n})=>t===Xt.Left||t===Xt.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},v5=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function TCe({source:e,sourcePosition:t=Xt.Bottom,target:n,targetPosition:r=Xt.Top,center:i,offset:o,stepPosition:a}){const s=g5[t],c=g5[r],u={x:e.x+s.x*o,y:e.y+s.y*o},d={x:n.x+c.x*o,y:n.y+c.y*o},f=CCe({source:u,sourcePosition:t,target:d}),p=f.x!==0?"x":"y",m=f[p];let g=[],v,_;const y={x:0,y:0},S={x:0,y:0},[,,w,C]=aW({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[p]*c[p]===-1){p==="x"?(v=i.x??u.x+(d.x-u.x)*a,_=i.y??(u.y+d.y)/2):(v=i.x??(u.x+d.x)/2,_=i.y??u.y+(d.y-u.y)*a);const A=[{x:v,y:u.y},{x:v,y:d.y}],E=[{x:u.x,y:_},{x:d.x,y:_}];s[p]===m?g=p==="x"?A:E:g=p==="x"?E:A}else{const A=[{x:u.x,y:d.y}],E=[{x:d.x,y:u.y}];if(p==="x"?g=s.x===m?E:A:g=s.y===m?A:E,t===r){const q=Math.abs(e[p]-n[p]);if(q<=o){const $=Math.min(o-1,o-q);s[p]===m?y[p]=(u[p]>e[p]?-1:1)*$:S[p]=(d[p]>n[p]?-1:1)*$}}if(t!==r){const q=p==="x"?"y":"x",$=s[p]===c[q],j=u[q]>d[q],O=u[q]<d[q];(s[p]===1&&(!$&&j||$&&O)||s[p]!==1&&(!$&&O||$&&j))&&(g=p==="x"?A:E)}const I={x:u.x+y.x,y:u.y+y.y},N={x:d.x+S.x,y:d.y+S.y},P=Math.max(Math.abs(I.x-g[0].x),Math.abs(N.x-g[0].x)),D=Math.max(Math.abs(I.y-g[0].y),Math.abs(N.y-g[0].y));P>=D?(v=(I.x+N.x)/2,_=g[0].y):(v=g[0].x,_=(I.y+N.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...g,{x:d.x+S.x,y:d.y+S.y},n],v,_,w,C]}function kCe(e,t,n,r){const i=Math.min(v5(e,t)/2,v5(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+i*u},${a}Q ${o},${a} ${o},${a+i*d}`}const s=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${a+i*c}Q ${o},${a} ${o+i*s},${a}`}function KM({sourceX:e,sourceY:t,sourcePosition:n=Xt.Bottom,targetX:r,targetY:i,targetPosition:o=Xt.Top,borderRadius:a=5,centerX:s,centerY:c,offset:u=20,stepPosition:d=.5}){const[f,p,m,g,v]=TCe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:c},offset:u,stepPosition:d});return[f.reduce((y,S,w)=>{let C="";return w>0&&w<f.length-1?C=kCe(f[w-1],S,f[w+1],a):C=`${w===0?"M":"L"}${S.x} ${S.y}`,y+=C,y},""),p,m,g,v]}function y5(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ECe(e){var f;const{sourceNode:t,targetNode:n}=e;if(!y5(t)||!y5(n))return null;const r=t.internals.handleBounds||b5(t.handles),i=n.internals.handleBounds||b5(n.handles),o=x5((r==null?void 0:r.source)??[],e.sourceHandle),a=x5(e.connectionMode===ap.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!a)return(f=e.onError)==null||f.call(e,"008",wl.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(o==null?void 0:o.position)||Xt.Bottom,c=(a==null?void 0:a.position)||Xt.Top,u=ef(t,o,s),d=ef(n,a,c);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y,sourcePosition:s,targetPosition:c}}function b5(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function ef(e,t,n=Xt.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??Mc(e);if(r)return{x:i+a/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case Xt.Top:return{x:i+a/2,y:o};case Xt.Right:return{x:i+a,y:o+s/2};case Xt.Bottom:return{x:i+a/2,y:o+s};case Xt.Left:return{x:i,y:o+s/2}}}function x5(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function YM(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function MCe(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((a,s)=>([s.markerStart||r,s.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const u=YM(c,t);o.has(u)||(a.push({id:u,color:c.color||n,...c}),o.add(u))}}),a),[]).sort((a,s)=>a.id.localeCompare(s.id))}const lW=1e3,ACe=10,BP={nodeOrigin:[0,0],nodeExtent:Wg,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},NCe={...BP,checkEquality:!0};function RP(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function PCe(e,t,n){const r=RP(BP,n);for(const i of e.values())if(i.parentId)IP(i,e,t,r);else{const o=Mv(i,r.nodeOrigin),a=cp(i.extent)?i.extent:r.nodeExtent,s=Qd(o,a,Mc(i));i.internals.positionAbsolute=s}}function BCe(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function jP(e){return e==="manual"}function JM(e,t,n,r={}){var u,d;const i=RP(NCe,r),o={i:0},a=new Map(t),s=i!=null&&i.elevateNodesOnSelect&&!jP(i.zIndexMode)?lW:0;let c=e.length>0;t.clear(),n.clear();for(const f of e){let p=a.get(f.id);if(i.checkEquality&&f===(p==null?void 0:p.internals.userNode))t.set(f.id,p);else{const m=Mv(f,i.nodeOrigin),g=cp(f.extent)?f.extent:i.nodeExtent,v=Qd(m,g,Mc(f));p={...i.defaults,...f,measured:{width:(u=f.measured)==null?void 0:u.width,height:(d=f.measured)==null?void 0:d.height},internals:{positionAbsolute:v,handleBounds:BCe(f,p),z:cW(f,s,i.zIndexMode),userNode:f}},t.set(f.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(c=!1),f.parentId&&IP(p,t,n,r,o)}return c}function RCe(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function IP(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:s,zIndexMode:c}=RP(BP,r),u=e.parentId,d=t.get(u);if(!d){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}RCe(e,n),i&&!d.parentId&&d.internals.rootParentIndex===void 0&&c==="auto"&&(d.internals.rootParentIndex=++i.i,d.internals.z=d.internals.z+i.i*ACe),i&&d.internals.rootParentIndex!==void 0&&(i.i=d.internals.rootParentIndex);const f=o&&!jP(c)?lW:0,{x:p,y:m,z:g}=jCe(e,d,a,s,f,c),{positionAbsolute:v}=e.internals,_=p!==v.x||m!==v.y;(_||g!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:_?{x:p,y:m}:v,z:g}})}function cW(e,t,n){const r=Ns(e.zIndex)?e.zIndex:0;return jP(n)?r:r+(e.selected?t:0)}function jCe(e,t,n,r,i,o){const{x:a,y:s}=t.internals.positionAbsolute,c=Mc(e),u=Mv(e,n),d=cp(e.extent)?Qd(u,e.extent,c):u;let f=Qd({x:a+d.x,y:s+d.y},r,c);e.extent==="parent"&&(f=KV(f,c,t));const p=cW(e,i,o),m=t.internals.z??0;return{x:f.x,y:f.y,z:m>=p?m+1:p}}function zP(e,t,n,r=[0,0]){var a;const i=[],o=new Map;for(const s of e){const c=t.get(s.parentId);if(!c)continue;const u=((a=o.get(s.parentId))==null?void 0:a.expandedRect)??lp(c),d=JV(u,s.rect);o.set(s.parentId,{expandedRect:d,parent:c})}return o.size>0&&o.forEach(({expandedRect:s,parent:c},u)=>{var w;const d=c.internals.positionAbsolute,f=Mc(c),p=c.origin??r,m=s.x<d.x?Math.round(Math.abs(d.x-s.x)):0,g=s.y<d.y?Math.round(Math.abs(d.y-s.y)):0,v=Math.max(f.width,Math.round(s.width)),_=Math.max(f.height,Math.round(s.height)),y=(v-f.width)*p[0],S=(_-f.height)*p[1];(m>0||g>0||y||S)&&(i.push({id:u,type:"position",position:{x:c.position.x-m+y,y:c.position.y-g+S}}),(w=n.get(u))==null||w.forEach(C=>{e.some(M=>M.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+m,y:C.position.y+g}})})),(f.width<s.width||f.height<s.height||m||g)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(m?p[0]*m-y:0),height:_+(g?p[1]*g-S:0)}})}),i}function ICe(e,t,n,r,i,o,a){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let c=!1;if(!s)return{changes:[],updatedInternals:c};const u=[],d=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=[];for(const m of e.values()){const g=t.get(m.id);if(!g)continue;if(g.hidden){t.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),c=!0;continue}const v=PP(m.nodeElement),_=g.measured.width!==v.width||g.measured.height!==v.height;if(!!(v.width&&v.height&&(_||!g.internals.handleBounds||m.force))){const S=m.nodeElement.getBoundingClientRect(),w=cp(g.extent)?g.extent:o;let{positionAbsolute:C}=g.internals;g.parentId&&g.extent==="parent"?C=KV(C,v,t.get(g.parentId)):w&&(C=Qd(C,w,v));const M={...g,measured:v,internals:{...g.internals,positionAbsolute:C,handleBounds:{source:p5("source",m.nodeElement,S,f,g.id),target:p5("target",m.nodeElement,S,f,g.id)}}};t.set(g.id,M),g.parentId&&IP(M,t,n,{nodeOrigin:i,zIndexMode:a}),c=!0,_&&(u.push({id:g.id,type:"dimensions",dimensions:v}),g.expandParent&&g.parentId&&p.push({id:g.id,parentId:g.parentId,rect:lp(M,i)}))}}if(p.length>0){const m=zP(p,t,n,i);u.push(...m)}return{changes:u,updatedInternals:c}}async function zCe({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function _5(e,t,n,r,i,o){let a=i;const s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${i}-${e}`;const c=r.get(a)||new Map;if(r.set(a,c.set(n,t)),o){a=`${i}-${e}-${o}`;const u=r.get(a)||new Map;r.set(a,u.set(n,t))}}function uW(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:a=null,targetHandle:s=null}=r,c={edgeId:r.id,source:i,target:o,sourceHandle:a,targetHandle:s},u=`${i}-${a}--${o}-${s}`,d=`${o}-${s}--${i}-${a}`;_5("source",c,d,e,i,a),_5("target",c,u,e,o,s),t.set(r.id,r)}}function dW(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:dW(n,t):!1}function w5(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function LCe(e,t,n,r){const i=new Map;for(const[o,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!dW(a,e))&&(a.draggable||t&&typeof a.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function Bw({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var a,s,c;const i=[];for(const[u,d]of t){const f=(a=n.get(u))==null?void 0:a.internals.userNode;f&&i.push({...f,position:d.position,dragging:r})}if(!e)return[i[0],i];const o=(s=n.get(e))==null?void 0:s.internals.userNode;return[o?{...o,position:((c=t.get(e))==null?void 0:c.position)||o.position,dragging:r}:i[0],i]}function DCe({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},a=Nv(o,t);return{x:a.x-o.x,y:a.y-o.y}}function OCe({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},a=0,s=new Map,c=!1,u={x:0,y:0},d=null,f=!1,p=null,m=!1,g=!1,v=null;function _({noDragClassName:S,handleSelector:w,domNode:C,isSelectable:M,nodeId:A,nodeClickDistance:E=0}){p=ya(C);function I({x:q,y:$}){const{nodeLookup:j,nodeExtent:O,snapGrid:z,snapToGrid:W,nodeOrigin:F,onNodeDrag:V,onSelectionDrag:H,onError:te,updateNodePositions:Z}=t();o={x:q,y:$};let Q=!1;const re=s.size>1,ue=re&&O?ZM(Av(s)):null,oe=re&&W?DCe({dragItems:s,snapGrid:z,x:q,y:$}):null;for(const[be,ke]of s){if(!j.has(be))continue;let He={x:q-ke.distance.x,y:$-ke.distance.y};W&&(He=oe?{x:Math.round(He.x+oe.x),y:Math.round(He.y+oe.y)}:Nv(He,z));let Je=null;if(re&&O&&!ke.extent&&ue){const{positionAbsolute:at}=ke.internals,Ge=at.x-ue.x+O[0][0],We=at.x+ke.measured.width-ue.x2+O[1][0],$e=at.y-ue.y+O[0][1],et=at.y+ke.measured.height-ue.y2+O[1][1];Je=[[Ge,$e],[We,et]]}const{position:rt,positionAbsolute:le}=ZV({nodeId:be,nextPosition:He,nodeLookup:j,nodeExtent:Je||O,nodeOrigin:F,onError:te});Q=Q||ke.position.x!==rt.x||ke.position.y!==rt.y,ke.position=rt,ke.internals.positionAbsolute=le}if(g=g||Q,!!Q&&(Z(s,!0),v&&(r||V||!A&&H))){const[be,ke]=Bw({nodeId:A,dragItems:s,nodeLookup:j});r==null||r(v,s,be,ke),V==null||V(v,be,ke),A||H==null||H(v,ke)}}async function N(){if(!d)return;const{transform:q,panBy:$,autoPanSpeed:j,autoPanOnNodeDrag:O}=t();if(!O){c=!1,cancelAnimationFrame(a);return}const[z,W]=YV(u,d,j);(z!==0||W!==0)&&(o.x=(o.x??0)-z/q[2],o.y=(o.y??0)-W/q[2],await $({x:z,y:W})&&I(o)),a=requestAnimationFrame(N)}function P(q){var re;const{nodeLookup:$,multiSelectionActive:j,nodesDraggable:O,transform:z,snapGrid:W,snapToGrid:F,selectNodesOnDrag:V,onNodeDragStart:H,onSelectionDragStart:te,unselectNodesAndEdges:Z}=t();f=!0,(!V||!M)&&!j&&A&&((re=$.get(A))!=null&&re.selected||Z()),M&&V&&A&&(e==null||e(A));const Q=sg(q.sourceEvent,{transform:z,snapGrid:W,snapToGrid:F,containerBounds:d});if(o=Q,s=LCe($,O,Q,A),s.size>0&&(n||H||!A&&te)){const[ue,oe]=Bw({nodeId:A,dragItems:s,nodeLookup:$});n==null||n(q.sourceEvent,s,ue,oe),H==null||H(q.sourceEvent,ue,oe),A||te==null||te(q.sourceEvent,oe)}}const D=MV().clickDistance(E).on("start",q=>{const{domNode:$,nodeDragThreshold:j,transform:O,snapGrid:z,snapToGrid:W}=t();d=($==null?void 0:$.getBoundingClientRect())||null,m=!1,g=!1,v=q.sourceEvent,j===0&&P(q),o=sg(q.sourceEvent,{transform:O,snapGrid:z,snapToGrid:W,containerBounds:d}),u=Ps(q.sourceEvent,d)}).on("drag",q=>{const{autoPanOnNodeDrag:$,transform:j,snapGrid:O,snapToGrid:z,nodeDragThreshold:W,nodeLookup:F}=t(),V=sg(q.sourceEvent,{transform:j,snapGrid:O,snapToGrid:z,containerBounds:d});if(v=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||A&&!F.has(A))&&(m=!0),!m){if(!c&&$&&f&&(c=!0,N()),!f){const H=Ps(q.sourceEvent,d),te=H.x-u.x,Z=H.y-u.y;Math.sqrt(te*te+Z*Z)>W&&P(q)}(o.x!==V.xSnapped||o.y!==V.ySnapped)&&s&&f&&(u=Ps(q.sourceEvent,d),I(V))}}).on("end",q=>{if(!(!f||m)&&(c=!1,f=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:$,updateNodePositions:j,onNodeDragStop:O,onSelectionDragStop:z}=t();if(g&&(j(s,!1),g=!1),i||O||!A&&z){const[W,F]=Bw({nodeId:A,dragItems:s,nodeLookup:$,dragging:!1});i==null||i(q.sourceEvent,s,W,F),O==null||O(q.sourceEvent,W,F),A||z==null||z(q.sourceEvent,F)}}}).filter(q=>{const $=q.target;return!q.button&&(!S||!w5($,`.${S}`,C))&&(!w||w5($,w,C))});p.call(D)}function y(){p==null||p.on(".drag",null)}return{update:_,destroy:y}}function FCe(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())$g(i,lp(o))>0&&r.push(o);return r}const UCe=250;function qCe(e,t,n,r){var s,c;let i=[],o=1/0;const a=FCe(e,n,t+UCe);for(const u of a){const d=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:m}=ef(u,f,f.position,!0),g=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(m-e.y,2));g>t||(g<o?(i=[{...f,x:p,y:m}],o=g):g===o&&i.push({...f,x:p,y:m}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(d=>d.type===u)??i[0]}return i[0]}function fW(e,t,n,r,i,o=!1){var u,d,f;const a=r.get(e);if(!a)return null;const s=i==="strict"?(u=a.internals.handleBounds)==null?void 0:u[t]:[...((d=a.internals.handleBounds)==null?void 0:d.source)??[],...((f=a.internals.handleBounds)==null?void 0:f.target)??[]],c=(n?s==null?void 0:s.find(p=>p.id===n):s==null?void 0:s[0])??null;return c&&o?{...c,...ef(a,c,c.position,!0)}:c}function hW(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function HCe(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const pW=()=>!0;function VCe(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:a,domNode:s,nodeLookup:c,lib:u,autoPanOnConnect:d,flowId:f,panBy:p,cancelConnection:m,onConnectStart:g,onConnect:v,onConnectEnd:_,isValidConnection:y=pW,onReconnectEnd:S,updateConnection:w,getTransform:C,getFromHandle:M,autoPanSpeed:A,dragThreshold:E=1,handleDomNode:I}){const N=tW(e.target);let P=0,D;const{x:q,y:$}=Ps(e),j=hW(o,I),O=s==null?void 0:s.getBoundingClientRect();let z=!1;if(!O||!j)return;const W=fW(i,j,r,c,t);if(!W)return;let F=Ps(e,O),V=!1,H=null,te=!1,Z=null;function Q(){if(!d||!O)return;const[rt,le]=YV(F,O,A);p({x:rt,y:le}),P=requestAnimationFrame(Q)}const re={...W,nodeId:i,type:j,position:W.position},ue=c.get(i);let be={inProgress:!0,isValid:null,from:ef(ue,re,Xt.Left,!0),fromHandle:re,fromPosition:re.position,fromNode:ue,to:F,toHandle:null,toPosition:u5[re.position],toNode:null,pointer:F};function ke(){z=!0,w(be),g==null||g(e,{nodeId:i,handleId:r,handleType:j})}E===0&&ke();function He(rt){if(!z){const{x:et,y:Xe}=Ps(rt),X=et-q,Y=Xe-$;if(!(X*X+Y*Y>E*E))return;ke()}if(!M()||!re){Je(rt);return}const le=C();F=Ps(rt,O),D=qCe(Pv(F,le,!1,[1,1]),n,c,re),V||(Q(),V=!0);const at=mW(rt,{handle:D,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:a?"target":"source",isValidConnection:y,doc:N,lib:u,flowId:f,nodeLookup:c});Z=at.handleDomNode,H=at.connection,te=HCe(!!D,at.isValid);const Ge=c.get(i),We=Ge?ef(Ge,re,Xt.Left,!0):be.from,$e={...be,from:We,isValid:te,to:at.toHandle&&te?Qb({x:at.toHandle.x,y:at.toHandle.y},le):F,toHandle:at.toHandle,toPosition:te&&at.toHandle?at.toHandle.position:u5[re.position],toNode:at.toHandle?c.get(at.toHandle.nodeId):null,pointer:F};w($e),be=$e}function Je(rt){if(!("touches"in rt&&rt.touches.length>0)){if(z){(D||Z)&&H&&te&&(v==null||v(H));const{inProgress:le,...at}=be,Ge={...at,toPosition:be.toHandle?be.toPosition:null};_==null||_(rt,Ge),o&&(S==null||S(rt,Ge))}m(),cancelAnimationFrame(P),V=!1,te=!1,H=null,Z=null,N.removeEventListener("mousemove",He),N.removeEventListener("mouseup",Je),N.removeEventListener("touchmove",He),N.removeEventListener("touchend",Je)}}N.addEventListener("mousemove",He),N.addEventListener("mouseup",Je),N.addEventListener("touchmove",He),N.addEventListener("touchend",Je)}function mW(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:a,lib:s,flowId:c,isValidConnection:u=pW,nodeLookup:d}){const f=o==="target",p=t?a.querySelector(`.${s}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:g}=Ps(e),v=a.elementFromPoint(m,g),_=v!=null&&v.classList.contains(`${s}-flow__handle`)?v:p,y={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const S=hW(void 0,_),w=_.getAttribute("data-nodeid"),C=_.getAttribute("data-handleid"),M=_.classList.contains("connectable"),A=_.classList.contains("connectableend");if(!w||!S)return y;const E={source:f?w:r,sourceHandle:f?C:i,target:f?r:w,targetHandle:f?i:C};y.connection=E;const N=M&&A&&(n===ap.Strict?f&&S==="source"||!f&&S==="target":w!==r||C!==i);y.isValid=N&&u(E),y.toHandle=fW(w,S,C,d,n,!0)}return y}const QM={onPointerDown:VCe,isValid:mW};function WCe({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=ya(e);function o({translateExtent:s,width:c,height:u,zoomStep:d=1,pannable:f=!0,zoomable:p=!0,inversePan:m=!1}){const g=w=>{if(w.sourceEvent.type!=="wheel"||!t)return;const C=n(),M=w.sourceEvent.ctrlKey&&Xg()?10:1,A=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*d,E=C[2]*Math.pow(2,A*M);t.scaleTo(E)};let v=[0,0];const _=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(v=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},y=w=>{const C=n();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!t)return;const M=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],A=[M[0]-v[0],M[1]-v[1]];v=M;const E=r()*Math.max(C[2],Math.log(C[2]))*(m?-1:1),I={x:C[0]-A[0]*E,y:C[1]-A[1]*E},N=[[0,0],[c,u]];t.setViewportConstrained({x:I.x,y:I.y,zoom:C[2]},N,s)},S=HV().on("start",_).on("zoom",f?y:null).on("zoom.wheel",p?g:null);i.call(S,{})}function a(){i.on("zoom",null)}return{update:o,destroy:a,pointer:Ss}}const g1=e=>({x:e.x,y:e.y,zoom:e.k}),Rw=({x:e,y:t,zoom:n})=>f1.translate(e,t).scale(n),bh=(e,t)=>e.target.closest(`.${t}`),gW=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),GCe=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,jw=(e,t=0,n=GCe,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},vW=e=>{const t=e.ctrlKey&&Xg()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function $Ce({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:c,onPanZoomEnd:u}){return d=>{if(bh(d,t))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(d.ctrlKey&&a){const _=Ss(d),y=vW(d),S=f*Math.pow(2,y);r.scaleTo(n,S,_,d);return}const p=d.deltaMode===1?20:1;let m=i===Od.Vertical?0:d.deltaX*p,g=i===Od.Horizontal?0:d.deltaY*p;!Xg()&&d.shiftKey&&i!==Od.Vertical&&(m=d.deltaY*p,g=0),r.translateBy(n,-(m/f)*o,-(g/f)*o,{internal:!0});const v=g1(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(c==null||c(d,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(d,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s==null||s(d,v))}}function XCe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",a=!t&&o&&!r.ctrlKey,s=bh(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,i)}}function ZCe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,a,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=g1(r.transform);e.mouseButton=((a=r.sourceEvent)==null?void 0:a.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function KCe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var a,s;e.usedRightMouseButton=!!(n&&gW(t,e.mouseButton??0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,g1(o.transform)))}}function YCe({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return a=>{var s;if(!((s=a.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,o&&gW(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&o(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const c=g1(a.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(a.sourceEvent,c)},n?150:0)}}}function JCe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:a,noWheelClassName:s,noPanClassName:c,lib:u,connectionInProgress:d}){return f=>{var _;const p=e||t,m=n&&f.ctrlKey,g=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(bh(f,`${u}-flow__node`)||bh(f,`${u}-flow__edge`)))return!0;if(!r&&!p&&!i&&!o&&!n||a||d&&!g||bh(f,s)&&g||bh(f,c)&&(!g||i&&g&&!e)||!n&&f.ctrlKey&&g)return!1;if(!n&&f.type==="touchstart"&&((_=f.touches)==null?void 0:_.length)>1)return f.preventDefault(),!1;if(!p&&!i&&!m&&g||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||g)&&v}}function QCe({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=HV().scaleExtent([t,n]).translateExtent(r),p=ya(e).call(f);S({x:i.x,y:i.y,zoom:sp(i.zoom,t,n)},[[0,0],[d.width,d.height]],r);const m=p.on("wheel.zoom"),g=p.on("dblclick.zoom");f.wheelDelta(vW);function v(D,q){return p?new Promise($=>{f==null||f.interpolate((q==null?void 0:q.interpolate)==="linear"?ag:Wy).transform(jw(p,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>$(!0)),D)}):Promise.resolve(!1)}function _({noWheelClassName:D,noPanClassName:q,onPaneContextMenu:$,userSelectionActive:j,panOnScroll:O,panOnDrag:z,panOnScrollMode:W,panOnScrollSpeed:F,preventScrolling:V,zoomOnPinch:H,zoomOnScroll:te,zoomOnDoubleClick:Z,zoomActivationKeyPressed:Q,lib:re,onTransformChange:ue,connectionInProgress:oe,paneClickDistance:be,selectionOnDrag:ke}){j&&!u.isZoomingOrPanning&&y();const He=O&&!Q&&!j;f.clickDistance(ke?1/0:!Ns(be)||be<0?0:be);const Je=He?$Ce({zoomPanValues:u,noWheelClassName:D,d3Selection:p,d3Zoom:f,panOnScrollMode:W,panOnScrollSpeed:F,zoomOnPinch:H,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:s}):XCe({noWheelClassName:D,preventScrolling:V,d3ZoomHandler:m});if(p.on("wheel.zoom",Je,{passive:!1}),!j){const le=ZCe({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});f.on("start",le);const at=KCe({zoomPanValues:u,panOnDrag:z,onPaneContextMenu:!!$,onPanZoom:o,onTransformChange:ue});f.on("zoom",at);const Ge=YCe({zoomPanValues:u,panOnDrag:z,panOnScroll:O,onPaneContextMenu:$,onPanZoomEnd:s,onDraggingChange:c});f.on("end",Ge)}const rt=JCe({zoomActivationKeyPressed:Q,panOnDrag:z,zoomOnScroll:te,panOnScroll:O,zoomOnDoubleClick:Z,zoomOnPinch:H,userSelectionActive:j,noPanClassName:q,noWheelClassName:D,lib:re,connectionInProgress:oe});f.filter(rt),Z?p.on("dblclick.zoom",g):p.on("dblclick.zoom",null)}function y(){f.on("zoom",null)}async function S(D,q,$){const j=Rw(D),O=f==null?void 0:f.constrain()(j,q,$);return O&&await v(O),new Promise(z=>z(O))}async function w(D,q){const $=Rw(D);return await v($,q),new Promise(j=>j($))}function C(D){if(p){const q=Rw(D),$=p.property("__zoom");($.k!==D.zoom||$.x!==D.x||$.y!==D.y)&&(f==null||f.transform(p,q,null,{sync:!0}))}}function M(){const D=p?qV(p.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function A(D,q){return p?new Promise($=>{f==null||f.interpolate((q==null?void 0:q.interpolate)==="linear"?ag:Wy).scaleTo(jw(p,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>$(!0)),D)}):Promise.resolve(!1)}function E(D,q){return p?new Promise($=>{f==null||f.interpolate((q==null?void 0:q.interpolate)==="linear"?ag:Wy).scaleBy(jw(p,q==null?void 0:q.duration,q==null?void 0:q.ease,()=>$(!0)),D)}):Promise.resolve(!1)}function I(D){f==null||f.scaleExtent(D)}function N(D){f==null||f.translateExtent(D)}function P(D){const q=!Ns(D)||D<0?0:D;f==null||f.clickDistance(q)}return{update:_,destroy:y,setViewport:w,setViewportConstrained:S,getViewport:M,scaleTo:A,scaleBy:E,setScaleExtent:I,setTranslateExtent:N,syncViewport:C,setClickDistance:P}}var up;(function(e){e.Line="line",e.Handle="handle"})(up||(up={}));function eTe({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const a=e-t,s=n-r,c=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&i&&(c[0]=c[0]*-1),s&&o&&(c[1]=c[1]*-1),c}function S5(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Xc(e,t){return Math.max(0,t-e)}function Zc(e,t){return Math.max(0,e-t)}function $0(e,t,n){return Math.max(0,t-e,e-n)}function C5(e,t){return e?!t:t}function tTe(e,t,n,r,i,o,a,s){let{affectsX:c,affectsY:u}=t;const{isHorizontal:d,isVertical:f}=t,p=d&&f,{xSnapped:m,ySnapped:g}=n,{minWidth:v,maxWidth:_,minHeight:y,maxHeight:S}=r,{x:w,y:C,width:M,height:A,aspectRatio:E}=e;let I=Math.floor(d?m-e.pointerX:0),N=Math.floor(f?g-e.pointerY:0);const P=M+(c?-I:I),D=A+(u?-N:N),q=-o[0]*M,$=-o[1]*A;let j=$0(P,v,_),O=$0(D,y,S);if(a){let F=0,V=0;c&&I<0?F=Xc(w+I+q,a[0][0]):!c&&I>0&&(F=Zc(w+P+q,a[1][0])),u&&N<0?V=Xc(C+N+$,a[0][1]):!u&&N>0&&(V=Zc(C+D+$,a[1][1])),j=Math.max(j,F),O=Math.max(O,V)}if(s){let F=0,V=0;c&&I>0?F=Zc(w+I,s[0][0]):!c&&I<0&&(F=Xc(w+P,s[1][0])),u&&N>0?V=Zc(C+N,s[0][1]):!u&&N<0&&(V=Xc(C+D,s[1][1])),j=Math.max(j,F),O=Math.max(O,V)}if(i){if(d){const F=$0(P/E,y,S)*E;if(j=Math.max(j,F),a){let V=0;!c&&!u||c&&!u&&p?V=Zc(C+$+P/E,a[1][1])*E:V=Xc(C+$+(c?I:-I)/E,a[0][1])*E,j=Math.max(j,V)}if(s){let V=0;!c&&!u||c&&!u&&p?V=Xc(C+P/E,s[1][1])*E:V=Zc(C+(c?I:-I)/E,s[0][1])*E,j=Math.max(j,V)}}if(f){const F=$0(D*E,v,_)/E;if(O=Math.max(O,F),a){let V=0;!c&&!u||u&&!c&&p?V=Zc(w+D*E+q,a[1][0])/E:V=Xc(w+(u?N:-N)*E+q,a[0][0])/E,O=Math.max(O,V)}if(s){let V=0;!c&&!u||u&&!c&&p?V=Xc(w+D*E,s[1][0])/E:V=Zc(w+(u?N:-N)*E,s[0][0])/E,O=Math.max(O,V)}}}N=N+(N<0?O:-O),I=I+(I<0?j:-j),i&&(p?P>D*E?N=(C5(c,u)?-I:I)/E:I=(C5(c,u)?-N:N)*E:d?(N=I/E,u=c):(I=N*E,c=u));const z=c?w+I:w,W=u?C+N:C;return{width:M+(c?-I:I),height:A+(u?-N:N),x:o[0]*I*(c?-1:1)+z,y:o[1]*N*(u?-1:1)+W}}const yW={width:0,height:0,x:0,y:0},nTe={...yW,pointerX:0,pointerY:0,aspectRatio:1};function rTe(e){return[[0,0],[e.measured.width,e.measured.height]]}function iTe(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,a=e.measured.height??0,s=n[0]*o,c=n[1]*a;return[[r-s,i-c],[r+o-s,i+a-c]]}function oTe({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=ya(e);let a={controlDirection:S5("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function s({controlPosition:u,boundaries:d,keepAspectRatio:f,resizeDirection:p,onResizeStart:m,onResize:g,onResizeEnd:v,shouldResize:_}){let y={...yW},S={...nTe};a={boundaries:d,resizeDirection:p,keepAspectRatio:f,controlDirection:S5(u)};let w,C=null,M=[],A,E,I,N=!1;const P=MV().on("start",D=>{const{nodeLookup:q,transform:$,snapGrid:j,snapToGrid:O,nodeOrigin:z,paneDomNode:W}=n();if(w=q.get(t),!w)return;C=(W==null?void 0:W.getBoundingClientRect())??null;const{xSnapped:F,ySnapped:V}=sg(D.sourceEvent,{transform:$,snapGrid:j,snapToGrid:O,containerBounds:C});y={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},S={...y,pointerX:F,pointerY:V,aspectRatio:y.width/y.height},A=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(A=q.get(w.parentId),E=A&&w.extent==="parent"?rTe(A):void 0),M=[],I=void 0;for(const[H,te]of q)if(te.parentId===t&&(M.push({id:H,position:{...te.position},extent:te.extent}),te.extent==="parent"||te.expandParent)){const Z=iTe(te,w,te.origin??z);I?I=[[Math.min(Z[0][0],I[0][0]),Math.min(Z[0][1],I[0][1])],[Math.max(Z[1][0],I[1][0]),Math.max(Z[1][1],I[1][1])]]:I=Z}m==null||m(D,{...y})}).on("drag",D=>{const{transform:q,snapGrid:$,snapToGrid:j,nodeOrigin:O}=n(),z=sg(D.sourceEvent,{transform:q,snapGrid:$,snapToGrid:j,containerBounds:C}),W=[];if(!w)return;const{x:F,y:V,width:H,height:te}=y,Z={},Q=w.origin??O,{width:re,height:ue,x:oe,y:be}=tTe(S,a.controlDirection,z,a.boundaries,a.keepAspectRatio,Q,E,I),ke=re!==H,He=ue!==te,Je=oe!==F&&ke,rt=be!==V&&He;if(!Je&&!rt&&!ke&&!He)return;if((Je||rt||Q[0]===1||Q[1]===1)&&(Z.x=Je?oe:y.x,Z.y=rt?be:y.y,y.x=Z.x,y.y=Z.y,M.length>0)){const We=oe-F,$e=be-V;for(const et of M)et.position={x:et.position.x-We+Q[0]*(re-H),y:et.position.y-$e+Q[1]*(ue-te)},W.push(et)}if((ke||He)&&(Z.width=ke&&(!a.resizeDirection||a.resizeDirection==="horizontal")?re:y.width,Z.height=He&&(!a.resizeDirection||a.resizeDirection==="vertical")?ue:y.height,y.width=Z.width,y.height=Z.height),A&&w.expandParent){const We=Q[0]*(Z.width??0);Z.x&&Z.x<We&&(y.x=We,S.x=S.x-(Z.x-We));const $e=Q[1]*(Z.height??0);Z.y&&Z.y<$e&&(y.y=$e,S.y=S.y-(Z.y-$e))}const le=eTe({width:y.width,prevWidth:H,height:y.height,prevHeight:te,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),at={...y,direction:le};(_==null?void 0:_(D,at))!==!1&&(N=!0,g==null||g(D,at),r(Z,W))}).on("end",D=>{N&&(v==null||v(D,{...y}),i==null||i({...y}),N=!1)});o.call(P)}function c(){o.on(".drag",null)}return{update:s,destroy:c}}var bW={exports:{}},xW={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=x,aTe=_q;function sTe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lTe=typeof Object.is=="function"?Object.is:sTe,cTe=aTe.useSyncExternalStore,uTe=v1.useRef,dTe=v1.useEffect,fTe=v1.useMemo,hTe=v1.useDebugValue;xW.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=uTe(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=fTe(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,lTe(d,m))return g;var v=r(m);return i!==void 0&&i(g,v)?(d=m,g):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,i]);var s=cTe(e,o[0],o[1]);return dTe(function(){a.hasValue=!0,a.value=s},[s]),hTe(s),s};bW.exports=xW;var pTe=bW.exports;const mTe=Qg(pTe),gTe={},T5=e=>{let t;const n=new Set,r=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const m=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(g=>g(t,m))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(gTe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},vTe=e=>e?T5(e):T5,{useDebugValue:yTe}=Hd,{useSyncExternalStoreWithSelector:bTe}=mTe,xTe=e=>e;function _W(e,t=xTe,n){const r=bTe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return yTe(r),r}const k5=(e,t)=>{const n=vTe(e),r=(i,o=t)=>_W(n,i,o);return Object.assign(r,n),r},_Te=(e,t)=>e?k5(e,t):k5;function Dr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const y1=x.createContext(null),wTe=y1.Provider,wW=wl.error001();function Un(e,t){const n=x.useContext(y1);if(n===null)throw new Error(wW);return _W(n,e,t)}function Or(){const e=x.useContext(y1);if(e===null)throw new Error(wW);return x.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const E5={display:"none"},STe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},SW="react-flow__node-desc",CW="react-flow__edge-desc",CTe="react-flow__aria-live",TTe=e=>e.ariaLiveMessage,kTe=e=>e.ariaLabelConfig;function ETe({rfId:e}){const t=Un(TTe);return l.jsx("div",{id:`${CTe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:STe,children:t})}function MTe({rfId:e,disableKeyboardA11y:t}){const n=Un(kTe);return l.jsxs(l.Fragment,{children:[l.jsx("div",{id:`${SW}-${e}`,style:E5,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),l.jsx("div",{id:`${CW}-${e}`,style:E5,children:n["edge.a11yDescription.default"]}),!t&&l.jsx(ETe,{rfId:e})]})}const df=x.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const a=`${e}`.split("-");return l.jsx("div",{className:bi(["react-flow__panel",n,...a]),style:r,ref:o,...i,children:t})});df.displayName="Panel";function ATe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:l.jsx(df,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:l.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const NTe=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},X0=e=>e.id;function PTe(e,t){return Dr(e.selectedNodes.map(X0),t.selectedNodes.map(X0))&&Dr(e.selectedEdges.map(X0),t.selectedEdges.map(X0))}function BTe({onSelectionChange:e}){const t=Or(),{selectedNodes:n,selectedEdges:r}=Un(NTe,PTe);return x.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const RTe=e=>!!e.onSelectionChangeHandlers;function jTe({onSelectionChange:e}){const t=Un(RTe);return e||t?l.jsx(BTe,{onSelectionChange:e}):null}const TW=[0,0],ITe={x:0,y:0,zoom:1},zTe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],M5=[...zTe,"rfId"],LTe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),A5={translateExtent:Wg,nodeOrigin:TW,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function DTe(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:c}=Un(LTe,Dr),u=Or();x.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{d.current=A5,s()}),[]);const d=x.useRef(A5);return x.useEffect(()=>{for(const f of M5){const p=e[f],m=d.current[f];p!==m&&(typeof e[f]>"u"||(f==="nodes"?t(p):f==="edges"?n(p):f==="minZoom"?r(p):f==="maxZoom"?i(p):f==="translateExtent"?o(p):f==="nodeExtent"?a(p):f==="ariaLabelConfig"?u.setState({ariaLabelConfig:yCe(p)}):f==="fitView"?u.setState({fitViewQueued:p}):f==="fitViewOptions"?u.setState({fitViewOptions:p}):u.setState({[f]:p})))}d.current=e},M5.map(f=>e[f])),null}function N5(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function OTe(e){var r;const[t,n]=x.useState(e==="system"?null:e);return x.useEffect(()=>{if(e!=="system"){n(e);return}const i=N5(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=N5())!=null&&r.matches?"dark":"light"}const P5=typeof document<"u"?document:null;function Zg(e=null,t={target:P5,actInsideInputWithModifier:!0}){const[n,r]=x.useState(!1),i=x.useRef(!1),o=x.useRef(new Set([])),[a,s]=x.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=u.reduce((f,p)=>f.concat(...p),[]);return[u,d]}return[[],[]]},[e]);return x.useEffect(()=>{const c=(t==null?void 0:t.target)??P5,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const d=m=>{var _,y;if(i.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!i.current||i.current&&!u)&&nW(m))return!1;const v=R5(m.code,s);if(o.current.add(m[v]),B5(a,o.current,!1)){const S=((y=(_=m.composedPath)==null?void 0:_.call(m))==null?void 0:y[0])||m.target,w=(S==null?void 0:S.nodeName)==="BUTTON"||(S==null?void 0:S.nodeName)==="A";t.preventDefault!==!1&&(i.current||!w)&&m.preventDefault(),r(!0)}},f=m=>{const g=R5(m.code,s);B5(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[g]),m.key==="Meta"&&o.current.clear(),i.current=!1},p=()=>{o.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",d),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",p),window.addEventListener("contextmenu",p),()=>{c==null||c.removeEventListener("keydown",d),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",p),window.removeEventListener("contextmenu",p)}}},[e,r]),n}function B5(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function R5(e,t){return t.includes(e)?"code":"key"}const FTe=()=>{const e=Or();return x.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:a,panZoom:s}=e.getState(),c=NP(t,r,i,o,a,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(c,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:a}=e.getState();if(!a)return t;const{x:s,y:c}=a.getBoundingClientRect(),u={x:t.x-s,y:t.y-c},d=n.snapGrid??i,f=n.snapToGrid??o;return Pv(u,r,f,d)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),a=Qb(t,n);return{x:a.x+i,y:a.y+o}}}),[])};function kW(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const a=r.get(o.id);a?a.push(o):r.set(o.id,[o])}for(const o of t){const a=r.get(o.id);if(!a){n.push(o);continue}if(a[0].type==="remove")continue;if(a[0].type==="replace"){n.push({...a[0].item});continue}const s={...o};for(const c of a)UTe(c,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function UTe(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function b1(e,t){return kW(e,t)}function x1(e,t){return kW(e,t)}function bd(e,t){return{id:e,type:"select",selected:t}}function xh(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const a=t.has(i);!(o.selected===void 0&&!a)&&o.selected!==a&&(n&&(o.selected=a),r.push(bd(o.id,a)))}return r}function j5({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,a]of e.entries()){const s=t.get(a.id),c=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;c!==void 0&&c!==a&&n.push({id:a.id,item:a,type:"replace"}),c===void 0&&n.push({item:a,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function I5(e){return{id:e.id,type:"remove"}}const z5=e=>lCe(e),qTe=e=>XV(e);function EW(e){return x.forwardRef(e)}const HTe=typeof window<"u"?x.useLayoutEffect:x.useEffect;function L5(e){const[t,n]=x.useState(BigInt(0)),[r]=x.useState(()=>VTe(()=>n(i=>i+BigInt(1))));return HTe(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function VTe(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const MW=x.createContext(null);function WTe({children:e}){const t=Or(),n=x.useCallback(s=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:d,onNodesChange:f,nodeLookup:p,fitViewQueued:m,onNodesChangeMiddlewareMap:g}=t.getState();let v=c;for(const y of s)v=typeof y=="function"?y(v):y;let _=j5({items:v,lookup:p});for(const y of g.values())_=y(_);d&&u(v),_.length>0?f==null||f(_):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:S,setNodes:w}=t.getState();y&&w(S)})},[]),r=L5(n),i=x.useCallback(s=>{const{edges:c=[],setEdges:u,hasDefaultEdges:d,onEdgesChange:f,edgeLookup:p}=t.getState();let m=c;for(const g of s)m=typeof g=="function"?g(m):g;d?u(m):f&&f(j5({items:m,lookup:p}))},[]),o=L5(i),a=x.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return l.jsx(MW.Provider,{value:a,children:e})}function GTe(){const e=x.useContext(MW);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const $Te=e=>!!e.panZoom;function LP(){const e=FTe(),t=Or(),n=GTe(),r=Un($Te),i=x.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),a=f=>{n.nodeQueue.push(f)},s=f=>{n.edgeQueue.push(f)},c=f=>{var y,S;const{nodeLookup:p,nodeOrigin:m}=t.getState(),g=z5(f)?f:p.get(f.id),v=g.parentId?eW(g.position,g.measured,g.parentId,p,m):g.position,_={...g,position:v,width:((y=g.measured)==null?void 0:y.width)??g.width,height:((S=g.measured)==null?void 0:S.height)??g.height};return lp(_)},u=(f,p,m={replace:!1})=>{a(g=>g.map(v=>{if(v.id===f){const _=typeof p=="function"?p(v):p;return m.replace&&z5(_)?_:{...v,..._}}return v}))},d=(f,p,m={replace:!1})=>{s(g=>g.map(v=>{if(v.id===f){const _=typeof p=="function"?p(v):p;return m.replace&&qTe(_)?_:{...v,..._}}return v}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var p;return(p=o(f))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(p=>({...p}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:a,setEdges:s,addNodes:f=>{const p=Array.isArray(f)?f:[f];n.nodeQueue.push(m=>[...m,...p])},addEdges:f=>{const p=Array.isArray(f)?f:[f];n.edgeQueue.push(m=>[...m,...p])},toObject:()=>{const{nodes:f=[],edges:p=[],transform:m}=t.getState(),[g,v,_]=m;return{nodes:f.map(y=>({...y})),edges:p.map(y=>({...y})),viewport:{x:g,y:v,zoom:_}}},deleteElements:async({nodes:f=[],edges:p=[]})=>{const{nodes:m,edges:g,onNodesDelete:v,onEdgesDelete:_,triggerNodeChanges:y,triggerEdgeChanges:S,onDelete:w,onBeforeDelete:C}=t.getState(),{nodes:M,edges:A}=await hCe({nodesToRemove:f,edgesToRemove:p,nodes:m,edges:g,onBeforeDelete:C}),E=A.length>0,I=M.length>0;if(E){const N=A.map(I5);_==null||_(A),S(N)}if(I){const N=M.map(I5);v==null||v(M),y(N)}return(I||E)&&(w==null||w({nodes:M,edges:A})),{deletedNodes:M,deletedEdges:A}},getIntersectingNodes:(f,p=!0,m)=>{const g=f5(f),v=g?f:c(f),_=m!==void 0;return v?(m||t.getState().nodes).filter(y=>{const S=t.getState().nodeLookup.get(y.id);if(S&&!g&&(y.id===f.id||!S.internals.positionAbsolute))return!1;const w=lp(_?y:S),C=$g(w,v);return p&&C>0||C>=w.width*w.height||C>=v.width*v.height}):[]},isNodeIntersecting:(f,p,m=!0)=>{const v=f5(f)?f:c(f);if(!v)return!1;const _=$g(v,p);return m&&_>0||_>=p.width*p.height||_>=v.width*v.height},updateNode:u,updateNodeData:(f,p,m={replace:!1})=>{u(f,g=>{const v=typeof p=="function"?p(g):p;return m.replace?{...g,data:v}:{...g,data:{...g.data,...v}}},m)},updateEdge:d,updateEdgeData:(f,p,m={replace:!1})=>{d(f,g=>{const v=typeof p=="function"?p(g):p;return m.replace?{...g,data:v}:{...g,data:{...g.data,...v}}},m)},getNodesBounds:f=>{const{nodeLookup:p,nodeOrigin:m}=t.getState();return cCe(f,{nodeLookup:p,nodeOrigin:m})},getHandleConnections:({type:f,id:p,nodeId:m})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${m}-${f}${p?`-${p}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:f,handleId:p,nodeId:m})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${m}${f?p?`-${f}-${p}`:`-${f}`:""}`))==null?void 0:g.values())??[])},fitView:async f=>{const p=t.getState().fitViewResolver??vCe();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:p}),n.nodeQueue.push(m=>[...m]),p.promise}}},[]);return x.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const D5=e=>e.selected,XTe=typeof window<"u"?window:void 0;function ZTe({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Or(),{deleteElements:r}=LP(),i=Zg(e,{actInsideInputWithModifier:!1}),o=Zg(t,{target:XTe});x.useEffect(()=>{if(i){const{edges:a,nodes:s}=n.getState();r({nodes:s.filter(D5),edges:a.filter(D5)}),n.setState({nodesSelectionActive:!1})}},[i]),x.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function KTe(e){const t=Or();x.useEffect(()=>{const n=()=>{var i,o,a,s;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=PP(e.current);(r.height===0||r.width===0)&&((s=(a=t.getState()).onError)==null||s.call(a,"004",wl.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const _1={position:"absolute",width:"100%",height:"100%",top:0,left:0},YTe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function JTe({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Od.Free,zoomOnDoubleClick:a=!0,panOnDrag:s=!0,defaultViewport:c,translateExtent:u,minZoom:d,maxZoom:f,zoomActivationKeyCode:p,preventScrolling:m=!0,children:g,noWheelClassName:v,noPanClassName:_,onViewportChange:y,isControlledViewport:S,paneClickDistance:w,selectionOnDrag:C}){const M=Or(),A=x.useRef(null),{userSelectionActive:E,lib:I,connectionInProgress:N}=Un(YTe,Dr),P=Zg(p),D=x.useRef();KTe(A);const q=x.useCallback($=>{y==null||y({x:$[0],y:$[1],zoom:$[2]}),S||M.setState({transform:$})},[y,S]);return x.useEffect(()=>{if(A.current){D.current=QCe({domNode:A.current,minZoom:d,maxZoom:f,translateExtent:u,viewport:c,onDraggingChange:z=>M.setState({paneDragging:z}),onPanZoomStart:(z,W)=>{const{onViewportChangeStart:F,onMoveStart:V}=M.getState();V==null||V(z,W),F==null||F(W)},onPanZoom:(z,W)=>{const{onViewportChange:F,onMove:V}=M.getState();V==null||V(z,W),F==null||F(W)},onPanZoomEnd:(z,W)=>{const{onViewportChangeEnd:F,onMoveEnd:V}=M.getState();V==null||V(z,W),F==null||F(W)}});const{x:$,y:j,zoom:O}=D.current.getViewport();return M.setState({panZoom:D.current,transform:[$,j,O],domNode:A.current.closest(".react-flow")}),()=>{var z;(z=D.current)==null||z.destroy()}}},[]),x.useEffect(()=>{var $;($=D.current)==null||$.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:a,panOnDrag:s,zoomActivationKeyPressed:P,preventScrolling:m,noPanClassName:_,userSelectionActive:E,noWheelClassName:v,lib:I,onTransformChange:q,connectionInProgress:N,selectionOnDrag:C,paneClickDistance:w})},[e,t,n,r,i,o,a,s,P,m,_,E,v,I,q,N,C,w]),l.jsx("div",{className:"react-flow__renderer",ref:A,style:_1,children:g})}const QTe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eke(){const{userSelectionActive:e,userSelectionRect:t}=Un(QTe,Dr);return e&&t?l.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Iw=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},tke=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function nke({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Gg.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:a,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:p,onPaneMouseLeave:m,children:g}){const v=Or(),{userSelectionActive:_,elementsSelectable:y,dragging:S,connectionInProgress:w}=Un(tke,Dr),C=y&&(e||_),M=x.useRef(null),A=x.useRef(),E=x.useRef(new Set),I=x.useRef(new Set),N=x.useRef(!1),P=F=>{if(N.current||w){N.current=!1;return}c==null||c(F),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},D=F=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){F.preventDefault();return}u==null||u(F)},q=d?F=>d(F):void 0,$=F=>{N.current&&(F.stopPropagation(),N.current=!1)},j=F=>{var ue,oe;const{domNode:V}=v.getState();if(A.current=V==null?void 0:V.getBoundingClientRect(),!A.current)return;const H=F.target===M.current;if(!H&&!!F.target.closest(".nokey")||!e||!(o&&H||t)||F.button!==0||!F.isPrimary)return;(oe=(ue=F.target)==null?void 0:ue.setPointerCapture)==null||oe.call(ue,F.pointerId),N.current=!1;const{x:Q,y:re}=Ps(F.nativeEvent,A.current);v.setState({userSelectionRect:{width:0,height:0,startX:Q,startY:re,x:Q,y:re}}),H||(F.stopPropagation(),F.preventDefault())},O=F=>{const{userSelectionRect:V,transform:H,nodeLookup:te,edgeLookup:Z,connectionLookup:Q,triggerNodeChanges:re,triggerEdgeChanges:ue,defaultEdgeOptions:oe,resetSelectedElements:be}=v.getState();if(!A.current||!V)return;const{x:ke,y:He}=Ps(F.nativeEvent,A.current),{startX:Je,startY:rt}=V;if(!N.current){const $e=t?0:i;if(Math.hypot(ke-Je,He-rt)<=$e)return;be(),a==null||a(F)}N.current=!0;const le={startX:Je,startY:rt,x:ke<Je?ke:Je,y:He<rt?He:rt,width:Math.abs(ke-Je),height:Math.abs(He-rt)},at=E.current,Ge=I.current;E.current=new Set(AP(te,le,H,n===Gg.Partial,!0).map($e=>$e.id)),I.current=new Set;const We=(oe==null?void 0:oe.selectable)??!0;for(const $e of E.current){const et=Q.get($e);if(et)for(const{edgeId:Xe}of et.values()){const X=Z.get(Xe);X&&(X.selectable??We)&&I.current.add(Xe)}}if(!h5(at,E.current)){const $e=xh(te,E.current,!0);re($e)}if(!h5(Ge,I.current)){const $e=xh(Z,I.current);ue($e)}v.setState({userSelectionRect:le,userSelectionActive:!0,nodesSelectionActive:!1})},z=F=>{var V,H;F.button===0&&((H=(V=F.target)==null?void 0:V.releasePointerCapture)==null||H.call(V,F.pointerId),!_&&F.target===M.current&&v.getState().userSelectionRect&&(P==null||P(F)),v.setState({userSelectionActive:!1,userSelectionRect:null}),N.current&&(s==null||s(F),v.setState({nodesSelectionActive:E.current.size>0})))},W=r===!0||Array.isArray(r)&&r.includes(0);return l.jsxs("div",{className:bi(["react-flow__pane",{draggable:W,dragging:S,selection:e}]),onClick:C?void 0:Iw(P,M),onContextMenu:Iw(D,M),onWheel:Iw(q,M),onPointerEnter:C?void 0:f,onPointerMove:C?O:p,onPointerUp:C?z:void 0,onPointerDownCapture:C?j:void 0,onClickCapture:C?$:void 0,onPointerLeave:m,ref:M,style:_1,children:[g,l.jsx(eke,{})]})}function eA({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeLookup:s,onError:c}=t.getState(),u=s.get(e);if(!u){c==null||c("012",wl.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&a)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([e])}function AW({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:a}){const s=Or(),[c,u]=x.useState(!1),d=x.useRef();return x.useEffect(()=>{d.current=OCe({getStoreItems:()=>s.getState(),onNodeMouseDown:f=>{eA({id:f,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),x.useEffect(()=>{var f,p;if(t)(f=d.current)==null||f.destroy();else if(e.current)return(p=d.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:a}),()=>{var m;(m=d.current)==null||m.destroy()}},[n,r,t,o,e,i]),c}const rke=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function NW(){const e=Or();return x.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:a,onError:s,updateNodePositions:c,nodeLookup:u,nodeOrigin:d}=e.getState(),f=new Map,p=rke(a),m=i?o[0]:5,g=i?o[1]:5,v=n.direction.x*m*n.factor,_=n.direction.y*g*n.factor;for(const[,y]of u){if(!p(y))continue;let S={x:y.internals.positionAbsolute.x+v,y:y.internals.positionAbsolute.y+_};i&&(S=Nv(S,o));const{position:w,positionAbsolute:C}=ZV({nodeId:y.id,nextPosition:S,nodeLookup:u,nodeExtent:r,nodeOrigin:d,onError:s});y.position=w,y.internals.positionAbsolute=C,f.set(y.id,y)}c(f)},[])}const DP=x.createContext(null),ike=DP.Provider;DP.Consumer;const PW=()=>x.useContext(DP),oke=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ake=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:a}=r,{fromHandle:s,toHandle:c,isValid:u}=a,d=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:d,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===ap.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:d&&u}};function ske({type:e="source",position:t=Xt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:c,className:u,onMouseDown:d,onTouchStart:f,...p},m){var O,z;const g=a||null,v=e==="target",_=Or(),y=PW(),{connectOnClick:S,noPanClassName:w,rfId:C}=Un(oke,Dr),{connectingFrom:M,connectingTo:A,clickConnecting:E,isPossibleEndHandle:I,connectionInProcess:N,clickConnectionInProcess:P,valid:D}=Un(ake(y,g,e),Dr);y||(z=(O=_.getState()).onError)==null||z.call(O,"010",wl.error010());const q=W=>{const{defaultEdgeOptions:F,onConnect:V,hasDefaultEdges:H}=_.getState(),te={...F,...W};if(H){const{edges:Z,setEdges:Q}=_.getState();Q(m1(te,Z))}V==null||V(te),s==null||s(te)},$=W=>{if(!y)return;const F=rW(W.nativeEvent);if(i&&(F&&W.button===0||!F)){const V=_.getState();QM.onPointerDown(W.nativeEvent,{handleDomNode:W.currentTarget,autoPanOnConnect:V.autoPanOnConnect,connectionMode:V.connectionMode,connectionRadius:V.connectionRadius,domNode:V.domNode,nodeLookup:V.nodeLookup,lib:V.lib,isTarget:v,handleId:g,nodeId:y,flowId:V.rfId,panBy:V.panBy,cancelConnection:V.cancelConnection,onConnectStart:V.onConnectStart,onConnectEnd:V.onConnectEnd,updateConnection:V.updateConnection,onConnect:q,isValidConnection:n||V.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:V.autoPanSpeed,dragThreshold:V.connectionDragThreshold})}F?d==null||d(W):f==null||f(W)},j=W=>{const{onClickConnectStart:F,onClickConnectEnd:V,connectionClickStartHandle:H,connectionMode:te,isValidConnection:Z,lib:Q,rfId:re,nodeLookup:ue,connection:oe}=_.getState();if(!y||!H&&!i)return;if(!H){F==null||F(W.nativeEvent,{nodeId:y,handleId:g,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:y,type:e,id:g}});return}const be=tW(W.target),ke=n||Z,{connection:He,isValid:Je}=QM.isValid(W.nativeEvent,{handle:{nodeId:y,id:g,type:e},connectionMode:te,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:ke,flowId:re,doc:be,lib:Q,nodeLookup:ue});Je&&He&&q(He);const rt=structuredClone(oe);delete rt.inProgress,rt.toPosition=rt.toHandle?rt.toHandle.position:null,V==null||V(W,rt),_.setState({connectionClickStartHandle:null})};return l.jsx("div",{"data-handleid":g,"data-nodeid":y,"data-handlepos":t,"data-id":`${C}-${y}-${g}-${e}`,className:bi(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,clickconnecting:E,connectingfrom:M,connectingto:A,valid:D,connectionindicator:r&&(!N||I)&&(N||P?o:i)}]),onMouseDown:$,onTouchStart:$,onClick:S?j:void 0,ref:m,...p,children:c})}const ex=x.memo(EW(ske));function lke({data:e,isConnectable:t,sourcePosition:n=Xt.Bottom}){return l.jsxs(l.Fragment,{children:[e==null?void 0:e.label,l.jsx(ex,{type:"source",position:n,isConnectable:t})]})}function cke({data:e,isConnectable:t,targetPosition:n=Xt.Top,sourcePosition:r=Xt.Bottom}){return l.jsxs(l.Fragment,{children:[l.jsx(ex,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,l.jsx(ex,{type:"source",position:r,isConnectable:t})]})}function uke(){return null}function dke({data:e,isConnectable:t,targetPosition:n=Xt.Top}){return l.jsxs(l.Fragment,{children:[l.jsx(ex,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const tx={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},O5={input:lke,default:cke,output:dke,group:uke};function fke(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const hke=e=>{const{width:t,height:n,x:r,y:i}=Av(e.nodeLookup,{filter:o=>!!o.selected});return{width:Ns(t)?t:null,height:Ns(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function pke({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Or(),{width:i,height:o,transformString:a,userSelectionActive:s}=Un(hke,Dr),c=NW(),u=x.useRef(null);if(x.useEffect(()=>{var p;n||(p=u.current)==null||p.focus({preventScroll:!0})},[n]),AW({nodeRef:u}),s||!i||!o)return null;const d=e?p=>{const m=r.getState().nodes.filter(g=>g.selected);e(p,m)}:void 0,f=p=>{Object.prototype.hasOwnProperty.call(tx,p.key)&&(p.preventDefault(),c({direction:tx[p.key],factor:p.shiftKey?4:1}))};return l.jsx("div",{className:bi(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:l.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const F5=typeof window<"u"?window:void 0,mke=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function BW({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,paneClickDistance:s,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:d,selectionMode:f,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:g,panActivationKeyCode:v,zoomActivationKeyCode:_,elementsSelectable:y,zoomOnScroll:S,zoomOnPinch:w,panOnScroll:C,panOnScrollSpeed:M,panOnScrollMode:A,zoomOnDoubleClick:E,panOnDrag:I,defaultViewport:N,translateExtent:P,minZoom:D,maxZoom:q,preventScrolling:$,onSelectionContextMenu:j,noWheelClassName:O,noPanClassName:z,disableKeyboardA11y:W,onViewportChange:F,isControlledViewport:V}){const{nodesSelectionActive:H,userSelectionActive:te}=Un(mke,Dr),Z=Zg(u,{target:F5}),Q=Zg(v,{target:F5}),re=Q||I,ue=Q||C,oe=d&&re!==!0,be=Z||te||oe;return ZTe({deleteKeyCode:c,multiSelectionKeyCode:g}),l.jsx(JTe,{onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:S,zoomOnPinch:w,panOnScroll:ue,panOnScrollSpeed:M,panOnScrollMode:A,zoomOnDoubleClick:E,panOnDrag:!Z&&re,defaultViewport:N,translateExtent:P,minZoom:D,maxZoom:q,zoomActivationKeyCode:_,preventScrolling:$,noWheelClassName:O,noPanClassName:z,onViewportChange:F,isControlledViewport:V,paneClickDistance:s,selectionOnDrag:oe,children:l.jsxs(nke,{onSelectionStart:p,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:re,isSelecting:!!be,selectionMode:f,selectionKeyPressed:Z,paneClickDistance:s,selectionOnDrag:oe,children:[e,H&&l.jsx(pke,{onSelectionContextMenu:j,noPanClassName:z,disableKeyboardA11y:W})]})})}BW.displayName="FlowRenderer";const gke=x.memo(BW),vke=e=>t=>e?AP(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function yke(e){return Un(x.useCallback(vke(e),[e]),Dr)}const bke=e=>e.updateNodeInternals;function xke(){const e=Un(bke),[t]=x.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return x.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function _ke({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Or(),o=x.useRef(null),a=x.useRef(null),s=x.useRef(e.sourcePosition),c=x.useRef(e.targetPosition),u=x.useRef(t),d=n&&!!e.internals.handleBounds;return x.useEffect(()=>{o.current&&!e.hidden&&(!d||a.current!==o.current)&&(a.current&&(r==null||r.unobserve(a.current)),r==null||r.observe(o.current),a.current=o.current)},[d,e.hidden]),x.useEffect(()=>()=>{a.current&&(r==null||r.unobserve(a.current),a.current=null)},[]),x.useEffect(()=>{if(o.current){const f=u.current!==t,p=s.current!==e.sourcePosition,m=c.current!==e.targetPosition;(f||p||m)&&(u.current=t,s.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function wke({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:a,nodesDraggable:s,elementsSelectable:c,nodesConnectable:u,nodesFocusable:d,resizeObserver:f,noDragClassName:p,noPanClassName:m,disableKeyboardA11y:g,rfId:v,nodeTypes:_,nodeClickDistance:y,onError:S}){const{node:w,internals:C,isParent:M}=Un(ke=>{const He=ke.nodeLookup.get(e),Je=ke.parentLookup.has(e);return{node:He,internals:He.internals,isParent:Je}},Dr);let A=w.type||"default",E=(_==null?void 0:_[A])||O5[A];E===void 0&&(S==null||S("003",wl.error003(A)),A="default",E=(_==null?void 0:_.default)||O5.default);const I=!!(w.draggable||s&&typeof w.draggable>"u"),N=!!(w.selectable||c&&typeof w.selectable>"u"),P=!!(w.connectable||u&&typeof w.connectable>"u"),D=!!(w.focusable||d&&typeof w.focusable>"u"),q=Or(),$=QV(w),j=_ke({node:w,nodeType:A,hasDimensions:$,resizeObserver:f}),O=AW({nodeRef:j,disabled:w.hidden||!I,noDragClassName:p,handleSelector:w.dragHandle,nodeId:e,isSelectable:N,nodeClickDistance:y}),z=NW();if(w.hidden)return null;const W=Mc(w),F=fke(w),V=N||I||t||n||r||i,H=n?ke=>n(ke,{...C.userNode}):void 0,te=r?ke=>r(ke,{...C.userNode}):void 0,Z=i?ke=>i(ke,{...C.userNode}):void 0,Q=o?ke=>o(ke,{...C.userNode}):void 0,re=a?ke=>a(ke,{...C.userNode}):void 0,ue=ke=>{const{selectNodesOnDrag:He,nodeDragThreshold:Je}=q.getState();N&&(!He||!I||Je>0)&&eA({id:e,store:q,nodeRef:j}),t&&t(ke,{...C.userNode})},oe=ke=>{if(!(nW(ke.nativeEvent)||g)){if(VV.includes(ke.key)&&N){const He=ke.key==="Escape";eA({id:e,store:q,unselect:He,nodeRef:j})}else if(I&&w.selected&&Object.prototype.hasOwnProperty.call(tx,ke.key)){ke.preventDefault();const{ariaLabelConfig:He}=q.getState();q.setState({ariaLiveMessage:He["node.a11yDescription.ariaLiveMessage"]({direction:ke.key.replace("Arrow","").toLowerCase(),x:~~C.positionAbsolute.x,y:~~C.positionAbsolute.y})}),z({direction:tx[ke.key],factor:ke.shiftKey?4:1})}}},be=()=>{var Ge;if(g||!((Ge=j.current)!=null&&Ge.matches(":focus-visible")))return;const{transform:ke,width:He,height:Je,autoPanOnNodeFocus:rt,setCenter:le}=q.getState();if(!rt)return;AP(new Map([[e,w]]),{x:0,y:0,width:He,height:Je},ke,!0).length>0||le(w.position.x+W.width/2,w.position.y+W.height/2,{zoom:ke[2]})};return l.jsx("div",{className:bi(["react-flow__node",`react-flow__node-${A}`,{[m]:I},w.className,{selected:w.selected,selectable:N,parent:M,draggable:I,dragging:O}]),ref:j,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:V?"all":"none",visibility:$?"visible":"hidden",...w.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:te,onMouseLeave:Z,onContextMenu:Q,onClick:ue,onDoubleClick:re,onKeyDown:D?oe:void 0,tabIndex:D?0:void 0,onFocus:D?be:void 0,role:w.ariaRole??(D?"group":void 0),"aria-roledescription":"node","aria-describedby":g?void 0:`${SW}-${v}`,"aria-label":w.ariaLabel,...w.domAttributes,children:l.jsx(ike,{value:e,children:l.jsx(E,{id:e,data:w.data,type:A,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:w.selected??!1,selectable:N,draggable:I,deletable:w.deletable??!0,isConnectable:P,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:O,dragHandle:w.dragHandle,zIndex:C.z,parentId:w.parentId,...W})})})}var Ske=x.memo(wke);const Cke=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function RW(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=Un(Cke,Dr),a=yke(e.onlyRenderVisibleElements),s=xke();return l.jsx("div",{className:"react-flow__nodes",style:_1,children:a.map(c=>l.jsx(Ske,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},c))})}RW.displayName="NodeRenderer";const Tke=x.memo(RW);function kke(e){return Un(x.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),a=n.nodeLookup.get(i.target);o&&a&&_Ce({sourceNode:o,targetNode:a,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Dr)}const Eke=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return l.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Mke=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return l.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},U5={[Yb.Arrow]:Eke,[Yb.ArrowClosed]:Mke};function Ake(e){const t=Or();return x.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(U5,e)?U5[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",wl.error009(e)),null)},[e])}const Nke=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const c=Ake(t);return c?l.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:l.jsx(c,{color:n,strokeWidth:a})}):null},jW=({defaultColor:e,rfId:t})=>{const n=Un(o=>o.edges),r=Un(o=>o.defaultEdgeOptions),i=x.useMemo(()=>MCe(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?l.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:l.jsx("defs",{children:i.map(o=>l.jsx(Nke,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};jW.displayName="MarkerDefinitions";var Pke=x.memo(jW);function IW({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:c,className:u,...d}){const[f,p]=x.useState({x:1,y:0,width:0,height:0}),m=bi(["react-flow__edge-textwrapper",u]),g=x.useRef(null);return x.useEffect(()=>{if(g.current){const v=g.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?l.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...d,children:[i&&l.jsx("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),l.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:g,style:r,children:n}),c]}):null}IW.displayName="EdgeText";const Bke=x.memo(IW);function w1({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:c,interactionWidth:u=20,...d}){return l.jsxs(l.Fragment,{children:[l.jsx("path",{...d,d:e,fill:"none",className:bi(["react-flow__edge-path",d.className])}),u?l.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Ns(t)&&Ns(n)?l.jsx(Bke,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:c}):null]})}function q5({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Xt.Left||e===Xt.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function zW({sourceX:e,sourceY:t,sourcePosition:n=Xt.Bottom,targetX:r,targetY:i,targetPosition:o=Xt.Top}){const[a,s]=q5({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,u]=q5({pos:o,x1:r,y1:i,x2:e,y2:t}),[d,f,p,m]=iW({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${s} ${c},${u} ${r},${i}`,d,f,p,m]}function LW(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a,targetPosition:s,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:_,interactionWidth:y})=>{const[S,w,C]=zW({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s}),M=e.isInternal?void 0:t;return l.jsx(w1,{id:M,path:S,labelX:w,labelY:C,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:_,interactionWidth:y})})}const Rke=LW({isInternal:!1}),DW=LW({isInternal:!0});Rke.displayName="SimpleBezierEdge";DW.displayName="SimpleBezierEdgeInternal";function OW(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,sourcePosition:m=Xt.Bottom,targetPosition:g=Xt.Top,markerEnd:v,markerStart:_,pathOptions:y,interactionWidth:S})=>{const[w,C,M]=KM({sourceX:n,sourceY:r,sourcePosition:m,targetX:i,targetY:o,targetPosition:g,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset,stepPosition:y==null?void 0:y.stepPosition}),A=e.isInternal?void 0:t;return l.jsx(w1,{id:A,path:w,labelX:C,labelY:M,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:v,markerStart:_,interactionWidth:S})})}const FW=OW({isInternal:!1}),UW=OW({isInternal:!0});FW.displayName="SmoothStepEdge";UW.displayName="SmoothStepEdgeInternal";function qW(e){return x.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return l.jsx(FW,{...n,id:r,pathOptions:x.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const jke=qW({isInternal:!1}),HW=qW({isInternal:!0});jke.displayName="StepEdge";HW.displayName="StepEdgeInternal";function VW(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v})=>{const[_,y,S]=sW({sourceX:n,sourceY:r,targetX:i,targetY:o}),w=e.isInternal?void 0:t;return l.jsx(w1,{id:w,path:_,labelX:y,labelY:S,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:v})})}const Ike=VW({isInternal:!1}),WW=VW({isInternal:!0});Ike.displayName="StraightEdge";WW.displayName="StraightEdgeInternal";function GW(e){return x.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:a=Xt.Bottom,targetPosition:s=Xt.Top,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:_,pathOptions:y,interactionWidth:S})=>{const[w,C,M]=oW({sourceX:n,sourceY:r,sourcePosition:a,targetX:i,targetY:o,targetPosition:s,curvature:y==null?void 0:y.curvature}),A=e.isInternal?void 0:t;return l.jsx(w1,{id:A,path:w,labelX:C,labelY:M,label:c,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:_,interactionWidth:S})})}const zke=GW({isInternal:!1}),$W=GW({isInternal:!0});zke.displayName="BezierEdge";$W.displayName="BezierEdgeInternal";const H5={default:$W,straight:WW,step:HW,smoothstep:UW,simplebezier:DW},V5={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Lke=(e,t,n)=>n===Xt.Left?e-t:n===Xt.Right?e+t:e,Dke=(e,t,n)=>n===Xt.Top?e-t:n===Xt.Bottom?e+t:e,W5="react-flow__edgeupdater";function G5({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s}){return l.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:bi([W5,`${W5}-${s}`]),cx:Lke(t,r,e),cy:Dke(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Oke({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:a,sourcePosition:s,targetPosition:c,onReconnect:u,onReconnectStart:d,onReconnectEnd:f,setReconnecting:p,setUpdateHover:m}){const g=Or(),v=(C,M)=>{if(C.button!==0)return;const{autoPanOnConnect:A,domNode:E,isValidConnection:I,connectionMode:N,connectionRadius:P,lib:D,onConnectStart:q,onConnectEnd:$,cancelConnection:j,nodeLookup:O,rfId:z,panBy:W,updateConnection:F}=g.getState(),V=M.type==="target",H=(Q,re)=>{p(!1),f==null||f(Q,n,M.type,re)},te=Q=>u==null?void 0:u(n,Q),Z=(Q,re)=>{p(!0),d==null||d(C,n,M.type),q==null||q(Q,re)};QM.onPointerDown(C.nativeEvent,{autoPanOnConnect:A,connectionMode:N,connectionRadius:P,domNode:E,handleId:M.id,nodeId:M.nodeId,nodeLookup:O,isTarget:V,edgeUpdaterType:M.type,lib:D,flowId:z,cancelConnection:j,panBy:W,isValidConnection:I,onConnect:te,onConnectStart:Z,onConnectEnd:$,onReconnectEnd:H,updateConnection:F,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle,dragThreshold:g.getState().connectionDragThreshold,handleDomNode:C.currentTarget})},_=C=>v(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),y=C=>v(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),S=()=>m(!0),w=()=>m(!1);return l.jsxs(l.Fragment,{children:[(e===!0||e==="source")&&l.jsx(G5,{position:s,centerX:r,centerY:i,radius:t,onMouseDown:_,onMouseEnter:S,onMouseOut:w,type:"source"}),(e===!0||e==="target")&&l.jsx(G5,{position:c,centerX:o,centerY:a,radius:t,onMouseDown:y,onMouseEnter:S,onMouseOut:w,type:"target"})]})}function Fke({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:a,onMouseEnter:s,onMouseMove:c,onMouseLeave:u,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,rfId:g,edgeTypes:v,noPanClassName:_,onError:y,disableKeyboardA11y:S}){let w=Un(le=>le.edgeLookup.get(e));const C=Un(le=>le.defaultEdgeOptions);w=C?{...C,...w}:w;let M=w.type||"default",A=(v==null?void 0:v[M])||H5[M];A===void 0&&(y==null||y("011",wl.error011(M)),M="default",A=(v==null?void 0:v.default)||H5.default);const E=!!(w.focusable||t&&typeof w.focusable>"u"),I=typeof f<"u"&&(w.reconnectable||n&&typeof w.reconnectable>"u"),N=!!(w.selectable||r&&typeof w.selectable>"u"),P=x.useRef(null),[D,q]=x.useState(!1),[$,j]=x.useState(!1),O=Or(),{zIndex:z,sourceX:W,sourceY:F,targetX:V,targetY:H,sourcePosition:te,targetPosition:Z}=Un(x.useCallback(le=>{const at=le.nodeLookup.get(w.source),Ge=le.nodeLookup.get(w.target);if(!at||!Ge)return{zIndex:w.zIndex,...V5};const We=ECe({id:e,sourceNode:at,targetNode:Ge,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:le.connectionMode,onError:y});return{zIndex:xCe({selected:w.selected,zIndex:w.zIndex,sourceNode:at,targetNode:Ge,elevateOnSelect:le.elevateEdgesOnSelect,zIndexMode:le.zIndexMode}),...We||V5}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Dr),Q=x.useMemo(()=>w.markerStart?`url('#${YM(w.markerStart,g)}')`:void 0,[w.markerStart,g]),re=x.useMemo(()=>w.markerEnd?`url('#${YM(w.markerEnd,g)}')`:void 0,[w.markerEnd,g]);if(w.hidden||W===null||F===null||V===null||H===null)return null;const ue=le=>{var $e;const{addSelectedEdges:at,unselectNodesAndEdges:Ge,multiSelectionActive:We}=O.getState();N&&(O.setState({nodesSelectionActive:!1}),w.selected&&We?(Ge({nodes:[],edges:[w]}),($e=P.current)==null||$e.blur()):at([e])),i&&i(le,w)},oe=o?le=>{o(le,{...w})}:void 0,be=a?le=>{a(le,{...w})}:void 0,ke=s?le=>{s(le,{...w})}:void 0,He=c?le=>{c(le,{...w})}:void 0,Je=u?le=>{u(le,{...w})}:void 0,rt=le=>{var at;if(!S&&VV.includes(le.key)&&N){const{unselectNodesAndEdges:Ge,addSelectedEdges:We}=O.getState();le.key==="Escape"?((at=P.current)==null||at.blur(),Ge({edges:[w]})):We([e])}};return l.jsx("svg",{style:{zIndex:z},children:l.jsxs("g",{className:bi(["react-flow__edge",`react-flow__edge-${M}`,w.className,_,{selected:w.selected,animated:w.animated,inactive:!N&&!i,updating:D,selectable:N}]),onClick:ue,onDoubleClick:oe,onContextMenu:be,onMouseEnter:ke,onMouseMove:He,onMouseLeave:Je,onKeyDown:E?rt:void 0,tabIndex:E?0:void 0,role:w.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":E?`${CW}-${g}`:void 0,ref:P,...w.domAttributes,children:[!$&&l.jsx(A,{id:e,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:N,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:W,sourceY:F,targetX:V,targetY:H,sourcePosition:te,targetPosition:Z,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:Q,markerEnd:re,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),I&&l.jsx(Oke,{edge:w,isReconnectable:I,reconnectRadius:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,sourceX:W,sourceY:F,targetX:V,targetY:H,sourcePosition:te,targetPosition:Z,setUpdateHover:q,setReconnecting:j})]})})}var Uke=x.memo(Fke);const qke=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function XW({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,reconnectRadius:f,onEdgeDoubleClick:p,onReconnectStart:m,onReconnectEnd:g,disableKeyboardA11y:v}){const{edgesFocusable:_,edgesReconnectable:y,elementsSelectable:S,onError:w}=Un(qke,Dr),C=kke(t);return l.jsxs("div",{className:"react-flow__edges",children:[l.jsx(Pke,{defaultColor:e,rfId:n}),C.map(M=>l.jsx(Uke,{id:M,edgesFocusable:_,edgesReconnectable:y,elementsSelectable:S,noPanClassName:i,onReconnect:o,onContextMenu:a,onMouseEnter:s,onMouseMove:c,onMouseLeave:u,onClick:d,reconnectRadius:f,onDoubleClick:p,onReconnectStart:m,onReconnectEnd:g,rfId:n,onError:w,edgeTypes:r,disableKeyboardA11y:v},M))]})}XW.displayName="EdgeRenderer";const Hke=x.memo(XW),Vke=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Wke({children:e}){const t=Un(Vke);return l.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Gke(e){const t=LP(),n=x.useRef(!1);x.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const $ke=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Xke(e){const t=Un($ke),n=Or();return x.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Zke(e){return e.connection.inProgress?{...e.connection,to:Pv(e.connection.to,e.transform)}:{...e.connection}}function Kke(e){return Zke}function Yke(e){const t=Kke();return Un(t,Dr)}const Jke=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function Qke({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:a,isValid:s,inProgress:c}=Un(Jke,Dr);return!(o&&i&&c)?null:l.jsx("svg",{style:e,width:o,height:a,className:"react-flow__connectionline react-flow__container",children:l.jsx("g",{className:bi(["react-flow__connection",$V(s)]),children:l.jsx(ZW,{style:t,type:n,CustomComponent:r,isValid:s})})})}const ZW=({style:e,type:t=uu.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:a,fromHandle:s,fromPosition:c,to:u,toNode:d,toHandle:f,toPosition:p,pointer:m}=Yke();if(!i)return;if(n)return l.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:s,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:p,connectionStatus:$V(r),toNode:d,toHandle:f,pointer:m});let g="";const v={sourceX:o.x,sourceY:o.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:p};switch(t){case uu.Bezier:[g]=oW(v);break;case uu.SimpleBezier:[g]=zW(v);break;case uu.Step:[g]=KM({...v,borderRadius:0});break;case uu.SmoothStep:[g]=KM(v);break;default:[g]=sW(v)}return l.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};ZW.displayName="ConnectionLine";const e2e={};function $5(e=e2e){x.useRef(e),Or(),x.useEffect(()=>{},[e])}function t2e(){Or(),x.useRef(!1),x.useEffect(()=>{},[])}function KW({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:a,onNodeMouseEnter:s,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,onSelectionContextMenu:f,onSelectionStart:p,onSelectionEnd:m,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:_,connectionLineContainerStyle:y,selectionKeyCode:S,selectionOnDrag:w,selectionMode:C,multiSelectionKeyCode:M,panActivationKeyCode:A,zoomActivationKeyCode:E,deleteKeyCode:I,onlyRenderVisibleElements:N,elementsSelectable:P,defaultViewport:D,translateExtent:q,minZoom:$,maxZoom:j,preventScrolling:O,defaultMarkerColor:z,zoomOnScroll:W,zoomOnPinch:F,panOnScroll:V,panOnScrollSpeed:H,panOnScrollMode:te,zoomOnDoubleClick:Z,panOnDrag:Q,onPaneClick:re,onPaneMouseEnter:ue,onPaneMouseMove:oe,onPaneMouseLeave:be,onPaneScroll:ke,onPaneContextMenu:He,paneClickDistance:Je,nodeClickDistance:rt,onEdgeContextMenu:le,onEdgeMouseEnter:at,onEdgeMouseMove:Ge,onEdgeMouseLeave:We,reconnectRadius:$e,onReconnect:et,onReconnectStart:Xe,onReconnectEnd:X,noDragClassName:Y,noWheelClassName:me,noPanClassName:Ne,disableKeyboardA11y:Re,nodeExtent:Ee,rfId:Ye,viewport:Ze,onViewportChange:st}){return $5(e),$5(t),t2e(),Gke(n),Xke(Ze),l.jsx(gke,{onPaneClick:re,onPaneMouseEnter:ue,onPaneMouseMove:oe,onPaneMouseLeave:be,onPaneContextMenu:He,onPaneScroll:ke,paneClickDistance:Je,deleteKeyCode:I,selectionKeyCode:S,selectionOnDrag:w,selectionMode:C,onSelectionStart:p,onSelectionEnd:m,multiSelectionKeyCode:M,panActivationKeyCode:A,zoomActivationKeyCode:E,elementsSelectable:P,zoomOnScroll:W,zoomOnPinch:F,zoomOnDoubleClick:Z,panOnScroll:V,panOnScrollSpeed:H,panOnScrollMode:te,panOnDrag:Q,defaultViewport:D,translateExtent:q,minZoom:$,maxZoom:j,onSelectionContextMenu:f,preventScrolling:O,noDragClassName:Y,noWheelClassName:me,noPanClassName:Ne,disableKeyboardA11y:Re,onViewportChange:st,isControlledViewport:!!Ze,children:l.jsxs(Wke,{children:[l.jsx(Hke,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:a,onReconnect:et,onReconnectStart:Xe,onReconnectEnd:X,onlyRenderVisibleElements:N,onEdgeContextMenu:le,onEdgeMouseEnter:at,onEdgeMouseMove:Ge,onEdgeMouseLeave:We,reconnectRadius:$e,defaultMarkerColor:z,noPanClassName:Ne,disableKeyboardA11y:Re,rfId:Ye}),l.jsx(Qke,{style:v,type:g,component:_,containerStyle:y}),l.jsx("div",{className:"react-flow__edgelabel-renderer"}),l.jsx(Tke,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:d,nodeClickDistance:rt,onlyRenderVisibleElements:N,noPanClassName:Ne,noDragClassName:Y,disableKeyboardA11y:Re,nodeExtent:Ee,rfId:Ye}),l.jsx("div",{className:"react-flow__viewport-portal"})]})})}KW.displayName="GraphView";const n2e=x.memo(KW),X5=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:c=.5,maxZoom:u=2,nodeOrigin:d,nodeExtent:f,zIndexMode:p="basic"}={})=>{const m=new Map,g=new Map,v=new Map,_=new Map,y=r??t??[],S=n??e??[],w=d??[0,0],C=f??Wg;uW(v,_,y);const M=JM(S,m,g,{nodeOrigin:w,nodeExtent:C,zIndexMode:p});let A=[0,0,1];if(a&&i&&o){const E=Av(m,{filter:D=>!!((D.width||D.initialWidth)&&(D.height||D.initialHeight))}),{x:I,y:N,zoom:P}=NP(E,i,o,c,u,(s==null?void 0:s.padding)??.1);A=[I,N,P]}return{rfId:"1",width:i??0,height:o??0,transform:A,nodes:S,nodesInitialized:M,nodeLookup:m,parentLookup:g,edges:y,edgeLookup:_,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:c,maxZoom:u,translateExtent:Wg,nodeExtent:C,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ap.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:s,fitViewResolver:null,connection:{...GV},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:pCe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:WV,zIndexMode:p,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},r2e=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,zIndexMode:p})=>_Te((m,g)=>{async function v(){const{nodeLookup:_,panZoom:y,fitViewOptions:S,fitViewResolver:w,width:C,height:M,minZoom:A,maxZoom:E}=g();y&&(await fCe({nodes:_,width:C,height:M,panZoom:y,minZoom:A,maxZoom:E},S),w==null||w.resolve(!0),m({fitViewResolver:null}))}return{...X5({nodes:e,edges:t,width:i,height:o,fitView:a,fitViewOptions:s,minZoom:c,maxZoom:u,nodeOrigin:d,nodeExtent:f,defaultNodes:n,defaultEdges:r,zIndexMode:p}),setNodes:_=>{const{nodeLookup:y,parentLookup:S,nodeOrigin:w,elevateNodesOnSelect:C,fitViewQueued:M,zIndexMode:A}=g(),E=JM(_,y,S,{nodeOrigin:w,nodeExtent:f,elevateNodesOnSelect:C,checkEquality:!0,zIndexMode:A});M&&E?(v(),m({nodes:_,nodesInitialized:E,fitViewQueued:!1,fitViewOptions:void 0})):m({nodes:_,nodesInitialized:E})},setEdges:_=>{const{connectionLookup:y,edgeLookup:S}=g();uW(y,S,_),m({edges:_})},setDefaultNodesAndEdges:(_,y)=>{if(_){const{setNodes:S}=g();S(_),m({hasDefaultNodes:!0})}if(y){const{setEdges:S}=g();S(y),m({hasDefaultEdges:!0})}},updateNodeInternals:_=>{const{triggerNodeChanges:y,nodeLookup:S,parentLookup:w,domNode:C,nodeOrigin:M,nodeExtent:A,debug:E,fitViewQueued:I,zIndexMode:N}=g(),{changes:P,updatedInternals:D}=ICe(_,S,w,C,M,A,N);D&&(PCe(S,w,{nodeOrigin:M,nodeExtent:A,zIndexMode:N}),I?(v(),m({fitViewQueued:!1,fitViewOptions:void 0})):m({}),(P==null?void 0:P.length)>0&&(E&&console.log("React Flow: trigger node changes",P),y==null||y(P)))},updateNodePositions:(_,y=!1)=>{const S=[];let w=[];const{nodeLookup:C,triggerNodeChanges:M,connection:A,updateConnection:E,onNodesChangeMiddlewareMap:I}=g();for(const[N,P]of _){const D=C.get(N),q=!!(D!=null&&D.expandParent&&(D!=null&&D.parentId)&&(P!=null&&P.position)),$={id:N,type:"position",position:q?{x:Math.max(0,P.position.x),y:Math.max(0,P.position.y)}:P.position,dragging:y};if(D&&A.inProgress&&A.fromNode.id===D.id){const j=ef(D,A.fromHandle,Xt.Left,!0);E({...A,from:j})}q&&D.parentId&&S.push({id:N,parentId:D.parentId,rect:{...P.internals.positionAbsolute,width:P.measured.width??0,height:P.measured.height??0}}),w.push($)}if(S.length>0){const{parentLookup:N,nodeOrigin:P}=g(),D=zP(S,C,N,P);w.push(...D)}for(const N of I.values())w=N(w);M(w)},triggerNodeChanges:_=>{const{onNodesChange:y,setNodes:S,nodes:w,hasDefaultNodes:C,debug:M}=g();if(_!=null&&_.length){if(C){const A=b1(_,w);S(A)}M&&console.log("React Flow: trigger node changes",_),y==null||y(_)}},triggerEdgeChanges:_=>{const{onEdgesChange:y,setEdges:S,edges:w,hasDefaultEdges:C,debug:M}=g();if(_!=null&&_.length){if(C){const A=x1(_,w);S(A)}M&&console.log("React Flow: trigger edge changes",_),y==null||y(_)}},addSelectedNodes:_=>{const{multiSelectionActive:y,edgeLookup:S,nodeLookup:w,triggerNodeChanges:C,triggerEdgeChanges:M}=g();if(y){const A=_.map(E=>bd(E,!0));C(A);return}C(xh(w,new Set([..._]),!0)),M(xh(S))},addSelectedEdges:_=>{const{multiSelectionActive:y,edgeLookup:S,nodeLookup:w,triggerNodeChanges:C,triggerEdgeChanges:M}=g();if(y){const A=_.map(E=>bd(E,!0));M(A);return}M(xh(S,new Set([..._]))),C(xh(w,new Set,!0))},unselectNodesAndEdges:({nodes:_,edges:y}={})=>{const{edges:S,nodes:w,nodeLookup:C,triggerNodeChanges:M,triggerEdgeChanges:A}=g(),E=_||w,I=y||S,N=E.map(D=>{const q=C.get(D.id);return q&&(q.selected=!1),bd(D.id,!1)}),P=I.map(D=>bd(D.id,!1));M(N),A(P)},setMinZoom:_=>{const{panZoom:y,maxZoom:S}=g();y==null||y.setScaleExtent([_,S]),m({minZoom:_})},setMaxZoom:_=>{const{panZoom:y,minZoom:S}=g();y==null||y.setScaleExtent([S,_]),m({maxZoom:_})},setTranslateExtent:_=>{var y;(y=g().panZoom)==null||y.setTranslateExtent(_),m({translateExtent:_})},resetSelectedElements:()=>{const{edges:_,nodes:y,triggerNodeChanges:S,triggerEdgeChanges:w,elementsSelectable:C}=g();if(!C)return;const M=y.reduce((E,I)=>I.selected?[...E,bd(I.id,!1)]:E,[]),A=_.reduce((E,I)=>I.selected?[...E,bd(I.id,!1)]:E,[]);S(M),w(A)},setNodeExtent:_=>{const{nodes:y,nodeLookup:S,parentLookup:w,nodeOrigin:C,elevateNodesOnSelect:M,nodeExtent:A,zIndexMode:E}=g();_[0][0]===A[0][0]&&_[0][1]===A[0][1]&&_[1][0]===A[1][0]&&_[1][1]===A[1][1]||(JM(y,S,w,{nodeOrigin:C,nodeExtent:_,elevateNodesOnSelect:M,checkEquality:!1,zIndexMode:E}),m({nodeExtent:_}))},panBy:_=>{const{transform:y,width:S,height:w,panZoom:C,translateExtent:M}=g();return zCe({delta:_,panZoom:C,transform:y,translateExtent:M,width:S,height:w})},setCenter:async(_,y,S)=>{const{width:w,height:C,maxZoom:M,panZoom:A}=g();if(!A)return Promise.resolve(!1);const E=typeof(S==null?void 0:S.zoom)<"u"?S.zoom:M;return await A.setViewport({x:w/2-_*E,y:C/2-y*E,zoom:E},{duration:S==null?void 0:S.duration,ease:S==null?void 0:S.ease,interpolate:S==null?void 0:S.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{m({connection:{...GV}})},updateConnection:_=>{m({connection:_})},reset:()=>m({...X5()})}},Object.is);function S1({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:a,initialMaxZoom:s,initialFitViewOptions:c,fitView:u,nodeOrigin:d,nodeExtent:f,zIndexMode:p,children:m}){const[g]=x.useState(()=>r2e({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:a,maxZoom:s,fitViewOptions:c,nodeOrigin:d,nodeExtent:f,zIndexMode:p}));return l.jsx(wTe,{value:g,children:l.jsx(WTe,{children:m})})}function i2e({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:a,fitView:s,fitViewOptions:c,minZoom:u,maxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:m}){return x.useContext(y1)?l.jsx(l.Fragment,{children:e}):l.jsx(S1,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:a,fitView:s,initialFitViewOptions:c,initialMinZoom:u,initialMaxZoom:d,nodeOrigin:f,nodeExtent:p,zIndexMode:m,children:e})}const o2e={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function a2e({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:a,onNodeClick:s,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:p,onConnect:m,onConnectStart:g,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:y,onNodeMouseEnter:S,onNodeMouseMove:w,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:A,onNodeDragStart:E,onNodeDrag:I,onNodeDragStop:N,onNodesDelete:P,onEdgesDelete:D,onDelete:q,onSelectionChange:$,onSelectionDragStart:j,onSelectionDrag:O,onSelectionDragStop:z,onSelectionContextMenu:W,onSelectionStart:F,onSelectionEnd:V,onBeforeDelete:H,connectionMode:te,connectionLineType:Z=uu.Bezier,connectionLineStyle:Q,connectionLineComponent:re,connectionLineContainerStyle:ue,deleteKeyCode:oe="Backspace",selectionKeyCode:be="Shift",selectionOnDrag:ke=!1,selectionMode:He=Gg.Full,panActivationKeyCode:Je="Space",multiSelectionKeyCode:rt=Xg()?"Meta":"Control",zoomActivationKeyCode:le=Xg()?"Meta":"Control",snapToGrid:at,snapGrid:Ge,onlyRenderVisibleElements:We=!1,selectNodesOnDrag:$e,nodesDraggable:et,autoPanOnNodeFocus:Xe,nodesConnectable:X,nodesFocusable:Y,nodeOrigin:me=TW,edgesFocusable:Ne,edgesReconnectable:Re,elementsSelectable:Ee=!0,defaultViewport:Ye=ITe,minZoom:Ze=.5,maxZoom:st=2,translateExtent:wt=Wg,preventScrolling:_t=!0,nodeExtent:je,defaultMarkerColor:jt="#b1b1b7",zoomOnScroll:ve=!0,zoomOnPinch:tt=!0,panOnScroll:ze=!1,panOnScrollSpeed:nt=.5,panOnScrollMode:Ve=Od.Free,zoomOnDoubleClick:Et=!0,panOnDrag:Zt=!0,onPaneClick:Dt,onPaneMouseEnter:dt,onPaneMouseMove:G,onPaneMouseLeave:Pe,onPaneScroll:qe,onPaneContextMenu:Bt,paneClickDistance:Tt=1,nodeClickDistance:bt=0,children:Vt,onReconnect:qn,onReconnectStart:Ln,onReconnectEnd:pn,onEdgeContextMenu:Hn,onEdgeDoubleClick:fr,onEdgeMouseEnter:di,onEdgeMouseMove:kr,onEdgeMouseLeave:xt,reconnectRadius:Ur=10,onNodesChange:An,onEdgesChange:Vn,noDragClassName:Yr="nodrag",noWheelClassName:Er="nowheel",noPanClassName:Pn="nopan",fitView:qr,fitViewOptions:ne,connectOnClick:_e,attributionPosition:Ae,proOptions:se,defaultEdgeOptions:ge,elevateNodesOnSelect:ae=!0,elevateEdgesOnSelect:Le=!1,disableKeyboardA11y:De=!1,autoPanOnConnect:ht,autoPanOnNodeDrag:Gt,autoPanSpeed:yt,connectionRadius:St,isValidConnection:rn,onError:$t,style:nn,id:tr,nodeDragThreshold:en,connectionDragThreshold:Ot,viewport:sn,onViewportChange:Ut,width:fi,height:Mr,colorMode:lr="light",debug:ji,onScroll:At,ariaLabelConfig:fn,zIndexMode:Ii="basic",...hr},xr){const Oo=tr||"1",$i=OTe(lr),zi=x.useCallback(Dn=>{Dn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),At==null||At(Dn)},[At]);return l.jsx("div",{"data-testid":"rf__wrapper",...hr,onScroll:zi,style:{...nn,...o2e},ref:xr,className:bi(["react-flow",i,$i]),id:tr,role:"application",children:l.jsxs(i2e,{nodes:e,edges:t,width:fi,height:Mr,fitView:qr,fitViewOptions:ne,minZoom:Ze,maxZoom:st,nodeOrigin:me,nodeExtent:je,zIndexMode:Ii,children:[l.jsx(n2e,{onInit:u,onNodeClick:s,onEdgeClick:c,onNodeMouseEnter:S,onNodeMouseMove:w,onNodeMouseLeave:C,onNodeContextMenu:M,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:a,connectionLineType:Z,connectionLineStyle:Q,connectionLineComponent:re,connectionLineContainerStyle:ue,selectionKeyCode:be,selectionOnDrag:ke,selectionMode:He,deleteKeyCode:oe,multiSelectionKeyCode:rt,panActivationKeyCode:Je,zoomActivationKeyCode:le,onlyRenderVisibleElements:We,defaultViewport:Ye,translateExtent:wt,minZoom:Ze,maxZoom:st,preventScrolling:_t,zoomOnScroll:ve,zoomOnPinch:tt,zoomOnDoubleClick:Et,panOnScroll:ze,panOnScrollSpeed:nt,panOnScrollMode:Ve,panOnDrag:Zt,onPaneClick:Dt,onPaneMouseEnter:dt,onPaneMouseMove:G,onPaneMouseLeave:Pe,onPaneScroll:qe,onPaneContextMenu:Bt,paneClickDistance:Tt,nodeClickDistance:bt,onSelectionContextMenu:W,onSelectionStart:F,onSelectionEnd:V,onReconnect:qn,onReconnectStart:Ln,onReconnectEnd:pn,onEdgeContextMenu:Hn,onEdgeDoubleClick:fr,onEdgeMouseEnter:di,onEdgeMouseMove:kr,onEdgeMouseLeave:xt,reconnectRadius:Ur,defaultMarkerColor:jt,noDragClassName:Yr,noWheelClassName:Er,noPanClassName:Pn,rfId:Oo,disableKeyboardA11y:De,nodeExtent:je,viewport:sn,onViewportChange:Ut}),l.jsx(DTe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:g,onConnectEnd:v,onClickConnectStart:_,onClickConnectEnd:y,nodesDraggable:et,autoPanOnNodeFocus:Xe,nodesConnectable:X,nodesFocusable:Y,edgesFocusable:Ne,edgesReconnectable:Re,elementsSelectable:Ee,elevateNodesOnSelect:ae,elevateEdgesOnSelect:Le,minZoom:Ze,maxZoom:st,nodeExtent:je,onNodesChange:An,onEdgesChange:Vn,snapToGrid:at,snapGrid:Ge,connectionMode:te,translateExtent:wt,connectOnClick:_e,defaultEdgeOptions:ge,fitView:qr,fitViewOptions:ne,onNodesDelete:P,onEdgesDelete:D,onDelete:q,onNodeDragStart:E,onNodeDrag:I,onNodeDragStop:N,onSelectionDrag:O,onSelectionDragStart:j,onSelectionDragStop:z,onMove:d,onMoveStart:f,onMoveEnd:p,noPanClassName:Pn,nodeOrigin:me,rfId:Oo,autoPanOnConnect:ht,autoPanOnNodeDrag:Gt,autoPanSpeed:yt,onError:$t,connectionRadius:St,isValidConnection:rn,selectNodesOnDrag:$e,nodeDragThreshold:en,connectionDragThreshold:Ot,onBeforeDelete:H,debug:ji,ariaLabelConfig:fn,zIndexMode:Ii}),l.jsx(jTe,{onSelectionChange:$}),Vt,l.jsx(ATe,{proOptions:se,position:Ae}),l.jsx(MTe,{rfId:Oo,disableKeyboardA11y:De})]})})}var OP=EW(a2e);function s2e({dimensions:e,lineWidth:t,variant:n,className:r}){return l.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:bi(["react-flow__background-pattern",n,r])})}function l2e({radius:e,className:t}){return l.jsx("circle",{cx:e,cy:e,r:e,className:bi(["react-flow__background-pattern","dots",t])})}var Eu;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Eu||(Eu={}));const c2e={[Eu.Dots]:1,[Eu.Lines]:1,[Eu.Cross]:6},u2e=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function YW({id:e,variant:t=Eu.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:a,bgColor:s,style:c,className:u,patternClassName:d}){const f=x.useRef(null),{transform:p,patternId:m}=Un(u2e,Dr),g=r||c2e[t],v=t===Eu.Dots,_=t===Eu.Cross,y=Array.isArray(n)?n:[n,n],S=[y[0]*p[2]||1,y[1]*p[2]||1],w=g*p[2],C=Array.isArray(o)?o:[o,o],M=_?[w,w]:S,A=[C[0]*p[2]||1+M[0]/2,C[1]*p[2]||1+M[1]/2],E=`${m}${e||""}`;return l.jsxs("svg",{className:bi(["react-flow__background",u]),style:{...c,..._1,"--xy-background-color-props":s,"--xy-background-pattern-color-props":a},ref:f,"data-testid":"rf__background",children:[l.jsx("pattern",{id:E,x:p[0]%S[0],y:p[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:v?l.jsx(l2e,{radius:w/2,className:d}):l.jsx(s2e,{dimensions:M,lineWidth:i,variant:t,className:d})}),l.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}YW.displayName="Background";const FP=x.memo(YW);function d2e(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:l.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function f2e(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:l.jsx("path",{d:"M0 0h32v4.2H0z"})})}function h2e(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:l.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function p2e(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function m2e(){return l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:l.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Z0({children:e,className:t,...n}){return l.jsx("button",{type:"button",className:bi(["react-flow__controls-button",t]),...n,children:e})}const g2e=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function JW({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:c,className:u,children:d,position:f="bottom-left",orientation:p="vertical","aria-label":m}){const g=Or(),{isInteractive:v,minZoomReached:_,maxZoomReached:y,ariaLabelConfig:S}=Un(g2e,Dr),{zoomIn:w,zoomOut:C,fitView:M}=LP(),A=()=>{w(),o==null||o()},E=()=>{C(),a==null||a()},I=()=>{M(i),s==null||s()},N=()=>{g.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)},P=p==="horizontal"?"horizontal":"vertical";return l.jsxs(df,{className:bi(["react-flow__controls",P,u]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??S["controls.ariaLabel"],children:[t&&l.jsxs(l.Fragment,{children:[l.jsx(Z0,{onClick:A,className:"react-flow__controls-zoomin",title:S["controls.zoomIn.ariaLabel"],"aria-label":S["controls.zoomIn.ariaLabel"],disabled:y,children:l.jsx(d2e,{})}),l.jsx(Z0,{onClick:E,className:"react-flow__controls-zoomout",title:S["controls.zoomOut.ariaLabel"],"aria-label":S["controls.zoomOut.ariaLabel"],disabled:_,children:l.jsx(f2e,{})})]}),n&&l.jsx(Z0,{className:"react-flow__controls-fitview",onClick:I,title:S["controls.fitView.ariaLabel"],"aria-label":S["controls.fitView.ariaLabel"],children:l.jsx(h2e,{})}),r&&l.jsx(Z0,{className:"react-flow__controls-interactive",onClick:N,title:S["controls.interactive.ariaLabel"],"aria-label":S["controls.interactive.ariaLabel"],children:v?l.jsx(m2e,{}):l.jsx(p2e,{})}),d]})}JW.displayName="Controls";const UP=x.memo(JW);function v2e({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:c,className:u,borderRadius:d,shapeRendering:f,selected:p,onClick:m}){const{background:g,backgroundColor:v}=o||{},_=a||g||v;return l.jsx("rect",{className:bi(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:d,ry:d,width:r,height:i,style:{fill:_,stroke:s,strokeWidth:c},shapeRendering:f,onClick:m?y=>m(y,e):void 0})}const y2e=x.memo(v2e),b2e=e=>e.nodes.map(t=>t.id),zw=e=>e instanceof Function?e:()=>e;function x2e({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=y2e,onClick:a}){const s=Un(b2e,Dr),c=zw(t),u=zw(e),d=zw(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return l.jsx(l.Fragment,{children:s.map(p=>l.jsx(w2e,{id:p,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:a,shapeRendering:f},p))})}function _2e({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:a,NodeComponent:s,onClick:c}){const{node:u,x:d,y:f,width:p,height:m}=Un(g=>{const{internals:v}=g.nodeLookup.get(e),_=v.userNode,{x:y,y:S}=v.positionAbsolute,{width:w,height:C}=Mc(_);return{node:_,x:y,y:S,width:w,height:C}},Dr);return!u||u.hidden||!QV(u)?null:l.jsx(s,{x:d,y:f,width:p,height:m,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:a,onClick:c,id:u.id})}const w2e=x.memo(_2e);var S2e=x.memo(x2e);const C2e=200,T2e=150,k2e=e=>!e.hidden,E2e=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?JV(Av(e.nodeLookup,{filter:k2e}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},M2e="react-flow__minimap-desc";function QW({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a,nodeComponent:s,bgColor:c,maskColor:u,maskStrokeColor:d,maskStrokeWidth:f,position:p="bottom-right",onClick:m,onNodeClick:g,pannable:v=!1,zoomable:_=!1,ariaLabel:y,inversePan:S,zoomStep:w=1,offsetScale:C=5}){const M=Or(),A=x.useRef(null),{boundingRect:E,viewBB:I,rfId:N,panZoom:P,translateExtent:D,flowWidth:q,flowHeight:$,ariaLabelConfig:j}=Un(E2e,Dr),O=(e==null?void 0:e.width)??C2e,z=(e==null?void 0:e.height)??T2e,W=E.width/O,F=E.height/z,V=Math.max(W,F),H=V*O,te=V*z,Z=C*V,Q=E.x-(H-E.width)/2-Z,re=E.y-(te-E.height)/2-Z,ue=H+Z*2,oe=te+Z*2,be=`${M2e}-${N}`,ke=x.useRef(0),He=x.useRef();ke.current=V,x.useEffect(()=>{if(A.current&&P)return He.current=WCe({domNode:A.current,panZoom:P,getTransform:()=>M.getState().transform,getViewScale:()=>ke.current}),()=>{var at;(at=He.current)==null||at.destroy()}},[P]),x.useEffect(()=>{var at;(at=He.current)==null||at.update({translateExtent:D,width:q,height:$,inversePan:S,pannable:v,zoomStep:w,zoomable:_})},[v,_,S,w,D,q,$]);const Je=m?at=>{var $e;const[Ge,We]=(($e=He.current)==null?void 0:$e.pointer(at))||[0,0];m(at,{x:Ge,y:We})}:void 0,rt=g?x.useCallback((at,Ge)=>{const We=M.getState().nodeLookup.get(Ge).internals.userNode;g(at,We)},[]):void 0,le=y??j["minimap.ariaLabel"];return l.jsx(df,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*V:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof a=="number"?a:void 0},className:bi(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:l.jsxs("svg",{width:O,height:z,viewBox:`${Q} ${re} ${ue} ${oe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":be,ref:A,onClick:Je,children:[le&&l.jsx("title",{id:be,children:le}),l.jsx(S2e,{onClick:rt,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),l.jsx("path",{className:"react-flow__minimap-mask",d:`M${Q-Z},${re-Z}h${ue+Z*2}v${oe+Z*2}h${-ue-Z*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}QW.displayName="MiniMap";const qP=x.memo(QW),A2e=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,N2e={[up.Line]:"right",[up.Handle]:"bottom-right"};function P2e({nodeId:e,position:t,variant:n=up.Handle,className:r,style:i=void 0,children:o,color:a,minWidth:s=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:p,autoScale:m=!0,shouldResize:g,onResizeStart:v,onResize:_,onResizeEnd:y}){const S=PW(),w=typeof e=="string"?e:S,C=Or(),M=x.useRef(null),A=n===up.Handle,E=Un(x.useCallback(A2e(A&&m),[A,m]),Dr),I=x.useRef(null),N=t??N2e[n];x.useEffect(()=>{if(!(!M.current||!w))return I.current||(I.current=oTe({domNode:M.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:D,transform:q,snapGrid:$,snapToGrid:j,nodeOrigin:O,domNode:z}=C.getState();return{nodeLookup:D,transform:q,snapGrid:$,snapToGrid:j,nodeOrigin:O,paneDomNode:z}},onChange:(D,q)=>{const{triggerNodeChanges:$,nodeLookup:j,parentLookup:O,nodeOrigin:z}=C.getState(),W=[],F={x:D.x,y:D.y},V=j.get(w);if(V&&V.expandParent&&V.parentId){const H=V.origin??z,te=D.width??V.measured.width??0,Z=D.height??V.measured.height??0,Q={id:V.id,parentId:V.parentId,rect:{width:te,height:Z,...eW({x:D.x??V.position.x,y:D.y??V.position.y},{width:te,height:Z},V.parentId,j,H)}},re=zP([Q],j,O,z);W.push(...re),F.x=D.x?Math.max(H[0]*te,D.x):void 0,F.y=D.y?Math.max(H[1]*Z,D.y):void 0}if(F.x!==void 0&&F.y!==void 0){const H={id:w,type:"position",position:{...F}};W.push(H)}if(D.width!==void 0&&D.height!==void 0){const te={id:w,type:"dimensions",resizing:!0,setAttributes:p?p==="horizontal"?"width":"height":!0,dimensions:{width:D.width,height:D.height}};W.push(te)}for(const H of q){const te={...H,type:"position"};W.push(te)}$(W)},onEnd:({width:D,height:q})=>{const $={id:w,type:"dimensions",resizing:!1,dimensions:{width:D,height:q}};C.getState().triggerNodeChanges([$])}})),I.current.update({controlPosition:N,boundaries:{minWidth:s,minHeight:c,maxWidth:u,maxHeight:d},keepAspectRatio:f,resizeDirection:p,onResizeStart:v,onResize:_,onResizeEnd:y,shouldResize:g}),()=>{var D;(D=I.current)==null||D.destroy()}},[N,s,c,u,d,f,v,_,y,g]);const P=N.split("-");return l.jsx("div",{className:bi(["react-flow__resize-control","nodrag",...P,n,r]),ref:M,style:{...i,scale:E,...a&&{[A?"backgroundColor":"borderColor"]:a}},children:o})}x.memo(P2e);function HP(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lw,Z5;function B2e(){if(Z5)return Lw;Z5=1;function e(){this.__data__=[],this.size=0}return Lw=e,Lw}var Dw,K5;function Mp(){if(K5)return Dw;K5=1;function e(t,n){return t===n||t!==t&&n!==n}return Dw=e,Dw}var Ow,Y5;function C1(){if(Y5)return Ow;Y5=1;var e=Mp();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Ow=t,Ow}var Fw,J5;function R2e(){if(J5)return Fw;J5=1;var e=C1(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return Fw=r,Fw}var Uw,Q5;function j2e(){if(Q5)return Uw;Q5=1;var e=C1();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Uw=t,Uw}var qw,ez;function I2e(){if(ez)return qw;ez=1;var e=C1();function t(n){return e(this.__data__,n)>-1}return qw=t,qw}var Hw,tz;function z2e(){if(tz)return Hw;tz=1;var e=C1();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Hw=t,Hw}var Vw,nz;function T1(){if(nz)return Vw;nz=1;var e=B2e(),t=R2e(),n=j2e(),r=I2e(),i=z2e();function o(a){var s=-1,c=a==null?0:a.length;for(this.clear();++s<c;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Vw=o,Vw}var Ww,rz;function L2e(){if(rz)return Ww;rz=1;var e=T1();function t(){this.__data__=new e,this.size=0}return Ww=t,Ww}var Gw,iz;function D2e(){if(iz)return Gw;iz=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Gw=e,Gw}var $w,oz;function O2e(){if(oz)return $w;oz=1;function e(t){return this.__data__.get(t)}return $w=e,$w}var Xw,az;function F2e(){if(az)return Xw;az=1;function e(t){return this.__data__.has(t)}return Xw=e,Xw}var Zw,sz;function eG(){if(sz)return Zw;sz=1;var e=typeof Am=="object"&&Am&&Am.Object===Object&&Am;return Zw=e,Zw}var Kw,lz;function Us(){if(lz)return Kw;lz=1;var e=eG(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Kw=n,Kw}var Yw,cz;function Ap(){if(cz)return Yw;cz=1;var e=Us(),t=e.Symbol;return Yw=t,Yw}var Jw,uz;function U2e(){if(uz)return Jw;uz=1;var e=Ap(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),c=a[i];try{a[i]=void 0;var u=!0}catch{}var d=r.call(a);return u&&(s?a[i]=c:delete a[i]),d}return Jw=o,Jw}var Qw,dz;function q2e(){if(dz)return Qw;dz=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Qw=n,Qw}var eS,fz;function ff(){if(fz)return eS;fz=1;var e=Ap(),t=U2e(),n=q2e(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return eS=a,eS}var tS,hz;function os(){if(hz)return tS;hz=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return tS=e,tS}var nS,pz;function Bv(){if(pz)return nS;pz=1;var e=ff(),t=os(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var c=e(s);return c==r||c==i||c==n||c==o}return nS=a,nS}var rS,mz;function H2e(){if(mz)return rS;mz=1;var e=Us(),t=e["__core-js_shared__"];return rS=t,rS}var iS,gz;function V2e(){if(gz)return iS;gz=1;var e=H2e(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return iS=n,iS}var oS,vz;function tG(){if(vz)return oS;vz=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return oS=n,oS}var aS,yz;function W2e(){if(yz)return aS;yz=1;var e=Bv(),t=V2e(),n=os(),r=tG(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||t(p))return!1;var m=e(p)?d:o;return m.test(r(p))}return aS=f,aS}var sS,bz;function G2e(){if(bz)return sS;bz=1;function e(t,n){return t==null?void 0:t[n]}return sS=e,sS}var lS,xz;function hf(){if(xz)return lS;xz=1;var e=W2e(),t=G2e();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return lS=n,lS}var cS,_z;function VP(){if(_z)return cS;_z=1;var e=hf(),t=Us(),n=e(t,"Map");return cS=n,cS}var uS,wz;function k1(){if(wz)return uS;wz=1;var e=hf(),t=e(Object,"create");return uS=t,uS}var dS,Sz;function $2e(){if(Sz)return dS;Sz=1;var e=k1();function t(){this.__data__=e?e(null):{},this.size=0}return dS=t,dS}var fS,Cz;function X2e(){if(Cz)return fS;Cz=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return fS=e,fS}var hS,Tz;function Z2e(){if(Tz)return hS;Tz=1;var e=k1(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return hS=i,hS}var pS,kz;function K2e(){if(kz)return pS;kz=1;var e=k1(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return pS=r,pS}var mS,Ez;function Y2e(){if(Ez)return mS;Ez=1;var e=k1(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return mS=n,mS}var gS,Mz;function J2e(){if(Mz)return gS;Mz=1;var e=$2e(),t=X2e(),n=Z2e(),r=K2e(),i=Y2e();function o(a){var s=-1,c=a==null?0:a.length;for(this.clear();++s<c;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,gS=o,gS}var vS,Az;function Q2e(){if(Az)return vS;Az=1;var e=J2e(),t=T1(),n=VP();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return vS=r,vS}var yS,Nz;function eEe(){if(Nz)return yS;Nz=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return yS=e,yS}var bS,Pz;function E1(){if(Pz)return bS;Pz=1;var e=eEe();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return bS=t,bS}var xS,Bz;function tEe(){if(Bz)return xS;Bz=1;var e=E1();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return xS=t,xS}var _S,Rz;function nEe(){if(Rz)return _S;Rz=1;var e=E1();function t(n){return e(this,n).get(n)}return _S=t,_S}var wS,jz;function rEe(){if(jz)return wS;jz=1;var e=E1();function t(n){return e(this,n).has(n)}return wS=t,wS}var SS,Iz;function iEe(){if(Iz)return SS;Iz=1;var e=E1();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return SS=t,SS}var CS,zz;function WP(){if(zz)return CS;zz=1;var e=Q2e(),t=tEe(),n=nEe(),r=rEe(),i=iEe();function o(a){var s=-1,c=a==null?0:a.length;for(this.clear();++s<c;){var u=a[s];this.set(u[0],u[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,CS=o,CS}var TS,Lz;function oEe(){if(Lz)return TS;Lz=1;var e=T1(),t=VP(),n=WP(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var c=s.__data__;if(!t||c.length<r-1)return c.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(c)}return s.set(o,a),this.size=s.size,this}return TS=i,TS}var kS,Dz;function M1(){if(Dz)return kS;Dz=1;var e=T1(),t=L2e(),n=D2e(),r=O2e(),i=F2e(),o=oEe();function a(s){var c=this.__data__=new e(s);this.size=c.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,kS=a,kS}var ES,Oz;function GP(){if(Oz)return ES;Oz=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return ES=e,ES}var MS,Fz;function nG(){if(Fz)return MS;Fz=1;var e=hf(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return MS=t,MS}var AS,Uz;function A1(){if(Uz)return AS;Uz=1;var e=nG();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return AS=t,AS}var NS,qz;function N1(){if(qz)return NS;qz=1;var e=A1(),t=Mp(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var c=o[a];(!(r.call(o,a)&&t(c,s))||s===void 0&&!(a in o))&&e(o,a,s)}return NS=i,NS}var PS,Hz;function Rv(){if(Hz)return PS;Hz=1;var e=N1(),t=A1();function n(r,i,o,a){var s=!o;o||(o={});for(var c=-1,u=i.length;++c<u;){var d=i[c],f=a?a(o[d],r[d],d,o,r):void 0;f===void 0&&(f=r[d]),s?t(o,d,f):e(o,d,f)}return o}return PS=n,PS}var BS,Vz;function aEe(){if(Vz)return BS;Vz=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return BS=e,BS}var RS,Wz;function Al(){if(Wz)return RS;Wz=1;function e(t){return t!=null&&typeof t=="object"}return RS=e,RS}var jS,Gz;function sEe(){if(Gz)return jS;Gz=1;var e=ff(),t=Al(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return jS=r,jS}var IS,$z;function jv(){if($z)return IS;$z=1;var e=sEe(),t=Al(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return IS=o,IS}var zS,Xz;function xi(){if(Xz)return zS;Xz=1;var e=Array.isArray;return zS=e,zS}var Om={exports:{}},LS,Zz;function lEe(){if(Zz)return LS;Zz=1;function e(){return!1}return LS=e,LS}Om.exports;var Kz;function Np(){return Kz||(Kz=1,function(e,t){var n=Us(),r=lEe(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||r;e.exports=u}(Om,Om.exports)),Om.exports}var DS,Yz;function P1(){if(Yz)return DS;Yz=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return DS=n,DS}var OS,Jz;function $P(){if(Jz)return OS;Jz=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return OS=t,OS}var FS,Qz;function cEe(){if(Qz)return FS;Qz=1;var e=ff(),t=$P(),n=Al(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",y="[object DataView]",S="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",M="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",P="[object Uint32Array]",D={};D[S]=D[w]=D[C]=D[M]=D[A]=D[E]=D[I]=D[N]=D[P]=!0,D[r]=D[i]=D[_]=D[o]=D[y]=D[a]=D[s]=D[c]=D[u]=D[d]=D[f]=D[p]=D[m]=D[g]=D[v]=!1;function q($){return n($)&&t($.length)&&!!D[e($)]}return FS=q,FS}var US,eL;function B1(){if(eL)return US;eL=1;function e(t){return function(n){return t(n)}}return US=e,US}var Fm={exports:{}};Fm.exports;var tL;function XP(){return tL||(tL=1,function(e,t){var n=eG(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s}(Fm,Fm.exports)),Fm.exports}var qS,nL;function Iv(){if(nL)return qS;nL=1;var e=cEe(),t=B1(),n=XP(),r=n&&n.isTypedArray,i=r?t(r):e;return qS=i,qS}var HS,rL;function rG(){if(rL)return HS;rL=1;var e=aEe(),t=jv(),n=xi(),r=Np(),i=P1(),o=Iv(),a=Object.prototype,s=a.hasOwnProperty;function c(u,d){var f=n(u),p=!f&&t(u),m=!f&&!p&&r(u),g=!f&&!p&&!m&&o(u),v=f||p||m||g,_=v?e(u.length,String):[],y=_.length;for(var S in u)(d||s.call(u,S))&&!(v&&(S=="length"||m&&(S=="offset"||S=="parent")||g&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,y)))&&_.push(S);return _}return HS=c,HS}var VS,iL;function R1(){if(iL)return VS;iL=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return VS=t,VS}var WS,oL;function iG(){if(oL)return WS;oL=1;function e(t,n){return function(r){return t(n(r))}}return WS=e,WS}var GS,aL;function uEe(){if(aL)return GS;aL=1;var e=iG(),t=e(Object.keys,Object);return GS=t,GS}var $S,sL;function ZP(){if(sL)return $S;sL=1;var e=R1(),t=uEe(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return $S=i,$S}var XS,lL;function Ac(){if(lL)return XS;lL=1;var e=Bv(),t=$P();function n(r){return r!=null&&t(r.length)&&!e(r)}return XS=n,XS}var ZS,cL;function Ku(){if(cL)return ZS;cL=1;var e=rG(),t=ZP(),n=Ac();function r(i){return n(i)?e(i):t(i)}return ZS=r,ZS}var KS,uL;function dEe(){if(uL)return KS;uL=1;var e=Rv(),t=Ku();function n(r,i){return r&&e(i,t(i),r)}return KS=n,KS}var YS,dL;function fEe(){if(dL)return YS;dL=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return YS=e,YS}var JS,fL;function hEe(){if(fL)return JS;fL=1;var e=os(),t=R1(),n=fEe(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),c=[];for(var u in a)u=="constructor"&&(s||!i.call(a,u))||c.push(u);return c}return JS=o,JS}var QS,hL;function pf(){if(hL)return QS;hL=1;var e=rG(),t=hEe(),n=Ac();function r(i){return n(i)?e(i,!0):t(i)}return QS=r,QS}var eC,pL;function pEe(){if(pL)return eC;pL=1;var e=Rv(),t=pf();function n(r,i){return r&&e(i,t(i),r)}return eC=n,eC}var Um={exports:{}};Um.exports;var mL;function oG(){return mL||(mL=1,function(e,t){var n=Us(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=s?s(f):new u.constructor(f);return u.copy(p),p}e.exports=c}(Um,Um.exports)),Um.exports}var tC,gL;function aG(){if(gL)return tC;gL=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return tC=e,tC}var nC,vL;function sG(){if(vL)return nC;vL=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return nC=e,nC}var rC,yL;function lG(){if(yL)return rC;yL=1;function e(){return[]}return rC=e,rC}var iC,bL;function KP(){if(bL)return iC;bL=1;var e=sG(),t=lG(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return iC=o,iC}var oC,xL;function mEe(){if(xL)return oC;xL=1;var e=Rv(),t=KP();function n(r,i){return e(r,t(r),i)}return oC=n,oC}var aC,_L;function YP(){if(_L)return aC;_L=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return aC=e,aC}var sC,wL;function j1(){if(wL)return sC;wL=1;var e=iG(),t=e(Object.getPrototypeOf,Object);return sC=t,sC}var lC,SL;function cG(){if(SL)return lC;SL=1;var e=YP(),t=j1(),n=KP(),r=lG(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return lC=o,lC}var cC,CL;function gEe(){if(CL)return cC;CL=1;var e=Rv(),t=cG();function n(r,i){return e(r,t(r),i)}return cC=n,cC}var uC,TL;function uG(){if(TL)return uC;TL=1;var e=YP(),t=xi();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return uC=n,uC}var dC,kL;function dG(){if(kL)return dC;kL=1;var e=uG(),t=KP(),n=Ku();function r(i){return e(i,n,t)}return dC=r,dC}var fC,EL;function vEe(){if(EL)return fC;EL=1;var e=uG(),t=cG(),n=pf();function r(i){return e(i,n,t)}return fC=r,fC}var hC,ML;function yEe(){if(ML)return hC;ML=1;var e=hf(),t=Us(),n=e(t,"DataView");return hC=n,hC}var pC,AL;function bEe(){if(AL)return pC;AL=1;var e=hf(),t=Us(),n=e(t,"Promise");return pC=n,pC}var mC,NL;function fG(){if(NL)return mC;NL=1;var e=hf(),t=Us(),n=e(t,"Set");return mC=n,mC}var gC,PL;function xEe(){if(PL)return gC;PL=1;var e=hf(),t=Us(),n=e(t,"WeakMap");return gC=n,gC}var vC,BL;function Pp(){if(BL)return vC;BL=1;var e=yEe(),t=VP(),n=bEe(),r=fG(),i=xEe(),o=ff(),a=tG(),s="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=a(e),g=a(t),v=a(n),_=a(r),y=a(i),S=o;return(e&&S(new e(new ArrayBuffer(1)))!=p||t&&S(new t)!=s||n&&S(n.resolve())!=u||r&&S(new r)!=d||i&&S(new i)!=f)&&(S=function(w){var C=o(w),M=C==c?w.constructor:void 0,A=M?a(M):"";if(A)switch(A){case m:return p;case g:return s;case v:return u;case _:return d;case y:return f}return C}),vC=S,vC}var yC,RL;function _Ee(){if(RL)return yC;RL=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return yC=n,yC}var bC,jL;function hG(){if(jL)return bC;jL=1;var e=Us(),t=e.Uint8Array;return bC=t,bC}var xC,IL;function JP(){if(IL)return xC;IL=1;var e=hG();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return xC=t,xC}var _C,zL;function wEe(){if(zL)return _C;zL=1;var e=JP();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return _C=t,_C}var wC,LL;function SEe(){if(LL)return wC;LL=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return wC=t,wC}var SC,DL;function CEe(){if(DL)return SC;DL=1;var e=Ap(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return SC=r,SC}var CC,OL;function pG(){if(OL)return CC;OL=1;var e=JP();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return CC=t,CC}var TC,FL;function TEe(){if(FL)return TC;FL=1;var e=JP(),t=wEe(),n=SEe(),r=CEe(),i=pG(),o="[object Boolean]",a="[object Date]",s="[object Map]",c="[object Number]",u="[object RegExp]",d="[object Set]",f="[object String]",p="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",y="[object Int8Array]",S="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",E="[object Uint32Array]";function I(N,P,D){var q=N.constructor;switch(P){case m:return e(N);case o:case a:return new q(+N);case g:return t(N,D);case v:case _:case y:case S:case w:case C:case M:case A:case E:return i(N,D);case s:return new q;case c:case f:return new q(N);case u:return n(N);case d:return new q;case p:return r(N)}}return TC=I,TC}var kC,UL;function mG(){if(UL)return kC;UL=1;var e=os(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}}();return kC=n,kC}var EC,qL;function gG(){if(qL)return EC;qL=1;var e=mG(),t=j1(),n=R1();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return EC=r,EC}var MC,HL;function kEe(){if(HL)return MC;HL=1;var e=Pp(),t=Al(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return MC=r,MC}var AC,VL;function EEe(){if(VL)return AC;VL=1;var e=kEe(),t=B1(),n=XP(),r=n&&n.isMap,i=r?t(r):e;return AC=i,AC}var NC,WL;function MEe(){if(WL)return NC;WL=1;var e=Pp(),t=Al(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return NC=r,NC}var PC,GL;function AEe(){if(GL)return PC;GL=1;var e=MEe(),t=B1(),n=XP(),r=n&&n.isSet,i=r?t(r):e;return PC=i,PC}var BC,$L;function vG(){if($L)return BC;$L=1;var e=M1(),t=GP(),n=N1(),r=dEe(),i=pEe(),o=oG(),a=aG(),s=mEe(),c=gEe(),u=dG(),d=vEe(),f=Pp(),p=_Ee(),m=TEe(),g=gG(),v=xi(),_=Np(),y=EEe(),S=os(),w=AEe(),C=Ku(),M=pf(),A=1,E=2,I=4,N="[object Arguments]",P="[object Array]",D="[object Boolean]",q="[object Date]",$="[object Error]",j="[object Function]",O="[object GeneratorFunction]",z="[object Map]",W="[object Number]",F="[object Object]",V="[object RegExp]",H="[object Set]",te="[object String]",Z="[object Symbol]",Q="[object WeakMap]",re="[object ArrayBuffer]",ue="[object DataView]",oe="[object Float32Array]",be="[object Float64Array]",ke="[object Int8Array]",He="[object Int16Array]",Je="[object Int32Array]",rt="[object Uint8Array]",le="[object Uint8ClampedArray]",at="[object Uint16Array]",Ge="[object Uint32Array]",We={};We[N]=We[P]=We[re]=We[ue]=We[D]=We[q]=We[oe]=We[be]=We[ke]=We[He]=We[Je]=We[z]=We[W]=We[F]=We[V]=We[H]=We[te]=We[Z]=We[rt]=We[le]=We[at]=We[Ge]=!0,We[$]=We[j]=We[Q]=!1;function $e(et,Xe,X,Y,me,Ne){var Re,Ee=Xe&A,Ye=Xe&E,Ze=Xe&I;if(X&&(Re=me?X(et,Y,me,Ne):X(et)),Re!==void 0)return Re;if(!S(et))return et;var st=v(et);if(st){if(Re=p(et),!Ee)return a(et,Re)}else{var wt=f(et),_t=wt==j||wt==O;if(_(et))return o(et,Ee);if(wt==F||wt==N||_t&&!me){if(Re=Ye||_t?{}:g(et),!Ee)return Ye?c(et,i(Re,et)):s(et,r(Re,et))}else{if(!We[wt])return me?et:{};Re=m(et,wt,Ee)}}Ne||(Ne=new e);var je=Ne.get(et);if(je)return je;Ne.set(et,Re),w(et)?et.forEach(function(tt){Re.add($e(tt,Xe,X,tt,et,Ne))}):y(et)&&et.forEach(function(tt,ze){Re.set(ze,$e(tt,Xe,X,ze,et,Ne))});var jt=Ze?Ye?d:u:Ye?M:C,ve=st?void 0:jt(et);return t(ve||et,function(tt,ze){ve&&(ze=tt,tt=et[ze]),n(Re,ze,$e(tt,Xe,X,ze,et,Ne))}),Re}return BC=$e,BC}var RC,XL;function NEe(){if(XL)return RC;XL=1;var e=vG(),t=4;function n(r){return e(r,t)}return RC=n,RC}var jC,ZL;function QP(){if(ZL)return jC;ZL=1;function e(t){return function(){return t}}return jC=e,jC}var IC,KL;function PEe(){if(KL)return IC;KL=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),c=s.length;c--;){var u=s[t?c:++o];if(r(a[u],u,a)===!1)break}return n}}return IC=e,IC}var zC,YL;function eB(){if(YL)return zC;YL=1;var e=PEe(),t=e();return zC=t,zC}var LC,JL;function tB(){if(JL)return LC;JL=1;var e=eB(),t=Ku();function n(r,i){return r&&e(r,i,t)}return LC=n,LC}var DC,QL;function BEe(){if(QL)return DC;QL=1;var e=Ac();function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,c=Object(i);(r?s--:++s<a)&&o(c[s],s,c)!==!1;);return i}}return DC=t,DC}var OC,eD;function I1(){if(eD)return OC;eD=1;var e=tB(),t=BEe(),n=t(e);return OC=n,OC}var FC,tD;function mf(){if(tD)return FC;tD=1;function e(t){return t}return FC=e,FC}var UC,nD;function yG(){if(nD)return UC;nD=1;var e=mf();function t(n){return typeof n=="function"?n:e}return UC=t,UC}var qC,rD;function bG(){if(rD)return qC;rD=1;var e=GP(),t=I1(),n=yG(),r=xi();function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return qC=i,qC}var HC,iD;function xG(){return iD||(iD=1,HC=bG()),HC}var VC,oD;function REe(){if(oD)return VC;oD=1;var e=I1();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return VC=t,VC}var WC,aD;function jEe(){if(aD)return WC;aD=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return WC=t,WC}var GC,sD;function IEe(){if(sD)return GC;sD=1;function e(t){return this.__data__.has(t)}return GC=e,GC}var $C,lD;function _G(){if(lD)return $C;lD=1;var e=WP(),t=jEe(),n=IEe();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,$C=r,$C}var XC,cD;function zEe(){if(cD)return XC;cD=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return XC=e,XC}var ZC,uD;function wG(){if(uD)return ZC;uD=1;function e(t,n){return t.has(n)}return ZC=e,ZC}var KC,dD;function SG(){if(dD)return KC;dD=1;var e=_G(),t=zEe(),n=wG(),r=1,i=2;function o(a,s,c,u,d,f){var p=c&r,m=a.length,g=s.length;if(m!=g&&!(p&&g>m))return!1;var v=f.get(a),_=f.get(s);if(v&&_)return v==s&&_==a;var y=-1,S=!0,w=c&i?new e:void 0;for(f.set(a,s),f.set(s,a);++y<m;){var C=a[y],M=s[y];if(u)var A=p?u(M,C,y,s,a,f):u(C,M,y,a,s,f);if(A!==void 0){if(A)continue;S=!1;break}if(w){if(!t(s,function(E,I){if(!n(w,I)&&(C===E||d(C,E,c,u,f)))return w.push(I)})){S=!1;break}}else if(!(C===M||d(C,M,c,u,f))){S=!1;break}}return f.delete(a),f.delete(s),S}return KC=o,KC}var YC,fD;function LEe(){if(fD)return YC;fD=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return YC=e,YC}var JC,hD;function nB(){if(hD)return JC;hD=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return JC=e,JC}var QC,pD;function DEe(){if(pD)return QC;pD=1;var e=Ap(),t=hG(),n=Mp(),r=SG(),i=LEe(),o=nB(),a=1,s=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",v="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",S="[object DataView]",w=e?e.prototype:void 0,C=w?w.valueOf:void 0;function M(A,E,I,N,P,D,q){switch(I){case S:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case y:return!(A.byteLength!=E.byteLength||!D(new t(A),new t(E)));case c:case u:case p:return n(+A,+E);case d:return A.name==E.name&&A.message==E.message;case m:case v:return A==E+"";case f:var $=i;case g:var j=N&a;if($||($=o),A.size!=E.size&&!j)return!1;var O=q.get(A);if(O)return O==E;N|=s,q.set(A,E);var z=r($(A),$(E),N,P,D,q);return q.delete(A),z;case _:if(C)return C.call(A)==C.call(E)}return!1}return QC=M,QC}var eT,mD;function OEe(){if(mD)return eT;mD=1;var e=dG(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,c,u,d){var f=s&t,p=e(o),m=p.length,g=e(a),v=g.length;if(m!=v&&!f)return!1;for(var _=m;_--;){var y=p[_];if(!(f?y in a:r.call(a,y)))return!1}var S=d.get(o),w=d.get(a);if(S&&w)return S==a&&w==o;var C=!0;d.set(o,a),d.set(a,o);for(var M=f;++_<m;){y=p[_];var A=o[y],E=a[y];if(c)var I=f?c(E,A,y,a,o,d):c(A,E,y,o,a,d);if(!(I===void 0?A===E||u(A,E,s,c,d):I)){C=!1;break}M||(M=y=="constructor")}if(C&&!M){var N=o.constructor,P=a.constructor;N!=P&&"constructor"in o&&"constructor"in a&&!(typeof N=="function"&&N instanceof N&&typeof P=="function"&&P instanceof P)&&(C=!1)}return d.delete(o),d.delete(a),C}return eT=i,eT}var tT,gD;function FEe(){if(gD)return tT;gD=1;var e=M1(),t=SG(),n=DEe(),r=OEe(),i=Pp(),o=xi(),a=Np(),s=Iv(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(v,_,y,S,w,C){var M=o(v),A=o(_),E=M?d:i(v),I=A?d:i(_);E=E==u?f:E,I=I==u?f:I;var N=E==f,P=I==f,D=E==I;if(D&&a(v)){if(!a(_))return!1;M=!0,N=!1}if(D&&!N)return C||(C=new e),M||s(v)?t(v,_,y,S,w,C):n(v,_,E,y,S,w,C);if(!(y&c)){var q=N&&m.call(v,"__wrapped__"),$=P&&m.call(_,"__wrapped__");if(q||$){var j=q?v.value():v,O=$?_.value():_;return C||(C=new e),w(j,O,y,S,C)}}return D?(C||(C=new e),r(v,_,y,S,w,C)):!1}return tT=g,tT}var nT,vD;function CG(){if(vD)return nT;vD=1;var e=FEe(),t=Al();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return nT=n,nT}var rT,yD;function UEe(){if(yD)return rT;yD=1;var e=M1(),t=CG(),n=1,r=2;function i(o,a,s,c){var u=s.length,d=u,f=!c;if(o==null)return!d;for(o=Object(o);u--;){var p=s[u];if(f&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++u<d;){p=s[u];var m=p[0],g=o[m],v=p[1];if(f&&p[2]){if(g===void 0&&!(m in o))return!1}else{var _=new e;if(c)var y=c(g,v,m,o,a,_);if(!(y===void 0?t(v,g,n|r,c,_):y))return!1}}return!0}return rT=i,rT}var iT,bD;function TG(){if(bD)return iT;bD=1;var e=os();function t(n){return n===n&&!e(n)}return iT=t,iT}var oT,xD;function qEe(){if(xD)return oT;xD=1;var e=TG(),t=Ku();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return oT=n,oT}var aT,_D;function kG(){if(_D)return aT;_D=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return aT=e,aT}var sT,wD;function HEe(){if(wD)return sT;wD=1;var e=UEe(),t=qEe(),n=kG();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return sT=r,sT}var lT,SD;function Bp(){if(SD)return lT;SD=1;var e=ff(),t=Al(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return lT=r,lT}var cT,CD;function rB(){if(CD)return cT;CD=1;var e=xi(),t=Bp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return cT=i,cT}var uT,TD;function VEe(){if(TD)return uT;TD=1;var e=WP(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],c=o.cache;if(c.has(s))return c.get(s);var u=r.apply(this,a);return o.cache=c.set(s,u)||c,u};return o.cache=new(n.Cache||e),o}return n.Cache=e,uT=n,uT}var dT,kD;function WEe(){if(kD)return dT;kD=1;var e=VEe(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return dT=n,dT}var fT,ED;function GEe(){if(ED)return fT;ED=1;var e=WEe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,c,u){o.push(c?u.replace(n,"$1"):s||a)}),o});return fT=r,fT}var hT,MD;function z1(){if(MD)return hT;MD=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return hT=e,hT}var pT,AD;function $Ee(){if(AD)return pT;AD=1;var e=Ap(),t=z1(),n=xi(),r=Bp(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var c=s+"";return c=="0"&&1/s==-1/0?"-0":c}return pT=a,pT}var mT,ND;function EG(){if(ND)return mT;ND=1;var e=$Ee();function t(n){return n==null?"":e(n)}return mT=t,mT}var gT,PD;function L1(){if(PD)return gT;PD=1;var e=xi(),t=rB(),n=GEe(),r=EG();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return gT=i,gT}var vT,BD;function zv(){if(BD)return vT;BD=1;var e=Bp();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return vT=t,vT}var yT,RD;function D1(){if(RD)return yT;RD=1;var e=L1(),t=zv();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return yT=n,yT}var bT,jD;function XEe(){if(jD)return bT;jD=1;var e=D1();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return bT=t,bT}var xT,ID;function ZEe(){if(ID)return xT;ID=1;function e(t,n){return t!=null&&n in Object(t)}return xT=e,xT}var _T,zD;function MG(){if(zD)return _T;zD=1;var e=L1(),t=jv(),n=xi(),r=P1(),i=$P(),o=zv();function a(s,c,u){c=e(c,s);for(var d=-1,f=c.length,p=!1;++d<f;){var m=o(c[d]);if(!(p=s!=null&&u(s,m)))break;s=s[m]}return p||++d!=f?p:(f=s==null?0:s.length,!!f&&i(f)&&r(m,f)&&(n(s)||t(s)))}return _T=a,_T}var wT,LD;function AG(){if(LD)return wT;LD=1;var e=ZEe(),t=MG();function n(r,i){return r!=null&&t(r,i,e)}return wT=n,wT}var ST,DD;function KEe(){if(DD)return ST;DD=1;var e=CG(),t=XEe(),n=AG(),r=rB(),i=TG(),o=kG(),a=zv(),s=1,c=2;function u(d,f){return r(d)&&i(f)?o(a(d),f):function(p){var m=t(p,d);return m===void 0&&m===f?n(p,d):e(f,m,s|c)}}return ST=u,ST}var CT,OD;function NG(){if(OD)return CT;OD=1;function e(t){return function(n){return n==null?void 0:n[t]}}return CT=e,CT}var TT,FD;function YEe(){if(FD)return TT;FD=1;var e=D1();function t(n){return function(r){return e(r,n)}}return TT=t,TT}var kT,UD;function JEe(){if(UD)return kT;UD=1;var e=NG(),t=YEe(),n=rB(),r=zv();function i(o){return n(o)?e(r(o)):t(o)}return kT=i,kT}var ET,qD;function Nc(){if(qD)return ET;qD=1;var e=HEe(),t=KEe(),n=mf(),r=xi(),i=JEe();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return ET=o,ET}var MT,HD;function PG(){if(HD)return MT;HD=1;var e=sG(),t=REe(),n=Nc(),r=xi();function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return MT=i,MT}var AT,VD;function QEe(){if(VD)return AT;VD=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return AT=n,AT}var NT,WD;function BG(){if(WD)return NT;WD=1;var e=QEe(),t=MG();function n(r,i){return r!=null&&t(r,i,e)}return NT=n,NT}var PT,GD;function eMe(){if(GD)return PT;GD=1;var e=ZP(),t=Pp(),n=jv(),r=xi(),i=Ac(),o=Np(),a=R1(),s=Iv(),c="[object Map]",u="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function p(m){if(m==null)return!0;if(i(m)&&(r(m)||typeof m=="string"||typeof m.splice=="function"||o(m)||s(m)||n(m)))return!m.length;var g=t(m);if(g==c||g==u)return!m.size;if(a(m))return!e(m).length;for(var v in m)if(f.call(m,v))return!1;return!0}return PT=p,PT}var BT,$D;function RG(){if($D)return BT;$D=1;function e(t){return t===void 0}return BT=e,BT}var RT,XD;function jG(){if(XD)return RT;XD=1;var e=I1(),t=Ac();function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,c,u){a[++o]=i(s,c,u)}),a}return RT=n,RT}var jT,ZD;function IG(){if(ZD)return jT;ZD=1;var e=z1(),t=Nc(),n=jG(),r=xi();function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return jT=i,jT}var IT,KD;function tMe(){if(KD)return IT;KD=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return IT=e,IT}var zT,YD;function nMe(){if(YD)return zT;YD=1;function e(t,n,r,i,o){return o(t,function(a,s,c){r=i?(i=!1,a):n(r,a,s,c)}),r}return zT=e,zT}var LT,JD;function zG(){if(JD)return LT;JD=1;var e=tMe(),t=I1(),n=Nc(),r=nMe(),i=xi();function o(a,s,c){var u=i(a)?e:r,d=arguments.length<3;return u(a,n(s,4),c,d,t)}return LT=o,LT}var DT,QD;function rMe(){if(QD)return DT;QD=1;var e=ff(),t=xi(),n=Al(),r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return DT=i,DT}var OT,eO;function iMe(){if(eO)return OT;eO=1;var e=NG(),t=e("length");return OT=t,OT}var FT,tO;function oMe(){if(tO)return FT;tO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function c(u){return s.test(u)}return FT=c,FT}var UT,nO;function aMe(){if(nO)return UT;nO=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",g=u+"?",v="["+o+"]?",_="(?:"+m+"(?:"+[d,f,p].join("|")+")"+v+g+")*",y=v+g+_,S="(?:"+[d+s+"?",s,f,p,a].join("|")+")",w=RegExp(c+"(?="+c+")|"+S+y,"g");function C(M){for(var A=w.lastIndex=0;w.test(M);)++A;return A}return UT=C,UT}var qT,rO;function sMe(){if(rO)return qT;rO=1;var e=iMe(),t=oMe(),n=aMe();function r(i){return t(i)?n(i):e(i)}return qT=r,qT}var HT,iO;function lMe(){if(iO)return HT;iO=1;var e=ZP(),t=Pp(),n=Ac(),r=rMe(),i=sMe(),o="[object Map]",a="[object Set]";function s(c){if(c==null)return 0;if(n(c))return r(c)?i(c):c.length;var u=t(c);return u==o||u==a?c.size:e(c).length}return HT=s,HT}var VT,oO;function cMe(){if(oO)return VT;oO=1;var e=GP(),t=mG(),n=tB(),r=Nc(),i=j1(),o=xi(),a=Np(),s=Bv(),c=os(),u=Iv();function d(f,p,m){var g=o(f),v=g||a(f)||u(f);if(p=r(p,4),m==null){var _=f&&f.constructor;v?m=g?new _:[]:c(f)?m=s(_)?t(i(f)):{}:m={}}return(v?e:n)(f,function(y,S,w){return p(m,y,S,w)}),m}return VT=d,VT}var WT,aO;function uMe(){if(aO)return WT;aO=1;var e=Ap(),t=jv(),n=xi(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return WT=i,WT}var GT,sO;function iB(){if(sO)return GT;sO=1;var e=YP(),t=uMe();function n(r,i,o,a,s){var c=-1,u=r.length;for(o||(o=t),s||(s=[]);++c<u;){var d=r[c];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return GT=n,GT}var $T,lO;function dMe(){if(lO)return $T;lO=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return $T=e,$T}var XT,cO;function LG(){if(cO)return XT;cO=1;var e=dMe(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,c=t(a.length-i,0),u=Array(c);++s<c;)u[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(u),e(r,this,d)}}return XT=n,XT}var ZT,uO;function fMe(){if(uO)return ZT;uO=1;var e=QP(),t=nG(),n=mf(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return ZT=r,ZT}var KT,dO;function hMe(){if(dO)return KT;dO=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),c=t-(s-a);if(a=s,c>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return KT=r,KT}var YT,fO;function DG(){if(fO)return YT;fO=1;var e=fMe(),t=hMe(),n=t(e);return YT=n,YT}var JT,hO;function O1(){if(hO)return JT;hO=1;var e=mf(),t=LG(),n=DG();function r(i,o){return n(t(i,o,e),i+"")}return JT=r,JT}var QT,pO;function OG(){if(pO)return QT;pO=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return QT=e,QT}var ek,mO;function pMe(){if(mO)return ek;mO=1;function e(t){return t!==t}return ek=e,ek}var tk,gO;function mMe(){if(gO)return tk;gO=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return tk=e,tk}var nk,vO;function gMe(){if(vO)return nk;vO=1;var e=OG(),t=pMe(),n=mMe();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return nk=r,nk}var rk,yO;function vMe(){if(yO)return rk;yO=1;var e=gMe();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return rk=t,rk}var ik,bO;function yMe(){if(bO)return ik;bO=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return ik=e,ik}var ok,xO;function bMe(){if(xO)return ok;xO=1;function e(){}return ok=e,ok}var ak,_O;function xMe(){if(_O)return ak;_O=1;var e=fG(),t=bMe(),n=nB(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return ak=i,ak}var sk,wO;function _Me(){if(wO)return sk;wO=1;var e=_G(),t=vMe(),n=yMe(),r=wG(),i=xMe(),o=nB(),a=200;function s(c,u,d){var f=-1,p=t,m=c.length,g=!0,v=[],_=v;if(d)g=!1,p=n;else if(m>=a){var y=u?null:i(c);if(y)return o(y);g=!1,p=r,_=new e}else _=u?[]:v;e:for(;++f<m;){var S=c[f],w=u?u(S):S;if(S=d||S!==0?S:0,g&&w===w){for(var C=_.length;C--;)if(_[C]===w)continue e;u&&_.push(w),v.push(S)}else p(_,w,d)||(_!==v&&_.push(w),v.push(S))}return v}return sk=s,sk}var lk,SO;function FG(){if(SO)return lk;SO=1;var e=Ac(),t=Al();function n(r){return t(r)&&e(r)}return lk=n,lk}var ck,CO;function wMe(){if(CO)return ck;CO=1;var e=iB(),t=O1(),n=_Me(),r=FG(),i=t(function(o){return n(e(o,1,r,!0))});return ck=i,ck}var uk,TO;function SMe(){if(TO)return uk;TO=1;var e=z1();function t(n,r){return e(r,function(i){return n[i]})}return uk=t,uk}var dk,kO;function UG(){if(kO)return dk;kO=1;var e=SMe(),t=Ku();function n(r){return r==null?[]:e(r,t(r))}return dk=n,dk}var fk,EO;function as(){if(EO)return fk;EO=1;var e;if(typeof HP=="function")try{e={clone:NEe(),constant:QP(),each:xG(),filter:PG(),has:BG(),isArray:xi(),isEmpty:eMe(),isFunction:Bv(),isUndefined:RG(),keys:Ku(),map:IG(),reduce:zG(),size:lMe(),transform:cMe(),union:wMe(),values:UG()}}catch{}return e||(e=window._),fk=e,fk}var hk,MO;function oB(){if(MO)return hk;MO=1;var e=as();hk=i;var t="\0",n="\0",r="";function i(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._in[f])})},i.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._out[f])})},i.prototype.setNodes=function(d,f){var p=arguments,m=this;return e.each(d,function(g){p.length>1?m.setNode(g,f):m.setNode(g)}),this},i.prototype.setNode=function(d,f){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=n,this._children[d]={},this._children[n][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return e.has(this._nodes,d)},i.prototype.removeNode=function(d){var f=this;if(e.has(this._nodes,d)){var p=function(m){f.removeEdge(f._edgeObjs[m])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(m){f.setParent(m)}),delete this._children[d]),e.each(e.keys(this._in[d]),p),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),p),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=n;else{f+="";for(var p=f;!e.isUndefined(p);p=this.parent(p))if(p===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var f=this._parent[d];if(f!==n)return f}},i.prototype.children=function(d){if(e.isUndefined(d)&&(d=n),this._isCompound){var f=this._children[d];if(f)return e.keys(f)}else{if(d===n)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var f=this._preds[d];if(f)return e.keys(f)},i.prototype.successors=function(d){var f=this._sucs[d];if(f)return e.keys(f)},i.prototype.neighbors=function(d){var f=this.predecessors(d);if(f)return e.union(f,this.successors(d))},i.prototype.isLeaf=function(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0},i.prototype.filterNodes=function(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var p=this;e.each(this._nodes,function(v,_){d(_)&&f.setNode(_,v)}),e.each(this._edgeObjs,function(v){f.hasNode(v.v)&&f.hasNode(v.w)&&f.setEdge(v,p.edge(v))});var m={};function g(v){var _=p.parent(v);return _===void 0||f.hasNode(_)?(m[v]=_,_):_ in m?m[_]:g(_)}return this._isCompound&&e.each(f.nodes(),function(v){f.setParent(v,g(v))}),f},i.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(d,f){var p=this,m=arguments;return e.reduce(d,function(g,v){return m.length>1?p.setEdge(g,v,f):p.setEdge(g,v),v}),this},i.prototype.setEdge=function(){var d,f,p,m,g=!1,v=arguments[0];typeof v=="object"&&v!==null&&"v"in v?(d=v.v,f=v.w,p=v.name,arguments.length===2&&(m=arguments[1],g=!0)):(d=v,f=arguments[1],p=arguments[3],arguments.length>2&&(m=arguments[2],g=!0)),d=""+d,f=""+f,e.isUndefined(p)||(p=""+p);var _=s(this._isDirected,d,f,p);if(e.has(this._edgeLabels,_))return g&&(this._edgeLabels[_]=m),this;if(!e.isUndefined(p)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[_]=g?m:this._defaultEdgeLabelFn(d,f,p);var y=c(this._isDirected,d,f,p);return d=y.v,f=y.w,Object.freeze(y),this._edgeObjs[_]=y,o(this._preds[f],d),o(this._sucs[d],f),this._in[f][_]=y,this._out[d][_]=y,this._edgeCount++,this},i.prototype.edge=function(d,f,p){var m=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,f,p);return this._edgeLabels[m]},i.prototype.hasEdge=function(d,f,p){var m=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,f,p);return e.has(this._edgeLabels,m)},i.prototype.removeEdge=function(d,f,p){var m=arguments.length===1?u(this._isDirected,arguments[0]):s(this._isDirected,d,f,p),g=this._edgeObjs[m];return g&&(d=g.v,f=g.w,delete this._edgeLabels[m],delete this._edgeObjs[m],a(this._preds[f],d),a(this._sucs[d],f),delete this._in[f][m],delete this._out[d][m],this._edgeCount--),this},i.prototype.inEdges=function(d,f){var p=this._in[d];if(p){var m=e.values(p);return f?e.filter(m,function(g){return g.v===f}):m}},i.prototype.outEdges=function(d,f){var p=this._out[d];if(p){var m=e.values(p);return f?e.filter(m,function(g){return g.w===f}):m}},i.prototype.nodeEdges=function(d,f){var p=this.inEdges(d,f);if(p)return p.concat(this.outEdges(d,f))};function o(d,f){d[f]?d[f]++:d[f]=1}function a(d,f){--d[f]||delete d[f]}function s(d,f,p,m){var g=""+f,v=""+p;if(!d&&g>v){var _=g;g=v,v=_}return g+r+v+r+(e.isUndefined(m)?t:m)}function c(d,f,p,m){var g=""+f,v=""+p;if(!d&&g>v){var _=g;g=v,v=_}var y={v:g,w:v};return m&&(y.name=m),y}function u(d,f){return s(d,f.v,f.w,f.name)}return hk}var pk,AO;function CMe(){return AO||(AO=1,pk="2.1.8"),pk}var mk,NO;function TMe(){return NO||(NO=1,mk={Graph:oB(),version:CMe()}),mk}var gk,PO;function kMe(){if(PO)return gk;PO=1;var e=as(),t=oB();gk={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var c=a.node(s),u=a.parent(s),d={v:s};return e.isUndefined(c)||(d.value=c),e.isUndefined(u)||(d.parent=u),d})}function i(a){return e.map(a.edges(),function(s){var c=a.edge(s),u={v:s.v,w:s.w};return e.isUndefined(s.name)||(u.name=s.name),e.isUndefined(c)||(u.value=c),u})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(c){s.setNode(c.v,c.value),c.parent&&s.setParent(c.v,c.parent)}),e.each(a.edges,function(c){s.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),s}return gk}var vk,BO;function EMe(){if(BO)return vk;BO=1;var e=as();vk=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return vk}var yk,RO;function qG(){if(RO)return yk;RO=1;var e=as();yk=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},yk}var bk,jO;function HG(){if(jO)return bk;jO=1;var e=as(),t=qG();bk=r;var n=e.constant(1);function r(o,a,s,c){return i(o,String(a),s||n,c||function(u){return o.outEdges(u)})}function i(o,a,s,c){var u={},d=new t,f,p,m=function(g){var v=g.v!==f?g.v:g.w,_=u[v],y=s(g),S=p.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+y);S<_.distance&&(_.distance=S,_.predecessor=f,d.decrease(v,S))};for(o.nodes().forEach(function(g){var v=g===a?0:Number.POSITIVE_INFINITY;u[g]={distance:v},d.add(g,v)});d.size()>0&&(f=d.removeMin(),p=u[f],p.distance!==Number.POSITIVE_INFINITY);)c(f).forEach(m);return u}return bk}var xk,IO;function MMe(){if(IO)return xk;IO=1;var e=HG(),t=as();xk=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return xk}var _k,zO;function VG(){if(zO)return _k;zO=1;var e=as();_k=t;function t(n){var r=0,i=[],o={},a=[];function s(c){var u=o[c]={onStack:!0,lowlink:r,index:r++};if(i.push(c),n.successors(c).forEach(function(p){e.has(o,p)?o[p].onStack&&(u.lowlink=Math.min(u.lowlink,o[p].index)):(s(p),u.lowlink=Math.min(u.lowlink,o[p].lowlink))}),u.lowlink===u.index){var d=[],f;do f=i.pop(),o[f].onStack=!1,d.push(f);while(c!==f);a.push(d)}}return n.nodes().forEach(function(c){e.has(o,c)||s(c)}),a}return _k}var wk,LO;function AMe(){if(LO)return wk;LO=1;var e=as(),t=VG();wk=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return wk}var Sk,DO;function NMe(){if(DO)return Sk;DO=1;var e=as();Sk=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},c=i.nodes();return c.forEach(function(u){s[u]={},s[u][u]={distance:0},c.forEach(function(d){u!==d&&(s[u][d]={distance:Number.POSITIVE_INFINITY})}),a(u).forEach(function(d){var f=d.v===u?d.w:d.v,p=o(d);s[u][f]={distance:p,predecessor:u}})}),c.forEach(function(u){var d=s[u];c.forEach(function(f){var p=s[f];c.forEach(function(m){var g=p[u],v=d[m],_=p[m],y=g.distance+v.distance;y<_.distance&&(_.distance=y,_.predecessor=v.predecessor)})})}),s}return Sk}var Ck,OO;function WG(){if(OO)return Ck;OO=1;var e=as();Ck=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(c){if(e.has(o,c))throw new n;e.has(i,c)||(o[c]=!0,i[c]=!0,e.each(r.predecessors(c),s),delete o[c],a.push(c))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Ck}var Tk,FO;function PMe(){if(FO)return Tk;FO=1;var e=WG();Tk=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return Tk}var kk,UO;function GG(){if(UO)return kk;UO=1;var e=as();kk=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],c={};return e.each(i,function(u){if(!r.hasNode(u))throw new Error("Graph does not have node: "+u);n(r,u,o==="post",c,a,s)}),s}function n(r,i,o,a,s,c){e.has(a,i)||(a[i]=!0,o||c.push(i),e.each(s(i),function(u){n(r,u,o,a,s,c)}),o&&c.push(i))}return kk}var Ek,qO;function BMe(){if(qO)return Ek;qO=1;var e=GG();Ek=t;function t(n,r){return e(n,r,"post")}return Ek}var Mk,HO;function RMe(){if(HO)return Mk;HO=1;var e=GG();Mk=t;function t(n,r){return e(n,r,"pre")}return Mk}var Ak,VO;function jMe(){if(VO)return Ak;VO=1;var e=as(),t=oB(),n=qG();Ak=r;function r(i,o){var a=new t,s={},c=new n,u;function d(p){var m=p.v===u?p.w:p.v,g=c.priority(m);if(g!==void 0){var v=o(p);v<g&&(s[m]=u,c.decrease(m,v))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(p){c.add(p,Number.POSITIVE_INFINITY),a.setNode(p)}),c.decrease(i.nodes()[0],0);for(var f=!1;c.size()>0;){if(u=c.removeMin(),e.has(s,u))a.setEdge(u,s[u]);else{if(f)throw new Error("Input graph is not connected: "+i);f=!0}i.nodeEdges(u).forEach(d)}return a}return Ak}var Nk,WO;function IMe(){return WO||(WO=1,Nk={components:EMe(),dijkstra:HG(),dijkstraAll:MMe(),findCycles:AMe(),floydWarshall:NMe(),isAcyclic:PMe(),postorder:BMe(),preorder:RMe(),prim:jMe(),tarjan:VG(),topsort:WG()}),Nk}var Pk,GO;function zMe(){if(GO)return Pk;GO=1;var e=TMe();return Pk={Graph:e.Graph,json:kMe(),alg:IMe(),version:e.version},Pk}var nx;if(typeof HP=="function")try{nx=zMe()}catch{}nx||(nx=window.graphlib);var qs=nx,Bk,$O;function LMe(){if($O)return Bk;$O=1;var e=vG(),t=1,n=4;function r(i){return e(i,t|n)}return Bk=r,Bk}var Rk,XO;function F1(){if(XO)return Rk;XO=1;var e=Mp(),t=Ac(),n=P1(),r=os();function i(o,a,s){if(!r(s))return!1;var c=typeof a;return(c=="number"?t(s)&&n(a,s.length):c=="string"&&a in s)?e(s[a],o):!1}return Rk=i,Rk}var jk,ZO;function DMe(){if(ZO)return jk;ZO=1;var e=O1(),t=Mp(),n=F1(),r=pf(),i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,c){s=Object(s);var u=-1,d=c.length,f=d>2?c[2]:void 0;for(f&&n(c[0],c[1],f)&&(d=1);++u<d;)for(var p=c[u],m=r(p),g=-1,v=m.length;++g<v;){var _=m[g],y=s[_];(y===void 0||t(y,i[_])&&!o.call(s,_))&&(s[_]=p[_])}return s});return jk=a,jk}var Ik,KO;function OMe(){if(KO)return Ik;KO=1;var e=Nc(),t=Ac(),n=Ku();function r(i){return function(o,a,s){var c=Object(o);if(!t(o)){var u=e(a,3);o=n(o),a=function(f){return u(c[f],f,c)}}var d=i(o,a,s);return d>-1?c[u?o[d]:d]:void 0}}return Ik=r,Ik}var zk,YO;function FMe(){if(YO)return zk;YO=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return zk=t,zk}var Lk,JO;function UMe(){if(JO)return Lk;JO=1;var e=FMe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Lk=n,Lk}var Dk,QO;function qMe(){if(QO)return Dk;QO=1;var e=UMe(),t=os(),n=Bp(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=o.test(u);return f||a.test(u)?s(u.slice(2),f?2:8):i.test(u)?r:+u}return Dk=c,Dk}var Ok,eF;function $G(){if(eF)return Ok;eF=1;var e=qMe(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Ok=r,Ok}var Fk,tF;function HMe(){if(tF)return Fk;tF=1;var e=$G();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return Fk=t,Fk}var Uk,nF;function VMe(){if(nF)return Uk;nF=1;var e=OG(),t=Nc(),n=HMe(),r=Math.max;function i(o,a,s){var c=o==null?0:o.length;if(!c)return-1;var u=s==null?0:n(s);return u<0&&(u=r(c+u,0)),e(o,t(a,3),u)}return Uk=i,Uk}var qk,rF;function WMe(){if(rF)return qk;rF=1;var e=OMe(),t=VMe(),n=e(t);return qk=n,qk}var Hk,iF;function XG(){if(iF)return Hk;iF=1;var e=iB();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Hk=t,Hk}var Vk,oF;function GMe(){if(oF)return Vk;oF=1;var e=eB(),t=yG(),n=pf();function r(i,o){return i==null?i:e(i,t(o),n)}return Vk=r,Vk}var Wk,aF;function $Me(){if(aF)return Wk;aF=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Wk=e,Wk}var Gk,sF;function XMe(){if(sF)return Gk;sF=1;var e=A1(),t=tB(),n=Nc();function r(i,o){var a={};return o=n(o,3),t(i,function(s,c,u){e(a,c,o(s,c,u))}),a}return Gk=r,Gk}var $k,lF;function aB(){if(lF)return $k;lF=1;var e=Bp();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],c=r(s);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,d=s}return d}return $k=t,$k}var Xk,cF;function ZMe(){if(cF)return Xk;cF=1;function e(t,n){return t>n}return Xk=e,Xk}var Zk,uF;function KMe(){if(uF)return Zk;uF=1;var e=aB(),t=ZMe(),n=mf();function r(i){return i&&i.length?e(i,n,t):void 0}return Zk=r,Zk}var Kk,dF;function ZG(){if(dF)return Kk;dF=1;var e=A1(),t=Mp();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return Kk=n,Kk}var Yk,fF;function YMe(){if(fF)return Yk;fF=1;var e=ff(),t=j1(),n=Al(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,c=a.call(Object);function u(d){if(!n(d)||e(d)!=r)return!1;var f=t(d);if(f===null)return!0;var p=s.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&a.call(p)==c}return Yk=u,Yk}var Jk,hF;function KG(){if(hF)return Jk;hF=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return Jk=e,Jk}var Qk,pF;function JMe(){if(pF)return Qk;pF=1;var e=Rv(),t=pf();function n(r){return e(r,t(r))}return Qk=n,Qk}var e2,mF;function QMe(){if(mF)return e2;mF=1;var e=ZG(),t=oG(),n=pG(),r=aG(),i=gG(),o=jv(),a=xi(),s=FG(),c=Np(),u=Bv(),d=os(),f=YMe(),p=Iv(),m=KG(),g=JMe();function v(_,y,S,w,C,M,A){var E=m(_,S),I=m(y,S),N=A.get(I);if(N){e(_,S,N);return}var P=M?M(E,I,S+"",_,y,A):void 0,D=P===void 0;if(D){var q=a(I),$=!q&&c(I),j=!q&&!$&&p(I);P=I,q||$||j?a(E)?P=E:s(E)?P=r(E):$?(D=!1,P=t(I,!0)):j?(D=!1,P=n(I,!0)):P=[]:f(I)||o(I)?(P=E,o(E)?P=g(E):(!d(E)||u(E))&&(P=i(I))):D=!1}D&&(A.set(I,P),C(P,I,w,M,A),A.delete(I)),e(_,S,P)}return e2=v,e2}var t2,gF;function eAe(){if(gF)return t2;gF=1;var e=M1(),t=ZG(),n=eB(),r=QMe(),i=os(),o=pf(),a=KG();function s(c,u,d,f,p){c!==u&&n(u,function(m,g){if(p||(p=new e),i(m))r(c,u,g,d,s,f,p);else{var v=f?f(a(c,g),m,g+"",c,u,p):void 0;v===void 0&&(v=m),t(c,g,v)}},o)}return t2=s,t2}var n2,vF;function tAe(){if(vF)return n2;vF=1;var e=O1(),t=F1();function n(r){return e(function(i,o){var a=-1,s=o.length,c=s>1?o[s-1]:void 0,u=s>2?o[2]:void 0;for(c=r.length>3&&typeof c=="function"?(s--,c):void 0,u&&t(o[0],o[1],u)&&(c=s<3?void 0:c,s=1),i=Object(i);++a<s;){var d=o[a];d&&r(i,d,a,c)}return i})}return n2=n,n2}var r2,yF;function nAe(){if(yF)return r2;yF=1;var e=eAe(),t=tAe(),n=t(function(r,i,o){e(r,i,o)});return r2=n,r2}var i2,bF;function YG(){if(bF)return i2;bF=1;function e(t,n){return t<n}return i2=e,i2}var o2,xF;function rAe(){if(xF)return o2;xF=1;var e=aB(),t=YG(),n=mf();function r(i){return i&&i.length?e(i,n,t):void 0}return o2=r,o2}var a2,_F;function iAe(){if(_F)return a2;_F=1;var e=aB(),t=Nc(),n=YG();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return a2=r,a2}var s2,wF;function oAe(){if(wF)return s2;wF=1;var e=Us(),t=function(){return e.Date.now()};return s2=t,s2}var l2,SF;function aAe(){if(SF)return l2;SF=1;var e=N1(),t=L1(),n=P1(),r=os(),i=zv();function o(a,s,c,u){if(!r(a))return a;s=t(s,a);for(var d=-1,f=s.length,p=f-1,m=a;m!=null&&++d<f;){var g=i(s[d]),v=c;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(d!=p){var _=m[g];v=u?u(_,g,m):void 0,v===void 0&&(v=r(_)?_:n(s[d+1])?[]:{})}e(m,g,v),m=m[g]}return a}return l2=o,l2}var c2,CF;function sAe(){if(CF)return c2;CF=1;var e=D1(),t=aAe(),n=L1();function r(i,o,a){for(var s=-1,c=o.length,u={};++s<c;){var d=o[s],f=e(i,d);a(f,d)&&t(u,n(d,i),f)}return u}return c2=r,c2}var u2,TF;function lAe(){if(TF)return u2;TF=1;var e=sAe(),t=AG();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return u2=n,u2}var d2,kF;function cAe(){if(kF)return d2;kF=1;var e=XG(),t=LG(),n=DG();function r(i){return n(t(i,void 0,e),i+"")}return d2=r,d2}var f2,EF;function uAe(){if(EF)return f2;EF=1;var e=lAe(),t=cAe(),n=t(function(r,i){return r==null?{}:e(r,i)});return f2=n,f2}var h2,MF;function dAe(){if(MF)return h2;MF=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,c=t(e((i-r)/(o||1)),0),u=Array(c);c--;)u[a?c:++s]=r,r+=o;return u}return h2=n,h2}var p2,AF;function fAe(){if(AF)return p2;AF=1;var e=dAe(),t=F1(),n=$G();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return p2=r,p2}var m2,NF;function hAe(){if(NF)return m2;NF=1;var e=fAe(),t=e();return m2=t,m2}var g2,PF;function pAe(){if(PF)return g2;PF=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return g2=e,g2}var v2,BF;function mAe(){if(BF)return v2;BF=1;var e=Bp();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),c=r!==void 0,u=r===null,d=r===r,f=e(r);if(!u&&!f&&!s&&n>r||s&&c&&d&&!u&&!f||o&&c&&d||!i&&d||!a)return 1;if(!o&&!s&&!f&&n<r||f&&i&&a&&!o&&!s||u&&i&&a||!c&&a||!d)return-1}return 0}return v2=t,v2}var y2,RF;function gAe(){if(RF)return y2;RF=1;var e=mAe();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,c=a.length,u=i.length;++o<c;){var d=e(a[o],s[o]);if(d){if(o>=u)return d;var f=i[o];return d*(f=="desc"?-1:1)}}return n.index-r.index}return y2=t,y2}var b2,jF;function vAe(){if(jF)return b2;jF=1;var e=z1(),t=D1(),n=Nc(),r=jG(),i=pAe(),o=B1(),a=gAe(),s=mf(),c=xi();function u(d,f,p){f.length?f=e(f,function(v){return c(v)?function(_){return t(_,v.length===1?v[0]:v)}:v}):f=[s];var m=-1;f=e(f,o(n));var g=r(d,function(v,_,y){var S=e(f,function(w){return w(v)});return{criteria:S,index:++m,value:v}});return i(g,function(v,_){return a(v,_,p)})}return b2=u,b2}var x2,IF;function yAe(){if(IF)return x2;IF=1;var e=iB(),t=vAe(),n=O1(),r=F1(),i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return x2=i,x2}var _2,zF;function bAe(){if(zF)return _2;zF=1;var e=EG(),t=0;function n(r){var i=++t;return e(r)+i}return _2=n,_2}var w2,LF;function xAe(){if(LF)return w2;LF=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var c=i<a?n[i]:void 0;r(s,t[i],c)}return s}return w2=e,w2}var S2,DF;function _Ae(){if(DF)return S2;DF=1;var e=N1(),t=xAe();function n(r,i){return t(r||[],i||[],e)}return S2=n,S2}var rx;if(typeof HP=="function")try{rx={cloneDeep:LMe(),constant:QP(),defaults:DMe(),each:xG(),filter:PG(),find:WMe(),flatten:XG(),forEach:bG(),forIn:GMe(),has:BG(),isUndefined:RG(),last:$Me(),map:IG(),mapValues:XMe(),max:KMe(),merge:nAe(),min:rAe(),minBy:iAe(),now:oAe(),pick:uAe(),range:hAe(),reduce:zG(),sortBy:yAe(),uniqueId:bAe(),values:UG(),zipObject:_Ae()}}catch{}rx||(rx=window._);var Fr=rx,wAe=U1;function U1(){var e={};e._next=e._prev=e,this._sentinel=e}U1.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return JG(t),t};U1.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&JG(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};U1.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,SAe)),n=n._prev;return"["+e.join(", ")+"]"};function JG(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function SAe(e,t){if(e!=="_next"&&e!=="_prev")return t}var tc=Fr,CAe=qs.Graph,TAe=wAe,kAe=MAe,EAe=tc.constant(1);function MAe(e,t){if(e.nodeCount()<=1)return[];var n=NAe(e,t||EAe),r=AAe(n.graph,n.buckets,n.zeroIdx);return tc.flatten(tc.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function AAe(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)C2(e,t,n,a);for(;a=i.dequeue();)C2(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(C2(e,t,n,a,!0));break}}}return r}function C2(e,t,n,r,i){var o=i?[]:void 0;return tc.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),c=e.node(a.v);i&&o.push({v:a.v,w:a.w}),c.out-=s,tA(t,n,c)}),tc.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),c=a.w,u=e.node(c);u.in-=s,tA(t,n,u)}),e.removeNode(r.v),o}function NAe(e,t){var n=new CAe,r=0,i=0;tc.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),tc.forEach(e.edges(),function(s){var c=n.edge(s.v,s.w)||0,u=t(s),d=c+u;n.setEdge(s.v,s.w,d),i=Math.max(i,n.node(s.v).out+=u),r=Math.max(r,n.node(s.w).in+=u)});var o=tc.range(i+r+3).map(function(){return new TAe}),a=r+1;return tc.forEach(n.nodes(),function(s){tA(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function tA(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Bd=Fr,PAe=kAe,BAe={run:RAe,undo:IAe};function RAe(e){var t=e.graph().acyclicer==="greedy"?PAe(e,n(e)):jAe(e);Bd.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Bd.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function jAe(e){var t=[],n={},r={};function i(o){Bd.has(r,o)||(r[o]=!0,n[o]=!0,Bd.forEach(e.outEdges(o),function(a){Bd.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return Bd.forEach(e.nodes(),i),t}function IAe(e){Bd.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var er=Fr,QG=qs.Graph,ia={addDummyNode:e$,simplify:zAe,asNonCompoundGraph:LAe,successorWeights:DAe,predecessorWeights:OAe,intersectRect:FAe,buildLayerMatrix:UAe,normalizeRanks:qAe,removeEmptyRanks:HAe,addBorderNode:VAe,maxRank:t$,partition:WAe,time:GAe,notime:$Ae};function e$(e,t,n,r){var i;do i=er.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function zAe(e){var t=new QG().setGraph(e.graph());return er.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),er.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function LAe(e){var t=new QG({multigraph:e.isMultigraph()}).setGraph(e.graph());return er.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),er.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function DAe(e){var t=er.map(e.nodes(),function(n){var r={};return er.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return er.zipObject(e.nodes(),t)}function OAe(e){var t=er.map(e.nodes(),function(n){var r={};return er.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return er.zipObject(e.nodes(),t)}function FAe(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var c,u;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),c=s*i/o,u=s):(i<0&&(a=-a),c=a,u=a*o/i),{x:n+c,y:r+u}}function UAe(e){var t=er.map(er.range(t$(e)+1),function(){return[]});return er.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;er.isUndefined(i)||(t[i][r.order]=n)}),t}function qAe(e){var t=er.min(er.map(e.nodes(),function(n){return e.node(n).rank}));er.forEach(e.nodes(),function(n){var r=e.node(n);er.has(r,"rank")&&(r.rank-=t)})}function HAe(e){var t=er.min(er.map(e.nodes(),function(o){return e.node(o).rank})),n=[];er.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;er.forEach(n,function(o,a){er.isUndefined(o)&&a%i!==0?--r:r&&er.forEach(o,function(s){e.node(s).rank+=r})})}function VAe(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),e$(e,"border",i,t)}function t$(e){return er.max(er.map(e.nodes(),function(t){var n=e.node(t).rank;if(!er.isUndefined(n))return n}))}function WAe(e,t){var n={lhs:[],rhs:[]};return er.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function GAe(e,t){var n=er.now();try{return t()}finally{console.log(e+" time: "+(er.now()-n)+"ms")}}function $Ae(e,t){return t()}var n$=Fr,XAe=ia,ZAe={run:KAe,undo:JAe};function KAe(e){e.graph().dummyChains=[],n$.forEach(e.edges(),function(t){YAe(e,t)})}function YAe(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),c=s.labelRank;if(o!==r+1){e.removeEdge(t);var u,d,f;for(f=0,++r;r<o;++f,++r)s.points=[],d={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},u=XAe.addDummyNode(e,"edge",d,"_d"),r===c&&(d.width=s.width,d.height=s.height,d.dummy="edge-label",d.labelpos=s.labelpos),e.setEdge(n,u,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(u),n=u;e.setEdge(n,i,{weight:s.weight},a)}}function JAe(e){n$.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var K0=Fr,q1={longestPath:QAe,slack:eNe};function QAe(e){var t={};function n(r){var i=e.node(r);if(K0.has(t,r))return i.rank;t[r]=!0;var o=K0.min(K0.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}K0.forEach(e.sources(),n)}function eNe(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var ix=Fr,tNe=qs.Graph,ox=q1.slack,r$=nNe;function nNe(e){var t=new tNe({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;rNe(t,e)<r;)i=iNe(t,e),o=t.hasNode(i.v)?ox(e,i):-ox(e,i),oNe(t,e,o);return t}function rNe(e,t){function n(r){ix.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!ox(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return ix.forEach(e.nodes(),n),e.nodeCount()}function iNe(e,t){return ix.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return ox(t,n)})}function oNe(e,t,n){ix.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var _c=Fr,aNe=r$,sNe=q1.slack,lNe=q1.longestPath,cNe=qs.alg.preorder,uNe=qs.alg.postorder,dNe=ia.simplify,fNe=gf;gf.initLowLimValues=lB;gf.initCutValues=sB;gf.calcCutValue=i$;gf.leaveEdge=a$;gf.enterEdge=s$;gf.exchangeEdges=l$;function gf(e){e=dNe(e),lNe(e);var t=aNe(e);lB(t),sB(t,e);for(var n,r;n=a$(t);)r=s$(t,e,n),l$(t,e,n,r)}function sB(e,t){var n=uNe(e,e.nodes());n=n.slice(0,n.length-1),_c.forEach(n,function(r){hNe(e,t,r)})}function hNe(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=i$(e,t,n)}function i$(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,_c.forEach(t.nodeEdges(n),function(c){var u=c.v===n,d=u?c.w:c.v;if(d!==i){var f=u===o,p=t.edge(c).weight;if(s+=f?p:-p,mNe(e,n,d)){var m=e.edge(n,d).cutvalue;s+=f?-m:m}}}),s}function lB(e,t){arguments.length<2&&(t=e.nodes()[0]),o$(e,{},1,t)}function o$(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,_c.forEach(e.neighbors(r),function(s){_c.has(t,s)||(n=o$(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function a$(e){return _c.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function s$(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,c=!1;o.lim>a.lim&&(s=a,c=!0);var u=_c.filter(t.edges(),function(d){return c===OF(e,e.node(d.v),s)&&c!==OF(e,e.node(d.w),s)});return _c.minBy(u,function(d){return sNe(t,d)})}function l$(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),lB(e),sB(e,t),pNe(e,t)}function pNe(e,t){var n=_c.find(e.nodes(),function(i){return!t.node(i).parent}),r=cNe(e,n);r=r.slice(1),_c.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function mNe(e,t,n){return e.hasEdge(t,n)}function OF(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var gNe=q1,c$=gNe.longestPath,vNe=r$,yNe=fNe,bNe=xNe;function xNe(e){switch(e.graph().ranker){case"network-simplex":FF(e);break;case"tight-tree":wNe(e);break;case"longest-path":_Ne(e);break;default:FF(e)}}var _Ne=c$;function wNe(e){c$(e),vNe(e)}function FF(e){yNe(e)}var nA=Fr,SNe=CNe;function CNe(e){var t=kNe(e);nA.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=TNe(e,t,i.v,i.w),a=o.path,s=o.lca,c=0,u=a[c],d=!0;n!==i.w;){if(r=e.node(n),d){for(;(u=a[c])!==s&&e.node(u).maxRank<r.rank;)c++;u===s&&(d=!1)}if(!d){for(;c<a.length-1&&e.node(u=a[c+1]).minRank<=r.rank;)c++;u=a[c]}e.setParent(n,u),n=e.successors(n)[0]}})}function TNe(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),c,u;c=n;do c=e.parent(c),i.push(c);while(c&&(t[c].low>a||s>t[c].lim));for(u=c,c=r;(c=e.parent(c))!==u;)o.push(c);return{path:i.concat(o.reverse()),lca:u}}function kNe(e){var t={},n=0;function r(i){var o=n;nA.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return nA.forEach(e.children(),r),t}var nc=Fr,rA=ia,ENe={run:MNe,cleanup:PNe};function MNe(e){var t=rA.addDummyNode(e,"root",{},"_root"),n=ANe(e),r=nc.max(nc.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,nc.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=NNe(e)+1;nc.forEach(e.children(),function(a){u$(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function u$(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var c=rA.addBorderNode(e,"_bt"),u=rA.addBorderNode(e,"_bb"),d=e.node(a);e.setParent(c,a),d.borderTop=c,e.setParent(u,a),d.borderBottom=u,nc.forEach(s,function(f){u$(e,t,n,r,i,o,f);var p=e.node(f),m=p.borderTop?p.borderTop:f,g=p.borderBottom?p.borderBottom:f,v=p.borderTop?r:2*r,_=m!==g?1:i-o[a]+1;e.setEdge(c,m,{weight:v,minlen:_,nestingEdge:!0}),e.setEdge(g,u,{weight:v,minlen:_,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,c,{weight:0,minlen:i+o[a]})}function ANe(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&nc.forEach(o,function(a){n(a,i+1)}),t[r]=i}return nc.forEach(e.children(),function(r){n(r,1)}),t}function NNe(e){return nc.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function PNe(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,nc.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var T2=Fr,BNe=ia,RNe=jNe;function jNe(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&T2.forEach(r,t),T2.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)UF(e,"borderLeft","_bl",n,i,o),UF(e,"borderRight","_br",n,i,o)}}T2.forEach(e.children(),t)}function UF(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],c=BNe.addDummyNode(e,"border",a,n);i[t][o]=c,e.setParent(c,r),s&&e.setEdge(s,c,{weight:1})}var dl=Fr,INe={adjust:zNe,undo:LNe};function zNe(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&d$(e)}function LNe(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&DNe(e),(t==="lr"||t==="rl")&&(ONe(e),d$(e))}function d$(e){dl.forEach(e.nodes(),function(t){qF(e.node(t))}),dl.forEach(e.edges(),function(t){qF(e.edge(t))})}function qF(e){var t=e.width;e.width=e.height,e.height=t}function DNe(e){dl.forEach(e.nodes(),function(t){k2(e.node(t))}),dl.forEach(e.edges(),function(t){var n=e.edge(t);dl.forEach(n.points,k2),dl.has(n,"y")&&k2(n)})}function k2(e){e.y=-e.y}function ONe(e){dl.forEach(e.nodes(),function(t){E2(e.node(t))}),dl.forEach(e.edges(),function(t){var n=e.edge(t);dl.forEach(n.points,E2),dl.has(n,"x")&&E2(n)})}function E2(e){var t=e.x;e.x=e.y,e.y=t}var Ol=Fr,FNe=UNe;function UNe(e){var t={},n=Ol.filter(e.nodes(),function(s){return!e.children(s).length}),r=Ol.max(Ol.map(n,function(s){return e.node(s).rank})),i=Ol.map(Ol.range(r+1),function(){return[]});function o(s){if(!Ol.has(t,s)){t[s]=!0;var c=e.node(s);i[c.rank].push(s),Ol.forEach(e.successors(s),o)}}var a=Ol.sortBy(n,function(s){return e.node(s).rank});return Ol.forEach(a,o),i}var Kc=Fr,qNe=HNe;function HNe(e,t){for(var n=0,r=1;r<t.length;++r)n+=VNe(e,t[r-1],t[r]);return n}function VNe(e,t,n){for(var r=Kc.zipObject(n,Kc.map(n,function(u,d){return d})),i=Kc.flatten(Kc.map(t,function(u){return Kc.sortBy(Kc.map(e.outEdges(u),function(d){return{pos:r[d.w],weight:e.edge(d).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Kc.map(new Array(a),function(){return 0}),c=0;return Kc.forEach(i.forEach(function(u){var d=u.pos+o;s[d]+=u.weight;for(var f=0;d>0;)d%2&&(f+=s[d+1]),d=d-1>>1,s[d]+=u.weight;c+=u.weight*f})),c}var HF=Fr,WNe=GNe;function GNe(e,t){return HF.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=HF.reduce(r,function(o,a){var s=e.edge(a),c=e.node(a.v);return{sum:o.sum+s.weight*c.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var ma=Fr,$Ne=XNe;function XNe(e,t){var n={};ma.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};ma.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),ma.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!ma.isUndefined(o)&&!ma.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=ma.filter(n,function(i){return!i.indegree});return ZNe(r)}function ZNe(e){var t=[];function n(o){return function(a){a.merged||(ma.isUndefined(a.barycenter)||ma.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&KNe(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),ma.forEach(i.in.reverse(),n(i)),ma.forEach(i.out,r(i))}return ma.map(ma.filter(t,function(o){return!o.merged}),function(o){return ma.pick(o,["vs","i","barycenter","weight"])})}function KNe(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var qm=Fr,YNe=ia,JNe=QNe;function QNe(e,t){var n=YNe.partition(e,function(d){return qm.has(d,"barycenter")}),r=n.lhs,i=qm.sortBy(n.rhs,function(d){return-d.i}),o=[],a=0,s=0,c=0;r.sort(ePe(!!t)),c=VF(o,i,c),qm.forEach(r,function(d){c+=d.vs.length,o.push(d.vs),a+=d.barycenter*d.weight,s+=d.weight,c=VF(o,i,c)});var u={vs:qm.flatten(o,!0)};return s&&(u.barycenter=a/s,u.weight=s),u}function VF(e,t,n){for(var r;t.length&&(r=qm.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function ePe(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var du=Fr,tPe=WNe,nPe=$Ne,rPe=JNe,iPe=f$;function f$(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,c={};a&&(i=du.filter(i,function(g){return g!==a&&g!==s}));var u=tPe(e,i);du.forEach(u,function(g){if(e.children(g.v).length){var v=f$(e,g.v,n,r);c[g.v]=v,du.has(v,"barycenter")&&aPe(g,v)}});var d=nPe(u,n);oPe(d,c);var f=rPe(d,r);if(a&&(f.vs=du.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var p=e.node(e.predecessors(a)[0]),m=e.node(e.predecessors(s)[0]);du.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+p.order+m.order)/(f.weight+2),f.weight+=2}return f}function oPe(e,t){du.forEach(e,function(n){n.vs=du.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function aPe(e,t){du.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Hm=Fr,sPe=qs.Graph,lPe=cPe;function cPe(e,t,n){var r=uPe(e),i=new sPe({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return Hm.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Hm.forEach(e[n](o),function(c){var u=c.v===o?c.w:c.v,d=i.edge(u,o),f=Hm.isUndefined(d)?0:d.weight;i.setEdge(u,o,{weight:e.edge(c).weight+f})}),Hm.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function uPe(e){for(var t;e.hasNode(t=Hm.uniqueId("_root")););return t}var dPe=Fr,fPe=hPe;function hPe(e,t,n){var r={},i;dPe.forEach(n,function(o){for(var a=e.parent(o),s,c;a;){if(s=e.parent(a),s?(c=r[s],r[s]=a):(c=i,i=a),c&&c!==a){t.setEdge(c,a);return}a=s}})}var Mu=Fr,pPe=FNe,mPe=qNe,gPe=iPe,vPe=lPe,yPe=fPe,bPe=qs.Graph,WF=ia,xPe=_Pe;function _Pe(e){var t=WF.maxRank(e),n=GF(e,Mu.range(1,t+1),"inEdges"),r=GF(e,Mu.range(t-1,-1,-1),"outEdges"),i=pPe(e);$F(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,c=0;c<4;++s,++c){wPe(s%2?n:r,s%4>=2),i=WF.buildLayerMatrix(e);var u=mPe(e,i);u<o&&(c=0,a=Mu.cloneDeep(i),o=u)}$F(e,a)}function GF(e,t,n){return Mu.map(t,function(r){return vPe(e,r,n)})}function wPe(e,t){var n=new bPe;Mu.forEach(e,function(r){var i=r.graph().root,o=gPe(r,i,n,t);Mu.forEach(o.vs,function(a,s){r.node(a).order=s}),yPe(r,n,o.vs)})}function $F(e,t){Mu.forEach(t,function(n){Mu.forEach(n,function(r,i){e.node(r).order=i})})}var cn=Fr,SPe=qs.Graph,CPe=ia,TPe={positionX:zPe};function kPe(e,t){var n={};function r(i,o){var a=0,s=0,c=i.length,u=cn.last(o);return cn.forEach(o,function(d,f){var p=MPe(e,d),m=p?e.node(p).order:c;(p||d===u)&&(cn.forEach(o.slice(s,f+1),function(g){cn.forEach(e.predecessors(g),function(v){var _=e.node(v),y=_.order;(y<a||m<y)&&!(_.dummy&&e.node(g).dummy)&&h$(n,v,g)})}),s=f+1,a=m)}),o}return cn.reduce(t,r),n}function EPe(e,t){var n={};function r(o,a,s,c,u){var d;cn.forEach(cn.range(a,s),function(f){d=o[f],e.node(d).dummy&&cn.forEach(e.predecessors(d),function(p){var m=e.node(p);m.dummy&&(m.order<c||m.order>u)&&h$(n,p,d)})})}function i(o,a){var s=-1,c,u=0;return cn.forEach(a,function(d,f){if(e.node(d).dummy==="border"){var p=e.predecessors(d);p.length&&(c=e.node(p[0]).order,r(a,u,f,s,c),u=f,s=c)}r(a,u,a.length,c,o.length)}),a}return cn.reduce(t,i),n}function MPe(e,t){if(e.node(t).dummy)return cn.find(e.predecessors(t),function(n){return e.node(n).dummy})}function h$(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function APe(e,t,n){if(t>n){var r=t;t=n,n=r}return cn.has(e[t],n)}function NPe(e,t,n,r){var i={},o={},a={};return cn.forEach(t,function(s){cn.forEach(s,function(c,u){i[c]=c,o[c]=c,a[c]=u})}),cn.forEach(t,function(s){var c=-1;cn.forEach(s,function(u){var d=r(u);if(d.length){d=cn.sortBy(d,function(v){return a[v]});for(var f=(d.length-1)/2,p=Math.floor(f),m=Math.ceil(f);p<=m;++p){var g=d[p];o[u]===u&&c<a[g]&&!APe(n,u,g)&&(o[g]=u,o[u]=i[u]=i[g],c=a[g])}}})}),{root:i,align:o}}function PPe(e,t,n,r,i){var o={},a=BPe(e,t,n,i),s=i?"borderLeft":"borderRight";function c(f,p){for(var m=a.nodes(),g=m.pop(),v={};g;)v[g]?f(g):(v[g]=!0,m.push(g),m=m.concat(p(g))),g=m.pop()}function u(f){o[f]=a.inEdges(f).reduce(function(p,m){return Math.max(p,o[m.v]+a.edge(m))},0)}function d(f){var p=a.outEdges(f).reduce(function(g,v){return Math.min(g,o[v.w]-a.edge(v))},Number.POSITIVE_INFINITY),m=e.node(f);p!==Number.POSITIVE_INFINITY&&m.borderType!==s&&(o[f]=Math.max(o[f],p))}return c(u,a.predecessors.bind(a)),c(d,a.successors.bind(a)),cn.forEach(r,function(f){o[f]=o[n[f]]}),o}function BPe(e,t,n,r){var i=new SPe,o=e.graph(),a=LPe(o.nodesep,o.edgesep,r);return cn.forEach(t,function(s){var c;cn.forEach(s,function(u){var d=n[u];if(i.setNode(d),c){var f=n[c],p=i.edge(f,d);i.setEdge(f,d,Math.max(a(e,u,c),p||0))}c=u})}),i}function RPe(e,t){return cn.minBy(cn.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return cn.forIn(n,function(o,a){var s=DPe(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function jPe(e,t){var n=cn.values(t),r=cn.min(n),i=cn.max(n);cn.forEach(["u","d"],function(o){cn.forEach(["l","r"],function(a){var s=o+a,c=e[s],u;if(c!==t){var d=cn.values(c);u=a==="l"?r-cn.min(d):i-cn.max(d),u&&(e[s]=cn.mapValues(c,function(f){return f+u}))}})})}function IPe(e,t){return cn.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=cn.sortBy(cn.map(e,r));return(i[1]+i[2])/2})}function zPe(e){var t=CPe.buildLayerMatrix(e),n=cn.merge(kPe(e,t),EPe(e,t)),r={},i;cn.forEach(["u","d"],function(a){i=a==="u"?t:cn.values(t).reverse(),cn.forEach(["l","r"],function(s){s==="r"&&(i=cn.map(i,function(f){return cn.values(f).reverse()}));var c=(a==="u"?e.predecessors:e.successors).bind(e),u=NPe(e,i,n,c),d=PPe(e,i,u.root,u.align,s==="r");s==="r"&&(d=cn.mapValues(d,function(f){return-f})),r[a+s]=d})});var o=RPe(e,r);return jPe(r,o),IPe(r,e.graph().align)}function LPe(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),c=0,u;if(c+=a.width/2,cn.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(c+=n?u:-u),u=0,c+=(a.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,cn.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(c+=n?u:-u),u=0,c}}function DPe(e,t){return e.node(t).width}var Vm=Fr,p$=ia,OPe=TPe.positionX,FPe=UPe;function UPe(e){e=p$.asNonCompoundGraph(e),qPe(e),Vm.forEach(OPe(e),function(t,n){e.node(n).x=t})}function qPe(e){var t=p$.buildLayerMatrix(e),n=e.graph().ranksep,r=0;Vm.forEach(t,function(i){var o=Vm.max(Vm.map(i,function(a){return e.node(a).height}));Vm.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var wn=Fr,XF=BAe,ZF=ZAe,HPe=bNe,VPe=ia.normalizeRanks,WPe=SNe,GPe=ia.removeEmptyRanks,KF=ENe,$Pe=RNe,YF=INe,XPe=xPe,ZPe=FPe,Ou=ia,KPe=qs.Graph,YPe=JPe;function JPe(e,t){var n=t&&t.debugTiming?Ou.time:Ou.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return cBe(e)});n("  runLayout",function(){QPe(r,n)}),n("  updateInputGraph",function(){eBe(e,r)})})}function QPe(e,t){t("    makeSpaceForEdgeLabels",function(){uBe(e)}),t("    removeSelfEdges",function(){bBe(e)}),t("    acyclic",function(){XF.run(e)}),t("    nestingGraph.run",function(){KF.run(e)}),t("    rank",function(){HPe(Ou.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){dBe(e)}),t("    removeEmptyRanks",function(){GPe(e)}),t("    nestingGraph.cleanup",function(){KF.cleanup(e)}),t("    normalizeRanks",function(){VPe(e)}),t("    assignRankMinMax",function(){fBe(e)}),t("    removeEdgeLabelProxies",function(){hBe(e)}),t("    normalize.run",function(){ZF.run(e)}),t("    parentDummyChains",function(){WPe(e)}),t("    addBorderSegments",function(){$Pe(e)}),t("    order",function(){XPe(e)}),t("    insertSelfEdges",function(){xBe(e)}),t("    adjustCoordinateSystem",function(){YF.adjust(e)}),t("    position",function(){ZPe(e)}),t("    positionSelfEdges",function(){_Be(e)}),t("    removeBorderNodes",function(){yBe(e)}),t("    normalize.undo",function(){ZF.undo(e)}),t("    fixupEdgeLabelCoords",function(){gBe(e)}),t("    undoCoordinateSystem",function(){YF.undo(e)}),t("    translateGraph",function(){pBe(e)}),t("    assignNodeIntersects",function(){mBe(e)}),t("    reversePoints",function(){vBe(e)}),t("    acyclic.undo",function(){XF.undo(e)})}function eBe(e,t){wn.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),wn.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,wn.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var tBe=["nodesep","edgesep","ranksep","marginx","marginy"],nBe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},rBe=["acyclicer","ranker","rankdir","align"],iBe=["width","height"],oBe={width:0,height:0},aBe=["minlen","weight","width","height","labeloffset"],sBe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},lBe=["labelpos"];function cBe(e){var t=new KPe({multigraph:!0,compound:!0}),n=A2(e.graph());return t.setGraph(wn.merge({},nBe,M2(n,tBe),wn.pick(n,rBe))),wn.forEach(e.nodes(),function(r){var i=A2(e.node(r));t.setNode(r,wn.defaults(M2(i,iBe),oBe)),t.setParent(r,e.parent(r))}),wn.forEach(e.edges(),function(r){var i=A2(e.edge(r));t.setEdge(r,wn.merge({},sBe,M2(i,aBe),wn.pick(i,lBe)))}),t}function uBe(e){var t=e.graph();t.ranksep/=2,wn.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function dBe(e){wn.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Ou.addDummyNode(e,"edge-proxy",o,"_ep")}})}function fBe(e){var t=0;wn.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=wn.max(t,r.maxRank))}),e.graph().maxRank=t}function hBe(e){wn.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function pBe(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function c(u){var d=u.x,f=u.y,p=u.width,m=u.height;t=Math.min(t,d-p/2),n=Math.max(n,d+p/2),r=Math.min(r,f-m/2),i=Math.max(i,f+m/2)}wn.forEach(e.nodes(),function(u){c(e.node(u))}),wn.forEach(e.edges(),function(u){var d=e.edge(u);wn.has(d,"x")&&c(d)}),t-=a,r-=s,wn.forEach(e.nodes(),function(u){var d=e.node(u);d.x-=t,d.y-=r}),wn.forEach(e.edges(),function(u){var d=e.edge(u);wn.forEach(d.points,function(f){f.x-=t,f.y-=r}),wn.has(d,"x")&&(d.x-=t),wn.has(d,"y")&&(d.y-=r)}),o.width=n-t+a,o.height=i-r+s}function mBe(e){wn.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Ou.intersectRect(r,o)),n.points.push(Ou.intersectRect(i,a))})}function gBe(e){wn.forEach(e.edges(),function(t){var n=e.edge(t);if(wn.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function vBe(e){wn.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function yBe(e){wn.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(wn.last(n.borderLeft)),a=e.node(wn.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),wn.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function bBe(e){wn.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function xBe(e){var t=Ou.buildLayerMatrix(e);wn.forEach(t,function(n){var r=0;wn.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,wn.forEach(a.selfEdges,function(s){Ou.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function _Be(e){wn.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function M2(e,t){return wn.mapValues(wn.pick(e,t),Number)}function A2(e){var t={};return wn.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Y0=Fr,wBe=ia,SBe=qs.Graph,CBe={debugOrdering:TBe};function TBe(e){var t=wBe.buildLayerMatrix(e),n=new SBe({compound:!0,multigraph:!0}).setGraph({});return Y0.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Y0.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Y0.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Y0.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var kBe="0.8.5",EBe={graphlib:qs,layout:YPe,debug:CBe,util:{time:ia.time,notime:ia.notime},version:kBe};const dp=Qg(EBe);class MBe{async notifyCustomerUsers(t,n){return ut.request(`/customers/${t}/notify-users`,{method:"POST",body:JSON.stringify(n)})}async notifyTenantUsers(t,n){return ut.request(`/tenants/${t}/notify-users`,{method:"POST",body:JSON.stringify(n)})}async notifyOfficeUsers(t,n){return ut.request(`/offices/${t}/notify-users`,{method:"POST",body:JSON.stringify(n)})}}const Xn=new MBe,ABe=Tr({container:{width:"100%",height:"calc(100vh - 300px)",minHeight:"500px",display:"flex",justifyContent:"center",alignItems:"center",border:`1px solid ${k.colorNeutralStroke2}`,...it.borderRadius(k.borderRadiusMedium),backgroundColor:k.colorNeutralBackground1},content:{display:"flex",flexDirection:"column",alignItems:"center",...it.gap(k.spacingVerticalL)},node:{width:"200px",...it.padding(k.spacingVerticalM),...it.borderRadius(k.borderRadiusMedium),backgroundColor:k.colorNeutralBackground2}}),m$=()=>{const e=ABe();return l.jsx("div",{className:e.container,children:l.jsxs("div",{className:e.content,children:[l.jsx(ci,{children:l.jsx(ui,{size:24})}),l.jsxs("div",{className:e.node,children:[l.jsx(ci,{children:l.jsx(ui,{size:20})}),l.jsx(ci,{children:l.jsx(ui,{size:16})}),l.jsx(ci,{children:l.jsx(ui,{size:16})})]}),l.jsx(ci,{children:l.jsx(ui,{size:24})})]})})};function JF(e){return e==="Admin"?"Administrador":"Usuario"}const NBe=Tr({container:{display:"flex",flexDirection:"column",...it.gap(0),margin:0,padding:0},ribbonMenuContainer:{marginLeft:`calc(-1 * ${k.spacingVerticalXL})`,marginRight:`calc(-1 * ${k.spacingVerticalXL})`,marginTop:`calc(-1 * ${k.spacingVerticalXL})`,marginBottom:k.spacingVerticalL,width:`calc(100% + ${k.spacingVerticalXL} * 2)`},header:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM},headerLeft:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM)},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},toolbar:{display:"flex",width:"100%",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalL},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXXL},actionsCell:{width:"100px"},detailsContent:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},detailsRow:{display:"flex",justifyContent:"space-between",padding:k.spacingVerticalS,borderBottom:`1px solid ${k.colorNeutralStroke2}`},detailsLabel:{fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground2},formField:{marginBottom:k.spacingVerticalM},flowContainer:{width:"100%",height:"calc(100vh - 300px)",minHeight:"500px",maxHeight:"800px",border:`1px solid ${k.colorNeutralStroke2}`,...it.borderRadius(k.borderRadiusMedium),overflow:"hidden","@media (max-width: 768px)":{height:"calc(100vh - 250px)",minHeight:"400px"},"@media (max-width: 480px)":{height:"calc(100vh - 200px)",minHeight:"350px"}},flowNode:{padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground1,border:`2px solid ${k.colorNeutralStroke1}`,...it.borderRadius(k.borderRadiusMedium),minWidth:"180px",maxWidth:"250px",width:"auto",boxShadow:k.shadow4,"@media (max-width: 768px)":{minWidth:"150px",maxWidth:"200px",padding:k.spacingVerticalS},"@media (max-width: 480px)":{minWidth:"120px",maxWidth:"160px",padding:k.spacingVerticalXS}},flowNodeHeader:{fontWeight:k.fontWeightSemibold,fontSize:k.fontSizeBase400,marginBottom:k.spacingVerticalXS,color:k.colorNeutralForeground1},flowNodeContent:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,...it.margin(0)},flowNodeTenant:{backgroundColor:k.colorPaletteBlueBackground2,borderTop:`2px solid ${k.colorPaletteBlueForeground1}`,borderRight:`2px solid ${k.colorPaletteBlueForeground1}`,borderBottom:`2px solid ${k.colorPaletteBlueForeground1}`,borderLeft:`2px solid ${k.colorPaletteBlueForeground1}`},flowNodeUser:{backgroundColor:k.colorPaletteGreenBackground2,borderTop:`2px solid ${k.colorPaletteGreenForeground1}`,borderRight:`2px solid ${k.colorPaletteGreenForeground1}`,borderBottom:`2px solid ${k.colorPaletteGreenForeground1}`,borderLeft:`2px solid ${k.colorPaletteGreenForeground1}`},usersList:{maxHeight:"300px",overflowY:"auto",...it.padding(k.spacingVerticalM)}}),PBe=()=>{var _i,Uo,oo;const e=NBe(),{t}=Ri("backoffice"),{addGroup:n,removeGroup:r}=Ep();zN();const i=dv(),[o,a]=x.useState([]),[s,c]=x.useState([]),[u,d]=x.useState(!1),[f,p]=x.useState(null),[m,g]=x.useState(""),[v,_]=x.useState(null),[y,S]=x.useState(!1),[w,C]=x.useState(!1),[M,A]=x.useState(!1),[E,I]=x.useState(!1),[N,P]=x.useState(!1),[D,q]=x.useState(!1),[$,j]=x.useState(!1),[O,z]=x.useState(!1),[W,F]=x.useState(!1),[V,H]=x.useState(!1),[te,Z]=x.useState(!1),[Q,re]=x.useState(""),[ue,oe]=x.useState(""),[be,ke]=x.useState(!1),[He,Je]=x.useState([]),[rt,le]=x.useState(!1),[at,Ge]=x.useState([]),[We,$e]=x.useState(!1),[et,Xe]=x.useState(!1),[X,Y]=x.useState(null),[me,Ne]=x.useState(!1),[Re,Ee]=x.useState(!1),[Ye,Ze]=x.useState(null),[st,wt]=x.useState(!1),[_t,je]=x.useState(""),[jt,ve]=x.useState(!1),[tt,ze]=x.useState({}),[nt,Ve]=x.useState({}),[Et,Zt]=x.useState([]),[Dt,dt]=x.useState(!1),[G,Pe]=x.useState(null),[qe,Bt]=x.useState(null),[Tt,bt]=x.useState({}),[Vt,qn]=x.useState(null),[Ln,pn]=x.useState(null),[Hn,fr]=x.useState(null),[di,kr]=x.useState(null),[xt,Ur]=x.useState({name:"",customerId:""}),[An,Vn]=x.useState({name:"",customerId:""}),Yr=x.useRef(!1),Er=x.useRef(!1),[Pn,qr]=x.useState("table"),[ne,_e]=x.useState("table"),[Ae,se]=x.useState([]),[ge,ae]=x.useState([]),[Le,De]=x.useState(!1),ht=x.useRef(!1),[Gt,yt]=x.useState(new Map),[St,rn]=x.useState({width:window.innerWidth,height:window.innerHeight});x.useEffect(()=>{const fe=()=>{rn({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]);const $t=x.useCallback(async()=>{if(Yr.current){console.log("[TenantsPage] loadTenants ya est en ejecucin, ignorando llamada duplicada");return}try{Yr.current=!0,d(!0),p(null),console.log("[TenantsPage] Cargando tenants...");const fe=await In.getAllTenants();a(fe),console.log("[TenantsPage] Tenants cargados:",fe.length)}catch(fe){console.error("[TenantsPage] Error cargando tenants:",fe),p(fe.message||"Error al cargar tenants")}finally{d(!1),Yr.current=!1}},[]),nn=x.useCallback(async()=>{try{const fe=await Yt.getAllCustomers();c(fe)}catch(fe){console.error("[TenantsPage] Error cargando customers:",fe)}},[]),tr=x.useCallback(async fe=>{try{const Qe=await In.getTenantUsers(fe);ze(Nt=>({...Nt,[fe]:Qe}))}catch(Qe){console.error("[TenantsPage] Error cargando usuarios del tenant:",Qe),ze(Nt=>({...Nt,[fe]:[]}))}},[]),en=x.useCallback(async fe=>{try{const Qe=await In.getTenantCustomers(fe);bt(Nt=>({...Nt,[fe]:Qe}))}catch(Qe){console.error("[TenantsPage] Error cargando clientes del tenant:",Qe),bt(Nt=>({...Nt,[fe]:[]}))}},[]),Ot=x.useCallback(async fe=>{try{const Qe=await En.getOfficesByTenant(fe);Ve(Nt=>({...Nt,[fe]:Qe}))}catch(Qe){console.error("[TenantsPage] Error cargando sedes del tenant:",Qe),Ve(Nt=>({...Nt,[fe]:[]}))}},[]);x.useEffect(()=>{o.length>0&&o.forEach(fe=>{en(fe.id)})},[o,en]),x.useEffect(()=>{!Yr.current&&!Er.current&&(Er.current=!0,$t(),nn())},[]),x.useEffect(()=>{o.length>0&&o.forEach(fe=>{tr(fe.id)})},[o,tr]),x.useEffect(()=>{o.length>0&&o.forEach(fe=>{Ot(fe.id)})},[o,Ot]),x.useEffect(()=>(n({id:"tenants",label:"Tenants",icon:l.jsx(Ah,{}),items:[{id:"create",label:t("tenants.new"),icon:l.jsx(Wr,{}),action:()=>{Ur({name:"",customerId:""}),S(!0)}}]}),()=>{r("tenants")}),[n,r]);const sn=fe=>{_(fe),P(!0)},Ut=async()=>{if(v)try{await In.deleteTenant(v.id),P(!1),_(null),await $t(),Pn==="flow"&&await gr()}catch(fe){p(fe.message||"Error al eliminar tenant")}},fi=async fe=>{try{await In.suspendTenant(fe.id),await $t(),Pn==="flow"&&await gr()}catch(Qe){p(Qe.message||"Error al suspender tenant")}},Mr=async fe=>{try{await In.activateTenant(fe.id),await $t(),Pn==="flow"&&await gr()}catch(Qe){p(Qe.message||"Error al activar tenant")}},lr=x.useMemo(()=>o.filter(fe=>{var Qe;return fe.name.toLowerCase().includes(m.toLowerCase())||((Qe=fe.customerName)==null?void 0:Qe.toLowerCase().includes(m.toLowerCase()))}),[o,m]),ji=async()=>{if(!xt.name.trim()||!xt.customerId){p("Nombre y cliente son requeridos");return}try{p(null),C(!0),await In.createTenant(xt),S(!1),C(!1),Ur({name:"",customerId:""}),await $t(),Pn==="flow"&&await gr()}catch(fe){p(fe.message||"Error al crear tenant"),C(!1)}},At=async fe=>{_(fe),Vn({name:fe.name,customerId:fe.customerId}),A(!0)},fn=async()=>{if(!v||!An.name.trim()||!An.customerId){p("El nombre y el cliente son requeridos");return}try{p(null),I(!0),await In.updateTenant(v.id,An),A(!1),_(null),Vn({name:"",customerId:""}),await $t(),Pn==="flow"&&await gr(),I(!1)}catch(fe){p(fe.message||"Error al guardar tenant"),I(!1)}},Ii=async fe=>{_(fe),q(!0)};x.useEffect(()=>{if(D){F(!0);const fe=setTimeout(()=>{F(!1)},300);return()=>clearTimeout(fe)}else F(!1)},[D]),x.useEffect(()=>{if(y){H(!0);const fe=setTimeout(()=>{H(!1)},200);return()=>clearTimeout(fe)}else H(!1)},[y]),x.useEffect(()=>{if(M){Z(!0);const fe=setTimeout(()=>{Z(!1)},300);return()=>clearTimeout(fe)}else Z(!1)},[M]);const hr=async fe=>{try{const Qe=await Yt.getCustomerById(fe);Ze(Qe),Ee(!0)}catch(Qe){p(Qe.message||"Error al cargar detalles del cliente")}},xr=async()=>{if(!v||!_t){p("Debe seleccionar un cliente");return}if(_t===v.customerId){p("El cliente seleccionado es el mismo que el actual");return}try{p(null),ve(!0),await In.updateTenant(v.id,{name:v.name,customerId:_t}),wt(!1),_(null),je(""),await $t(),await en(v.id),Pn==="flow"&&await gr(),ve(!1)}catch(fe){p(fe.message||"Error al cambiar cliente del tenant"),ve(!1)}},Oo=async fe=>{_(fe),le(!0),j(!0);try{p(null);const Qe=await In.getTenantUsers(fe.id);Je(Qe)}catch(Qe){p(Qe.message||"Error al cargar usuarios del tenant")}finally{le(!1)}},$i=async fe=>{if(!fe.customerId){p("El tenant no tiene un cliente asociado");return}try{dt(!0),p(null);const Qe=await Yt.getCustomerUsers(fe.customerId);Zt(Qe),Pe(fe.id)}catch(Qe){p(Qe.message||"Error al cargar usuarios del cliente"),Pe(null)}finally{dt(!1)}},zi=async(fe,Qe)=>{try{if(Bt(fe.id),p(null),await vn.updateUser(fe.id,{email:fe.email,name:fe.name||"",role:fe.role,tenantId:Qe.id,customerId:Qe.customerId||fe.customerId||"",contactEmail:fe.contactEmail||"",phone:fe.phone||""}),await tr(Qe.id),Qe.customerId){const Nt=await Yt.getCustomerUsers(Qe.customerId);Zt(Nt)}}catch(Nt){p(Nt.message||"Error al asignar usuario al tenant")}finally{Bt(null)}},Dn=async fe=>{_(fe),$e(!0),Xe(!0);try{p(null);const Qe=await En.getOfficesByTenant(fe.id);Ge(Qe),Ve(Nt=>({...Nt,[fe.id]:Qe}))}catch(Qe){p(Qe.message||"Error al cargar sedes del tenant")}finally{$e(!1)}},io=fe=>{_(fe),re(""),oe(""),z(!0)},Li=async()=>{if(!v||!Q.trim()||!ue.trim()){p("El ttulo y el mensaje son requeridos");return}try{p(null),ke(!0);const fe=await Xn.notifyTenantUsers(v.id,{title:Q,message:ue});z(!1),re(""),oe(""),alert(fe.message)}catch(fe){p(fe.message||"Error al enviar notificaciones")}finally{ke(!1)}},bo=x.useCallback((fe,Qe,Nt="TB")=>{const J=new dp.graphlib.Graph;J.setDefaultEdgeLabel(()=>({}));const ce=window.innerWidth<768,mt=window.innerWidth>=768&&window.innerWidth<1024,Ue=ce?50:mt?75:100,It=ce?100:mt?120:150,Kn=ce?20:50,ii=ce?20:50;J.setGraph({rankdir:Nt,nodesep:Ue,ranksep:It,marginx:Kn,marginy:ii});const qt=ce?150:mt?180:220,Yn=ce?100:mt?110:120;return fe.forEach(oi=>{J.setNode(oi.id,{width:qt,height:Yn})}),Qe.forEach(oi=>{J.setEdge(oi.source,oi.target)}),dp.layout(J),{nodes:fe.map(oi=>{const rr=J.node(oi.id);return{...oi,position:{x:rr.x-qt/2,y:rr.y-Yn/2}}}),edges:Qe}},[]),gr=x.useCallback(async()=>{if(lr.length===0){se([]),ae([]);return}if(ht.current){console.log("[TenantsPage] loadFlowData ya est en ejecucin, ignorando llamada duplicada");return}ht.current=!0,De(!0);try{const fe=new Map;for(const mt of lr)try{const Ue=await In.getTenantUsers(mt.id);fe.set(mt.id,Ue)}catch(Ue){console.error(`Error cargando usuarios del tenant ${mt.id}:`,Ue),fe.set(mt.id,[])}yt(fe);const Qe=[],Nt=[];lr.forEach(mt=>{const Ue=`tenant-${mt.id}`;Qe.push({id:Ue,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeTenant}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:mt.name}),l.jsxs("div",{className:e.flowNodeContent,children:["Cliente: ",mt.customerName||"N/A"]}),l.jsx("div",{className:e.flowNodeContent,children:mt.isSuspended?"Suspendido":mt.isActive?"Activo":"Inactivo"})]})}}),(fe.get(mt.id)||[]).forEach(Kn=>{const ii=`user-${Kn.id}`;Qe.push({id:ii,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeUser}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:Kn.name||Kn.email}),l.jsx("div",{className:e.flowNodeContent,children:Kn.contactEmail||Kn.email}),l.jsxs("div",{className:e.flowNodeContent,children:["Rol: ",JF(Kn.role)]})]})}}),Nt.push({id:`edge-${Ue}-${ii}`,source:Ue,target:ii,type:"smoothstep"})})});const{nodes:J,edges:ce}=bo(Qe,Nt,"TB");se(J),ae(ce)}catch(fe){console.error("Error cargando datos del flow:",fe),p(fe.message||"Error al cargar datos para la vista interactiva")}finally{De(!1),ht.current=!1}},[lr,bo]);x.useEffect(()=>{Pn==="flow"&&lr.length>0&&!ht.current?gr().catch(fe=>{console.error("[TenantsPage] Error en loadFlowData:",fe)}):Pn==="flow"&&lr.length===0&&(se([]),ae([]))},[Pn,lr.length,gr]);const Fo=x.useCallback(fe=>{se(Qe=>b1(fe,Qe))},[]),xo=x.useCallback(fe=>{ae(Qe=>x1(fe,Qe))},[]),oa=x.useCallback(fe=>ae(Qe=>m1(fe,Qe)),[]);return u&&o.length===0?l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(Ah,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("tenants.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("tenants.searchPlaceholder"),disabled:!0,size:"large",style:{width:"100%"}})}),l.jsxs(Ka,{selectedValue:"table",disabled:!0,children:[l.jsx(ur,{value:"table",icon:l.jsx(Kh,{}),children:t("tenants.tableView")}),l.jsx(ur,{value:"flow",icon:l.jsx(Yh,{}),children:t("tenants.interactiveView")})]})]}),l.jsx(Pr,{children:l.jsx(uc,{rows:8,columns:6})})]}):l.jsxs("div",{className:e.container,children:[l.jsx("div",{className:e.ribbonMenuContainer,children:l.jsx(Tv,{})}),l.jsxs("div",{className:e.header,children:[l.jsx(Ah,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("tenants.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("tenants.searchPlaceholder"),value:m,onChange:(fe,Qe)=>g(Qe.value),size:"large",style:{width:"100%"}})}),l.jsx(pe,{appearance:"default",icon:l.jsx(Iu,{}),onClick:async()=>{await $t(),Pn==="flow"&&await gr()},disabled:u||Le,title:t("tenants.refreshTitle"),children:t("tenants.refresh")}),l.jsxs(Ka,{selectedValue:ne,onTabSelect:(fe,Qe)=>{const Nt=Qe.value;_e(Nt),qr(Nt)},children:[l.jsx(ur,{value:"table",icon:l.jsx(Kh,{}),children:t("tenants.tableView")}),l.jsx(ur,{value:"flow",icon:l.jsx(Yh,{}),children:t("tenants.interactiveView")})]})]}),l.jsx(Pr,{children:l.jsx(Fa,{children:l.jsxs("div",{style:{padding:k.spacingVerticalXL},children:[f&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:f.startsWith("common.")||f.startsWith("tenants.")||f.startsWith("customers.")||f.startsWith("offices.")||f.startsWith("subscriptions.")?t(f):f})}),Pn==="table"&&l.jsxs(l.Fragment,{children:[u&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(Cn,{size:"large",label:t("tenants.loadingTenants")})}),lr.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:t("tenants.noTenantsFound")})}):l.jsxs(Rn,{style:{tableLayout:"auto",width:"100%"},children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"auto",minWidth:"200px"},children:t("tenants.name")}),l.jsx(we,{style:{width:"auto",minWidth:"180px"},children:t("tenants.customer")}),l.jsx(we,{style:{width:"auto",minWidth:"80px"},children:t("tenants.offices")}),l.jsx(we,{style:{width:"auto",minWidth:"80px"},children:t("tenants.users")}),l.jsx(we,{style:{width:"auto",minWidth:"150px"},children:t("users.creationDate")}),l.jsx(we,{style:{width:"auto",minWidth:"150px"},children:t("users.updated")}),l.jsx(we,{style:{width:"auto",minWidth:"110px"},children:t("tenants.status")}),l.jsx(we,{style:{width:"120px",minWidth:"120px"},children:t("tenants.actions")})]})}),l.jsx(Bn,{children:lr.map(fe=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ie,{weight:"semibold",children:fe.name})}),l.jsx(xe,{children:l.jsx("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS},children:(()=>{const Qe=Tt[fe.id]||[],Nt=Qe.length;return Nt>0?l.jsxs(Vi,{open:Ln===fe.id,onOpenChange:(J,ce)=>{pn(ce.open?fe.id:null),ce.open&&!Tt[fe.id]&&(qn(fe.id),en(fe.id).finally(()=>{qn(null)}))},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:Nt,size:"medium",appearance:"filled",color:"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:t("offices.associatedCustomers")}),l.jsx(qi,{children:Vt===fe.id?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:k.spacingVerticalL},children:l.jsx(Cn,{size:"small",label:t("customers.loadingCustomers")})}):Qe.length===0?l.jsx(ie,{children:t("offices.associatedCustomers")}):l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto"},children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("customers.name")}),l.jsx(we,{children:t("customers.identification")}),l.jsx(we,{children:t("customers.country")}),l.jsx(we,{children:t("customers.status")})]})}),l.jsx(Bn,{children:Qe.map(J=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",onClick:()=>{hr(J.id),pn(null)},style:{color:k.colorBrandForegroundLink,textDecoration:"none",fontWeight:k.fontWeightSemibold,padding:0,minWidth:"auto",height:"auto"},children:J.name})}),l.jsx(xe,{children:J.identification}),l.jsx(xe,{children:J.countryName||"N/A"}),l.jsx(xe,{children:J.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):J.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})]},J.id))})]})})})]})]}):l.jsx(Yi,{count:0,size:"medium",appearance:"filled",color:"informative"})})()})}),l.jsx(xe,{children:(()=>{const Qe=nt[fe.id]||[],Nt=Qe.length;return Nt>0?l.jsxs(Vi,{open:di===fe.id,onOpenChange:(J,ce)=>{kr(ce.open?fe.id:null),ce.open&&!nt[fe.id]&&(fr(fe.id),Ot(fe.id).finally(()=>{fr(null)}))},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:Nt,size:"medium",appearance:"filled",color:"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:t("users.associatedOffices")}),l.jsx(qi,{children:Hn===fe.id?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:k.spacingVerticalL},children:l.jsx(Cn,{size:"small",label:t("offices.loadingOffices")})}):Qe.length===0?l.jsx(ie,{children:t("users.associatedOffices")}):l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto"},children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("offices.name")}),l.jsx(we,{children:t("customers.addressLabel")}),l.jsx(we,{children:t("offices.city")}),l.jsx(we,{children:t("offices.status")})]})}),l.jsx(Bn,{children:Qe.map(J=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",onClick:()=>{Y(J),Ne(!0),kr(null)},style:{color:k.colorBrandForegroundLink,textDecoration:"none",fontWeight:k.fontWeightSemibold,padding:0,minWidth:"auto",height:"auto"},children:J.name})}),l.jsx(xe,{children:J.address||"N/A"}),l.jsx(xe,{children:J.city||"N/A"}),l.jsx(xe,{children:J.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):J.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})]},J.id))})]})})})]})]}):l.jsx(Yi,{count:0,size:"medium",appearance:"filled",color:"informative"})})()}),l.jsx(xe,{children:(()=>{const Qe=tt[fe.id]||[];return Qe.length>0?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:Qe.length,size:"medium",appearance:"filled",color:Qe.length===0?"informative":"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:t("users.associatedTenants")}),l.jsx(qi,{children:l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:Qe.map(Nt=>l.jsx(Du,{name:Nt.name||Nt.email,secondaryText:Nt.contactEmail||Nt.email,presence:{status:Nt.isActive&&!Nt.isSuspended?"available":"offline"}},Nt.id))})})]})]}):fe.customerId?l.jsxs(Vi,{open:G===fe.id,onOpenChange:(Nt,J)=>{Pe(J.open?fe.id:null),J.open||Zt([])},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(jg,{}),onClick:()=>$i(fe),title:"Asignar usuarios del cliente",style:{padding:0,minWidth:"auto",height:"auto"}})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:[t("customers.customerUsers"),": ",fe.customerName||t("common.notAvailable")]}),l.jsx(qi,{children:Dt?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:k.spacingVerticalL},children:l.jsx(Cn,{size:"small",label:t("users.loadingUsers")})}):Et.length===0?l.jsx(ie,{children:t("users.noUsersFound")}):l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:k.spacingVerticalS},children:Et.map(Nt=>{const ce=(tt[fe.id]||[]).some(Ue=>Ue.id===Nt.id),mt=qe===Nt.id;return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:k.spacingVerticalS,...it.borderRadius(k.borderRadiusSmall),backgroundColor:ce?k.colorNeutralBackground2:"transparent",cursor:ce?"default":"pointer"},onMouseEnter:Ue=>{ce||(Ue.currentTarget.style.backgroundColor=k.colorNeutralBackground2)},onMouseLeave:Ue=>{ce||(Ue.currentTarget.style.backgroundColor="transparent")},children:[l.jsx(Du,{name:Nt.name||Nt.email,secondaryText:Nt.contactEmail||Nt.email,presence:{status:Nt.isActive&&!Nt.isSuspended?"available":"offline"}}),ce?l.jsx(Ke,{appearance:"filled",color:"success",size:"small",children:"Asignado"}):l.jsx(pe,{appearance:"primary",size:"small",onClick:()=>zi(Nt,fe),disabled:mt,children:mt?"Asignando...":"Asignar"})]},Nt.id)})})})]})]}):l.jsx(Yi,{count:0,size:"medium",appearance:"filled",color:"informative"})})()}),l.jsx(xe,{children:new Date(fe.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}),l.jsx(xe,{children:new Date(fe.updatedAt).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})}),l.jsx(xe,{children:fe.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):fe.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(pv,{}),"aria-label":"Ms acciones"})}),l.jsx(Tl,{children:l.jsxs(Xu,{children:[l.jsx(zn,{icon:l.jsx(ju,{}),onClick:()=>Ii(fe),children:"Ver detalles"}),l.jsx(zn,{icon:l.jsx(zd,{}),onClick:()=>At(fe),children:"Editar"}),l.jsx(zn,{icon:l.jsx(gl,{}),onClick:()=>Oo(fe),children:"Ver usuarios"}),l.jsx(zn,{icon:l.jsx(Ld,{}),onClick:()=>Dn(fe),children:"Ver sedes"}),l.jsx(zn,{icon:l.jsx(gl,{}),onClick:()=>io(fe),children:"Enviar notificacin"}),fe.isSuspended?l.jsx(zn,{icon:l.jsx(mv,{}),onClick:()=>Mr(fe),children:"Activar"}):l.jsx(zn,{icon:l.jsx(gv,{}),onClick:()=>fi(fe),children:"Suspender"}),l.jsx(zn,{icon:l.jsx(Xa,{}),onClick:()=>sn(fe),children:"Eliminar"})]})})]})})]},fe.id))})]})]}),Pn==="flow"&&l.jsxs("div",{className:e.flowContainer,style:{position:"relative"},children:[u&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(Cn,{size:"large",label:t("tenants.loadingTenants")})}),Le?l.jsx(m$,{}):l.jsx(S1,{children:l.jsxs(OP,{nodes:Ae,edges:ge,onNodesChange:Fo,onEdgesChange:xo,onConnect:oa,fitView:!0,minZoom:.2,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},children:[l.jsx(FP,{}),l.jsx(UP,{}),l.jsx(qP,{}),l.jsx(df,{position:"top-left",children:l.jsx("div",{style:{backgroundColor:k.colorNeutralBackground1,padding:k.spacingVerticalS,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(ie,{weight:"semibold",children:t("tenants.interactiveViewTitle")})})})]})}),!Le&&Ae.length===0&&l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:t("tenants.noDataForInteractiveView")})})]})]})})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:y,modalType:"alert",onOpenChange:(fe,Qe)=>{Qe.open===!1&&!w?xt.name.trim()||xt.customerId?window.confirm("Est seguro de que desea cerrar? Se perdern los datos no guardados.")&&(S(!1),Ur({name:"",customerId:""}),p(null)):S(!1):Qe.open===!0&&S(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{xt.name.trim()||xt.customerId?window.confirm(t("common.confirmClose"))&&(S(!1),Ur({name:"",customerId:""}),p(null)):S(!1)}}),children:t("tenants.new")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:V||w?l.jsx(ki,{rows:3}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("tenants.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:xt.name,onChange:fe=>Ur({...xt,name:fe.target.value})})}),l.jsx(he,{label:t("tenants.customer"),required:!0,className:e.formField,children:l.jsx(ln,{value:((_i=s.find(fe=>fe.id===xt.customerId))==null?void 0:_i.name)||"",onOptionSelect:(fe,Qe)=>{const Nt=s.find(J=>J.name===Qe.optionValue);Nt&&Ur({...xt,customerId:Nt.id})},children:s.map(fe=>l.jsxs(Jt,{value:fe.name,children:[fe.name," (",fe.identification,")"]},fe.id))})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{xt.name.trim()||xt.customerId?window.confirm(t("common.confirmCancel"))&&(S(!1),Ur({name:"",customerId:""}),p(null)):S(!1)},disabled:w,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:ji,disabled:w,children:t(w?"common.creating":"common.create")})]})]})})})]}),l.jsxs(Rr,{...i,position:"end",size:"large",open:M,modalType:"alert",onOpenChange:(fe,Qe)=>{if(Qe.open===!1&&!E){if(!v){A(!1),_(null),Vn({name:""});return}An.name!==v.name||An.customerId!==v.customerId?window.confirm("Est seguro de que desea cerrar? Se perdern los cambios no guardados.")&&(A(!1),_(null),Vn({name:"",customerId:""}),p(null)):(A(!1),_(null),Vn({name:"",customerId:""}),p(null))}else Qe.open===!0&&A(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":"Cerrar",icon:l.jsx(Gn,{}),onClick:()=>{if(E)return;if(!v){A(!1),_(null),Vn({name:"",customerId:""});return}An.name!==v.name||An.customerId!==v.customerId?window.confirm("Est seguro de que desea cerrar? Se perdern los cambios no guardados.")&&(A(!1),_(null),Vn({name:"",customerId:""}),p(null)):(A(!1),_(null),Vn({name:"",customerId:""}),p(null))}}),children:t("common.editTenant")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:te||E?l.jsx(ki,{rows:2}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("tenants.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:An.name,onChange:fe=>Vn({...An,name:fe.target.value})})}),l.jsx(he,{label:t("tenants.customer"),required:!0,className:e.formField,children:l.jsx(ln,{value:((Uo=s.find(fe=>fe.id===An.customerId))==null?void 0:Uo.name)||"",onOptionSelect:(fe,Qe)=>{const Nt=s.find(J=>J.name===Qe.optionValue);Nt&&Vn({...An,customerId:Nt.id})},children:s.map(fe=>l.jsxs(Jt,{value:fe.name,children:[fe.name," (",fe.identification,")"]},fe.id))})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{if(!v){A(!1),_(null),Vn({name:"",customerId:""});return}An.name!==v.name||An.customerId!==v.customerId?window.confirm(t("common.confirmCancelChanges"))&&(A(!1),_(null),Vn({name:"",customerId:""}),p(null)):(A(!1),_(null),Vn({name:"",customerId:""}),p(null))},disabled:E,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:fn,disabled:E,children:t(E?"common.saving":"common.save")})]})]})})})]}),l.jsx(Qn,{open:N,onOpenChange:(fe,Qe)=>P(Qe.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Confirmar eliminacin"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs(ie,{children:['Est seguro de que desea eliminar el tenant "',v==null?void 0:v.name,'"? Esta accin no se puede deshacer.']})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>P(!1),children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:Ut,children:"Eliminar"})]})]})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:D,modalType:"alert",onOpenChange:(fe,Qe)=>{Qe.open===!1?(q(!1),_(null)):q(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{q(!1),_(null)}}),children:t("tenants.details")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:W?l.jsx(ki,{rows:10}):v?l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("tenants.name"),className:e.formField,children:l.jsx(ye,{value:v.name,readOnly:!0})}),l.jsx(he,{label:"Cliente",className:e.formField,children:l.jsx(ye,{value:v.customerName||"N/A",readOnly:!0})}),l.jsx(he,{label:t("tenants.status"),className:e.formField,children:l.jsx("div",{children:v.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:t("common.suspended")}):v.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:t("common.active")}):l.jsx(Ke,{appearance:"outline",children:t("common.inactive")})})}),l.jsx(he,{label:t("tenants.users"),className:e.formField,children:l.jsx(ye,{value:String(v.userCount||0),readOnly:!0})}),l.jsx(he,{label:t("tenants.created"),className:e.formField,children:l.jsx(ye,{value:new Date(v.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:t("tenants.updated"),className:e.formField,children:l.jsx(ye,{value:new Date(v.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>q(!1),children:t("common.close")})})]}):null})})]}),l.jsx(Qn,{open:$,onOpenChange:(fe,Qe)=>j(Qe.open),children:l.jsxs(or,{style:{maxWidth:"700px"},children:[l.jsxs(mr,{children:["Usuarios del Tenant: ",v==null?void 0:v.name]}),l.jsxs(ir,{children:[l.jsx($r,{children:rt?l.jsx(uc,{rows:5,columns:3}):He.length===0?l.jsx(ie,{children:"No hay usuarios asociados a este tenant"}):l.jsx("div",{className:e.usersList,children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("users.name")}),l.jsx(we,{children:t("users.email")}),l.jsx(we,{children:t("users.role")})]})}),l.jsx(Bn,{children:He.map(fe=>l.jsxs(Mt,{children:[l.jsx(xe,{children:fe.name||"Sin nombre"}),l.jsx(xe,{children:fe.contactEmail||fe.email}),l.jsx(xe,{children:l.jsx(Ke,{appearance:fe.role==="Admin"?"filled":"outline",color:fe.role==="Admin"?"brand":void 0,children:JF(fe.role)})})]},fe.id))})]})})}),l.jsx(pr,{children:l.jsx(pe,{appearance:"primary",onClick:()=>j(!1),children:t("common.close")})})]})]})}),l.jsx(Qn,{open:et,onOpenChange:(fe,Qe)=>Xe(Qe.open),children:l.jsxs(or,{style:{maxWidth:"700px"},children:[l.jsxs(mr,{children:[t("offices.title"),": ",v==null?void 0:v.name]}),l.jsxs(ir,{children:[l.jsx($r,{children:We?l.jsx(uc,{rows:5,columns:4}):at.length===0?l.jsx(ie,{children:t("users.noOfficesAvailableForTenant")}):l.jsx("div",{className:e.usersList,children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("offices.name")}),l.jsx(we,{children:t("customers.addressLabel")}),l.jsx(we,{children:t("offices.city")}),l.jsx(we,{children:t("offices.status")})]})}),l.jsx(Bn,{children:at.map(fe=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",onClick:()=>{Y(fe),Ne(!0)},style:{color:k.colorBrandForegroundLink,textDecoration:"none",fontWeight:k.fontWeightSemibold,padding:0,minWidth:"auto",height:"auto"},children:fe.name})}),l.jsx(xe,{children:fe.address||"N/A"}),l.jsx(xe,{children:fe.city||"N/A"}),l.jsx(xe,{children:fe.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):fe.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})]},fe.id))})]})})}),l.jsx(pr,{children:l.jsx(pe,{appearance:"primary",onClick:()=>Xe(!1),children:"Cerrar"})})]})]})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:me,modalType:"alert",onOpenChange:(fe,Qe)=>{Qe.open===!1?(Ne(!1),Y(null)):Ne(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":"Cerrar",icon:l.jsx(Gn,{}),onClick:()=>{Ne(!1),Y(null)}}),children:t("common.officeDetails")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:X&&l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("tenants.name"),className:e.formField,children:l.jsx(ye,{value:X.name,readOnly:!0})}),l.jsx(he,{label:t("common.address"),className:e.formField,children:l.jsx(ye,{value:X.address||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:X.city||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:X.stateProvince||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.postalCode"),className:e.formField,children:l.jsx(ye,{value:X.postalCode||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:X.phone||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{value:X.email||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("tenants.status"),className:e.formField,children:l.jsx("div",{children:X.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:t("common.suspended")}):X.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:t("common.active")}):l.jsx(Ke,{appearance:"outline",children:t("common.inactive")})})}),l.jsx(he,{label:t("tenants.tenant"),className:e.formField,children:l.jsx(ye,{value:X.tenantName||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("tenants.customer"),className:e.formField,children:l.jsx(ye,{value:X.customerName||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.created"),className:e.formField,children:l.jsx(ye,{value:new Date(X.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:t("common.updated"),className:e.formField,children:l.jsx(ye,{value:new Date(X.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>Ne(!1),children:t("common.close")})})]})})})]}),l.jsx(Qn,{open:O,onOpenChange:(fe,Qe)=>z(Qe.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Enviar Notificacin a Usuarios"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:e.detailsContent,children:[l.jsx(bn,{intent:"info",children:l.jsxs(xn,{children:['Se enviar una notificacin por email a todos los usuarios del tenant "',v==null?void 0:v.name,'".']})}),l.jsx(he,{label:"Ttulo",required:!0,children:l.jsx(ye,{value:Q,onChange:fe=>re(fe.target.value),placeholder:"Ttulo de la notificacin"})}),l.jsx(he,{label:"Mensaje",required:!0,children:l.jsx(r1,{value:ue,onChange:fe=>oe(fe.target.value),placeholder:"Mensaje de la notificacin",rows:5})})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{z(!1),re(""),oe("")},disabled:be,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:Li,disabled:be||!Q.trim()||!ue.trim(),children:be?"Enviando...":"Enviar Notificacin"})]})]})}),l.jsx(Qn,{open:st,onOpenChange:(fe,Qe)=>wt(Qe.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Cambiar Cliente del Tenant"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:e.detailsContent,children:[l.jsx(bn,{intent:"info",children:l.jsxs(xn,{children:['Seleccione un nuevo cliente para el tenant "',v==null?void 0:v.name,'".']})}),l.jsx(he,{label:"Cliente",required:!0,className:e.formField,children:l.jsx(ln,{value:_t&&((oo=s.find(fe=>fe.id===_t))==null?void 0:oo.name)||"",onOptionSelect:(fe,Qe)=>{const Nt=s.find(J=>J.name===Qe.optionValue);je(Nt?Nt.id:"")},onInput:fe=>{fe.target.value||je("")},children:s.map(fe=>l.jsxs(Jt,{value:fe.name,children:[fe.name," (",fe.identification,")"]},fe.id))})}),(v==null?void 0:v.customerName)&&l.jsx(bn,{intent:"warning",children:l.jsxs(xn,{children:["Cliente actual: ",v.customerName]})})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{wt(!1),je(""),_(null)},disabled:jt,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:xr,disabled:jt||!_t,children:jt?"Cambiando...":"Cambiar Cliente"})]})]})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:Re,modalType:"alert",onOpenChange:(fe,Qe)=>{Qe.open===!1?(Ee(!1),Ze(null)):Ee(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":"Cerrar",icon:l.jsx(Gn,{}),onClick:()=>{Ee(!1),Ze(null)}}),children:"Detalles del Cliente"})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Ye&&l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("tenants.name"),className:e.formField,children:l.jsx(ye,{value:Ye.name,readOnly:!0})}),l.jsx(he,{label:t("customers.identification"),className:e.formField,children:l.jsx(ye,{value:Ye.identification,readOnly:!0})}),l.jsx(he,{label:t("customers.country"),className:e.formField,children:l.jsx(ye,{value:Ye.countryName||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:Ye.stateProvince||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:Ye.city||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:Ye.phone||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{value:Ye.email||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("tenants.status"),className:e.formField,children:l.jsx("div",{children:Ye.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:t("common.suspended")}):Ye.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:t("common.active")}):l.jsx(Ke,{appearance:"outline",children:t("common.inactive")})})}),l.jsx(he,{label:t("tenants.tenants"),className:e.formField,children:l.jsx(ye,{value:String(Ye.tenantCount||0),readOnly:!0})}),l.jsx(he,{label:t("tenants.users"),className:e.formField,children:l.jsx(ye,{value:String(Ye.userCount||0),readOnly:!0})}),l.jsx(he,{label:t("common.created"),className:e.formField,children:l.jsx(ye,{value:new Date(Ye.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:t("common.updated"),className:e.formField,children:l.jsx(ye,{value:new Date(Ye.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>Ee(!1),children:t("common.close")})})]})})})]})]})},BBe=Tr({container:{display:"flex",flexDirection:"column"},row:{display:"flex",alignItems:"center",...it.padding(k.spacingVerticalS,0),borderBottom:`1px solid ${k.colorNeutralStroke2}`},expandColumn:{width:"32px",display:"flex",justifyContent:"center"},content:{display:"grid",gridTemplateColumns:"60px 180px 160px 120px 120px 130px 180px 110px 70px 70px 80px 100px",alignItems:"center",width:"100%",...it.gap(k.spacingHorizontalS)},cell:{...it.padding(0,k.spacingHorizontalS)}}),RBe=({rows:e=5})=>{const t=BBe();return l.jsx("div",{className:t.container,children:Array.from({length:e}).map((n,r)=>l.jsxs("div",{className:t.row,children:[l.jsx("div",{className:t.expandColumn,children:l.jsx(ci,{children:l.jsx(ui,{size:16,shape:"circle"})})}),l.jsx("div",{className:t.content,children:Array.from({length:12}).map((i,o)=>l.jsx("div",{className:t.cell,children:l.jsx(ci,{children:l.jsx(ui,{size:16})})},o))})]},r))})};function Sm(e){return e==="Admin"?"Administrador":"Usuario"}const jBe=({users:e})=>{const[t,n]=x.useState(new Map),[r,i]=x.useState(new Map),[o,a]=x.useState(new Map),[s,c]=x.useState(new Map),[u,d]=x.useState(!0),[f,p]=x.useState(null);if(x.useEffect(()=>{const v=async()=>{try{d(!0);const _=e.map(O=>vn.getUserTenants(O.id)),y=await Promise.all(_),S=new Map,w=new Set;y.forEach((O,z)=>{const W=e[z].id,F=O.map(V=>V.id||V.tenantId);S.set(W,F),F.forEach(V=>w.add(V))}),a(S);const C=e.map(O=>vn.getUserOffices(O.id)),M=await Promise.all(C),A=new Map,E=new Set;M.forEach((O,z)=>{const W=e[z].id,F=O.map(V=>V.id||V.officeId);A.set(W,F),F.forEach(V=>E.add(V))}),c(A);const I=Array.from(w),N=I.map(O=>In.getTenantById(O)),P=await Promise.all(N),D=new Map;P.forEach(O=>{O&&D.set(O.id,O)});const q=I.map(O=>En.getOfficesByTenant(O)),$=await Promise.all(q),j=new Map;I.forEach((O,z)=>{j.set(O,$[z]||[])}),n(D),i(j)}catch(_){console.error("Error cargando datos de tenants y sedes:",_)}finally{d(!1)}};e.length>0?v():d(!1)},[e]),u)return l.jsx(Cn,{size:"small",label:"Cargando informacin..."});if(e.length===0)return l.jsx(ie,{children:"No hay usuarios asociados a este cliente."});const m=new Map;e.forEach(v=>{const _=o.get(v.id)||[];if(_.length===0){const y="sin-tenant";m.has(y)||m.set(y,[]),m.get(y).push(v)}else _.forEach(y=>{m.has(y)||m.set(y,[]),m.get(y).push(v)})});const g=new Map;return e.forEach(v=>{(s.get(v.id)||[]).forEach(y=>{g.has(y)||g.set(y,[]),g.get(y).push(v)})}),l.jsx("div",{style:{maxWidth:"600px",maxHeight:"300px",overflowY:"auto"},children:Array.from(m.entries()).map(([v,_])=>{const y=v!=="sin-tenant"?t.get(v):null,S=v!=="sin-tenant"?r.get(v)||[]:[];return l.jsxs("div",{style:{marginBottom:k.spacingVerticalL},children:[l.jsx(ie,{weight:"semibold",style:{marginBottom:k.spacingVerticalS},children:y?`Tenant: ${y.name}`:"Sin Tenant"}),S.length>0&&l.jsxs("div",{style:{marginLeft:k.spacingHorizontalM,marginBottom:k.spacingVerticalS},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalS,marginBottom:k.spacingVerticalXS},children:[l.jsx(ie,{size:200,children:"Sedes:"}),l.jsx(Yi,{count:S.length})]}),S.map(w=>{const M=(g.get(w.id)||[]).length>0;return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS,marginLeft:k.spacingHorizontalM,marginBottom:k.spacingVerticalXXS},children:[l.jsxs(ie,{size:200,children:[" ",w.name," ",w.city?`(${w.city})`:""]}),!M&&l.jsxs(Vi,{open:f===w.id,onOpenChange:(A,E)=>{p(E.open?w.id:null)},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(jg,{}),size:"small",style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"}})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:["Usuarios disponibles para vincular a: ",w.name]}),l.jsx(qi,{children:e.length===0?l.jsx(ie,{children:"No hay usuarios disponibles para vincular."}):l.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:l.jsxs(Rn,{size:"small",children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"60%",minWidth:"200px"},children:"Usuario"}),l.jsx(we,{style:{width:"20%"},children:"Rol"}),l.jsx(we,{style:{width:"20%"},children:"Estado"})]})}),l.jsx(Bn,{children:e.map(A=>l.jsxs(Mt,{children:[l.jsx(xe,{style:{width:"60%",minWidth:"200px"},children:l.jsx(Du,{name:A.name||A.email||"N/A",secondaryText:A.contactEmail||A.email||"Sin email",size:"small"})}),l.jsx(xe,{style:{width:"20%"},children:l.jsx(Ke,{appearance:"outline",size:"small",children:A.role==="Admin"?"Admin":"User"})}),l.jsx(xe,{style:{width:"20%"},children:A.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",size:"small",children:"Suspendido"}):A.isActive?l.jsx(Ke,{appearance:"filled",color:"success",size:"small",children:"Activo"}):l.jsx(Ke,{appearance:"outline",size:"small",children:"Inactivo"})})]},A.id))})]})})})]})]})]},w.id)})]}),l.jsxs("div",{style:{marginLeft:k.spacingHorizontalM},children:[l.jsxs(ie,{size:200,style:{marginBottom:k.spacingVerticalXS},children:["Usuarios (",_.length,"):"]}),l.jsxs(Rn,{size:"small",children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"60%",minWidth:"300px"},children:"Usuario"}),l.jsx(we,{style:{width:"20%"},children:"Rol"}),l.jsx(we,{style:{width:"20%"},children:"Estado"})]})}),l.jsx(Bn,{children:_.map(w=>l.jsxs(Mt,{children:[l.jsx(xe,{style:{width:"60%",minWidth:"300px"},children:l.jsx(Du,{name:w.name||w.email||"N/A",secondaryText:w.contactEmail||w.email||"Sin email",size:"small"})}),l.jsx(xe,{style:{width:"20%"},children:l.jsx(Ke,{appearance:"outline",size:"small",children:w.role==="Admin"?"Admin":"User"})}),l.jsx(xe,{style:{width:"20%"},children:w.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",size:"small",children:"Suspendido"}):w.isActive?l.jsx(Ke,{appearance:"filled",color:"success",size:"small",children:"Activo"}):l.jsx(Ke,{appearance:"outline",size:"small",children:"Inactivo"})})]},w.id))})]})]})]},v)})})},IBe=Tr({container:{display:"flex",flexDirection:"column",...it.gap(0),margin:0,padding:0},ribbonMenuContainer:{marginLeft:`calc(-1 * ${k.spacingVerticalXL})`,marginRight:`calc(-1 * ${k.spacingVerticalXL})`,marginTop:`calc(-1 * ${k.spacingVerticalXL})`,marginBottom:k.spacingVerticalL,width:`calc(100% + ${k.spacingVerticalXL} * 2)`},header:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM},headerLeft:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM)},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},toolbar:{display:"flex",width:"100%",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalL},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXXL},actionsCell:{width:"100px"},detailsContent:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},treeContainer:{display:"flex",flexDirection:"column"},treeRow:{display:"flex",alignItems:"center",padding:`${k.spacingVerticalS} 0`,borderBottom:`1px solid ${k.colorNeutralStroke2}`,cursor:"pointer","&:hover":{backgroundColor:k.colorNeutralBackground2}},treeRowRoot:{backgroundColor:k.colorPaletteBlueBackground1,"&:hover":{backgroundColor:k.colorPaletteBlueBackground2}},treeRowLevel1:{backgroundColor:k.colorPaletteTealBackground1,"&:hover":{backgroundColor:k.colorPaletteTealBackground2}},treeRowLevel2:{backgroundColor:k.colorPaletteGreenBackground1,"&:hover":{backgroundColor:k.colorPaletteGreenBackground2}},treeRowLevel3Plus:{backgroundColor:k.colorPaletteLavenderBackground1,"&:hover":{backgroundColor:k.colorPaletteLavenderBackground2}},treeRowDragging:{opacity:.5},treeRowDragOver:{backgroundColor:k.colorBrandBackground2,borderTop:`2px solid ${k.colorBrandForeground1}`},treeIndent:{width:"24px",display:"flex",alignItems:"center",justifyContent:"center"},treeExpandButton:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",...it.borderRadius(k.borderRadiusSmall),"&:hover":{backgroundColor:k.colorNeutralBackground3}},treeContent:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr 1fr 120px 80px 80px 100px",alignItems:"center",flex:1,...it.gap(k.spacingHorizontalM),width:"100%"},treeCell:{display:"flex",alignItems:"center",padding:`0 ${k.spacingHorizontalS}`},treeHeaderContent:{display:"grid",gridTemplateColumns:"32px 60px 180px 160px 120px 120px 130px 180px 70px 70px 80px 110px 100px",alignItems:"center",width:"100%",...it.gap(k.spacingHorizontalS),padding:`${k.spacingVerticalS} 0`,backgroundColor:k.colorNeutralBackground2,borderBottom:`1px solid ${k.colorNeutralStroke2}`,fontWeight:k.fontWeightSemibold},treeRowContent:{display:"grid",gridTemplateColumns:"32px 60px 180px 160px 120px 120px 130px 180px 70px 70px 80px 110px 100px",alignItems:"center",width:"100%",...it.gap(k.spacingHorizontalS),padding:`${k.spacingVerticalS} 0`},expandColumn:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"32px",minWidth:"32px",maxWidth:"32px",flexShrink:0},levelBadge:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",...it.padding("0"),...it.borderRadius(k.borderRadiusSmall),backgroundColor:k.colorNeutralBackground3,color:k.colorNeutralForeground2,fontSize:k.fontSizeBase200,fontWeight:k.fontWeightSemibold,flexShrink:0},rootIcon:{color:k.colorPaletteGoldForeground1,display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",flexShrink:0},flowContainer:{width:"100%",height:"calc(100vh - 300px)",minHeight:"500px",maxHeight:"800px",border:`1px solid ${k.colorNeutralStroke2}`,...it.borderRadius(k.borderRadiusMedium),overflow:"hidden","@media (max-width: 768px)":{height:"calc(100vh - 250px)",minHeight:"400px"},"@media (max-width: 480px)":{height:"calc(100vh - 200px)",minHeight:"350px"}},flowNode:{padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground1,border:`2px solid ${k.colorNeutralStroke1}`,...it.borderRadius(k.borderRadiusMedium),minWidth:"180px",maxWidth:"250px",width:"auto",boxShadow:k.shadow4,"@media (max-width: 768px)":{minWidth:"150px",maxWidth:"200px",padding:k.spacingVerticalS},"@media (max-width: 480px)":{minWidth:"120px",maxWidth:"160px",padding:k.spacingVerticalXS}},flowNodeHeader:{fontWeight:k.fontWeightSemibold,fontSize:k.fontSizeBase400,marginBottom:k.spacingVerticalXS,color:k.colorNeutralForeground1},flowNodeContent:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,...it.margin(0)},flowNodeCustomer:{backgroundColor:k.colorBrandBackground2,borderTop:`2px solid ${k.colorBrandForeground1}`,borderRight:`2px solid ${k.colorBrandForeground1}`,borderBottom:`2px solid ${k.colorBrandForeground1}`,borderLeft:`2px solid ${k.colorBrandForeground1}`},flowNodeTenant:{backgroundColor:k.colorPaletteBlueBackground2,borderTop:`2px solid ${k.colorPaletteBlueForeground1}`,borderRight:`2px solid ${k.colorPaletteBlueForeground1}`,borderBottom:`2px solid ${k.colorPaletteBlueForeground1}`,borderLeft:`2px solid ${k.colorPaletteBlueForeground1}`},flowNodeUser:{backgroundColor:k.colorPaletteGreenBackground2,borderTop:`2px solid ${k.colorPaletteGreenForeground1}`,borderRight:`2px solid ${k.colorPaletteGreenForeground1}`,borderBottom:`2px solid ${k.colorPaletteGreenForeground1}`,borderLeft:`2px solid ${k.colorPaletteGreenForeground1}`},dragHandle:{cursor:"grab",padding:k.spacingVerticalXS,...it.borderRadius(k.borderRadiusSmall),"&:hover":{backgroundColor:k.colorNeutralBackground3},"&:active":{cursor:"grabbing"}},detailsRow:{display:"flex",justifyContent:"space-between",padding:k.spacingVerticalS,borderBottom:`1px solid ${k.colorNeutralStroke2}`},detailsLabel:{fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground2},formField:{marginBottom:k.spacingVerticalM}}),zBe=()=>{var o0,Bf,nm,a0,NB,PB,BB,RB,jB,IB,zB,LB,DB,OB,FB,UB,qB,HB,VB;const e=IBe(),{t}=Ri("backoffice"),{addGroup:n,removeGroup:r}=Ep(),{dispatchToast:i}=lH();zN();const o=dv(),[a,s]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(!1),[p,m]=x.useState(!1),[g,v]=x.useState(null),[_,y]=x.useState(null),[S,w]=x.useState(null),[C,M]=x.useState(null),[A,E]=x.useState(null),[I,N]=x.useState(""),[P,D]=x.useState(null),[q,$]=x.useState(!1),[j,O]=x.useState(!1),[z,W]=x.useState(!1),[F,V]=x.useState(!1),[H,te]=x.useState(!1),[Z,Q]=x.useState(!1),[re,ue]=x.useState(!1),[oe,be]=x.useState(!1),[ke,He]=x.useState(!1),[Je,rt]=x.useState(!1),[le,at]=x.useState(!1),[Ge,We]=x.useState(!1),[$e,et]=x.useState(!1),[Xe,X]=x.useState(!1),[Y,me]=x.useState(!1),[Ne,Re]=x.useState(!1),[Ee,Ye]=x.useState(!1),[Ze,st]=x.useState(!1),[wt,_t]=x.useState(""),[je,jt]=x.useState(""),[ve,tt]=x.useState(!1),[ze,nt]=x.useState([]),[Ve,Et]=x.useState([]),[Zt,Dt]=x.useState([]),[dt,G]=x.useState(!1),[Pe,qe]=x.useState(!1),[Bt,Tt]=x.useState(!1),[bt,Vt]=x.useState(!1),[qn,Ln]=x.useState(!1),[pn,Hn]=x.useState(!1),[fr,di]=x.useState(!1),[kr,xt]=x.useState(""),[Ur,An]=x.useState(""),[Vn,Yr]=x.useState(!0),[Er,Pn]=x.useState(""),[qr,ne]=x.useState(!1),[_e,Ae]=x.useState(!1),[se,ge]=x.useState(null),[ae,Le]=x.useState(!1),[De,ht]=x.useState(1),[Gt,yt]=x.useState(!1),[St,rn]=x.useState(new Set),[$t,nn]=x.useState(new Set),[tr,en]=x.useState(new Set),[Ot,sn]=x.useState([]),[Ut,fi]=x.useState([]),[Mr,lr]=x.useState([]),[ji,At]=x.useState(!1),[fn,Ii]=x.useState(!1),[hr,xr]=x.useState(!1),[Oo,$i]=x.useState(!1),[zi,Dn]=x.useState(""),[io,Li]=x.useState(""),[bo,gr]=x.useState(""),[Fo,xo]=x.useState(""),[oa,_i]=x.useState(""),[Uo,oo]=x.useState(""),[fe,Qe]=x.useState(""),[Nt,J]=x.useState(""),[ce,mt]=x.useState({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),[Ue,It]=x.useState({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),[Kn,ii]=x.useState({name:"",customerId:""}),[qt,Yn]=x.useState({email:"",name:"",role:"User",tenantId:"",customerId:"",contactEmail:"",phone:"",auth0Id:""}),[qo,oi]=x.useState([]),[rr,wi]=x.useState(""),[_o,Ws]=x.useState([]),[vf,Rc]=x.useState(!1),[Nl,Lp]=x.useState(null),[Dp,Tn]=x.useState(null),[Hv,Ho]=x.useState(null),[ss,Op]=x.useState("details"),[Qu,yf]=x.useState("details"),[wo,Fp]=x.useState([]),[Gs,Y1]=x.useState([]),[Vv,TB]=x.useState(new Set),[ls,kB]=x.useState(new Set),[J1,Pl]=x.useState(new Set),[Jn,Si]=x.useState(""),[Ba,bf]=x.useState(""),[aa,xf]=x.useState(""),[Ra,Up]=x.useState(""),[jc,_f]=x.useState(!1),[qp,Hp]=x.useState(!1),[Bl,ja]=x.useState(!1),[ed,$s]=x.useState(!1),[So,Vp]=x.useState(!1),[Wp,Wv]=x.useState(!1),[ao,Ic]=x.useState([]),[Xs,Gv]=x.useState(!1),td=x.useRef(!1),$v=x.useRef(!1),Vo=x.useCallback(async R=>{try{return await Promise.all(R.map(async Me=>{try{const[Oe,gt,Wt]=await Promise.allSettled([Yt.getCustomerTenants(Me.id),En.getOfficesByCustomer(Me.id),Yt.getCustomerUsers(Me.id)]),mn=Oe.status==="fulfilled"?Oe.value.length:0,Zi=gt.status==="fulfilled"?gt.value.length:0,ca=Wt.status==="fulfilled"?Wt.value.length:0;return{...Me,tenantCount:mn,officeCount:Zi,userCount:ca}}catch(Oe){return console.error(`[CustomersPage] Error calculando conteos para cliente ${Me.id}:`,Oe),{...Me,tenantCount:0,officeCount:0,userCount:0}}}))}catch(ee){return console.error("[CustomersPage] Error calculando conteos de clientes:",ee),R}},[]),cr=x.useCallback(async()=>{if(td.current){console.log("[CustomersPage] loadCustomers ya est en ejecucin, ignorando llamada duplicada");return}try{td.current=!0,f(!0),v(null),console.log("[CustomersPage] Cargando clientes...");const R=await Yt.getAllCustomers();console.log("[CustomersPage] Clientes cargados:",R.length),console.log("[CustomersPage] Calculando conteos de tenants, sedes y usuarios...");const ee=await Vo(R);s(ee),console.log("[CustomersPage] Conteos calculados correctamente")}catch(R){console.error("[CustomersPage] Error cargando clientes:",R),v(R.message||"Error al cargar clientes")}finally{f(!1),td.current=!1}},[Vo]),Q1=x.useCallback(async()=>{try{const R=await gP.getAllCountries();u(R)}catch(R){console.error("[CustomersPage] Error cargando pases:",R)}},[]);x.useEffect(()=>{!td.current&&!$v.current&&($v.current=!0,cr(),Q1())},[]),x.useEffect(()=>(n({id:"customers",label:t("customers.title"),icon:l.jsx(Ld,{}),items:[{id:"create",label:t("ribbonBar.new"),icon:l.jsx(Wr,{}),action:()=>{mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),Yr(!0),Pn(""),ne(!1),Dn(""),Li(""),y(null),$(!0)}}]}),()=>{r("customers")}),[n,r]);const Xi=a.filter(R=>{var ee;return R.name.toLowerCase().includes(I.toLowerCase())||R.identification.toLowerCase().includes(I.toLowerCase())||((ee=R.countryName)==null?void 0:ee.toLowerCase().includes(I.toLowerCase()))}),e_=x.useMemo(()=>{if(!zi.trim())return c;const R=zi.toLowerCase();return c.filter(ee=>ee.name.toLowerCase().includes(R)||ee.isoCode.toLowerCase().includes(R))},[c,zi]),zc=x.useMemo(()=>{if(!io.trim())return a;const R=io.toLowerCase();return a.filter(ee=>ee.name.toLowerCase().includes(R)||ee.identification.toLowerCase().includes(R))},[a,io]),t_=x.useMemo(()=>{if(!bo.trim())return c;const R=bo.toLowerCase();return c.filter(ee=>ee.name.toLowerCase().includes(R)||ee.isoCode.toLowerCase().includes(R))},[c,bo]),nd=x.useMemo(()=>{if(!Fo.trim())return a.filter(ee=>ee.id!==(P==null?void 0:P.id));const R=Fo.toLowerCase();return a.filter(ee=>ee.id!==(P==null?void 0:P.id)).filter(ee=>ee.name.toLowerCase().includes(R)||ee.identification.toLowerCase().includes(R))},[a,Fo,P]),Xv=x.useMemo(()=>{if(!oa.trim())return Ve;const R=oa.toLowerCase();return Ve.filter(ee=>ee.name.toLowerCase().includes(R))},[Ve,oa]),wf=x.useMemo(()=>{if(!Uo.trim())return Ve;const R=Uo.toLowerCase();return Ve.filter(ee=>ee.name.toLowerCase().includes(R))},[Ve,Uo]),n_=x.useMemo(()=>{const R=qo.filter(Me=>Me.tenantId===qt.tenantId);if(!fe.trim())return R;const ee=fe.toLowerCase();return R.filter(Me=>Me.name.toLowerCase().includes(ee))},[qo,qt.tenantId,fe]),Zs=x.useMemo(()=>{const R=[{value:"User",label:"Usuario"},{value:"Admin",label:"Administrador"}];if(!Nt.trim())return R;const ee=Nt.toLowerCase();return R.filter(Me=>Me.label.toLowerCase().includes(ee))},[Nt]),[Lc,r_]=x.useState(new Set),[sa,Dc]=x.useState(null),[Ks,Sf]=x.useState(null),[Ci,i_]=x.useState("table"),[cs,Cf]=x.useState("table"),[Tf,Oc]=x.useState([]),[rd,Rl]=x.useState([]),[kf,jl]=x.useState(!1),Fc=x.useRef(!1),[Zv,Kv]=x.useState(new Map),[EB,Ef]=x.useState(new Map),[o_,Yv]=x.useState({width:window.innerWidth,height:window.innerHeight});x.useEffect(()=>{const R=()=>{Yv({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const Jv=x.useCallback(R=>{const ee=new Map,Me=[];R.forEach(gt=>{ee.set(gt.id,{...gt,children:[],level:0})}),R.forEach(gt=>{const Wt=ee.get(gt.id);if(gt.parentId){const mn=ee.get(gt.parentId);mn?mn.children.push(Wt):Me.push(Wt)}else Me.push(Wt)});const Oe=(gt,Wt)=>{gt.level=Wt,gt.children.forEach(mn=>{Oe(mn,Wt+1)})};return Me.forEach(gt=>{Oe(gt,0)}),Me},[])(Xi),la=x.useCallback(R=>{const ee=[],Me=Oe=>{Oe.forEach(gt=>{ee.push(gt),Lc.has(gt.id)&&gt.children.length>0&&Me(gt.children)})};return Me(R),ee},[Lc])(Jv),Mf=R=>{r_(ee=>{const Me=new Set(ee);return Me.has(R)?Me.delete(R):Me.add(R),Me})},a_=(R,ee)=>{Dc(ee),R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("text/plain",ee)},Af=(R,ee)=>{R.preventDefault(),R.dataTransfer.dropEffect="move",sa&&sa!==ee&&Sf(ee)},s_=()=>{Sf(null)},Qv=async(R,ee)=>{if(R.preventDefault(),Sf(null),!sa||sa===ee){Dc(null);return}if(!a.find(gt=>gt.id===sa)){Dc(null);return}const Oe=(gt,Wt)=>{const mn=a.find(Zi=>Zi.id===Wt);return!mn||!mn.parentId?!1:mn.parentId===gt?!0:Oe(gt,mn.parentId)};if(Oe(sa,ee)){v("No se puede asignar un cliente como padre de su descendiente"),Dc(null);return}try{v(null),Vt(!0),await Yt.assignParentToCustomer(sa,ee),await cr()}catch(gt){v(gt.message||"Error al reasignar cliente")}finally{Vt(!1),Dc(null)}},l_=async R=>{if(R.preventDefault(),Sf(null),!!sa)try{v(null),Vt(!0),await Yt.assignParentToCustomer(sa,void 0),await cr()}catch(ee){v(ee.message||"Error al convertir cliente en raz")}finally{Vt(!1),Dc(null)}},id=async R=>{D(R),yf("details"),mt({name:R.name,identification:R.identification,countryId:R.countryId,stateProvince:R.stateProvince||"",city:R.city||"",phone:R.phone||"",email:R.email||""}),gr("");try{qe(!0),Tt(!0),G(!0);const[ee,Me,Oe]=await Promise.all([Yt.getCustomerTenants(R.id),En.getOfficesByCustomer(R.id),Yt.getCustomerUsers(R.id)]);Et(ee),Dt(Me),nt(Oe),ee.length>0&&setTimeout(()=>{Ys()},100)}catch(ee){console.error("[CustomersPage] Error cargando datos del cliente:",ee),Et([]),Dt([]),nt([])}finally{qe(!1),Tt(!1),G(!1)}W(!0)},c_=async()=>{if(!ce.name.trim()||!ce.identification.trim()||!ce.countryId){y("Nombre, identificacin y pas son requeridos");return}if(Vn&&!Er){y("Debe seleccionar un cliente padre");return}try{y(null),O(!0);const R={...ce,parentId:Vn&&Er?Er:void 0,skipDefaultStructure:qr};await Yt.createCustomer(R),$(!1),O(!1),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),Yr(!1),Pn(""),ne(!1),Dn(""),Li(""),y(null),await cr()}catch(R){y(R.message||"Error al crear cliente"),O(!1)}},Il=(R,ee)=>{if(ee.open===!1){if(j)return;if(ce.name.trim()||ce.identification.trim()||ce.countryId||ce.stateProvince.trim()||ce.city.trim()||ce.phone.trim()||ce.email.trim()||Vn||Er){window.confirm("Est seguro de que desea cerrar? Se perdern los datos no guardados.")&&($(!1),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),Yr(!1),Pn(""),ne(!1),Dn(""),Li(""),y(null));return}}$(ee.open)},Gp=(R,ee)=>{if(ee.open===!1){if(F)return;if(!P){W(!1),Et([]),D(null),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr("");return}if(ce.name!==P.name||ce.identification!==P.identification||ce.countryId!==P.countryId||ce.stateProvince!==(P.stateProvince||"")||ce.city!==(P.city||"")||ce.phone!==(P.phone||"")||ce.email!==(P.email||"")){window.confirm("Est seguro de que desea cerrar? Se perdern los cambios no guardados.")&&(W(!1),Et([]),D(null),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr(""),v(null));return}else W(!1),Et([]),D(null),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr(""),v(null)}ee.open===!0&&W(!0)},$p=(R,ee)=>{ee.open===!1?(Q(!1),D(null)):Q(!0)},u_=async()=>{if(P)try{v(null),xr(!0),await Yt.assignTenantToCustomer(P.id,kr||void 0),rt(!1),xt("");const R=await Yt.getCustomerTenants(P.id);Et(R);const ee=await Yt.getCustomerById(P.id);ee&&D(ee),await cr()}catch(R){v(R.message||"Error al asignar tenant")}finally{xr(!1)}},us=async R=>{D(R),te(!0),ht(1),yt(!1),rn(new Set),nn(new Set),en(new Set),At(!0);try{const[ee,Me,Oe]=await Promise.all([Yt.getCustomerTenants(R.id),En.getOfficesByCustomer(R.id),Yt.getCustomerUsers(R.id)]);sn(ee),fi(Me);const gt=new Set(ee.map(On=>On.id));rn(gt);const Wt=new Set(Me.map(On=>On.id));nn(Wt);const mn=ee.map(On=>vn.getUsersByTenantId(On.id).catch(()=>[])),ca=(await Promise.all(mn)).flat(),Co=Me.map(On=>En.getOfficeUsers(On.id).catch(()=>[])),Go=(await Promise.all(Co)).flat().map(On=>On.id&&On.email?{id:On.id,email:On.email,name:On.name||null,tenantId:On.tenantId||null,customerId:On.customerId||null,role:On.role===1||On.role==="Admin"?"Admin":"User",contactEmail:On.contactEmail||null,phone:On.phone||null,auth0Id:On.auth0Id||null,createdAt:On.createdAt||"",updatedAt:On.updatedAt||"",isActive:On.isActive??On.IsActive??!0,isSuspended:On.isSuspended??On.IsSuspended??!1}:null).filter(On=>On!==null),_r=[...Oe,...ca,...Go],Js=new Map;_r.forEach(On=>{Js.has(On.id)||Js.set(On.id,On)});const WB=Array.from(Js.values());lr(WB);const xX=new Set(WB.map(On=>On.id));en(xX)}catch(ee){v(ee.message||"Error al cargar datos relacionados")}finally{At(!1)}},e0=async R=>{try{await Yt.suspendCustomer(R.id),await cr()}catch(ee){v(ee.message||"Error al suspender cliente")}},t0=async R=>{try{await Yt.activateCustomer(R.id),await cr()}catch(ee){v(ee.message||"Error al activar cliente")}},od=async R=>{D(R),Op("details"),Q(!0);try{qe(!0),Tt(!0),G(!0);const[ee,Me,Oe]=await Promise.all([Yt.getCustomerTenants(R.id),En.getOfficesByCustomer(R.id),Yt.getCustomerUsers(R.id)]);Et(ee),Dt(Me),nt(Oe)}catch(ee){console.error("[CustomersPage] Error cargando datos del cliente:",ee)}finally{qe(!1),Tt(!1),G(!1)}};x.useEffect(()=>{if(Z){Ln(!0);const R=setTimeout(()=>{Ln(!1)},300);return()=>clearTimeout(R)}else Ln(!1)},[Z]),x.useEffect(()=>{if(q){Hn(!0);const R=setTimeout(()=>{Hn(!1)},200);return()=>clearTimeout(R)}else Hn(!1)},[q]),x.useEffect(()=>{if(z){di(!0);const R=setTimeout(()=>{di(!1)},300);return()=>clearTimeout(R)}else di(!1)},[z]);const d_=async R=>{D(R),G(!0),ue(!0);try{const ee=await Yt.getCustomerUsers(R.id);nt(ee)}catch(ee){v(ee.message||"Error al cargar usuarios")}finally{G(!1)}},Nf=async R=>{D(R),qe(!0),be(!0);try{const ee=await Yt.getCustomerTenants(R.id);Et(ee)}catch(ee){v(ee.message||"Error al cargar tenants")}finally{qe(!1)}},ad=async R=>{D(R),Tt(!0),He(!0);try{const ee=await En.getOfficesByCustomer(R.id);Dt(ee)}catch(ee){v(ee.message||"Error al cargar sedes")}finally{Tt(!1)}},n0=async R=>{Le(!0),Ae(!0);try{const ee=await In.getTenantById(R);ge(ee)}catch(ee){v(ee.message||"Error al cargar informacin del tenant"),ge(null)}finally{Le(!1)}},zl=x.useCallback(async()=>{if(P)try{$s(!0);const ee=(await In.getAllTenants()).filter(Me=>Me.customerId!==P.id);Fp(ee)}catch(R){console.error("[CustomersPage] Error cargando todos los tenants:",R)}finally{$s(!1)}},[P]),Uc=x.useCallback(async()=>{if(P)try{Vp(!0);const R=await vn.getAllUsers(),ee=new Set(ze.map(Oe=>Oe.id)),Me=R.filter(Oe=>!ee.has(Oe.id));Y1(Me)}catch(R){console.error("[CustomersPage] Error cargando todos los usuarios:",R)}finally{Vp(!1)}},[P,ze]),Ys=x.useCallback(async()=>{if(!P||Ve.length===0){Ic([]);return}try{Gv(!0),console.log("[CustomersPage] Cargando sedes de tenants:",Ve.length);const R=Ve.map(Wt=>En.getOfficesByTenant(Wt.id).catch(mn=>(console.error(`[CustomersPage] Error cargando sedes del tenant ${Wt.id}:`,mn),[]))),Me=(await Promise.all(R)).flat();console.log("[CustomersPage] Sedes de todos los tenants:",Me.length),console.log("[CustomersPage] Sedes del cliente actuales:",Zt.length);const Oe=new Set(Zt.map(Wt=>Wt.id)),gt=Me.filter(Wt=>!Oe.has(Wt.id));console.log("[CustomersPage] Sedes disponibles para agregar:",gt.length),console.log("[CustomersPage] IDs de sedes del cliente:",Array.from(Oe)),console.log("[CustomersPage] IDs de sedes de tenants:",Me.map(Wt=>Wt.id)),console.log("[CustomersPage] Sedes disponibles:",gt.map(Wt=>({id:Wt.id,name:Wt.name}))),Ic(gt)}catch(R){console.error("[CustomersPage] Error cargando sedes disponibles de tenants:",R),Ic([])}finally{Gv(!1)}},[P,Ve,Zt]);x.useEffect(()=>{Z&&P&&(zl(),Uc())},[Z,P,zl,Uc]),x.useEffect(()=>{z&&P&&(zl(),Uc())},[z,P,zl,Uc]),x.useEffect(()=>{(Z||z)&&P&&Ve.length>0?(console.log("[CustomersPage] useEffect: Cargando sedes disponibles, tenants:",Ve.length,"sedes actuales:",Zt.length),console.log("[CustomersPage] useEffect: IDs de tenants:",Ve.map(R=>R.id)),Ys()):(Z||z)&&P&&Ve.length===0&&(console.log("[CustomersPage] useEffect: No hay tenants, limpiando sedes disponibles"),Ic([]))},[Z,z,P==null?void 0:P.id,Ve,Zt,Ys]);const Xp=async()=>{if(!(!P||!Jn))try{_f(!0),v(null);const R=wo.find(gt=>gt.id===Jn);R&&await In.updateTenant(Jn,{name:R.name,customerId:P.id}),Si("");const ee=await Yt.getCustomerTenants(P.id);Et(ee);const Me=await En.getOfficesByCustomer(P.id);Dt(Me),await zl(),await Ys(),await cr();const Oe=await Yt.getCustomerById(P.id);Oe&&D(Oe)}catch(R){v(R.message||"Error al asignar tenant")}finally{_f(!1)}},Zp=async R=>{if(P)try{_f(!0),v(null);const ee=Ve.find(Wt=>Wt.id===R);ee&&await In.updateTenant(R,{name:ee.name,customerId:"00000000-0000-0000-0000-000000000000"});const Me=await Yt.getCustomerTenants(P.id);Et(Me);const Oe=await En.getOfficesByCustomer(P.id);Dt(Oe),await zl(),await Ys(),await cr();const gt=await Yt.getCustomerById(P.id);gt&&D(gt)}catch(ee){console.error("[CustomersPage] Error al desasignar tenant:",ee),v(ee.message||"Error al desasignar tenant")}finally{_f(!1)}},Kp=async()=>{if(!(!P||!aa||!Jn))try{ja(!0),v(null),await vn.assignTenantToUser(aa,Jn),xf(""),Si("");const R=await Yt.getCustomerUsers(P.id);nt(R),await Uc(),await cr();const ee=await Yt.getCustomerById(P.id);ee&&D(ee)}catch(R){v(R.message||"Error al asignar usuario")}finally{ja(!1)}},Yp=async R=>{if(P)try{ja(!0),v(null);const ee=await vn.getUserTenants(R),Me=new Set(Ve.map(mn=>mn.id)),Oe=ee.filter(mn=>Me.has(mn.id||mn.tenantId)).map(mn=>vn.removeTenantFromUser(R,mn.id||mn.tenantId));await Promise.all(Oe);const gt=await Yt.getCustomerUsers(P.id);nt(gt),await Uc(),await cr();const Wt=await Yt.getCustomerById(P.id);Wt&&D(Wt)}catch(ee){v(ee.message||"Error al desasignar usuario")}finally{ja(!1)}},r0=async()=>{if(!P||!Ra||!Ue.name.trim()){v("El nombre de la sede y el tenant son requeridos");return}try{Wv(!0),v(null),await En.createOffice({...Ue,tenantId:Ra}),It({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),Up(""),bf("");const R=await En.getOfficesByCustomer(P.id);if(Dt(R),await Ys(),await cr(),P){const ee=await Yt.getCustomerById(P.id);ee&&D(ee)}}catch(R){v(R.message||"Error al crear sede")}finally{Wv(!1)}},Jp=async()=>{if(!(!P||!Ba))try{Hp(!0),v(null),await Yt.assignOfficeToCustomer(P.id,Ba);const R=await En.getOfficesByCustomer(P.id);Dt(R),await Ys(),await cr();const ee=await Yt.getCustomerById(P.id);ee&&D(ee),bf("")}catch(R){console.error("[CustomersPage] Error al agregar sede existente:",R),v(R.message||"Error al agregar sede")}finally{Hp(!1)}},Qp=async R=>{D(R),w(null),et(!0);try{const ee=await Yt.getCustomerTenants(R.id);Et(ee);const Me=ee.length>0?ee[0].id:"";It({tenantId:Me,name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),_i("")}catch(ee){console.error("Error cargando tenants:",ee),Et([]),It({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),_i("")}},i0=async R=>{if(D(R),M(null),ii({name:"",customerId:R.id}),Si(""),(R.tenantCount??0)===0)try{$s(!0);const Oe=(await In.getAllTenants()).filter(gt=>gt.customerId!==R.id);Fp(Oe)}catch(Me){console.error("[CustomersPage] Error cargando todos los tenants:",Me)}finally{$s(!1)}X(!0)},h=async R=>{D(R);try{const[ee,Me]=await Promise.all([Yt.getCustomerTenants(R.id),En.getOfficesByCustomer(R.id)]);if(ee.length===0||Me.length===0){i("No se puede crear un usuario para un cliente que no tiene tenants y sedes",{intent:"warning"});return}Et(ee),oi(Me);const Oe=ee.length>0?ee[0].id:"",gt=Me.filter(Wt=>Wt.tenantId===Oe).length>0?Me.filter(Wt=>Wt.tenantId===Oe)[0].id:"";Yn({email:"",name:"",role:"User",tenantId:Oe,customerId:R.id,contactEmail:"",phone:"",auth0Id:""}),wi(gt),oo(""),Qe(""),J(""),E(null),me(!0)}catch(ee){console.error("Error cargando datos del cliente:",ee),i("Error al cargar la informacin del cliente",{intent:"error"})}},b=async R=>{try{Rc(!0),Lp(R.id);const ee=await Yt.getCustomerUsers(R.id);Ws(ee)}catch(ee){console.error("Error cargando usuarios:",ee),i("Error al cargar los usuarios del cliente",{intent:"error"}),Lp(null)}finally{Rc(!1)}},T=R=>{(R.userCount??0)>0?b(R):h(R)},B=async()=>{if(!P||!Ue.name.trim()){w("El nombre de la sede es requerido");return}if(!Ue.tenantId){w("El tenant es requerido");return}try{w(null),Re(!0),await En.createOffice(Ue),et(!1),It({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),_i(""),w(null),await cr(),Ci==="flow"&&await Hr()}catch(R){w(R.message||"Error al crear sede")}finally{Re(!1)}},U=async()=>{if(!P||!Kn.name.trim()){M("El nombre del tenant es requerido");return}try{M(null),Ye(!0),await In.createTenant(Kn),X(!1),ii({name:"",customerId:""}),M(null),await cr(),Ci==="flow"&&await Hr()}catch(R){M(R.message||"Error al crear tenant")}finally{Ye(!1)}},K=async()=>{if(!P||!Jn){M("Debe seleccionar un tenant");return}try{M(null),Ye(!0);const R=wo.find(ee=>ee.id===Jn);R&&await In.updateTenant(Jn,{name:R.name,customerId:P.id}),X(!1),Si(""),M(null),await cr(),Ci==="flow"&&await Hr()}catch(R){M(R.message||"Error al asignar tenant")}finally{Ye(!1)}},de=async()=>{var R;if(!P||!qt.email.trim()){E("El email es requerido");return}if(!qt.tenantId){E("El tenant es requerido");return}try{E(null),st(!0);const ee={...qt,officeId:rr||void 0,auth0Id:((R=qt.auth0Id)==null?void 0:R.trim())||void 0};await vn.createUser(ee),me(!1),Yn({email:"",name:"",role:"User",tenantId:"",customerId:"",contactEmail:"",phone:"",auth0Id:""}),wi(""),oo(""),Qe(""),J(""),E(null),await cr(),Ci==="flow"&&await Hr()}catch(ee){E(ee.message||"Error al crear usuario")}finally{st(!1)}},Te=R=>{D(R),_t(""),jt(""),We(!0)},Be=async()=>{if(!P||!wt.trim()||!je.trim()){v("El ttulo y el mensaje son requeridos");return}try{v(null),tt(!0);const R=await Xn.notifyCustomerUsers(P.id,{title:wt,message:je});We(!1),_t(""),jt(""),v(null),alert(R.message)}catch(R){v(R.message||"Error al enviar notificaciones")}finally{tt(!1)}},ot=R=>{D(R),An(R.parentId||""),xo(""),at(!0)},Pt=async()=>{if(P)try{v(null),$i(!0),await Yt.assignParentToCustomer(P.id,Ur||void 0),at(!1),An(""),xo(""),await cr(),Ci==="flow"&&await Hr()}catch(R){v(R.message||"Error al asignar cliente padre")}finally{$i(!1)}},Kt=x.useCallback((R,ee,Me="TB")=>{const Oe=new dp.graphlib.Graph;Oe.setDefaultEdgeLabel(()=>({}));const gt=window.innerWidth<768,Wt=window.innerWidth>=768&&window.innerWidth<1024,mn=gt?50:Wt?75:100,Zi=gt?100:Wt?120:150,ca=gt?20:50,Co=gt?20:50;Oe.setGraph({rankdir:Me,nodesep:mn,ranksep:Zi,marginx:ca,marginy:Co});const ds=gt?150:Wt?180:220,kn=gt?100:Wt?110:120;return R.forEach(_r=>{Oe.setNode(_r.id,{width:ds,height:kn})}),ee.forEach(_r=>{Oe.setEdge(_r.source,_r.target)}),dp.layout(Oe),{nodes:R.map(_r=>{const Js=Oe.node(_r.id);return{..._r,position:{x:Js.x-ds/2,y:Js.y-kn/2}}}),edges:ee}},[]),hn=x.useRef(!1);x.useEffect(()=>{if(Ci==="flow"&&Tf.length>0&&!hn.current){hn.current=!0;const R=setTimeout(()=>{const ee=Tf.map(gt=>({...gt,position:{x:0,y:0}})),{nodes:Me,edges:Oe}=Kt(ee,rd,"TB");Oc(Me),Rl(Oe),hn.current=!1},300);return()=>{clearTimeout(R),hn.current=!1}}},[o_.width,Ci,Kt]);const Hr=x.useCallback(async()=>{if(Xi.length===0){Oc([]),Rl([]);return}if(Fc.current){console.log("[CustomersPage] loadFlowData ya est en ejecucin, ignorando llamada duplicada");return}Fc.current=!0,jl(!0);try{const R=new Map,ee=new Map;for(const mn of Xi)try{const Zi=await Yt.getCustomerTenants(mn.id);R.set(mn.id,Zi);for(const ca of Zi)try{const Co=await In.getTenantUsers(ca.id);ee.set(ca.id,Co)}catch(Co){console.error(`Error cargando usuarios del tenant ${ca.id}:`,Co),ee.set(ca.id,[])}}catch(Zi){console.error(`Error cargando tenants del cliente ${mn.id}:`,Zi),R.set(mn.id,[])}Kv(R),Ef(ee);const Me=[],Oe=[];Xi.forEach(mn=>{const Zi=`customer-${mn.id}`;Me.push({id:Zi,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeCustomer}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:mn.name}),l.jsxs("div",{className:e.flowNodeContent,children:["ID: ",mn.identification]}),l.jsxs("div",{className:e.flowNodeContent,children:["Pas: ",mn.countryName||"N/A"]}),mn.email&&l.jsxs("div",{className:e.flowNodeContent,children:["Email: ",mn.email]})]})}}),(R.get(mn.id)||[]).forEach(Co=>{const ds=`tenant-${Co.id}`;Me.push({id:ds,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeTenant}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:Co.name}),l.jsx("div",{className:e.flowNodeContent,children:Co.isSuspended?"Suspendido":Co.isActive?"Activo":"Inactivo"})]})}}),Oe.push({id:`edge-${Zi}-${ds}`,source:Zi,target:ds,type:"smoothstep"}),(ee.get(Co.id)||[]).forEach(Go=>{const _r=`user-${Go.id}`;Me.push({id:_r,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeUser}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:Go.name||Go.email}),l.jsx("div",{className:e.flowNodeContent,children:Go.email}),l.jsxs("div",{className:e.flowNodeContent,children:["Rol: ",Sm(Go.role)]})]})}}),Oe.push({id:`edge-${ds}-${_r}`,source:ds,target:_r,type:"smoothstep"})})})});const{nodes:gt,edges:Wt}=Kt(Me,Oe,"TB");Oc(gt),Rl(Wt)}catch(R){console.error("Error cargando datos del flow:",R),v(R.message||"Error al cargar datos para la vista interactiva")}finally{jl(!1),Fc.current=!1}},[Xi,e]),hi=x.useRef(0);x.useEffect(()=>{Ci==="flow"&&Xi.length>0&&(hi.current=0,Hr().catch(R=>{console.error("[CustomersPage] Error en loadFlowData:",R)}))},[Ci,Xi.length]);const Wo=x.useCallback(R=>{Oc(ee=>b1(R,ee))},[]),so=x.useCallback(R=>{Rl(ee=>x1(R,ee))},[]),qc=x.useCallback(R=>Rl(ee=>m1(R,ee)),[]),f_=async()=>{if(P){if(Ve.length===0){v("El cliente debe tener al menos un tenant asociado para poder ser editado.");return}if(!ce.name.trim()||!ce.identification.trim()||!ce.countryId){v("Nombre, identificacin y pas son requeridos");return}try{v(null),V(!0),await Yt.updateCustomer(P.id,ce),W(!1),D(null),Et([]),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr(""),await cr(),V(!1)}catch(R){v(R.message||"Error al guardar cliente"),V(!1)}}},h_=()=>{if(De===1&&!Gt){v("Debe confirmar que es consciente de las consecuencias");return}De<4&&(ht(De+1),v(null))},p_=()=>{De>1&&(ht(De-1),v(null))},em=()=>{te(!1),D(null),ht(1),yt(!1),rn(new Set),nn(new Set),en(new Set),v(null)},m_=R=>{const ee=new Set(St);if(ee.has(R)){ee.delete(R);const Me=Ut.filter(gt=>gt.tenantId===R),Oe=new Set($t);Me.forEach(gt=>{Oe.delete(gt.id)}),nn(Oe)}else{ee.add(R);const Me=Ut.filter(gt=>gt.tenantId===R),Oe=new Set($t);Me.forEach(gt=>{Oe.add(gt.id)}),nn(Oe)}rn(ee)},tm=R=>{if(!Ut.find(Oe=>Oe.id===R))return;const Me=new Set($t);Me.has(R)?Me.delete(R):Me.add(R),nn(Me)},Jr=R=>{const ee=new Set(tr);ee.has(R)?ee.delete(R):ee.add(R),en(ee)},Pf=()=>{if(Ot.every(ee=>St.has(ee.id)))rn(new Set),nn(new Set);else{const ee=new Set(Ot.map(Oe=>Oe.id));rn(ee);const Me=new Set(Ut.map(Oe=>Oe.id));nn(Me)}},g_=()=>{if(Mr.every(ee=>tr.has(ee.id)))en(new Set);else{const ee=new Set(Mr.map(Me=>Me.id));en(ee)}},v_=async()=>{if(P){Ii(!0);try{const R=Array.from(tr).map(kn=>vn.deleteUser(kn));await Promise.all(R);const ee=Mr.filter(kn=>!tr.has(kn.id)),Me=ee.map(async kn=>{try{const[Go,_r]=await Promise.all([vn.getUserTenants(kn.id).catch(()=>[]),vn.getUserOffices(kn.id).catch(()=>[])]);return{user:kn,userTenants:Go,userOffices:_r}}catch{return{user:kn,userTenants:[],userOffices:[]}}}),Oe=await Promise.all(Me),gt=new Set([...Array.from(St),...Ot.filter(kn=>!St.has(kn.id)).map(kn=>kn.id)]),Wt=[];Oe.forEach(({user:kn,userTenants:Go})=>{Go.forEach(_r=>{if(gt.has(_r.id||_r.tenantId)){const Js=_r.id||_r.tenantId;Wt.push(vn.removeTenantFromUser(kn.id,Js).catch(()=>{}))}})});const mn=new Set([...Array.from($t),...Ut.filter(kn=>!$t.has(kn.id)).map(kn=>kn.id)]);Oe.forEach(({user:kn,userOffices:Go})=>{Go.forEach(_r=>{if(mn.has(_r.id||_r.officeId)){const Js=_r.id||_r.officeId;Wt.push(vn.removeOfficeFromUser(kn.id,Js).catch(()=>{}))}})}),await Promise.all(Wt);const Zi=ee.map(kn=>vn.updateUser(kn.id,{email:kn.email,customerId:void 0,tenantId:void 0}).catch(()=>{}));await Promise.all(Zi);const ca=Array.from($t).map(kn=>En.deleteOffice(kn));await Promise.all(ca);const Co=Array.from(St).map(kn=>In.deleteTenant(kn));await Promise.all(Co);const ds=Ot.filter(kn=>!St.has(kn.id)).map(kn=>In.updateTenant(kn.id,{name:kn.name,customerId:void 0}).catch(()=>{}));await Promise.all(ds),await Yt.deleteCustomer(P.id),te(!1),D(null),ht(1),yt(!1),rn(new Set),nn(new Set),en(new Set),await cr()}catch(R){v(R.message||"Error al eliminar cliente")}finally{Ii(!1)}}};return d&&a.length===0?l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(Ld,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("customers.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("customers.searchPlaceholder"),disabled:!0,size:"large",style:{width:"100%"}})}),l.jsxs(Ka,{selectedValue:"table",disabled:!0,children:[l.jsx(ur,{value:"table",icon:l.jsx(Kh,{}),children:t("customers.tableView")}),l.jsx(ur,{value:"flow",icon:l.jsx(Yh,{}),children:t("customers.interactiveView")})]})]}),l.jsx(Pr,{children:l.jsx(RBe,{rows:8})})]}):l.jsxs("div",{className:e.container,children:[l.jsx("div",{className:e.ribbonMenuContainer,children:l.jsx(Tv,{})}),l.jsxs("div",{className:e.header,children:[l.jsx(Ld,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("customers.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("customers.searchPlaceholder"),value:I,onChange:(R,ee)=>N(ee.value),size:"large",style:{width:"100%"}})}),l.jsx(pe,{appearance:"secondary",icon:p?void 0:l.jsx(Iu,{}),onClick:async()=>{m(!0);try{await cr(),Ci==="flow"&&await Hr()}finally{m(!1)}},disabled:p,disabledFocusable:p,loading:p,title:t("customers.refreshTitle"),children:t("customers.refresh")}),l.jsxs(Ka,{selectedValue:cs,onTabSelect:(R,ee)=>{const Me=ee.value;Cf(Me),i_(Me)},children:[l.jsx(ur,{value:"table",icon:l.jsx(Kh,{}),children:t("customers.tableView")}),l.jsx(ur,{value:"flow",icon:l.jsx(Yh,{}),children:t("customers.interactiveView")})]})]}),l.jsx(Pr,{children:l.jsx(Fa,{children:l.jsxs("div",{style:{padding:k.spacingVerticalXL},children:[g&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:g.startsWith("common.")||g.startsWith("customers.")||g.startsWith("offices.")||g.startsWith("subscriptions.")?t(g):g})}),Ci==="table"&&l.jsx(l.Fragment,{children:l.jsxs("div",{style:{position:"relative"},children:[(d||bt)&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(Cn,{size:"large",label:t(bt?"customers.reorderingCustomer":"customers.loadingCustomers")})}),la.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:t("customers.noCustomersFound")})}):l.jsxs(Rn,{style:{tableLayout:"auto",width:"100%"},children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"40px",minWidth:"40px"}}),l.jsx(we,{style:{width:"80px",minWidth:"80px"},children:t("customers.level")}),l.jsx(we,{style:{width:"auto",minWidth:"150px"},children:t("customers.name")}),l.jsx(we,{style:{width:"auto",minWidth:"150px"},children:t("customers.identification")}),l.jsx(we,{style:{width:"auto",minWidth:"120px"},children:t("customers.country")}),l.jsx(we,{style:{width:"auto",minWidth:"120px"},children:t("customers.city")}),l.jsx(we,{style:{width:"auto",minWidth:"130px"},children:t("customers.phone")}),l.jsx(we,{style:{width:"auto",minWidth:"180px"},children:t("customers.email")}),l.jsx(we,{style:{width:"80px",minWidth:"80px"},children:t("customers.tenants")}),l.jsx(we,{style:{width:"80px",minWidth:"80px"},children:t("customers.offices")}),l.jsx(we,{style:{width:"80px",minWidth:"80px"},children:t("customers.users")}),l.jsx(we,{style:{width:"auto",minWidth:"110px"},children:t("customers.status")}),l.jsx(we,{style:{width:"120px",minWidth:"120px"},children:t("customers.actions")})]})}),l.jsx(Bn,{children:la.map(R=>{const ee=R.children.length>0,Me=Lc.has(R.id),Oe=!R.parentId;return l.jsxs(Mt,{draggable:!0,onDragStart:gt=>a_(gt,R.id),onDragOver:gt=>Af(gt,R.id),onDragLeave:s_,onDrop:gt=>Qv(gt,R.id),children:[l.jsx(xe,{children:ee?l.jsx("button",{onClick:()=>Mf(R.id),type:"button",style:{background:"none",border:"none",cursor:"pointer",padding:k.spacingVerticalXS,display:"flex",alignItems:"center"},children:Me?l.jsx(UN,{fontSize:16}):l.jsx(L9,{fontSize:16})}):null}),l.jsx(xe,{children:Oe?l.jsx(xie,{fontSize:16,title:t("customers.rootCustomer")}):l.jsx(Ke,{appearance:"outline",size:"small",children:R.level})}),l.jsx(xe,{children:R.name}),l.jsx(xe,{children:R.identification}),l.jsx(xe,{children:R.countryName||t("common.notAvailable")}),l.jsx(xe,{children:R.city||t("common.notAvailable")}),l.jsx(xe,{children:R.phone?l.jsxs(Vi,{open:Dp===`${R.id}-phone`,onOpenChange:(gt,Wt)=>{Tn(Wt.open?`${R.id}-phone`:null)},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto",textDecoration:"underline"},children:R.phone})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:[t("customers.contactData"),": ",R.name]}),l.jsx(qi,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:[l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.phoneLabel")}),l.jsx(ie,{children:R.phone||t("common.notAvailable")})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.emailLabel")}),l.jsx(ie,{children:R.email||t("common.notAvailable")})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.cityLabel")}),l.jsx(ie,{children:R.city||t("common.notAvailable")})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.addressLabel")}),l.jsx(ie,{children:t("common.notAvailable")})]})]})})]})]}):t("common.notAvailable")}),l.jsx(xe,{children:R.email?l.jsxs(Vi,{open:Dp===`${R.id}-email`,onOpenChange:(gt,Wt)=>{Tn(Wt.open?`${R.id}-email`:null)},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto",textDecoration:"underline"},children:R.email})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:[t("customers.contactData"),": ",R.name]}),l.jsx(qi,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:[l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.phoneLabel")}),l.jsx(ie,{children:R.phone||t("common.notAvailable")})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.emailLabel")}),l.jsx(ie,{children:R.email||t("common.notAvailable")})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.cityLabel")}),l.jsx(ie,{children:R.city||t("common.notAvailable")})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:t("customers.addressLabel")}),l.jsx(ie,{children:t("common.notAvailable")})]})]})})]})]}):t("common.notAvailable")}),l.jsx(xe,{children:(()=>{const gt=R.tenantCount??0;return gt===0?l.jsx(pe,{appearance:"subtle",onClick:()=>i0(R),style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Ke,{size:"medium",appearance:"filled",color:"informative",style:{minWidth:"24px",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:"0"})}):l.jsx(pe,{appearance:"subtle",onClick:()=>Nf(R),style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:gt,size:"medium",appearance:"filled",color:"brand"})})})()}),l.jsx(xe,{children:(()=>{const gt=R.officeCount??0;return gt===0?l.jsx(pe,{appearance:"subtle",onClick:()=>Qp(R),style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Ke,{size:"medium",appearance:"filled",color:"informative",style:{minWidth:"24px",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:"0"})}):l.jsx(pe,{appearance:"subtle",onClick:()=>ad(R),style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:gt,size:"medium",appearance:"filled",color:"brand"})})})()}),l.jsx(xe,{children:(()=>{const gt=R.userCount??0;return gt===0?l.jsx(pe,{appearance:"subtle",onClick:()=>h(R),style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Ke,{size:"medium",appearance:"filled",color:"informative",style:{minWidth:"24px",display:"inline-flex",justifyContent:"center",alignItems:"center"},children:"0"})}):l.jsxs(Vi,{open:Nl===R.id,onOpenChange:(Wt,mn)=>{Lp(mn.open?R.id:null)},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",onClick:()=>T(R),style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:gt,size:"medium",appearance:"filled",color:"brand"})})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:[t("customers.customerUsers"),": ",R.name]}),l.jsx(qi,{children:vf?l.jsx(Cn,{size:"small",label:t("customers.loadingUsers")}):l.jsx(jBe,{users:_o})})]})]})})()}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:t("customers.suspended")}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:t("customers.active")}):l.jsx(Ke,{appearance:"outline",children:t("customers.inactive")})}),l.jsx(xe,{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS},children:[l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(pv,{}),"aria-label":t("customers.actions")})}),l.jsx(Tl,{children:l.jsxs(Xu,{children:[l.jsx(zn,{icon:l.jsx(ju,{}),onClick:()=>od(R),children:t("customers.viewDetails")}),l.jsx(zn,{icon:l.jsx(zd,{}),onClick:()=>id(R),children:t("customers.edit")}),l.jsx(zn,{icon:l.jsx(cu,{}),onClick:()=>Qp(R),children:t("customers.addOffice")}),l.jsx(zn,{icon:l.jsx(Ah,{}),onClick:()=>i0(R),children:t("customers.addTenant")}),l.jsx(zn,{icon:l.jsx(gl,{}),onClick:()=>d_(R),children:t("customers.viewUsers")}),l.jsx(zn,{icon:l.jsx(gl,{}),onClick:()=>Te(R),children:t("customers.sendNotification")}),l.jsx(zn,{icon:l.jsx(jg,{}),onClick:()=>ot(R),children:t("customers.assignToCustomer")}),R.isSuspended?l.jsx(zn,{icon:l.jsx(mv,{}),onClick:()=>t0(R),children:t("customers.activate")}):l.jsx(zn,{icon:l.jsx(gv,{}),onClick:()=>e0(R),children:t("customers.suspend")}),l.jsx(zn,{icon:l.jsx(Xa,{}),onClick:()=>us(R),children:t("customers.delete")})]})})]}),l.jsx(Cie,{fontSize:16,style:{cursor:"grab"}})]})})]},R.id)})})]}),l.jsx("div",{onDragOver:R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},onDrop:l_,style:{minHeight:"50px",padding:k.spacingVerticalM,border:`2px dashed ${k.colorNeutralStroke2}`,...it.borderRadius(k.borderRadiusMedium),marginTop:k.spacingVerticalM,textAlign:"center",color:k.colorNeutralForeground3},children:l.jsx(ie,{children:t("customers.dragToRoot")})})]})}),Ci==="flow"&&l.jsxs("div",{className:e.flowContainer,style:{position:"relative"},children:[d&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(Cn,{size:"large",label:t("customers.loadingCustomers")})}),kf?l.jsx(m$,{}):l.jsx(S1,{children:l.jsxs(OP,{nodes:Tf,edges:rd,onNodesChange:Wo,onEdgesChange:so,onConnect:qc,fitView:!0,minZoom:.2,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},children:[l.jsx(FP,{}),l.jsx(UP,{}),l.jsx(qP,{}),l.jsx(df,{position:"top-left",children:l.jsxs("div",{style:{backgroundColor:k.colorNeutralBackground1,padding:k.spacingVerticalS,...it.borderRadius(k.borderRadiusMedium)},children:[l.jsx(ie,{weight:"semibold",children:t("customers.interactiveViewTitle")}),l.jsx("div",{style:{marginTop:k.spacingVerticalXS},children:l.jsx(ie,{size:200,style:{color:k.colorNeutralForeground3},children:t("customers.interactiveViewLevel")})})]})})]})})]})]})})}),l.jsxs(Rr,{...o,position:"end",size:"large",open:q,modalType:"alert",onOpenChange:Il,children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{Il({},{open:!1})}}),children:t("customers.new")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:pn||j?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[qr?l.jsx(bn,{intent:"warning",style:{marginTop:0,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:t("customers.skipDefaultStructureMessage")})}):l.jsx(bn,{intent:"info",style:{marginTop:0,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:t("customers.createDefaultTenantMessage")})}),l.jsx("div",{className:e.formField,style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalS},children:l.jsx(lc,{checked:qr,onChange:(R,ee)=>{ne(ee.checked)},label:t("customers.skipDefaultStructure")})}),l.jsx("div",{className:e.formField,style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalS},children:l.jsx(lc,{checked:Vn,onChange:(R,ee)=>{Yr(ee.checked),ee.checked||Pn("")},label:t("customers.hasParent")})}),Vn&&l.jsx(he,{label:t("customers.parentCustomer"),required:!0,className:e.formField,children:l.jsx(ln,{value:io||Er&&((o0=a.find(R=>R.id===Er))==null?void 0:o0.name)||"",onOptionSelect:(R,ee)=>{const Me=a.find(Oe=>Oe.name===ee.optionValue);Me?(Pn(Me.id),Li("")):(Pn(""),Li(""))},onInput:R=>{const ee=R.target;Li(ee.value),ee.value||Pn("")},children:zc.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," (",R.identification,")"]},R.id))})}),l.jsx(he,{label:t("customers.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:ce.name,onChange:R=>mt({...ce,name:R.target.value})})}),l.jsx(he,{label:t("customers.identification"),required:!0,className:e.formField,children:l.jsx(ye,{value:ce.identification,onChange:R=>mt({...ce,identification:R.target.value})})}),l.jsx(he,{label:t("customers.country"),required:!0,className:e.formField,children:l.jsx(ln,{value:zi||((Bf=c.find(R=>R.id===ce.countryId))==null?void 0:Bf.name)||"",onOptionSelect:(R,ee)=>{const Me=c.find(Oe=>Oe.name===ee.optionValue);Me&&(mt({...ce,countryId:Me.id}),Dn(""))},onInput:R=>{const ee=R.target;Dn(ee.value)},children:e_.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," (",R.isoCode,")"]},R.id))})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:ce.stateProvince,onChange:R=>mt({...ce,stateProvince:R.target.value})})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:ce.city,onChange:R=>mt({...ce,city:R.target.value})})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:ce.phone,onChange:R=>mt({...ce,phone:R.target.value})})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{type:"email",value:ce.email,onChange:R=>mt({...ce,email:R.target.value})})}),_&&l.jsx(bn,{intent:"error",style:{marginTop:k.spacingVerticalXL,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:_})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{ce.name.trim()||ce.identification.trim()||ce.countryId||ce.stateProvince.trim()||ce.city.trim()||ce.phone.trim()||ce.email.trim()?window.confirm("Est seguro de que desea cancelar? Se perdern los datos no guardados.")&&($(!1),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),Yr(!1),Pn(""),ne(!1),Dn(""),Li(""),y(null)):$(!1)},disabled:j,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:c_,disabled:j,loading:j,children:t(j?"common.creating":"common.create")})]})]})})})]}),l.jsxs(Rr,{...o,position:"end",size:"large",open:z,modalType:"alert",onOpenChange:Gp,children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{Gp({},{open:!1})}}),children:t("customers.edit")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:fr||F?l.jsx(ki,{rows:8}):Pe?l.jsx(ki,{rows:3}):l.jsxs(l.Fragment,{children:[g&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:g})}),l.jsxs(Ka,{selectedValue:Qu,onTabSelect:(R,ee)=>yf(ee.value),children:[l.jsx(ur,{value:"details",children:"Detalles"}),l.jsx(ur,{value:"tenants",children:"Tenants"}),l.jsx(ur,{value:"offices",children:"Sedes"}),l.jsx(ur,{value:"users",children:"Usuarios"})]}),Qu==="details"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx(he,{label:t("customers.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:ce.name,onChange:R=>mt({...ce,name:R.target.value})})}),l.jsx(he,{label:"Identificacin",required:!0,className:e.formField,children:l.jsx(ye,{value:ce.identification,onChange:R=>mt({...ce,identification:R.target.value})})}),l.jsx(he,{label:"Pas",required:!0,className:e.formField,children:l.jsx(ln,{value:bo||((nm=c.find(R=>R.id===ce.countryId))==null?void 0:nm.name)||"",onOptionSelect:(R,ee)=>{const Me=c.find(Oe=>Oe.name===ee.optionValue);Me&&(mt({...ce,countryId:Me.id}),gr(""))},onInput:R=>{const ee=R.target;gr(ee.value)},children:t_.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," (",R.isoCode,")"]},R.id))})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:ce.stateProvince,onChange:R=>mt({...ce,stateProvince:R.target.value})})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:ce.city,onChange:R=>mt({...ce,city:R.target.value})})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:ce.phone,onChange:R=>mt({...ce,phone:R.target.value})})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{type:"email",value:ce.email,onChange:R=>mt({...ce,email:R.target.value})})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{if(!P){W(!1),Et([]),D(null),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr("");return}ce.name!==P.name||ce.identification!==P.identification||ce.countryId!==P.countryId||ce.stateProvince!==(P.stateProvince||"")||ce.city!==(P.city||"")||ce.phone!==(P.phone||"")||ce.email!==(P.email||"")?window.confirm(t("common.confirmCancelChanges"))&&(W(!1),Et([]),D(null),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr(""),v(null)):(W(!1),Et([]),D(null),mt({name:"",identification:"",countryId:"",stateProvince:"",city:"",phone:"",email:""}),gr(""),v(null))},disabled:F,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:f_,disabled:F,children:F?"Guardando...":"Guardar"})]})]}),Qu==="tenants"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM},children:l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center"},children:[l.jsx(ln,{placeholder:"Seleccionar tenant para asignar",value:Jn&&((a0=wo.find(R=>R.id===Jn))==null?void 0:a0.name)||"",onOptionSelect:(R,ee)=>{const Me=wo.find(Oe=>Oe.name===ee.optionValue);Me&&Si(Me.id)},style:{width:"300px"},children:wo.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," ",R.customerName?`(${R.customerName})`:""]},R.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Xp,disabled:!Jn||jc||ed,children:"Agregar"})]})}),Pe?l.jsx(Cn,{label:"Cargando tenants..."}):l.jsx("div",{children:Ve.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay tenants asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Estado"}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:Ve.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Xa,{}),onClick:()=>Zp(R.id),disabled:jc,children:"Desasignar"})})]},R.id))})]})})]}),Qu==="offices"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM,marginBottom:k.spacingVerticalM},children:[Ve.length>0&&l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap",padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground2,borderRadius:k.borderRadiusMedium},children:[l.jsx(ie,{weight:"semibold",style:{width:"100%"},children:"Agregar Sede Existente"}),l.jsx(ln,{placeholder:"Seleccionar sede de los tenants asignados",value:Ba&&((NB=ao.find(R=>R.id===Ba))==null?void 0:NB.name)||"",onOptionSelect:(R,ee)=>{const Me=ao.find(Oe=>Oe.name===ee.optionValue);Me&&bf(Me.id)},style:{width:"300px"},disabled:Xs||ao.length===0,children:ao.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," ",R.city?`(${R.city})`:""," - ",R.tenantName||"N/A"]},R.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Jp,disabled:!Ba||qp||Xs||ao.length===0,children:"Agregar Sede"}),Xs&&l.jsx(Cn,{size:"small",label:"Cargando sedes..."}),!Xs&&ao.length===0&&Ve.length>0&&l.jsx(ie,{size:300,style:{color:k.colorNeutralForeground3},children:"No hay sedes disponibles para agregar"})]}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap",padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground2,borderRadius:k.borderRadiusMedium},children:[l.jsx(ie,{weight:"semibold",style:{width:"100%"},children:"Crear Nueva Sede"}),l.jsx(ln,{placeholder:t("customers.selectTenantPlaceholder"),value:Ra&&((PB=Ve.find(R=>R.id===Ra))==null?void 0:PB.name)||"",onOptionSelect:(R,ee)=>{const Me=Ve.find(Oe=>Oe.name===ee.optionValue);Me&&Up(Me.id)},style:{width:"200px"},disabled:Ve.length===0,children:Ve.map(R=>l.jsx(Jt,{value:R.name,children:R.name},R.id))}),l.jsx(ye,{placeholder:"Nombre de la sede",value:Ue.name,onChange:R=>It({...Ue,name:R.target.value}),style:{width:"200px"},disabled:!Ra||Ve.length===0}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:r0,disabled:!Ra||!Ue.name.trim()||Wp||Ve.length===0,children:"Crear Sede"})]}),Ve.length===0&&l.jsx(bn,{intent:"warning",children:l.jsx(xn,{children:"Debe asignar al menos un tenant al cliente antes de poder crear o agregar sedes."})})]}),Bt?l.jsx(Cn,{label:"Cargando sedes..."}):l.jsx("div",{children:Zt.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay sedes asignadas"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Ciudad"}),l.jsx(we,{children:"Tenant"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:Zt.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name}),l.jsx(xe,{children:R.city||"N/A"}),l.jsx(xe,{children:R.tenantName||"N/A"}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendida"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activa"}):l.jsx(Ke,{appearance:"outline",children:"Inactiva"})})]},R.id))})]})})]}),Qu==="users"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM},children:l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap"},children:[l.jsx(ln,{placeholder:t("customers.selectTenantPlaceholder"),value:Jn&&((BB=Ve.find(R=>R.id===Jn))==null?void 0:BB.name)||"",onOptionSelect:(R,ee)=>{const Me=Ve.find(Oe=>Oe.name===ee.optionValue);Me&&Si(Me.id)},style:{width:"200px"},disabled:Ve.length===0,children:Ve.map(R=>l.jsx(Jt,{value:R.name,children:R.name},R.id))}),l.jsx(ln,{placeholder:t("users.selectUserToAssign"),value:aa&&(((RB=Gs.find(R=>R.id===aa))==null?void 0:RB.name)||((jB=Gs.find(R=>R.id===aa))==null?void 0:jB.email))||"",onOptionSelect:(R,ee)=>{const Me=Gs.find(Oe=>Oe.email===ee.optionValue||Oe.name===ee.optionValue);Me&&xf(Me.id)},style:{width:"300px"},disabled:!Jn||Ve.length===0,children:Gs.map(R=>l.jsxs(Jt,{value:R.email,children:[R.name||R.email," ",R.email!==R.name?`(${R.email})`:""]},R.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Kp,disabled:!aa||!Jn||Bl||So||Ve.length===0,children:"Agregar"})]})}),dt?l.jsx(Cn,{label:"Cargando usuarios..."}):l.jsx("div",{children:ze.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay usuarios asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Email"}),l.jsx(we,{children:"Rol"}),l.jsx(we,{children:"Estado"}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:ze.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name||"N/A"}),l.jsx(xe,{children:R.email}),l.jsx(xe,{children:Sm(R.role)}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Xa,{}),onClick:()=>Yp(R.id),disabled:Bl,children:"Desasignar"})})]},R.id))})]})})]})]})})})]}),l.jsx(Qn,{open:Je,onOpenChange:(R,ee)=>rt(ee.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Asignar Tenant"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:e.detailsContent,children:[l.jsx(bn,{intent:"info",children:l.jsxs(xn,{children:['Se crear un nuevo tenant para el cliente "',P==null?void 0:P.name,'".']})}),l.jsx(he,{label:"Nombre del Tenant (opcional)",className:e.formField,children:l.jsx(ye,{value:kr,onChange:R=>xt(R.target.value),placeholder:"Si se deja vaco, se generar automticamente"})})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{rt(!1),xt("")},children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:u_,disabled:hr,loading:hr,children:"Asignar Tenant"})]})]})}),l.jsx(Qn,{open:H,onOpenChange:(R,ee)=>{ee.open||em()},children:l.jsxs(or,{style:{minWidth:"600px",maxWidth:"800px"},children:[l.jsx(mr,{children:"Confirmar eliminacin de cliente"}),l.jsx(ir,{children:l.jsx($r,{children:ji?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:k.spacingVerticalXL},children:l.jsx(Cn,{size:"large"})}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:k.spacingVerticalL,padding:k.spacingVerticalM,borderBottom:`1px solid ${k.colorNeutralStroke2}`},children:[1,2,3,4].map(R=>l.jsxs("div",{style:{flex:1,textAlign:"center",position:"relative"},children:[l.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:De>=R?k.colorBrandBackground:k.colorNeutralBackground3,color:De>=R?k.colorNeutralForegroundOnBrand:k.colorNeutralForeground3,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto",fontWeight:"bold"},children:R}),l.jsxs(ie,{size:200,style:{marginTop:k.spacingVerticalXS,color:De>=R?k.colorNeutralForeground1:k.colorNeutralForeground3},children:[R===1&&"Confirmacin",R===2&&"Tenants",R===3&&"Sedes",R===4&&"Usuarios"]}),R<4&&l.jsx("div",{style:{position:"absolute",top:"16px",left:"calc(50% + 16px)",width:"calc(100% - 32px)",height:"2px",backgroundColor:De>R?k.colorBrandBackground:k.colorNeutralStroke2,zIndex:-1}})]},R))}),De===1&&l.jsxs("div",{children:[l.jsxs(ie,{size:400,weight:"semibold",style:{marginBottom:k.spacingVerticalM},children:['Est seguro de que desea eliminar el cliente "',P==null?void 0:P.name,'"?']}),l.jsx(ie,{style:{marginBottom:k.spacingVerticalL},children:"Esta accin eliminar:"}),l.jsxs("ul",{style:{marginLeft:k.spacingHorizontalL,marginBottom:k.spacingVerticalL},children:[l.jsx("li",{children:l.jsxs(ie,{children:[Ot.length," tenant(s)"]})}),l.jsx("li",{children:l.jsxs(ie,{children:[Ut.length," sede(s)"]})}),l.jsx("li",{children:l.jsxs(ie,{children:[Mr.length," usuario(s)"]})})]}),l.jsx("div",{style:{marginTop:k.spacingVerticalL},children:l.jsx(ho,{checked:Gt,onChange:(R,ee)=>yt(ee.checked||!1),label:"Soy consciente de las consecuencias de borrar este cliente y entiendo que se eliminarn los elementos seleccionados y se desvincularn los no seleccionados"})})]}),De===2&&l.jsxs("div",{children:[l.jsx(ie,{size:400,weight:"semibold",style:{marginBottom:k.spacingVerticalM},children:"Seleccione los tenants a eliminar"}),l.jsx(ie,{style:{marginBottom:k.spacingVerticalM,color:k.colorNeutralForeground2},children:"Los tenants no seleccionados sern desvinculados del cliente y quedarn hurfanos."}),Ot.length===0?l.jsx(ie,{style:{color:k.colorNeutralForeground3,fontStyle:"italic"},children:"No hay tenants asociados a este cliente."}):l.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:`1px solid ${k.colorNeutralStroke2}`,borderRadius:k.borderRadiusMedium},children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"50px"},children:l.jsx(ho,{checked:Ot.length>0&&Ot.every(R=>St.has(R.id)),onChange:Pf})}),l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:Ot.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ho,{checked:St.has(R.id),onChange:()=>m_(R.id)})}),l.jsx(xe,{children:R.name}),l.jsx(xe,{children:l.jsx(Ke,{appearance:R.isActive?"filled":"outline",color:R.isActive?"success":"danger",children:R.isActive?"Activo":"Inactivo"})})]},R.id))})]})})]}),De===3&&l.jsxs("div",{children:[l.jsx(ie,{size:400,weight:"semibold",style:{marginBottom:k.spacingVerticalM},children:"Seleccione las sedes a eliminar"}),l.jsx(ie,{style:{marginBottom:k.spacingVerticalM,color:k.colorNeutralForeground2},children:"Las sedes de los tenants seleccionados aparecern marcadas por defecto, pero puedes deseleccionarlas para dejarlas hurfanas. Las sedes no seleccionadas sern desvinculadas."}),Ut.length===0?l.jsx(ie,{style:{color:k.colorNeutralForeground3,fontStyle:"italic"},children:"No hay sedes asociadas a este cliente."}):l.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto"},children:[Ot.map(R=>{const ee=Ut.filter(Oe=>Oe.tenantId===R.id||Oe.tenants&&Oe.tenants.some(gt=>gt.id===R.id));if(ee.length===0)return null;const Me=St.has(R.id);return l.jsxs("div",{style:{marginBottom:k.spacingVerticalL},children:[l.jsxs(ie,{size:300,weight:"semibold",style:{marginBottom:k.spacingVerticalS,padding:k.spacingVerticalS,backgroundColor:k.colorNeutralBackground2,borderRadius:k.borderRadiusSmall},children:["Tenant: ",R.name,Me&&l.jsx(Ke,{appearance:"filled",color:"brand",style:{marginLeft:k.spacingHorizontalS},children:"Se eliminar"})]}),l.jsx("div",{style:{border:`1px solid ${k.colorNeutralStroke2}`,borderRadius:k.borderRadiusMedium},children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"50px"},children:l.jsx(ho,{checked:ee.length>0&&ee.every(Oe=>$t.has(Oe.id)),onChange:()=>{const Oe=ee.every(Wt=>$t.has(Wt.id)),gt=new Set($t);Oe?ee.forEach(Wt=>gt.delete(Wt.id)):ee.forEach(Wt=>gt.add(Wt.id)),nn(gt)}})}),l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Direccin"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:ee.map(Oe=>{const gt=$t.has(Oe.id);return l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ho,{checked:gt,onChange:()=>tm(Oe.id)})}),l.jsx(xe,{children:Oe.name}),l.jsx(xe,{children:Oe.address||"-"}),l.jsx(xe,{children:l.jsx(Ke,{appearance:Oe.isActive?"filled":"outline",color:Oe.isActive?"success":"danger",children:Oe.isActive?"Activa":"Inactiva"})})]},Oe.id)})})]})})]},R.id)}),(()=>{const R=Ut.filter(ee=>!ee.tenantId&&(!ee.tenants||ee.tenants.length===0)?!0:!Ot.some(Oe=>ee.tenantId===Oe.id||ee.tenants&&ee.tenants.some(gt=>gt.id===Oe.id)));return R.length===0?null:l.jsxs("div",{style:{marginBottom:k.spacingVerticalL},children:[l.jsx(ie,{size:300,weight:"semibold",style:{marginBottom:k.spacingVerticalS,padding:k.spacingVerticalS,backgroundColor:k.colorNeutralBackground2,borderRadius:k.borderRadiusSmall},children:"Sedes sin Tenant asignado"}),l.jsx("div",{style:{border:`1px solid ${k.colorNeutralStroke2}`,borderRadius:k.borderRadiusMedium},children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"50px"},children:l.jsx(ho,{checked:R.length>0&&R.every(ee=>$t.has(ee.id)),onChange:()=>{const ee=R.every(Oe=>$t.has(Oe.id)),Me=new Set($t);ee?R.forEach(Oe=>Me.delete(Oe.id)):R.forEach(Oe=>Me.add(Oe.id)),nn(Me)}})}),l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Direccin"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:R.map(ee=>{const Me=$t.has(ee.id);return l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ho,{checked:Me,onChange:()=>tm(ee.id)})}),l.jsx(xe,{children:ee.name}),l.jsx(xe,{children:ee.address||"-"}),l.jsx(xe,{children:l.jsx(Ke,{appearance:ee.isActive?"filled":"outline",color:ee.isActive?"success":"danger",children:ee.isActive?"Activa":"Inactiva"})})]},ee.id)})})]})})]})})()]})]}),De===4&&l.jsxs("div",{children:[l.jsx(ie,{size:400,weight:"semibold",style:{marginBottom:k.spacingVerticalM},children:"Seleccione los usuarios a eliminar"}),l.jsx(ie,{style:{marginBottom:k.spacingVerticalM,color:k.colorNeutralForeground2},children:"Los usuarios no seleccionados sern desvinculados del cliente y quedarn hurfanos."}),Mr.length===0?l.jsx(ie,{style:{color:k.colorNeutralForeground3,fontStyle:"italic"},children:"No hay usuarios asociados a este cliente."}):l.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",border:`1px solid ${k.colorNeutralStroke2}`,borderRadius:k.borderRadiusMedium},children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{style:{width:"50px"},children:l.jsx(ho,{checked:Mr.length>0&&Mr.every(R=>tr.has(R.id)),onChange:g_})}),l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Email"}),l.jsx(we,{children:"Rol"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:Mr.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ho,{checked:tr.has(R.id),onChange:()=>Jr(R.id)})}),l.jsx(xe,{children:R.name||"-"}),l.jsx(xe,{children:R.email}),l.jsx(xe,{children:l.jsx(Ke,{appearance:"outline",children:Sm(R.role)})}),l.jsx(xe,{children:l.jsx(Ke,{appearance:R.isActive?"filled":"outline",color:R.isActive?"success":"danger",children:R.isActive?"Activo":"Inactivo"})})]},R.id))})]})})]})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:De===1?em:p_,disabled:fn||ji,children:De===1?"Cancelar":"Atrs"}),De<4?l.jsx(pe,{appearance:"primary",onClick:h_,disabled:ji,children:"Continuar"}):l.jsx(pe,{appearance:"primary",onClick:v_,disabled:fn||ji,loading:fn,children:fn?"Eliminando...":"Confirmar eliminacin"})]})]})}),l.jsxs(Rr,{...o,position:"end",size:"large",open:Z,modalType:"alert",onOpenChange:$p,children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{$p({},{open:!1})}}),children:t("customers.details")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:qn?l.jsx(ki,{rows:12}):P?l.jsxs(l.Fragment,{children:[g&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:g})}),l.jsxs(Ka,{selectedValue:ss,onTabSelect:(R,ee)=>Op(ee.value),children:[l.jsx(ur,{value:"details",children:"Detalles"}),l.jsx(ur,{value:"tenants",children:"Tenants"}),l.jsx(ur,{value:"offices",children:"Sedes"}),l.jsx(ur,{value:"users",children:"Usuarios"})]}),ss==="details"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx(he,{label:t("customers.name"),className:e.formField,children:l.jsx(ye,{value:P.name,readOnly:!0})}),l.jsx(he,{label:t("customers.identification"),className:e.formField,children:l.jsx(ye,{value:P.identification,readOnly:!0})}),l.jsx(he,{label:t("customers.country"),className:e.formField,children:l.jsx(ye,{value:P.countryName||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:P.stateProvince||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:P.city||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:P.phone||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{value:P.email||"N/A",readOnly:!0})}),l.jsx(he,{label:t("customers.status"),className:e.formField,children:l.jsx("div",{children:P.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):P.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})}),l.jsx(he,{label:t("customers.tenants"),className:e.formField,children:l.jsx(ye,{value:String(P.tenantCount||0),readOnly:!0})}),l.jsx(he,{label:t("customers.offices"),className:e.formField,children:l.jsx(ye,{value:String(P.officeCount||0),readOnly:!0})}),l.jsx(he,{label:t("customers.users"),className:e.formField,children:l.jsx(ye,{value:String(P.userCount||0),readOnly:!0})}),l.jsx(he,{label:t("common.created"),className:e.formField,children:l.jsx(ye,{value:new Date(P.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:t("common.updated"),className:e.formField,children:l.jsx(ye,{value:new Date(P.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>Q(!1),children:t("common.close")})})]}),ss==="tenants"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM},children:l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center"},children:[l.jsx(ln,{placeholder:"Seleccionar tenant para asignar",value:Jn&&((IB=wo.find(R=>R.id===Jn))==null?void 0:IB.name)||"",onOptionSelect:(R,ee)=>{const Me=wo.find(Oe=>Oe.name===ee.optionValue);Me&&Si(Me.id)},style:{width:"300px"},children:wo.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," ",R.customerName?`(${R.customerName})`:""]},R.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Xp,disabled:!Jn||jc||ed,children:"Agregar"})]})}),Pe?l.jsx(Cn,{label:"Cargando tenants..."}):l.jsx("div",{children:Ve.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay tenants asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Estado"}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:Ve.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Xa,{}),onClick:()=>Zp(R.id),disabled:jc,children:"Desasignar"})})]},R.id))})]})})]}),ss==="offices"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM,marginBottom:k.spacingVerticalM},children:[Ve.length>0&&l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap",padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground2,borderRadius:k.borderRadiusMedium},children:[l.jsx(ie,{weight:"semibold",style:{width:"100%"},children:"Agregar Sede Existente"}),l.jsx(ln,{placeholder:"Seleccionar sede de los tenants asignados",value:Ba&&((zB=ao.find(R=>R.id===Ba))==null?void 0:zB.name)||"",onOptionSelect:(R,ee)=>{const Me=ao.find(Oe=>Oe.name===ee.optionValue);Me&&bf(Me.id)},style:{width:"300px"},disabled:Xs||ao.length===0,children:ao.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," ",R.city?`(${R.city})`:""," - ",R.tenantName||"N/A"]},R.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Jp,disabled:!Ba||qp||Xs||ao.length===0,children:"Agregar Sede"}),Xs&&l.jsx(Cn,{size:"small",label:"Cargando sedes..."}),!Xs&&ao.length===0&&Ve.length>0&&l.jsx(ie,{size:300,style:{color:k.colorNeutralForeground3},children:"No hay sedes disponibles para agregar"})]}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap",padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground2,borderRadius:k.borderRadiusMedium},children:[l.jsx(ie,{weight:"semibold",style:{width:"100%"},children:"Crear Nueva Sede"}),l.jsx(ln,{placeholder:t("customers.selectTenantPlaceholder"),value:Ra&&((LB=Ve.find(R=>R.id===Ra))==null?void 0:LB.name)||"",onOptionSelect:(R,ee)=>{const Me=Ve.find(Oe=>Oe.name===ee.optionValue);Me&&Up(Me.id)},style:{width:"200px"},disabled:Ve.length===0,children:Ve.map(R=>l.jsx(Jt,{value:R.name,children:R.name},R.id))}),l.jsx(ye,{placeholder:"Nombre de la sede",value:Ue.name,onChange:R=>It({...Ue,name:R.target.value}),style:{width:"200px"},disabled:!Ra||Ve.length===0}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:r0,disabled:!Ra||!Ue.name.trim()||Wp||Ve.length===0,children:"Crear Sede"})]}),Ve.length===0&&l.jsx(bn,{intent:"warning",children:l.jsx(xn,{children:"Debe asignar al menos un tenant al cliente antes de poder crear o agregar sedes."})})]}),Bt?l.jsx(Cn,{label:"Cargando sedes..."}):l.jsx("div",{children:Zt.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay sedes asignadas"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Ciudad"}),l.jsx(we,{children:"Tenant"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:Zt.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name}),l.jsx(xe,{children:R.city||"N/A"}),l.jsx(xe,{children:R.tenantName||"N/A"}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendida"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activa"}):l.jsx(Ke,{appearance:"outline",children:"Inactiva"})})]},R.id))})]})})]}),ss==="users"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM},children:l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap"},children:[l.jsx(ln,{placeholder:t("customers.selectTenantPlaceholder"),value:Jn&&((DB=Ve.find(R=>R.id===Jn))==null?void 0:DB.name)||"",onOptionSelect:(R,ee)=>{const Me=Ve.find(Oe=>Oe.name===ee.optionValue);Me&&Si(Me.id)},style:{width:"200px"},disabled:Ve.length===0,children:Ve.map(R=>l.jsx(Jt,{value:R.name,children:R.name},R.id))}),l.jsx(ln,{placeholder:t("users.selectUserToAssign"),value:aa&&(((OB=Gs.find(R=>R.id===aa))==null?void 0:OB.name)||((FB=Gs.find(R=>R.id===aa))==null?void 0:FB.email))||"",onOptionSelect:(R,ee)=>{const Me=Gs.find(Oe=>Oe.email===ee.optionValue||Oe.name===ee.optionValue);Me&&xf(Me.id)},style:{width:"300px"},disabled:!Jn||Ve.length===0,children:Gs.map(R=>l.jsxs(Jt,{value:R.email,children:[R.name||R.email," ",R.email!==R.name?`(${R.email})`:""]},R.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Kp,disabled:!aa||!Jn||Bl||So||Ve.length===0,children:"Agregar"})]})}),dt?l.jsx(Cn,{label:"Cargando usuarios..."}):l.jsx("div",{children:ze.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay usuarios asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Email"}),l.jsx(we,{children:"Rol"}),l.jsx(we,{children:"Estado"}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:ze.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name||"N/A"}),l.jsx(xe,{children:R.email}),l.jsx(xe,{children:Sm(R.role)}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Xa,{}),onClick:()=>Yp(R.id),disabled:Bl,children:"Desasignar"})})]},R.id))})]})})]})]}):null})})]}),l.jsx(Qn,{open:re,onOpenChange:(R,ee)=>ue(ee.open),children:l.jsxs(or,{style:{minWidth:"600px"},children:[l.jsx(mr,{children:"Usuarios del Cliente"}),l.jsx(ir,{children:l.jsx($r,{children:dt?l.jsx(uc,{rows:5,columns:3}):ze.length===0?l.jsx(ie,{children:"No hay usuarios asociados a este cliente."}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Contact Email"}),l.jsx(we,{children:"Rol"})]})}),l.jsx(Bn,{children:ze.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name||"N/A"}),l.jsx(xe,{children:R.contactEmail||R.email||"N/A"}),l.jsx(xe,{children:Sm(R.role)})]},R.id))})]})})}),l.jsx(pr,{children:l.jsx(pe,{appearance:"primary",onClick:()=>ue(!1),children:"Cerrar"})})]})}),l.jsx(Qn,{open:oe,onOpenChange:(R,ee)=>be(ee.open),children:l.jsxs(or,{style:{minWidth:"600px"},children:[l.jsx(mr,{children:"Tenants del Cliente"}),l.jsx(ir,{children:l.jsx($r,{children:Pe?l.jsx(uc,{rows:5,columns:4}):Ve.length===0?l.jsx(ie,{children:"No hay tenants asociados a este cliente."}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Creado"}),l.jsx(we,{children:"Estado"}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:Ve.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name}),l.jsx(xe,{children:new Date(R.createdAt).toLocaleDateString()}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(ju,{}),onClick:()=>n0(R.id),style:{cursor:"pointer"},children:"Ver detalles"})})]},R.id))})]})})}),l.jsx(pr,{children:l.jsx(pe,{appearance:"primary",onClick:()=>be(!1),children:"Cerrar"})})]})}),l.jsx(Qn,{open:_e,onOpenChange:(R,ee)=>Ae(ee.open),children:l.jsxs(or,{style:{minWidth:"500px"},children:[l.jsx(mr,{children:"Informacin del Tenant"}),l.jsx(ir,{children:l.jsx($r,{children:ae?l.jsx(ki,{rows:8}):se?l.jsxs("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:[l.jsx(he,{label:t("customers.name"),className:e.formField,children:l.jsx(ye,{value:se.name,readOnly:!0})}),l.jsx(he,{label:t("customers.title"),className:e.formField,children:l.jsx(ye,{value:se.customerName||"N/A",readOnly:!0})}),se.officeName&&l.jsx(he,{label:"Sede",className:e.formField,children:l.jsx(ye,{value:se.officeName,readOnly:!0})}),l.jsx(he,{label:t("customers.status"),className:e.formField,children:l.jsx("div",{children:se.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):se.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})}),se.userCount!==void 0&&l.jsx(he,{label:"Usuarios",className:e.formField,children:l.jsx(ye,{value:se.userCount.toString(),readOnly:!0})}),l.jsx(he,{label:"Creado",className:e.formField,children:l.jsx(ye,{value:new Date(se.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:"Actualizado",className:e.formField,children:l.jsx(ye,{value:new Date(se.updatedAt).toLocaleString(),readOnly:!0})})]}):l.jsx(ie,{children:"No se pudo cargar la informacin del tenant."})})}),l.jsx(pr,{children:l.jsx(pe,{appearance:"primary",onClick:()=>Ae(!1),children:"Cerrar"})})]})}),l.jsx(Qn,{open:le,onOpenChange:(R,ee)=>at(ee.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Asignar Cliente Padre"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:e.detailsContent,children:[l.jsx(bn,{intent:"info",children:l.jsxs(xn,{children:['Seleccione un cliente padre para "',P==null?void 0:P.name,'". Si no selecciona ninguno, el cliente ser un cliente raz.']})}),l.jsx(he,{label:"Cliente Padre",className:e.formField,children:l.jsxs(ln,{value:Fo||Ur&&((UB=a.find(R=>R.id===Ur))==null?void 0:UB.name)||"",onOptionSelect:(R,ee)=>{if(ee.optionValue==="")An(""),xo("");else{const Me=a.find(Oe=>Oe.name===ee.optionValue);Me?(An(Me.id),xo("")):(An(""),xo(""))}},onInput:R=>{const ee=R.target;xo(ee.value),ee.value||An("")},children:[l.jsx(Jt,{value:"",children:"(Cliente raz - sin padre)"}),nd.map(R=>l.jsxs(Jt,{value:R.name,children:[R.name," (",R.identification,")"]},R.id))]})}),(P==null?void 0:P.parentName)&&l.jsx(bn,{intent:"warning",children:l.jsxs(xn,{children:["Cliente padre actual: ",P.parentName]})})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{at(!1),An(""),xo("")},children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:Pt,disabled:Oo,loading:Oo,children:"Asignar"})]})]})}),l.jsx(Qn,{open:ke,onOpenChange:(R,ee)=>He(ee.open),children:l.jsxs(or,{style:{minWidth:"600px"},children:[l.jsx(mr,{children:"Sedes del Cliente"}),l.jsx(ir,{children:l.jsx($r,{children:Bt?l.jsx(uc,{rows:5,columns:6}):Zt.length===0?l.jsx(ie,{children:"No hay sedes asociadas a este cliente."}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:"Nombre"}),l.jsx(we,{children:"Direccin"}),l.jsx(we,{children:"Ciudad"}),l.jsx(we,{children:"Telfono"}),l.jsx(we,{children:"Email"}),l.jsx(we,{children:"Estado"})]})}),l.jsx(Bn,{children:Zt.map(R=>l.jsxs(Mt,{children:[l.jsx(xe,{children:R.name}),l.jsx(xe,{children:R.address||"N/A"}),l.jsx(xe,{children:R.city||"N/A"}),l.jsx(xe,{children:R.phone?l.jsxs(Vi,{open:Hv===`${R.id}-phone`,onOpenChange:(ee,Me)=>{Ho(Me.open?`${R.id}-phone`:null)},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto",textDecoration:"underline"},children:R.phone})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:["Datos de Contacto: ",R.name]}),l.jsx(qi,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:[l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Telfono:"}),l.jsx(ie,{children:R.phone||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Email:"}),l.jsx(ie,{children:R.email||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Ciudad:"}),l.jsx(ie,{children:R.city||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Direccin:"}),l.jsx(ie,{children:R.address||"N/A"})]})]})})]})]}):"N/A"}),l.jsx(xe,{children:R.email?l.jsxs(Vi,{open:Hv===`${R.id}-email`,onOpenChange:(ee,Me)=>{Ho(Me.open?`${R.id}-email`:null)},children:[l.jsx(Ei,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",style:{cursor:"pointer",padding:0,minWidth:"auto",height:"auto",textDecoration:"underline"},children:R.email})}),l.jsxs(Hi,{children:[l.jsxs(Ui,{children:["Datos de Contacto: ",R.name]}),l.jsx(qi,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:[l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Telfono:"}),l.jsx(ie,{children:R.phone||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Email:"}),l.jsx(ie,{children:R.email||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Ciudad:"}),l.jsx(ie,{children:R.city||"N/A"})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",children:"Direccin:"}),l.jsx(ie,{children:R.address||"N/A"})]})]})})]})]}):"N/A"}),l.jsx(xe,{children:R.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):R.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})]},R.id))})]})})}),l.jsx(pr,{children:l.jsx(pe,{appearance:"primary",onClick:()=>He(!1),children:"Cerrar"})})]})}),l.jsx(Qn,{open:Ge,onOpenChange:(R,ee)=>We(ee.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Enviar Notificacin a Usuarios"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:e.detailsContent,children:[l.jsx(bn,{intent:"info",children:l.jsxs(xn,{children:['Se enviar una notificacin por email a todos los usuarios del cliente "',P==null?void 0:P.name,'".']})}),l.jsx(he,{label:"Ttulo",required:!0,className:e.formField,children:l.jsx(ye,{value:wt,onChange:R=>_t(R.target.value),placeholder:"Ttulo de la notificacin"})}),l.jsx(he,{label:"Mensaje",required:!0,className:e.formField,children:l.jsx(r1,{value:je,onChange:R=>jt(R.target.value),placeholder:"Mensaje de la notificacin",rows:5})})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{We(!1),_t(""),jt("")},disabled:ve,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:Be,disabled:ve||!wt.trim()||!je.trim(),loading:ve,children:ve?"Enviando...":"Enviar Notificacin"})]})]})}),l.jsxs(Rr,{...o,position:"end",size:"large",open:$e,modalType:"alert",onOpenChange:(R,ee)=>{if(ee.open===!1){if(Ne)return;if(Ue.name.trim()||Ue.tenantId||Ue.address.trim()||Ue.city.trim()||Ue.stateProvince.trim()||Ue.postalCode.trim()||Ue.phone.trim()||Ue.email.trim()){window.confirm("Est seguro de que desea cerrar? Se perdern los datos no guardados.")&&(et(!1),It({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),_i(""),w(null));return}else et(!1),w(null)}else et(ee.open)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{if(Ne)return;Ue.name.trim()||Ue.address.trim()||Ue.city.trim()||Ue.stateProvince.trim()||Ue.postalCode.trim()||Ue.phone.trim()||Ue.email.trim()?window.confirm(t("common.confirmClose"))&&(et(!1),It({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),_i(""),w(null)):(et(!1),w(null))}}),children:t("customers.newOffice")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Ne?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("customers.title"),className:e.formField,children:l.jsx(ye,{value:(P==null?void 0:P.name)||"",readOnly:!0})}),l.jsx(he,{label:t("tenants.tenant"),required:!0,className:e.formField,children:Ve.length===0?l.jsx(ye,{value:"",placeholder:"No hay tenants disponibles",readOnly:!0,disabled:!0}):l.jsx(ln,{value:oa||((qB=Ve.find(R=>R.id===Ue.tenantId))==null?void 0:qB.name)||"",onOptionSelect:(R,ee)=>{ee.optionValue&&(It({...Ue,tenantId:ee.optionValue}),_i(""))},onInput:R=>{const ee=R.target;_i(ee.value)},children:Xv.map(R=>l.jsx(Jt,{value:R.id,children:R.name},R.id))})}),l.jsx(he,{label:"Nombre",required:!0,className:e.formField,children:l.jsx(ye,{value:Ue.name,onChange:R=>It({...Ue,name:R.target.value}),placeholder:"Nombre de la sede"})}),l.jsx(he,{label:t("common.address"),className:e.formField,children:l.jsx(ye,{value:Ue.address,onChange:R=>It({...Ue,address:R.target.value}),placeholder:t("customers.addressPlaceholder")})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:Ue.city,onChange:R=>It({...Ue,city:R.target.value}),placeholder:t("common.city")})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:Ue.stateProvince,onChange:R=>It({...Ue,stateProvince:R.target.value}),placeholder:t("common.stateProvince")})}),l.jsx(he,{label:t("common.postalCode"),className:e.formField,children:l.jsx(ye,{value:Ue.postalCode,onChange:R=>It({...Ue,postalCode:R.target.value}),placeholder:t("customers.postalCodePlaceholder")})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:Ue.phone,onChange:R=>It({...Ue,phone:R.target.value}),placeholder:t("common.phone")})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{type:"email",value:Ue.email,onChange:R=>It({...Ue,email:R.target.value}),placeholder:t("common.email")})}),S&&l.jsx(bn,{intent:"error",style:{marginTop:k.spacingVerticalXL,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:S})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{Ue.name.trim()||Ue.address.trim()||Ue.city.trim()||Ue.stateProvince.trim()||Ue.postalCode.trim()||Ue.phone.trim()||Ue.email.trim()?window.confirm("Est seguro de que desea cancelar? Se perdern los datos no guardados.")&&(et(!1),It({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),_i(""),w(null)):(et(!1),w(null))},disabled:Ne,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:B,disabled:Ne,loading:Ne,children:t(Ne?"common.creating":"common.create")})]})]})})})]}),l.jsxs(Rr,{...o,position:"end",size:"medium",open:Xe,modalType:"alert",onOpenChange:(R,ee)=>{if(ee.open===!1){if(Ee)return;if(((P==null?void 0:P.tenantCount)??0)===0?Jn.trim():Kn.name.trim()){window.confirm("Est seguro de que desea cerrar? Se perdern los datos no guardados.")&&(X(!1),ii({name:"",customerId:""}),Si(""),M(null));return}else X(!1),Si(""),M(null)}else X(ee.open)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{if(Ee)return;(((P==null?void 0:P.tenantCount)??0)===0?Jn.trim():Kn.name.trim())?window.confirm(t("common.confirmClose"))&&(X(!1),ii({name:"",customerId:""}),Si(""),M(null)):(X(!1),Si(""),M(null))}}),children:(()=>{const R=(P==null?void 0:P.tenantCount)??0;return t(R===0?"customers.assignTenant":"customers.newTenant")})()})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Ee?l.jsx(ki,{rows:3}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("customers.title"),className:e.formField,children:l.jsx(ye,{value:(P==null?void 0:P.name)||"",readOnly:!0})}),(()=>{var ee;return((P==null?void 0:P.tenantCount)??0)===0?l.jsxs(he,{label:"Seleccionar Tenant",required:!0,className:e.formField,children:[ed?l.jsx(Cn,{size:"small",label:"Cargando tenants..."}):l.jsx(ln,{value:Jn&&((ee=wo.find(Me=>Me.id===Jn))==null?void 0:ee.name)||"",onOptionSelect:(Me,Oe)=>{if(Oe.optionValue){const gt=wo.find(Wt=>Wt.name===Oe.optionValue);gt&&Si(gt.id)}else Si("")},placeholder:"Seleccione un tenant",children:wo.map(Me=>l.jsx(Jt,{value:Me.name,children:Me.name},Me.id))}),wo.length===0&&!ed&&l.jsx(bn,{intent:"informative",style:{marginTop:k.spacingVerticalS},children:l.jsx(xn,{children:"No hay tenants disponibles para asignar. Todos los tenants existentes ya estn asignados a otros clientes."})})]}):l.jsx(he,{label:t("customers.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:Kn.name,onChange:Me=>ii({...Kn,name:Me.target.value}),placeholder:t("customers.tenantNamePlaceholder")})})})(),C&&l.jsx(bn,{intent:"error",style:{marginTop:k.spacingVerticalXL,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:C})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{(((P==null?void 0:P.tenantCount)??0)===0?Jn.trim():Kn.name.trim())?window.confirm(t("common.confirmCancel"))&&(X(!1),ii({name:"",customerId:""}),Si(""),M(null)):(X(!1),Si(""),M(null))},disabled:Ee,children:t("common.cancel")}),((P==null?void 0:P.tenantCount)??0)===0?l.jsx(pe,{appearance:"primary",onClick:K,disabled:Ee||!Jn||ed||wo.length===0,loading:Ee,children:t(Ee?"tenants.assigning":"tenants.assign")}):l.jsx(pe,{appearance:"primary",onClick:U,disabled:Ee,loading:Ee,children:Ee?"Creando...":"Crear"})]})]})})})]}),l.jsxs(Rr,{...o,position:"end",size:"large",open:Y,modalType:"alert",onOpenChange:(R,ee)=>{if(ee.open===!1){if(Ze)return;if(qt.email.trim()||qt.name.trim()||qt.tenantId||qt.contactEmail.trim()||qt.phone.trim()||qt.auth0Id.trim()){window.confirm("Est seguro de que desea cerrar? Se perdern los datos no guardados.")&&(me(!1),Yn({email:"",name:"",role:"User",tenantId:"",customerId:"",contactEmail:"",phone:"",auth0Id:""}),wi(""),oo(""),Qe(""),J(""),E(null));return}else me(!1),E(null)}else me(ee.open)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{if(Ze)return;qt.email.trim()||qt.name.trim()||qt.tenantId||qt.contactEmail.trim()||qt.phone.trim()||qt.auth0Id.trim()?window.confirm(t("common.confirmClose"))&&(me(!1),Yn({email:"",name:"",role:"User",tenantId:"",customerId:"",contactEmail:"",phone:"",auth0Id:""}),E(null)):(me(!1),E(null))}}),children:"Nuevo Usuario"})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:Ze?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("customers.title"),className:e.formField,children:l.jsx(ye,{value:(P==null?void 0:P.name)||"",readOnly:!0})}),l.jsx(he,{label:t("tenants.tenant"),required:!0,className:e.formField,children:Ve.length===0?l.jsx(ye,{value:"",placeholder:"No hay tenants disponibles",readOnly:!0,disabled:!0}):l.jsx(ln,{value:Uo||((HB=Ve.find(R=>R.id===qt.tenantId))==null?void 0:HB.name)||"",onOptionSelect:(R,ee)=>{if(ee.optionValue){Yn({...qt,tenantId:ee.optionValue});const Me=qo.filter(Oe=>Oe.tenantId===ee.optionValue);Me.length>0?wi(Me[0].id):wi(""),oo(""),Qe("")}},onInput:R=>{const ee=R.target;oo(ee.value)},children:wf.map(R=>l.jsx(Jt,{value:R.id,children:R.name},R.id))})}),l.jsx(he,{label:"Sede",className:e.formField,children:qo.length===0?l.jsx(ye,{value:"",placeholder:"No hay sedes disponibles",readOnly:!0,disabled:!0}):l.jsx(ln,{value:fe||((VB=qo.filter(R=>R.tenantId===qt.tenantId).find(R=>R.id===rr))==null?void 0:VB.name)||"",onOptionSelect:(R,ee)=>{ee.optionValue&&(wi(ee.optionValue),Qe(""))},onInput:R=>{const ee=R.target;Qe(ee.value)},children:n_.map(R=>l.jsx(Jt,{value:R.id,children:R.name},R.id))})}),l.jsx(he,{label:t("users.email"),required:!0,className:e.formField,children:l.jsx(ye,{type:"email",value:qt.email,onChange:R=>{const ee=R.target.value;Yn({...qt,email:ee,contactEmail:ee})},placeholder:t("customers.userEmailPlaceholder")})}),l.jsx(he,{label:t("customers.name"),className:e.formField,children:l.jsx(ye,{value:qt.name,onChange:R=>Yn({...qt,name:R.target.value}),placeholder:t("customers.userNamePlaceholder")})}),l.jsx(he,{label:t("users.role"),className:e.formField,children:l.jsx(ln,{value:Nt||(qt.role==="Admin"?t("users.administrator"):t("users.user")),onOptionSelect:(R,ee)=>{ee.optionValue&&(Yn({...qt,role:ee.optionValue}),J(""))},onInput:R=>{const ee=R.target;J(ee.value)},children:Zs.map(R=>l.jsx(Jt,{value:R.value,children:R.label},R.value))})}),l.jsx(he,{label:t("users.contactEmail"),className:e.formField,children:l.jsx(ye,{type:"email",value:qt.contactEmail,onChange:R=>Yn({...qt,contactEmail:R.target.value}),placeholder:t("customers.contactEmailPlaceholder")})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:qt.phone,onChange:R=>Yn({...qt,phone:R.target.value}),placeholder:t("common.phone")})}),l.jsx(he,{label:t("customers.auth0IdOptional"),className:e.formField,children:l.jsx(ye,{value:qt.auth0Id,onChange:R=>Yn({...qt,auth0Id:R.target.value}),placeholder:t("customers.auth0IdPlaceholder")})}),A&&l.jsx(bn,{intent:"error",style:{marginTop:k.spacingVerticalXL,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:A})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{qt.email.trim()||qt.name.trim()||qt.tenantId||qt.contactEmail.trim()||qt.phone.trim()||qt.auth0Id.trim()?window.confirm("Est seguro de que desea cancelar? Se perdern los datos no guardados.")&&(me(!1),Yn({email:"",name:"",role:"User",tenantId:"",customerId:"",contactEmail:"",phone:"",auth0Id:""}),wi(""),oo(""),Qe(""),J(""),E(null)):(me(!1),E(null))},disabled:Ze,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:de,disabled:Ze,loading:Ze,children:Ze?"Creando...":"Crear"})]})]})})})]})]})};let QF=0;const e4=1e3;async function cB(e){const n=Date.now()-QF;if(n<e4){const r=e4-n;await new Promise(i=>setTimeout(i,r))}return QF=Date.now(),fetch(e)}async function LBe(e){if(!e||e.trim().length===0)return null;try{const n=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e.trim())}&limit=1&addressdetails=1`,r=await cB(n);if(!r.ok)throw new Error(`Error en geocodificacin: ${r.statusText}`);const i=await r.json();if(!i||i.length===0)return null;const o=i[0],a=parseFloat(o.lat),s=parseFloat(o.lon),c=o.display_name||e;return{lat:a,lng:s,fullAddress:c,displayName:o.display_name||e}}catch(t){throw console.error("[geocodingService] Error en geocodeAddress:",t),t}}async function N2(e,t){if(isNaN(e)||isNaN(t))return null;if(e<-90||e>90||t<-180||t>180)throw new Error("Coordenadas fuera de rango vlido");try{const n=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e}&lon=${t}&addressdetails=1`,r=await cB(n);if(!r.ok)throw new Error(`Error en geocodificacin inversa: ${r.statusText}`);const i=await r.json();if(!i||!i.address)return null;const o=i.display_name||`${e}, ${t}`;return{lat:e,lng:t,fullAddress:o,displayName:i.display_name||o}}catch(n){throw console.error("[geocodingService] Error en reverseGeocode:",n),n}}async function DBe(e){if(!e||e.trim().length<3)return[];try{const n=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e.trim())}&limit=5&addressdetails=1`,r=await cB(n);if(!r.ok)throw new Error(`Error en bsqueda de direcciones: ${r.statusText}`);const i=await r.json();return!i||!Array.isArray(i)?[]:i.map(o=>({displayName:o.display_name,lat:parseFloat(o.lat),lng:parseFloat(o.lon),fullAddress:o.display_name}))}catch(t){return console.error("[geocodingService] Error en searchAddresses:",t),[]}}delete Cv.Icon.Default.prototype._getIconUrl;Cv.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const OBe=Tr({mapContainer:{height:"400px",width:"100%",marginTop:k.spacingVerticalM,borderRadius:k.borderRadiusMedium,overflow:"hidden"},inputContainer:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM,marginBottom:k.spacingVerticalM},coordinatesContainer:{display:"flex",gap:k.spacingHorizontalM},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXXL}});function FBe({onMapClick:e}){return p1e({click:t=>{e(t.latlng.lat,t.latlng.lng)}}),null}const UBe=({isOpen:e,onClose:t,onSave:n,initialLatitude:r,initialLongitude:i,initialFullAddress:o,officeName:a})=>{const s=OBe(),[c,u]=x.useState(r??null),[d,f]=x.useState(i??null),[p,m]=x.useState(o??""),[g,v]=x.useState(""),[_,y]=x.useState([]),[S,w]=x.useState(!1),[C,M]=x.useState(!1),[A,E]=x.useState(null),[I,N]=x.useState(!1),P=x.useRef(null),D=x.useRef(null),q=c&&d?[c,d]:[40.4168,-3.7038];x.useEffect(()=>{e&&(u(r??null),f(i??null),m(o??""),v(o??""),y([]),E(null))},[e,r,i,o]),x.useEffect(()=>{if(P.current&&clearTimeout(P.current),g.trim().length<3){y([]);return}return P.current=setTimeout(async()=>{M(!0);try{const H=await DBe(g);y(H)}catch(H){console.error("[OfficeLocationMap] Error buscando direcciones:",H),y([])}finally{M(!1)}},300),()=>{P.current&&clearTimeout(P.current)}},[g]),x.useEffect(()=>{D.current&&c!==null&&d!==null&&D.current.setView([c,d],15)},[c,d]);const $=x.useCallback(async H=>{v(H.displayName),y([]),u(H.lat),f(H.lng),m(H.fullAddress),E(null)},[]),j=x.useCallback(async()=>{if(!g.trim()){E("Por favor ingresa una direccin");return}w(!0),E(null);try{const H=await LBe(g);H?(u(H.lat),f(H.lng),m(H.fullAddress),v(H.displayName),E(null)):E("No se encontr la direccin. Intenta con una direccin ms especfica.")}catch(H){E(H.message||"Error al geocodificar la direccin")}finally{w(!1)}},[g]),O=x.useCallback(async(H,te)=>{u(H),f(te),E(null),w(!0);try{const Z=await N2(H,te);Z?(m(Z.fullAddress),v(Z.displayName)):(m(`${H.toFixed(6)}, ${te.toFixed(6)}`),v(`${H.toFixed(6)}, ${te.toFixed(6)}`))}catch(Z){E(Z.message||"Error al obtener la direccin de las coordenadas"),m(`${H.toFixed(6)}, ${te.toFixed(6)}`)}finally{w(!1)}},[]),z=x.useCallback(async H=>{const te=parseFloat(H);if(!isNaN(te)&&te>=-90&&te<=90){if(u(te),E(null),d!==null){w(!0);try{const Z=await N2(te,d);Z&&(m(Z.fullAddress),v(Z.displayName))}catch(Z){console.error("[OfficeLocationMap] Error en reverse geocode:",Z)}finally{w(!1)}}}else H===""&&u(null)},[d]),W=x.useCallback(async H=>{const te=parseFloat(H);if(!isNaN(te)&&te>=-180&&te<=180){if(f(te),E(null),c!==null){w(!0);try{const Z=await N2(c,te);Z&&(m(Z.fullAddress),v(Z.displayName))}catch(Z){console.error("[OfficeLocationMap] Error en reverse geocode:",Z)}finally{w(!1)}}}else H===""&&f(null)},[c]),F=x.useCallback(async()=>{if(c===null||d===null){E("Por favor selecciona una ubicacin en el mapa, ingresa coordenadas o busca una direccin");return}N(!0),E(null);try{await n(c,d,p||null),t()}catch(H){E(H.message||"Error al guardar la ubicacin")}finally{N(!1)}},[c,d,p,n,t]),V=x.useCallback(()=>{E(null),t()},[t]);return l.jsx(Qn,{open:e,onOpenChange:(H,te)=>!te.open&&V(),children:l.jsxs(or,{style:{maxWidth:"800px",width:"90vw"},children:[l.jsx(mr,{children:a?`Ubicacin de ${a}`:"Seleccionar Ubicacin"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:s.inputContainer,children:[l.jsx(he,{label:"Buscar direccin",hint:"Escribe una direccin y selecciona de las sugerencias",children:l.jsx(ln,{freeform:!0,value:g,onInput:H=>{const te=H.target;v(te.value)},onOptionSelect:(H,te)=>{if(te.optionValue){const Z=_.find(Q=>Q.displayName===te.optionValue);Z&&$(Z)}},placeholder:"Escribe una direccin (mnimo 3 caracteres)...",children:C&&g.trim().length>=3?l.jsx(Jt,{disabled:!0,value:"loading",children:"Buscando direcciones..."}):_.length>0?_.map((H,te)=>l.jsx(Jt,{value:H.displayName,children:H.displayName},te)):g.trim().length>=3&&!C?l.jsx(Jt,{disabled:!0,value:"no-results",children:"No se encontraron direcciones"}):null})}),l.jsx(pe,{appearance:"secondary",onClick:j,disabled:S||!g.trim(),loading:S,children:"Buscar en mapa"}),l.jsxs("div",{className:s.coordinatesContainer,children:[l.jsx(he,{label:"Latitud",hint:"Rango: -90 a 90",children:l.jsx(ye,{type:"number",value:c!==null?c.toString():"",onChange:(H,te)=>z(te.value),placeholder:"Ej: 40.4168",step:"0.000001",min:"-90",max:"90"})}),l.jsx(he,{label:"Longitud",hint:"Rango: -180 a 180",children:l.jsx(ye,{type:"number",value:d!==null?d.toString():"",onChange:(H,te)=>W(te.value),placeholder:"Ej: -3.7038",step:"0.000001",min:"-180",max:"180"})})]}),p&&l.jsx(he,{label:"Direccin completa",children:l.jsx(ie,{children:p})}),A&&l.jsx(bn,{intent:"error",children:l.jsx(xn,{children:A})}),S&&l.jsx("div",{className:s.loadingContainer,children:l.jsx(Cn,{size:"small",label:"Obteniendo informacin..."})}),l.jsx("div",{className:s.mapContainer,children:l.jsxs(cV,{center:q,zoom:c&&d?15:6,style:{height:"100%",width:"100%"},whenCreated:H=>{D.current=H},children:[l.jsx(fV,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),c!==null&&d!==null&&l.jsx(uV,{position:[c,d],draggable:!0,eventHandlers:{dragend:H=>{const Z=H.target.getLatLng();O(Z.lat,Z.lng)}},children:l.jsxs(dV,{children:[l.jsx(ie,{weight:"semibold",children:"Ubicacin seleccionada"}),l.jsx(ie,{children:p||`${c.toFixed(6)}, ${d.toFixed(6)}`})]})}),l.jsx(FBe,{onMapClick:O})]})}),l.jsx(ie,{size:300,style:{marginTop:k.spacingVerticalS},children:" Puedes hacer clic en el mapa, arrastrar el marcador, buscar una direccin o ingresar coordenadas manualmente"})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:V,disabled:I,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:F,disabled:I||c===null||d===null,loading:I,children:"Guardar Ubicacin"})]})]})})},qBe=Tr({container:{display:"flex",flexDirection:"column",...it.gap(0),margin:0,padding:0},ribbonMenuContainer:{marginLeft:`calc(-1 * ${k.spacingVerticalXL})`,marginRight:`calc(-1 * ${k.spacingVerticalXL})`,marginTop:`calc(-1 * ${k.spacingVerticalXL})`,marginBottom:k.spacingVerticalL,width:`calc(100% + ${k.spacingVerticalXL} * 2)`},header:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM},headerLeft:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM)},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},toolbar:{display:"flex",width:"100%",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalL},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXXL},actionsCell:{width:"100px"},detailsContent:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM)},detailsRow:{display:"flex",justifyContent:"space-between",padding:k.spacingVerticalS,borderBottom:`1px solid ${k.colorNeutralStroke2}`},detailsLabel:{fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground2},formField:{marginBottom:k.spacingVerticalM},flowContainer:{width:"100%",height:"calc(100vh - 300px)",minHeight:"500px",maxHeight:"800px",border:`1px solid ${k.colorNeutralStroke2}`,...it.borderRadius(k.borderRadiusMedium),overflow:"hidden","@media (max-width: 768px)":{height:"calc(100vh - 250px)",minHeight:"400px"},"@media (max-width: 480px)":{height:"calc(100vh - 200px)",minHeight:"350px"}},flowNode:{padding:k.spacingVerticalM,backgroundColor:k.colorNeutralBackground1,border:`2px solid ${k.colorNeutralStroke1}`,...it.borderRadius(k.borderRadiusMedium),minWidth:"180px",maxWidth:"250px",width:"auto",boxShadow:k.shadow4,"@media (max-width: 768px)":{minWidth:"150px",maxWidth:"200px",padding:k.spacingVerticalS},"@media (max-width: 480px)":{minWidth:"120px",maxWidth:"160px",padding:k.spacingVerticalXS}},flowNodeHeader:{fontWeight:k.fontWeightSemibold,fontSize:k.fontSizeBase400,marginBottom:k.spacingVerticalXS,color:k.colorNeutralForeground1},flowNodeContent:{fontSize:k.fontSizeBase200,color:k.colorNeutralForeground2,...it.margin(0)},flowNodeOffice:{backgroundColor:k.colorBrandBackground2,borderTop:`2px solid ${k.colorBrandForeground1}`,borderRight:`2px solid ${k.colorBrandForeground1}`,borderBottom:`2px solid ${k.colorBrandForeground1}`,borderLeft:`2px solid ${k.colorBrandForeground1}`},flowNodeUser:{backgroundColor:k.colorPaletteGreenBackground2,borderTop:`2px solid ${k.colorPaletteGreenForeground1}`,borderRight:`2px solid ${k.colorPaletteGreenForeground1}`,borderBottom:`2px solid ${k.colorPaletteGreenForeground1}`,borderLeft:`2px solid ${k.colorPaletteGreenForeground1}`}}),HBe=()=>{var oa,_i,Uo,oo,fe,Qe,Nt;const e=qBe(),{t}=Ri("backoffice"),{addGroup:n,removeGroup:r}=Ep();zN();const i=dv(),[o,a]=x.useState([]),[s,c]=x.useState([]),[u,d]=x.useState([]),[f,p]=x.useState(""),[m,g]=x.useState(""),[v,_]=x.useState(!1),[y,S]=x.useState(!1),[w,C]=x.useState(null),[M,A]=x.useState(""),[E,I]=x.useState(null),[N,P]=x.useState(!1),[D,q]=x.useState(!1),[$,j]=x.useState(!1),[O,z]=x.useState(!1),[W,F]=x.useState(!1),[V,H]=x.useState(!1),[te,Z]=x.useState(!1),[Q,re]=x.useState(""),[ue,oe]=x.useState(""),[be,ke]=x.useState(!1),[He,Je]=x.useState(!1),[rt,le]=x.useState(!1),[at,Ge]=x.useState(!1),[We,$e]=x.useState(!1),[et,Xe]=x.useState(null),[X,Y]=x.useState(!1),[me,Ne]=x.useState(null),[Re,Ee]=x.useState(!1),[Ye,Ze]=x.useState(""),[st,wt]=x.useState([]),[_t,je]=x.useState(!1),[jt,ve]=x.useState({}),[tt,ze]=x.useState(!1),[nt,Ve]=x.useState(null),[Et,Zt]=x.useState("details"),[Dt,dt]=x.useState("details"),[G,Pe]=x.useState([]),[qe,Bt]=x.useState([]),[Tt,bt]=x.useState(""),[Vt,qn]=x.useState(!1),[Ln,pn]=x.useState(!1),[Hn,fr]=x.useState(""),[di,kr]=x.useState("table"),[xt,Ur]=x.useState("table"),[An,Vn]=x.useState([]),[Yr,Er]=x.useState([]),[Pn,qr]=x.useState(!1),ne=x.useRef(!1),[_e,Ae]=x.useState({width:window.innerWidth,height:window.innerHeight}),[se,ge]=x.useState({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),ae=x.useRef(!1),Le=x.useRef(!1),De=x.useCallback(async()=>{if(!ae.current)try{ae.current=!0,_(!0),C(null);const J=await En.getAllOffices();a(J)}catch(J){console.error("[OfficesPage] Error cargando offices:",J),C(J.message||"Error al cargar sedes")}finally{_(!1),ae.current=!1}},[]),ht=x.useCallback(async()=>{try{const J=await Yt.getAllCustomers();c(J)}catch(J){console.error("[OfficesPage] Error cargando customers:",J)}},[]),Gt=x.useCallback(async()=>{try{const J=await gP.getAllCountries();d(J)}catch(J){console.error("[OfficesPage] Error cargando pases:",J)}},[]),yt=x.useCallback(async J=>{try{const ce=await En.getOfficeUsers(J);ve(mt=>({...mt,[J]:ce}))}catch(ce){console.error("[OfficesPage] Error cargando usuarios de la oficina:",ce),ve(mt=>({...mt,[J]:[]}))}},[]);x.useEffect(()=>{!ae.current&&!Le.current&&(Le.current=!0,De(),ht(),Gt())},[]),x.useEffect(()=>{(async()=>{try{const ce=await In.getAllTenants();wt(ce)}catch(ce){console.error("[OfficesPage] Error cargando tenants:",ce)}})()},[]),x.useEffect(()=>{o.length>0&&o.forEach(J=>{yt(J.id)})},[o,yt]);const St=o.filter(J=>{var oi,rr,wi,_o,Ws,vf,Rc;const ce=M.toLowerCase(),mt=J.name.toLowerCase().includes(ce),Ue=(oi=J.address)==null?void 0:oi.toLowerCase().includes(ce),It=(rr=J.city)==null?void 0:rr.toLowerCase().includes(ce),Kn=(wi=J.countryName)==null?void 0:wi.toLowerCase().includes(ce),ii=(_o=J.customerName)==null?void 0:_o.toLowerCase().includes(ce),qt=(Ws=J.tenantName)==null?void 0:Ws.toLowerCase().includes(ce),Yn=(vf=J.customers)==null?void 0:vf.some(Nl=>Nl.name.toLowerCase().includes(ce)),qo=(Rc=J.tenants)==null?void 0:Rc.some(Nl=>Nl.name.toLowerCase().includes(ce));return mt||Ue||It||Kn||ii||qt||Yn||qo});x.useEffect(()=>{const J=()=>{Ae({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]);const rn=x.useCallback((J,ce,mt="TB")=>{const Ue=new dp.graphlib.Graph;Ue.setDefaultEdgeLabel(()=>({}));const It=window.innerWidth<768,Kn=window.innerWidth>=768&&window.innerWidth<1024,ii=It?50:Kn?75:100,qt=It?100:Kn?120:150,Yn=It?20:50,qo=It?20:50;Ue.setGraph({rankdir:mt,nodesep:ii,ranksep:qt,marginx:Yn,marginy:qo});const oi=It?150:Kn?180:220,rr=It?100:Kn?110:120;return J.forEach(_o=>{Ue.setNode(_o.id,{width:oi,height:rr})}),ce.forEach(_o=>{Ue.setEdge(_o.source,_o.target)}),dp.layout(Ue),{nodes:J.map(_o=>{const Ws=Ue.node(_o.id);return{..._o,position:{x:Ws.x-oi/2,y:Ws.y-rr/2}}}),edges:ce}},[]),$t=x.useCallback(async()=>{if(St.length===0){Vn([]),Er([]);return}if(ne.current){console.log("[OfficesPage] loadFlowData ya est en ejecucin, ignorando llamada duplicada");return}ne.current=!0,qr(!0);try{const J=[],ce=[];St.forEach(It=>{const Kn=`office-${It.id}`;J.push({id:Kn,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeOffice}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:It.name}),l.jsxs("div",{className:e.flowNodeContent,children:["Clientes: ",It.customers&&It.customers.length>0?It.customers.map(qt=>qt.name).join(", "):"N/A"]}),l.jsxs("div",{className:e.flowNodeContent,children:["Tenants: ",It.tenants&&It.tenants.length>0?It.tenants.map(qt=>qt.name).join(", "):"N/A"]}),It.city&&l.jsxs("div",{className:e.flowNodeContent,children:["Ciudad: ",It.city]}),It.email&&l.jsxs("div",{className:e.flowNodeContent,children:["Email: ",It.email]}),l.jsx("div",{className:e.flowNodeContent,children:It.isSuspended?"Suspendido":It.isActive?"Activo":"Inactivo"})]})}}),(jt[It.id]||[]).forEach(qt=>{const Yn=`user-${qt.id}`;J.push({id:Yn,type:"default",position:{x:0,y:0},data:{label:l.jsxs("div",{className:`${e.flowNode} ${e.flowNodeUser}`,children:[l.jsx("div",{className:e.flowNodeHeader,children:qt.name||qt.email}),l.jsx("div",{className:e.flowNodeContent,children:qt.contactEmail||qt.email}),qt.role&&l.jsxs("div",{className:e.flowNodeContent,children:["Rol: ",qt.role==="Admin"?"Administrador":"Usuario"]})]})}}),ce.push({id:`edge-${Kn}-${Yn}`,source:Kn,target:Yn,type:"smoothstep"})})});const{nodes:mt,edges:Ue}=rn(J,ce,"TB");Vn(mt),Er(Ue)}catch(J){console.error("Error cargando datos del flow:",J),C(J.message||"Error al cargar datos para la vista interactiva")}finally{qr(!1),ne.current=!1}},[St,jt,rn,e]);x.useEffect(()=>{if(di==="flow"&&St.length>0){const J=setTimeout(()=>{$t().catch(ce=>{console.error("[OfficesPage] Error en loadFlowData:",ce)})},100);return()=>clearTimeout(J)}},[di,St.length,jt,$t]);const nn=x.useCallback(J=>{Vn(ce=>b1(J,ce))},[]),tr=x.useCallback(J=>{Er(ce=>x1(J,ce))},[]),en=x.useCallback(J=>Er(ce=>m1(J,ce)),[]);x.useEffect(()=>(n({id:"offices",label:"Sedes",icon:l.jsx(cu,{}),items:[{id:"create",label:t("offices.new"),icon:l.jsx(Wr,{}),action:()=>{ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),P(!0)}}]}),()=>{r("offices")}),[n,r]);const Ot=async()=>{if(!se.name||!se.tenantId){C("El nombre y el tenant son requeridos");return}try{C(null),q(!0),await En.createOffice(se),P(!1),q(!1),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),p(""),await De()}catch(J){C(J.message||"Error al crear sede"),q(!1)}},sn=async J=>{I(J);const ce=J.tenants&&J.tenants.length>0?J.tenants[0].id:J.tenantId||"";ge({tenantId:ce,name:J.name,address:J.address||"",city:J.city||"",stateProvince:J.stateProvince||"",postalCode:J.postalCode||"",phone:J.phone||"",email:J.email||"",countryId:J.countryId||""}),g(""),j(!0)},Ut=async()=>{if(!E||!se.name){C("El nombre es requerido");return}const J=E.id;try{C(null),z(!0);const ce={name:se.name,address:se.address||void 0,city:se.city||void 0,stateProvince:se.stateProvince||void 0,postalCode:se.postalCode||void 0,phone:se.phone||void 0,email:se.email||void 0,countryId:se.countryId||void 0};await En.updateOffice(J,ce),await De(),j(!1),I(null),g(""),z(!1)}catch(ce){C(ce.message||"Error al actualizar sede"),z(!1)}},fi=async J=>{try{await En.suspendOffice(J.id),await De()}catch(ce){C(ce.message||"Error al suspender sede")}},Mr=J=>{I(J),F(!0)},lr=async()=>{if(E)try{C(null),await En.deleteOffice(E.id),F(!1),I(null),await De()}catch(J){C(J.message||"Error al eliminar sede")}},ji=J=>{I(J),H(!0)},At=x.useCallback(async J=>{try{qn(!0);const ce=await En.getOfficeUsers(J);Pe(ce)}catch(ce){console.error("[OfficesPage] Error cargando usuarios de la sede:",ce),C(ce.message||"Error al cargar usuarios de la sede"),Pe([])}finally{qn(!1)}},[]),fn=x.useCallback(async()=>{try{const J=await vn.getAllUsers();Bt(J)}catch(J){console.error("[OfficesPage] Error cargando usuarios disponibles:",J),Bt([])}},[]),Ii=async()=>{if(!E||!Tt){C("Debe seleccionar un usuario");return}try{pn(!0),C(null),await vn.assignOfficeToUser(Tt,E.id),await At(E.id),bt(""),fr("")}catch(J){console.error("[OfficesPage] Error asignando usuario a la sede:",J),C(J.message||"Error al asignar usuario a la sede")}finally{pn(!1)}},hr=async J=>{if(E)try{pn(!0),C(null),await vn.removeOfficeFromUser(J,E.id),await At(E.id)}catch(ce){console.error("[OfficesPage] Error desasignando usuario de la sede:",ce),C(ce.message||"Error al desasignar usuario de la sede")}finally{pn(!1)}},xr=x.useMemo(()=>{if(!f.trim())return u;const J=f.toLowerCase();return u.filter(ce=>ce.name.toLowerCase().includes(J)||ce.isoCode.toLowerCase().includes(J))},[u,f]),Oo=x.useMemo(()=>{if(!m.trim())return u;const J=m.toLowerCase();return u.filter(ce=>ce.name.toLowerCase().includes(J)||ce.isoCode.toLowerCase().includes(J))},[u,m]),$i=x.useMemo(()=>{if(!Hn.trim())return qe;const J=Hn.toLowerCase();return qe.filter(ce=>{var mt,Ue,It;return((mt=ce.name)==null?void 0:mt.toLowerCase().includes(J))||((Ue=ce.email)==null?void 0:Ue.toLowerCase().includes(J))||((It=ce.contactEmail)==null?void 0:It.toLowerCase().includes(J))})},[qe,Hn]);x.useEffect(()=>{if(V){Je(!0);const J=setTimeout(()=>{Je(!1)},300);return()=>clearTimeout(J)}else Je(!1)},[V]),x.useEffect(()=>{V&&E&&(At(E.id),fn(),Zt("details"))},[V,E,At,fn]),x.useEffect(()=>{$&&E&&(At(E.id),fn(),dt("details"))},[$,E,At,fn]),x.useEffect(()=>{if(N){le(!0);const J=setTimeout(()=>{le(!1)},200);return()=>clearTimeout(J)}else le(!1)},[N]),x.useEffect(()=>{if($){Ge(!0);const J=setTimeout(()=>{Ge(!1)},300);return()=>clearTimeout(J)}else Ge(!1)},[$]);const zi=J=>{I(J),re(""),oe(""),Z(!0)},Dn=async()=>{if(!E||!Q.trim()||!ue.trim()){C("El ttulo y el mensaje son requeridos");return}try{C(null),ke(!0);const J=await Xn.notifyOfficeUsers(E.id,{title:Q,message:ue});Z(!1),re(""),oe(""),alert(J.message)}catch(J){C(J.message||"Error al enviar notificaciones")}finally{ke(!1)}},io=async J=>{try{await En.activateOffice(J.id),await De()}catch(ce){C(ce.message||"Error al activar sede")}},Li=J=>{Ve(J),ze(!0)},bo=async(J,ce,mt)=>{if(nt)try{C(null),z(!0);const Ue={name:nt.name,address:nt.address||void 0,city:nt.city||void 0,stateProvince:nt.stateProvince||void 0,postalCode:nt.postalCode||void 0,phone:nt.phone||void 0,email:nt.email||void 0,countryId:nt.countryId||void 0,latitude:J||void 0,longitude:ce||void 0,fullAddress:mt||void 0};await En.updateOffice(nt.id,Ue),await De(),ze(!1),Ve(null)}catch(Ue){throw console.error("[OfficesPage] Error guardando ubicacin:",Ue),C(Ue.message||"Error al guardar la ubicacin"),Ue}finally{z(!1)}},gr=async J=>{try{const ce=await Yt.getCustomerById(J);Xe(ce),$e(!0)}catch(ce){C(ce.message||"Error al cargar detalles del cliente")}},Fo=async J=>{Ne(J),Y(!0)},xo=async()=>{var mt;if(!E||!Ye||Ye.trim()===""){C("Debe seleccionar un tenant");return}const J=((mt=E.tenants)==null?void 0:mt.map(Ue=>Ue.id))||[];if(E.tenantId&&J.push(E.tenantId),J.includes(Ye)){C("El tenant seleccionado ya est asociado a esta sede");return}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(Ye)){C("El tenant seleccionado no es vlido");return}try{C(null),je(!0),console.log("[OfficesPage] Cambiando tenant de la sede:",{officeId:E.id,officeName:E.name,currentTenantId:E.tenantId,newTenantId:Ye}),await En.updateOffice(E.id,{name:E.name,address:E.address,city:E.city,stateProvince:E.stateProvince,postalCode:E.postalCode,phone:E.phone,email:E.email,tenantId:Ye}),console.log("[OfficesPage] Tenant cambiado exitosamente"),Ee(!1),I(null),Ze(""),await De(),je(!1)}catch(Ue){console.error("[OfficesPage] Error al cambiar tenant:",Ue),C(Ue.message||"Error al cambiar tenant de la sede"),je(!1)}};return v&&o.length===0?l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(cu,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("offices.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("offices.searchPlaceholder"),disabled:!0,size:"large",style:{width:"100%"}})}),l.jsxs(Ka,{selectedValue:"table",disabled:!0,children:[l.jsx(ur,{value:"table",icon:l.jsx(Kh,{}),children:t("offices.tableView")}),l.jsx(ur,{value:"flow",icon:l.jsx(Yh,{}),children:t("offices.interactiveView")})]})]}),l.jsx(Pr,{children:l.jsx(uc,{rows:8,columns:9})})]}):l.jsxs("div",{className:e.container,children:[l.jsx("div",{className:e.ribbonMenuContainer,children:l.jsx(Tv,{})}),l.jsxs("div",{className:e.header,children:[l.jsx(cu,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("offices.title")})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalM,marginBottom:k.spacingVerticalM},children:[l.jsx("div",{style:{flex:1},children:l.jsx(Ls,{placeholder:t("offices.searchPlaceholder"),value:M,onChange:(J,ce)=>A(ce.value),size:"large",style:{width:"100%"}})}),l.jsx(pe,{appearance:"secondary",icon:y?void 0:l.jsx(Iu,{}),onClick:async()=>{S(!0);try{await De(),di==="flow"&&await $t()}finally{S(!1)}},disabled:y,disabledFocusable:y,loading:y,title:t("offices.refreshTitle"),children:t("offices.refresh")}),l.jsxs(Ka,{selectedValue:xt,onTabSelect:(J,ce)=>{const mt=ce.value;Ur(mt),kr(mt)},children:[l.jsx(ur,{value:"table",icon:l.jsx(Kh,{}),children:t("offices.tableView")}),l.jsx(ur,{value:"flow",icon:l.jsx(Yh,{}),children:t("offices.interactiveView")})]})]}),l.jsx(Pr,{children:l.jsx(Fa,{children:l.jsxs("div",{style:{padding:k.spacingVerticalXL},children:[w&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:w.startsWith("common.")||w.startsWith("customers.")||w.startsWith("offices.")||w.startsWith("subscriptions.")?t(w):w})}),di==="table"&&l.jsx(l.Fragment,{children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("offices.name")}),l.jsx(we,{children:t("offices.country")}),l.jsx(we,{children:t("offices.city")}),l.jsx(we,{children:t("offices.contactData")}),l.jsx(we,{children:t("offices.location")}),l.jsx(we,{children:t("offices.customers")}),l.jsx(we,{children:t("offices.tenants")}),l.jsx(we,{children:t("offices.users")}),l.jsx(we,{children:t("offices.status")}),l.jsx(we,{children:t("offices.actions")})]})}),l.jsx(Bn,{children:St.length===0?l.jsx(Mt,{children:l.jsx(xe,{colSpan:10,style:{textAlign:"center",padding:k.spacingVerticalXXL},children:l.jsx(ie,{children:t("offices.noOfficesFound")})})}):St.map(J=>{const ce=jt[J.id]||[],mt=J.address||J.phone||J.email,Ue=O&&(E==null?void 0:E.id)===J.id;return l.jsxs(Mt,{children:[l.jsx(xe,{children:Ue?l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalS},children:[l.jsx(Cn,{size:"tiny"}),l.jsx(ie,{weight:"semibold",children:J.name})]}):l.jsx(ie,{weight:"semibold",children:J.name})}),l.jsx(xe,{children:J.countryName||"N/A"}),l.jsx(xe,{children:J.city||"N/A"}),l.jsx(xe,{children:mt?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto",color:k.colorBrandForegroundLink,fontWeight:k.fontWeightSemibold},children:"Ver datos de contacto"})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:"Datos de Contacto"}),l.jsx(qi,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:[J.address&&l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",style:{display:"block",marginBottom:k.spacingVerticalXS},children:"Direccin:"}),l.jsx(ie,{children:J.address})]}),J.phone&&l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",style:{display:"block",marginBottom:k.spacingVerticalXS},children:"Telfono:"}),l.jsx(ie,{children:J.phone})]}),J.email&&l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",style:{display:"block",marginBottom:k.spacingVerticalXS},children:"Email:"}),l.jsx(ie,{children:J.email})]}),!J.address&&!J.phone&&!J.email&&l.jsx(ie,{children:"No hay datos de contacto disponibles"})]})})]})]}):l.jsx(ie,{children:"N/A"})}),l.jsx(xe,{children:J.latitude&&J.longitude?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(cu,{}),title:t("offices.viewEditLocation"),style:{padding:0,minWidth:"auto",height:"auto",color:k.colorBrandForeground1}})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:"Ubicacin de la Sede"}),l.jsx(qi,{children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:[J.fullAddress&&l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",style:{display:"block",marginBottom:k.spacingVerticalXS},children:"Direccin:"}),l.jsx(ie,{children:J.fullAddress})]}),l.jsxs("div",{children:[l.jsx(ie,{weight:"semibold",style:{display:"block",marginBottom:k.spacingVerticalXS},children:"Coordenadas:"}),l.jsxs(ie,{children:["Lat: ",J.latitude.toFixed(6),", Lng: ",J.longitude.toFixed(6)]})]}),l.jsx(pe,{appearance:"primary",onClick:()=>Li(J),style:{marginTop:k.spacingVerticalS},children:"Ver/Editar en Mapa"})]})})]})]}):l.jsx(pe,{appearance:"subtle",icon:l.jsx(cu,{}),onClick:()=>Li(J),title:t("offices.addLocation"),style:{padding:0,minWidth:"auto",height:"auto",color:k.colorNeutralForeground3}})}),l.jsx(xe,{children:J.customers&&J.customers.length>0?l.jsx("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS},children:l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:J.customers.length,size:"medium",appearance:"filled",color:"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:t("offices.associatedCustomers")}),l.jsx(qi,{children:l.jsx("div",{style:{maxWidth:"400px",maxHeight:"300px",overflowY:"auto",display:"flex",flexDirection:"column",gap:k.spacingVerticalS},children:J.customers.map(It=>l.jsx(pe,{appearance:"subtle",onClick:()=>gr(It.id),style:{color:k.colorBrandForegroundLink,textDecoration:"none",fontWeight:k.fontWeightSemibold,padding:k.spacingVerticalXS,justifyContent:"flex-start",textAlign:"left"},children:It.name},It.id))})})]})]})}):l.jsx(ie,{children:"N/A"})}),l.jsx(xe,{children:J.tenants&&J.tenants.length>0?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:J.tenants.length,size:"medium",appearance:"filled",color:"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:"Tenants Asociados"}),l.jsx(qi,{children:l.jsx("div",{style:{maxWidth:"400px",maxHeight:"300px",overflowY:"auto",display:"flex",flexDirection:"column",gap:k.spacingVerticalS},children:J.tenants.map(It=>l.jsx(pe,{appearance:"subtle",onClick:()=>Fo({id:It.id,name:It.name}),style:{color:k.colorBrandForegroundLink,textDecoration:"none",fontWeight:k.fontWeightSemibold,padding:k.spacingVerticalXS,justifyContent:"flex-start",textAlign:"left"},children:It.name},It.id))})})]})]}):l.jsx(ie,{children:"N/A"})}),l.jsx(xe,{children:ce.length>0?l.jsxs(Vi,{children:[l.jsx(Ei,{children:l.jsx(pe,{appearance:"subtle",style:{padding:0,minWidth:"auto",height:"auto"},children:l.jsx(Yi,{count:ce.length,size:"medium",appearance:"filled",color:ce.length===0?"informative":"brand"})})}),l.jsxs(Hi,{children:[l.jsx(Ui,{children:"Usuarios Asociados"}),l.jsx(qi,{children:l.jsx("div",{style:{maxWidth:"600px",maxHeight:"400px",overflowY:"auto",display:"flex",flexDirection:"column",gap:k.spacingVerticalM},children:ce.map(It=>l.jsx(Du,{name:It.name||It.email,secondaryText:It.contactEmail||It.email,presence:{status:It.isActive&&!It.isSuspended?"available":"offline"}},It.id))})})]})]}):l.jsx(Yi,{count:0,size:"medium",appearance:"filled",color:"informative"})}),l.jsx(xe,{children:J.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):J.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(pv,{}),"aria-label":"Ms acciones"})}),l.jsx(Tl,{children:l.jsxs(Xu,{children:[l.jsx(zn,{icon:l.jsx(ju,{}),onClick:()=>ji(J),children:"Ver detalles"}),l.jsx(zn,{icon:l.jsx(Ld,{}),onClick:()=>zi(J),children:"Enviar notificacin"}),l.jsx(zn,{icon:l.jsx(zd,{}),onClick:()=>sn(J),children:"Editar"}),J.isSuspended?l.jsx(zn,{icon:l.jsx(mv,{}),onClick:()=>io(J),children:"Activar"}):l.jsx(zn,{icon:l.jsx(gv,{}),onClick:()=>fi(J),children:"Suspender"}),l.jsx(zn,{icon:l.jsx(Xa,{}),onClick:()=>Mr(J),children:"Eliminar"})]})})]})})]},J.id)})})]})}),di==="flow"&&l.jsxs("div",{style:{position:"relative"},children:[Pn&&l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,...it.borderRadius(k.borderRadiusMedium)},children:l.jsx(Cn,{size:"large",label:"Cargando vista interactiva..."})}),An.length===0&&!Pn?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay datos para mostrar en la vista interactiva"})}):l.jsx("div",{className:e.flowContainer,children:l.jsx(S1,{children:l.jsxs(OP,{nodes:An,edges:Yr,onNodesChange:nn,onEdgesChange:tr,onConnect:en,fitView:!0,minZoom:.2,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},children:[l.jsx(FP,{}),l.jsx(UP,{}),l.jsx(qP,{}),l.jsx(df,{position:"top-left",children:l.jsxs("div",{style:{backgroundColor:k.colorNeutralBackground1,padding:k.spacingVerticalS,...it.borderRadius(k.borderRadiusMedium)},children:[l.jsx(ie,{weight:"semibold",children:"Vista Interactiva: Sedes  Usuarios"}),l.jsx("div",{style:{marginTop:k.spacingVerticalXS},children:l.jsx(ie,{size:200,style:{color:k.colorNeutralForeground3},children:"Nivel: Sedes (1)  Usuarios (2)"})})]})})]})})})]})]})})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:N,modalType:"alert",onOpenChange:(J,ce)=>{if(ce.open===!1){if(D)return;if(se.name.trim()||se.tenantId||se.address.trim()||se.city.trim()||se.stateProvince.trim()||se.postalCode.trim()||se.phone.trim()||se.email.trim()){window.confirm(t("common.confirmClose"))&&(P(!1),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),C(null));return}else P(!1)}else P(ce.open)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{if(D)return;se.name.trim()||se.tenantId||se.address.trim()||se.city.trim()||se.stateProvince.trim()||se.postalCode.trim()||se.phone.trim()||se.email.trim()?window.confirm(t("common.confirmClose"))&&(P(!1),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),p(""),C(null)):P(!1)}}),children:"Nueva Sede"})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:rt||D?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("offices.tenants"),required:!0,className:e.formField,children:l.jsx(ln,{value:((oa=st.find(J=>J.id===se.tenantId))==null?void 0:oa.name)||"",onOptionSelect:(J,ce)=>{ce.optionValue&&ge({...se,tenantId:ce.optionValue})},children:st.map(J=>l.jsx(Jt,{value:J.id,children:J.name},J.id))})}),l.jsx(he,{label:t("offices.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:se.name,onChange:J=>ge({...se,name:J.target.value}),placeholder:t("offices.namePlaceholder")})}),l.jsx(he,{label:t("offices.country"),className:e.formField,children:l.jsx(ln,{value:f||((_i=u.find(J=>J.id===se.countryId))==null?void 0:_i.name)||"",onOptionSelect:(J,ce)=>{const mt=u.find(Ue=>Ue.name===ce.optionValue);mt&&(ge({...se,countryId:mt.id}),p(""))},onInput:J=>{const ce=J.target;p(ce.value)},placeholder:t("offices.selectCountry"),children:xr.map(J=>l.jsxs(Jt,{value:J.name,children:[J.name," (",J.isoCode,")"]},J.id))})}),l.jsx(he,{label:t("common.address"),className:e.formField,children:l.jsx(ye,{value:se.address,onChange:J=>ge({...se,address:J.target.value}),placeholder:t("customers.addressPlaceholder")})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:se.city,onChange:J=>ge({...se,city:J.target.value}),placeholder:t("common.city")})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:se.stateProvince,onChange:J=>ge({...se,stateProvince:J.target.value}),placeholder:t("common.stateProvince")})}),l.jsx(he,{label:t("common.postalCode"),className:e.formField,children:l.jsx(ye,{value:se.postalCode,onChange:J=>ge({...se,postalCode:J.target.value}),placeholder:t("customers.postalCodePlaceholder")})}),l.jsx(he,{label:t("common.phone"),className:e.formField,children:l.jsx(ye,{value:se.phone,onChange:J=>ge({...se,phone:J.target.value}),placeholder:t("common.phone")})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{type:"email",value:se.email,onChange:J=>ge({...se,email:J.target.value}),placeholder:t("common.email")})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{se.name.trim()||se.tenantId||se.countryId||se.address.trim()||se.city.trim()||se.stateProvince.trim()||se.postalCode.trim()||se.phone.trim()||se.email.trim()?window.confirm(t("common.confirmCancel"))&&(P(!1),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),C(null)):P(!1)},disabled:D,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:Ot,disabled:D,children:t(D?"common.creating":"common.create")})]})]})})})]}),l.jsxs(Rr,{...i,position:"end",size:"large",open:$,modalType:"alert",onOpenChange:(J,ce)=>{if(ce.open===!1){if(O)return;if(!E){j(!1),I(null),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),g("");return}if(se.name!==E.name||se.address!==(E.address||"")||se.city!==(E.city||"")||se.stateProvince!==(E.stateProvince||"")||se.postalCode!==(E.postalCode||"")||se.phone!==(E.phone||"")||se.email!==(E.email||"")){window.confirm("Est seguro de que desea cerrar? Se perdern los cambios no guardados.")&&(j(!1),I(null),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),g(""),C(null));return}else j(!1),I(null),ge({tenantId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:"",countryId:""}),g(""),C(null)}ce.open===!0&&j(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{if(O)return;if(!E){j(!1),I(null),ge({customerId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""});return}se.name!==E.name||se.address!==(E.address||"")||se.city!==(E.city||"")||se.stateProvince!==(E.stateProvince||"")||se.postalCode!==(E.postalCode||"")||se.phone!==(E.phone||"")||se.email!==(E.email||"")?window.confirm("Est seguro de que desea cerrar? Se perdern los cambios no guardados.")&&(j(!1),I(null),ge({customerId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),C(null)):(j(!1),I(null),ge({customerId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),C(null))}}),children:t("offices.edit")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:at||O?l.jsx(ki,{rows:8}):l.jsxs(l.Fragment,{children:[l.jsxs(Ka,{selectedValue:Dt,onTabSelect:(J,ce)=>dt(ce.value),children:[l.jsx(ur,{value:"details",children:"Detalles"}),l.jsx(ur,{value:"users",children:"Usuarios"})]}),Dt==="details"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx(he,{label:"Tenant",required:!0,className:e.formField,children:l.jsx(ln,{value:((Uo=st.find(J=>J.id===se.tenantId))==null?void 0:Uo.name)||"",disabled:!0,children:st.map(J=>l.jsx(Jt,{value:J.id,children:J.name},J.id))})}),l.jsx(he,{label:t("offices.name"),required:!0,className:e.formField,children:l.jsx(ye,{value:se.name,onChange:J=>ge({...se,name:J.target.value}),placeholder:"Nombre de la sede",disabled:O})}),l.jsx(he,{label:"Pas",className:e.formField,children:l.jsx(ln,{value:m||((oo=u.find(J=>J.id===se.countryId))==null?void 0:oo.name)||"",onOptionSelect:(J,ce)=>{const mt=u.find(Ue=>Ue.name===ce.optionValue);mt&&(ge({...se,countryId:mt.id}),g(""))},onInput:J=>{const ce=J.target;g(ce.value)},placeholder:t("offices.selectCountry"),disabled:O,children:Oo.map(J=>l.jsxs(Jt,{value:J.name,children:[J.name," (",J.isoCode,")"]},J.id))})}),l.jsx(he,{label:"Direccin",className:e.formField,children:l.jsx(ye,{value:se.address,onChange:J=>ge({...se,address:J.target.value}),placeholder:t("customers.addressPlaceholder"),disabled:O})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:se.city,onChange:J=>ge({...se,city:J.target.value}),placeholder:t("common.city"),disabled:O})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:se.stateProvince,onChange:J=>ge({...se,stateProvince:J.target.value}),placeholder:t("common.stateProvince"),disabled:O})}),l.jsx(he,{label:t("common.postalCode"),className:e.formField,children:l.jsx(ye,{value:se.postalCode,onChange:J=>ge({...se,postalCode:J.target.value}),placeholder:t("customers.postalCodePlaceholder"),disabled:O})}),l.jsx(he,{label:"Telfono",className:e.formField,children:l.jsx(ye,{value:se.phone,onChange:J=>ge({...se,phone:J.target.value}),placeholder:t("common.phone"),disabled:O})}),l.jsx(he,{label:t("common.email"),className:e.formField,children:l.jsx(ye,{type:"email",value:se.email,onChange:J=>ge({...se,email:J.target.value}),placeholder:t("common.email"),disabled:O})}),w&&l.jsx(bn,{intent:"error",style:{marginTop:k.spacingVerticalXL,marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:w})}),l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{if(!E){j(!1),I(null),ge({customerId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""});return}se.name!==E.name||se.address!==(E.address||"")||se.city!==(E.city||"")||se.stateProvince!==(E.stateProvince||"")||se.postalCode!==(E.postalCode||"")||se.phone!==(E.phone||"")||se.email!==(E.email||"")||se.countryId!==(E.countryId||"")?window.confirm(t("common.confirmCancelChanges"))&&(j(!1),I(null),ge({customerId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),C(null)):(j(!1),I(null),ge({customerId:"",name:"",address:"",city:"",stateProvince:"",postalCode:"",phone:"",email:""}),C(null))},disabled:O,children:t("common.cancel")}),l.jsx(pe,{appearance:"primary",onClick:Ut,disabled:O,children:t(O?"common.saving":"common.save")})]})]}),Dt==="users"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM},children:l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap"},children:[l.jsx(ln,{placeholder:"Seleccionar usuario para asignar",value:Tt?((fe=qe.find(J=>J.id===Tt))==null?void 0:fe.email)||"":Hn,onOptionSelect:(J,ce)=>{const mt=qe.find(Ue=>Ue.email===ce.optionValue);mt&&(bt(mt.id),fr(""))},onInput:J=>{const ce=J.target;fr(ce.value),ce.value||bt("")},style:{width:"300px"},children:$i.map(J=>l.jsxs(Jt,{value:J.email,children:[J.name||J.email," ",J.email!==J.name?`(${J.email})`:""]},J.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Ii,disabled:!Tt||Ln,children:"Agregar"})]})}),Vt?l.jsx(Cn,{label:"Cargando usuarios..."}):l.jsx("div",{children:G.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay usuarios asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("offices.userName")}),l.jsx(we,{children:t("offices.userEmail")}),l.jsx(we,{children:t("offices.userRole")}),l.jsx(we,{children:t("offices.userStatus")}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:G.map(J=>l.jsxs(Mt,{children:[l.jsx(xe,{children:J.name||"N/A"}),l.jsx(xe,{children:J.email}),l.jsx(xe,{children:J.role||"N/A"}),l.jsx(xe,{children:J.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):J.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Xa,{}),onClick:()=>hr(J.id),disabled:Ln,children:"Desasignar"})})]},J.id))})]})})]})]})})})]}),l.jsx(Qn,{open:W,onOpenChange:(J,ce)=>F(ce.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Eliminar Sede"}),l.jsxs(ir,{children:[l.jsx($r,{children:l.jsxs(ie,{children:['Est seguro de que desea eliminar la sede "',E==null?void 0:E.name,'"? Esta accin no se puede deshacer.']})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>F(!1),children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:lr,children:"Eliminar"})]})]})]})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:V,modalType:"alert",onOpenChange:(J,ce)=>{ce.open===!1?(H(!1),I(null)):H(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{H(!1),I(null)}}),children:t("offices.details")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:He?l.jsx(ki,{rows:12}):E?l.jsxs(l.Fragment,{children:[w&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:w})}),l.jsxs(Ka,{selectedValue:Et,onTabSelect:(J,ce)=>Zt(ce.value),children:[l.jsx(ur,{value:"details",children:"Detalles"}),l.jsx(ur,{value:"users",children:"Usuarios"})]}),Et==="details"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx(he,{label:"Nombre",className:e.formField,children:l.jsx(ye,{value:E.name,readOnly:!0})}),l.jsx(he,{label:"Tenants",className:e.formField,children:E.tenants&&E.tenants.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalXS},children:E.tenants.map(J=>l.jsx(ie,{weight:"semibold",children:J.name},J.id))}):l.jsx(ye,{value:"N/A",readOnly:!0})}),l.jsx(he,{label:"Clientes",className:e.formField,children:E.customers&&E.customers.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalXS},children:E.customers.map(J=>l.jsx(ie,{weight:"semibold",children:J.name},J.id))}):l.jsx(ye,{value:"N/A",readOnly:!0})}),l.jsx(he,{label:"Direccin",className:e.formField,children:l.jsx(ye,{value:E.address||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.city"),className:e.formField,children:l.jsx(ye,{value:E.city||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.stateProvince"),className:e.formField,children:l.jsx(ye,{value:E.stateProvince||"N/A",readOnly:!0})}),l.jsx(he,{label:t("common.postalCode"),className:e.formField,children:l.jsx(ye,{value:E.postalCode||"N/A",readOnly:!0})}),l.jsx(he,{label:"Telfono",className:e.formField,children:l.jsx(ye,{value:E.phone||"N/A",readOnly:!0})}),l.jsx(he,{label:"Correo electrnico",className:e.formField,children:l.jsx(ye,{value:E.email||"N/A",readOnly:!0})}),l.jsx(he,{label:"Estado",className:e.formField,children:l.jsx("div",{children:E.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):E.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})}),l.jsx(he,{label:"Creado",className:e.formField,children:l.jsx(ye,{value:new Date(E.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:"Actualizado",className:e.formField,children:l.jsx(ye,{value:new Date(E.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>H(!1),children:"Cerrar"})})]}),Et==="users"&&l.jsxs("div",{style:{marginTop:k.spacingVerticalL},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:k.spacingVerticalM},children:l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalM,alignItems:"center",flexWrap:"wrap"},children:[l.jsx(ln,{placeholder:"Seleccionar usuario para asignar",value:Tt?((Qe=qe.find(J=>J.id===Tt))==null?void 0:Qe.email)||"":Hn,onOptionSelect:(J,ce)=>{const mt=qe.find(Ue=>Ue.email===ce.optionValue);mt&&(bt(mt.id),fr(""))},onInput:J=>{const ce=J.target;fr(ce.value),ce.value||bt("")},style:{width:"300px"},children:$i.map(J=>l.jsxs(Jt,{value:J.email,children:[J.name||J.email," ",J.email!==J.name?`(${J.email})`:""]},J.id))}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:Ii,disabled:!Tt||Ln,children:"Agregar"})]})}),Vt?l.jsx(Cn,{label:"Cargando usuarios..."}):l.jsx("div",{children:G.length===0?l.jsx("div",{style:{padding:k.spacingVerticalXXL,textAlign:"center"},children:l.jsx(ie,{children:"No hay usuarios asignados"})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("offices.userName")}),l.jsx(we,{children:t("offices.userEmail")}),l.jsx(we,{children:t("offices.userRole")}),l.jsx(we,{children:t("offices.userStatus")}),l.jsx(we,{children:"Acciones"})]})}),l.jsx(Bn,{children:G.map(J=>l.jsxs(Mt,{children:[l.jsx(xe,{children:J.name||"N/A"}),l.jsx(xe,{children:J.email}),l.jsx(xe,{children:J.role||"N/A"}),l.jsx(xe,{children:J.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):J.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(Xa,{}),onClick:()=>hr(J.id),disabled:Ln,children:"Desasignar"})})]},J.id))})]})})]})]}):null})})]}),l.jsx(Qn,{open:te,onOpenChange:(J,ce)=>Z(ce.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Enviar Notificacin a Usuarios"}),l.jsx(ir,{children:l.jsx($r,{children:l.jsxs("div",{className:e.detailsContent,children:[l.jsx(bn,{intent:"info",children:l.jsxs(xn,{children:['Se enviar una notificacin por email a todos los usuarios del cliente de la sede "',E==null?void 0:E.name,'".']})}),l.jsx(he,{label:"Ttulo",required:!0,children:l.jsx(ye,{value:Q,onChange:J=>re(J.target.value),placeholder:"Ttulo de la notificacin"})}),l.jsx(he,{label:"Mensaje",required:!0,children:l.jsx(r1,{value:ue,onChange:J=>oe(J.target.value),placeholder:"Mensaje de la notificacin",rows:5})})]})})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{Z(!1),re(""),oe("")},disabled:be,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:Dn,disabled:be||!Q.trim()||!ue.trim(),children:be?"Enviando...":"Enviar Notificacin"})]})]})}),l.jsxs(Rr,{...i,position:"end",size:"large",open:X,modalType:"alert",onOpenChange:(J,ce)=>{ce.open===!1?(Y(!1),Ne(null)):Y(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{Y(!1),Ne(null)}}),children:t("offices.tenantDetails")})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:me?l.jsxs(l.Fragment,{children:[l.jsx(he,{label:t("tenants.name"),className:e.formField,children:l.jsx(ye,{value:me.name,readOnly:!0})}),l.jsx(he,{label:t("tenants.customer"),className:e.formField,children:l.jsx(ye,{value:me.customerName||t("common.notAvailable"),readOnly:!0})}),l.jsx(he,{label:t("tenants.status"),className:e.formField,children:l.jsx("div",{children:me.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:t("common.suspended")}):me.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:t("common.active")}):l.jsx(Ke,{appearance:"outline",children:t("common.inactive")})})}),l.jsx(he,{label:t("tenants.users"),className:e.formField,children:l.jsx(ye,{value:String(me.userCount||0),readOnly:!0})}),l.jsx(he,{label:t("common.created"),className:e.formField,children:l.jsx(ye,{value:new Date(me.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:t("common.updated"),className:e.formField,children:l.jsx(ye,{value:new Date(me.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>Y(!1),children:t("common.close")})})]}):null})})]}),l.jsxs(Rr,{...i,position:"end",size:"large",open:We,modalType:"alert",onOpenChange:(J,ce)=>{ce.open===!1?($e(!1),Xe(null)):$e(!0)},children:[l.jsx(Ir,{children:l.jsx(zr,{action:l.jsx(pe,{appearance:"subtle","aria-label":t("common.close"),icon:l.jsx(Gn,{}),onClick:()=>{$e(!1),Xe(null)}}),children:"Detalles del Cliente"})}),l.jsx(jr,{children:l.jsx("div",{className:e.detailsContent,style:{padding:k.spacingVerticalXL},children:et&&l.jsxs(l.Fragment,{children:[l.jsx(he,{label:"Nombre",className:e.formField,children:l.jsx(ye,{value:et.name,readOnly:!0})}),l.jsx(he,{label:"Identificacin",className:e.formField,children:l.jsx(ye,{value:et.identification,readOnly:!0})}),l.jsx(he,{label:"Pas",className:e.formField,children:l.jsx(ye,{value:et.countryName||"N/A",readOnly:!0})}),l.jsx(he,{label:"Estado/Provincia",className:e.formField,children:l.jsx(ye,{value:et.stateProvince||"N/A",readOnly:!0})}),l.jsx(he,{label:"Ciudad",className:e.formField,children:l.jsx(ye,{value:et.city||"N/A",readOnly:!0})}),l.jsx(he,{label:"Telfono",className:e.formField,children:l.jsx(ye,{value:et.phone||"N/A",readOnly:!0})}),l.jsx(he,{label:"Correo electrnico",className:e.formField,children:l.jsx(ye,{value:et.email||"N/A",readOnly:!0})}),l.jsx(he,{label:"Estado",className:e.formField,children:l.jsx("div",{children:et.isSuspended?l.jsx(Ke,{appearance:"filled",color:"danger",children:"Suspendido"}):et.isActive?l.jsx(Ke,{appearance:"filled",color:"success",children:"Activo"}):l.jsx(Ke,{appearance:"outline",children:"Inactivo"})})}),l.jsx(he,{label:"Tenants",className:e.formField,children:l.jsx(ye,{value:String(et.tenantCount||0),readOnly:!0})}),l.jsx(he,{label:"Usuarios",className:e.formField,children:l.jsx(ye,{value:String(et.userCount||0),readOnly:!0})}),l.jsx(he,{label:"Creado",className:e.formField,children:l.jsx(ye,{value:new Date(et.createdAt).toLocaleString(),readOnly:!0})}),l.jsx(he,{label:"Actualizado",className:e.formField,children:l.jsx(ye,{value:new Date(et.updatedAt).toLocaleString(),readOnly:!0})}),l.jsx("div",{style:{display:"flex",gap:k.spacingHorizontalM,marginTop:k.spacingVerticalXL,justifyContent:"flex-end"},children:l.jsx(pe,{appearance:"primary",onClick:()=>$e(!1),children:"Cerrar"})})]})})})]}),l.jsx(Qn,{open:Re,onOpenChange:(J,ce)=>Ee(ce.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Cambiar Tenant de la Sede"}),l.jsxs(ir,{children:[l.jsxs($r,{children:[l.jsxs(ie,{children:['Seleccione un nuevo tenant para la sede "',E==null?void 0:E.name,'".']}),l.jsx(he,{label:"Tenant",required:!0,className:e.formField,children:l.jsx(ln,{value:((Nt=st.find(J=>J.id===Ye))==null?void 0:Nt.name)||"",onOptionSelect:(J,ce)=>{ce.optionValue&&Ze(ce.optionValue)},children:st.map(J=>l.jsx(Jt,{value:J.id,children:J.name},J.id))})}),(E==null?void 0:E.tenants)&&E.tenants.length>0&&l.jsxs(ie,{children:["Tenants actuales: ",E.tenants.map(J=>J.name).join(", ")]})]}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>{Ee(!1),Ze("")},disabled:_t,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:xo,disabled:_t||!Ye,children:_t?"Cambiando...":"Cambiar Tenant"})]})]})]})}),nt&&l.jsx(UBe,{isOpen:tt,onClose:()=>{ze(!1),Ve(null)},onSave:bo,initialLatitude:nt.latitude??null,initialLongitude:nt.longitude??null,initialFullAddress:nt.fullAddress??null,officeName:nt.name})]})},Da={async createShipmentRequest(e){return ut.request("/shipments/requests",{method:"POST",body:JSON.stringify(e)})},async getShipmentRequest(e){return ut.request(`/shipments/requests/${e}`)},async getShipmentRequests(e){const t=e?`/shipments/requests?customerId=${e}`:"/shipments/requests";return ut.request(t)},async getShipmentLabelPdf(e){const t=await ut.getAccessToken(),n=await fetch(`${pP}/shipments/requests/${e}/label`,{method:"GET",headers:{...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"});if(!n.ok){const r=await n.text();throw new Error(`HTTP error! status: ${n.status}, message: ${r}`)}return n.blob()},async getCategories(e=!1){const t=e?"/shipments/categories?activeOnly=true":"/shipments/categories";return ut.request(t)},async getRates(e=!1){const t=e?"/shipments/rates/available":"/shipments/rates";return ut.request(t)},async createCategory(e,t){return ut.request("/shipments/categories",{method:"POST",body:JSON.stringify({name:e,description:t})})},async updateCategory(e,t,n){return ut.request(`/shipments/categories/${e}`,{method:"PUT",body:JSON.stringify({name:t,description:n})})},async activateCategory(e){return ut.request(`/shipments/categories/${e}/activate`,{method:"POST"})},async deactivateCategory(e){return ut.request(`/shipments/categories/${e}/deactivate`,{method:"POST"})},async createRate(e,t,n,r){return ut.request("/shipments/rates",{method:"POST",body:JSON.stringify({name:e,slaDays:t,baseCost:n,description:r})})},async updateRate(e,t,n,r,i){return ut.request(`/shipments/rates/${e}`,{method:"PUT",body:JSON.stringify({name:t,slaDays:n,baseCost:r,description:i})})},async activateRate(e){return ut.request(`/shipments/rates/${e}/activate`,{method:"POST"})},async deactivateRate(e){return ut.request(`/shipments/rates/${e}/deactivate`,{method:"POST"})}},rl={async getAllSubscriptionTypes(){return ut.request("/subscriptions/types")},async getSubscriptionTypeById(e){return ut.request(`/subscriptions/types/${e}`)},async createSubscriptionType(e){return ut.request("/subscriptions/types",{method:"POST",body:JSON.stringify(e)})},async updateSubscriptionType(e,t){return ut.request(`/subscriptions/types/${e}`,{method:"PUT",body:JSON.stringify(t)})},async getAllSubscriptions(){return ut.request("/subscriptions")},async getCustomerSubscriptions(e){return ut.request(`/subscriptions/customer/${e}`)},async getActiveCustomerSubscription(e){try{return await ut.request(`/subscriptions/customer/${e}/active`)}catch(t){if(t.status===404)return null;throw t}},async getSubscriptionById(e){return ut.request(`/subscriptions/${e}`)},async createSubscription(e){return ut.request("/subscriptions",{method:"POST",body:JSON.stringify(e)})},async deactivateSubscription(e){return ut.request(`/subscriptions/${e}/deactivate`,{method:"POST"})},async activateSubscription(e){return ut.request(`/subscriptions/${e}/activate`,{method:"POST"})},async resetSubscriptionUsage(e){return ut.request(`/subscriptions/${e}/reset-usage`,{method:"POST"})}},VBe={async getAllModels(){return ut.request("/ai/models")},async getActiveModels(){return ut.request("/ai/models/active")},async getModelById(e){return ut.request(`/ai/models/${e}`)},async getModelByName(e){return ut.request(`/ai/models/name/${encodeURIComponent(e)}`)},async syncModels(){return ut.request("/ai/models/sync",{method:"POST"})},async activateModel(e){return ut.request(`/ai/models/${e}/activate`,{method:"POST"})},async deactivateModel(e){return ut.request(`/ai/models/${e}/deactivate`,{method:"POST"})}},WBe=Tr({container:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXL)},header:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},formGroup:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalM),marginBottom:k.spacingVerticalL},logoPreview:{marginTop:k.spacingVerticalS,maxWidth:"200px",maxHeight:"100px",objectFit:"contain",border:`1px solid ${k.colorNeutralStroke1}`,...it.borderRadius(k.borderRadiusMedium),padding:k.spacingVerticalXS,backgroundColor:k.colorNeutralBackground1},loadingContainer:{display:"flex",justifyContent:"center",alignItems:"center",padding:k.spacingVerticalXXL},tableContainer:{marginTop:k.spacingVerticalM},actionButtons:{display:"flex",...it.gap(k.spacingHorizontalS)},formRow:{display:"grid",gridTemplateColumns:"1fr 1fr",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalM,"@media (max-width: 768px)":{gridTemplateColumns:"1fr"}}}),Ia={SITE_NAME:"SiteName",SITE_URL:"SiteUrl",SITE_LOGO:"SiteLogo",MAINTENANCE_MODE:"MaintenanceMode",EMAIL_NOTIFICATIONS:"EmailNotifications"},GBe=()=>{var Zt,Dt,dt;const e=WBe(),{t}=Ri("backoffice"),[n,r]=x.useState(""),[i,o]=x.useState(""),[a,s]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!0),[p,m]=x.useState(!0),[g,v]=x.useState(!1),[_,y]=x.useState(null),[S,w]=x.useState([]),[C,M]=x.useState(!1),[A,E]=x.useState(!1),[I,N]=x.useState(null),[P,D]=x.useState({name:"",description:""}),[q,$]=x.useState([]),[j,O]=x.useState(!1),[z,W]=x.useState(!1),[F,V]=x.useState(null),[H,te]=x.useState({name:"",description:"",slaDays:1,baseCost:0}),[Z,Q]=x.useState([]),[re,ue]=x.useState([]),[oe,be]=x.useState(!1),[ke,He]=x.useState(!1),[Je,rt]=x.useState(null),[le,at]=x.useState({name:"",allowedModelId:"",maxTokensPerMonth:void 0,maxMessagesPerMonth:void 0,maxTokensPerMessage:1e3,pricePerMonth:0,features:[]}),[Ge,We]=x.useState("");x.useEffect(()=>{et(),Ne(),st(),ve(),$e()},[]);const $e=async()=>{try{const G=await VBe.getActiveModels();ue(G)}catch(G){console.error("Error loading OpenAI models:",G),Xn.error("Error","Error al cargar los modelos de OpenAI")}},et=async()=>{try{m(!0);const G=await In.getCurrentTenant();if(!(G!=null&&G.customerId)){console.error("No se encontr tenant o customerId"),m(!1);return}y(G.customerId);const Pe=await $l.getByCustomerId(G.customerId),qe=new Map(Pe.map(Bt=>[Bt.key,Bt.value]));r(qe.get(Ia.SITE_NAME)||""),o(qe.get(Ia.SITE_URL)||""),s(qe.get(Ia.SITE_LOGO)||""),u(qe.get(Ia.MAINTENANCE_MODE)==="true"),f(qe.get(Ia.EMAIL_NOTIFICATIONS)!=="false")}catch(G){console.error("Error cargando configuracin:",G)}finally{m(!1)}},Xe=x.useRef(null),X=G=>{s(G),window.dispatchEvent(new CustomEvent("siteLogoUpdated",{detail:{logoUrl:G}})),Xe.current&&clearTimeout(Xe.current),Xe.current=setTimeout(async()=>{let Pe=_;if(!Pe)try{const qe=await In.getCurrentTenant();if(!(qe!=null&&qe.customerId))return;Pe=qe.customerId,y(qe.customerId)}catch(qe){console.error("Error obteniendo tenant para guardar logo:",qe);return}try{await $l.createOrUpdate({customerId:Pe,key:Ia.SITE_LOGO,value:G})}catch(qe){console.error("Error guardando logo:",qe)}},500)},Y=async()=>{Xe.current&&(clearTimeout(Xe.current),Xe.current=null);let G=_;if(!G)try{const Pe=await In.getCurrentTenant();if(!(Pe!=null&&Pe.customerId))return;G=Pe.customerId,y(Pe.customerId)}catch(Pe){console.error("Error obteniendo tenant para guardar logo:",Pe);return}try{await $l.createOrUpdate({customerId:G,key:Ia.SITE_LOGO,value:a})}catch(Pe){console.error("Error guardando logo:",Pe)}};x.useEffect(()=>()=>{Xe.current&&clearTimeout(Xe.current)},[]);const me=async()=>{let G=_;if(!G)try{const Pe=await In.getCurrentTenant();if(!Pe){alert("Error: No se encontr el tenant. Por favor, recarga la pgina e intenta de nuevo.");return}if(Pe.customerId)G=Pe.customerId,y(Pe.customerId);else try{const qe=await In.getTenantCustomers(Pe.id);if(qe&&qe.length>0)G=qe[0].id,y(qe[0].id);else{alert("Error: El tenant no tiene un cliente asociado. Por favor, asocia un cliente al tenant primero.");return}}catch(qe){console.error("Error obteniendo customers del tenant:",qe),alert("Error: No se pudo obtener el cliente asociado. Por favor, recarga la pgina despus de reiniciar el servidor e intenta de nuevo.");return}}catch(Pe){console.error("Error obteniendo tenant:",Pe),alert("Error: No se pudo obtener la informacin del tenant. Por favor, recarga la pgina e intenta de nuevo.");return}try{v(!0),await Promise.all([$l.createOrUpdate({customerId:G,key:Ia.SITE_NAME,value:n}),$l.createOrUpdate({customerId:G,key:Ia.SITE_URL,value:i}),$l.createOrUpdate({customerId:G,key:Ia.SITE_LOGO,value:a}),$l.createOrUpdate({customerId:G,key:Ia.MAINTENANCE_MODE,value:c.toString()}),$l.createOrUpdate({customerId:G,key:Ia.EMAIL_NOTIFICATIONS,value:d.toString()})]),window.dispatchEvent(new CustomEvent("siteSettingsUpdated")),alert("Configuracin guardada exitosamente")}catch(Pe){console.error("Error guardando configuracin:",Pe),alert("Error al guardar la configuracin")}finally{v(!1)}},Ne=async()=>{try{const G=await Da.getCategories(!1);w(G)}catch(G){console.error("Error loading categories:",G),Xn.error("Error","No se pudieron cargar las categoras")}},Re=G=>{G?(N(G),D({name:G.name,description:G.description||""})):(N(null),D({name:"",description:""})),M(!0)},Ee=()=>{M(!1),N(null),D({name:"",description:""})},Ye=async()=>{if(!P.name.trim()){Xn.error("Error","El nombre de la categora es requerido");return}try{E(!0),I?(await Da.updateCategory(I.id,P.name,P.description||void 0),Xn.success("xito","Categora actualizada correctamente")):(await Da.createCategory(P.name,P.description||void 0),Xn.success("xito","Categora creada correctamente")),await Ne(),Ee()}catch(G){Xn.error("Error",G.message||"Error al guardar la categora")}finally{E(!1)}},Ze=async G=>{try{G.isActive?(await Da.deactivateCategory(G.id),Xn.success("xito","Categora desactivada")):(await Da.activateCategory(G.id),Xn.success("xito","Categora activada")),await Ne()}catch(Pe){Xn.error("Error",Pe.message||"Error al cambiar el estado de la categora")}},st=async()=>{try{const G=await Da.getRates(!1);$(G)}catch(G){console.error("Error loading rates:",G),Xn.error("Error","No se pudieron cargar las tarifas")}},wt=G=>{G?(V(G),te({name:G.name,description:G.description||"",slaDays:G.slaDays,baseCost:G.baseCost})):(V(null),te({name:"",description:"",slaDays:1,baseCost:0})),O(!0)},_t=()=>{O(!1),V(null),te({name:"",description:"",slaDays:1,baseCost:0})},je=async()=>{if(!H.name.trim()){Xn.error("Error","El nombre de la tarifa es requerido");return}if(H.slaDays<=0){Xn.error("Error","Los das de SLA deben ser mayores a cero");return}if(H.baseCost<0){Xn.error("Error","El costo base no puede ser negativo");return}try{W(!0),F?(await Da.updateRate(F.id,H.name,H.slaDays,H.baseCost,H.description||void 0),Xn.success("xito","Tarifa actualizada correctamente")):(await Da.createRate(H.name,H.slaDays,H.baseCost,H.description||void 0),Xn.success("xito","Tarifa creada correctamente")),await st(),_t()}catch(G){Xn.error("Error",G.message||"Error al guardar la tarifa")}finally{W(!1)}},jt=async G=>{try{G.isActive?(await Da.deactivateRate(G.id),Xn.success("xito","Tarifa desactivada")):(await Da.activateRate(G.id),Xn.success("xito","Tarifa activada")),await st()}catch(Pe){Xn.error("Error",Pe.message||"Error al cambiar el estado de la tarifa")}},ve=async()=>{try{const G=await rl.getAllSubscriptionTypes();Q(G)}catch(G){console.error("Error loading subscription types:",G),Xn.error("Error","No se pudieron cargar los tipos de suscripcin")}},tt=G=>{G?(rt(G),at({name:G.name,allowedModelId:G.allowedModelId,maxTokensPerMonth:G.maxTokensPerMonth,maxMessagesPerMonth:G.maxMessagesPerMonth,maxTokensPerMessage:G.maxTokensPerMessage,pricePerMonth:G.pricePerMonth,features:G.features||[]})):(rt(null),at({name:"",allowedModelId:"",maxTokensPerMonth:void 0,maxMessagesPerMonth:void 0,maxTokensPerMessage:1e3,pricePerMonth:0,features:[]})),We(""),be(!0)},ze=()=>{be(!1),rt(null),at({name:"",allowedModelId:"",maxTokensPerMonth:void 0,maxMessagesPerMonth:void 0,maxTokensPerMessage:1e3,pricePerMonth:0,features:[]}),We("")},nt=()=>{Ge.trim()&&(at({...le,features:[...le.features,Ge.trim()]}),We(""))},Ve=G=>{at({...le,features:le.features.filter((Pe,qe)=>qe!==G)})},Et=async()=>{if(!le.name.trim()){Xn.error("Error","El nombre del tipo de suscripcin es requerido");return}if(!le.allowedModelId.trim()){Xn.error("Error","El modelo permitido es requerido");return}if(le.maxTokensPerMessage<=0){Xn.error("Error","Los tokens mximos por mensaje deben ser mayores a cero");return}if(le.pricePerMonth<0){Xn.error("Error","El precio mensual no puede ser negativo");return}try{He(!0);const G={name:le.name,allowedModelId:le.allowedModelId,maxTokensPerMonth:le.maxTokensPerMonth,maxMessagesPerMonth:le.maxMessagesPerMonth,maxTokensPerMessage:le.maxTokensPerMessage,pricePerMonth:le.pricePerMonth,features:le.features.length>0?le.features:void 0};Je?(await rl.updateSubscriptionType(Je.id,G),Xn.success("xito","Tipo de suscripcin actualizado correctamente")):(await rl.createSubscriptionType(G),Xn.success("xito","Tipo de suscripcin creado correctamente")),await ve(),ze()}catch(G){Xn.error("Error",G.message||"Error al guardar el tipo de suscripcin")}finally{He(!1)}};return p?l.jsx("div",{className:e.loadingContainer,children:l.jsx(Cn,{size:"large"})}):l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(Zx,{fontSize:32}),l.jsx("h1",{className:e.title,children:t("settings.title")})]}),l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("settings.generalSettings")}),description:t("settings.generalSettingsDescription")}),l.jsxs("div",{style:{padding:"20px"},children:[l.jsxs("div",{className:e.formGroup,children:[l.jsx(Nr,{htmlFor:"siteLogo",children:t("settings.siteLogo")}),l.jsx(ye,{id:"siteLogo",placeholder:t("settings.siteLogoPlaceholder"),value:a,onChange:G=>X(G.target.value),onBlur:Y}),a&&l.jsx(jq,{src:a,alt:t("settings.siteLogo"),className:e.logoPreview,onError:G=>{G.currentTarget.style.display="none"}})]}),l.jsxs("div",{className:e.formGroup,children:[l.jsx(Nr,{htmlFor:"siteName",children:t("settings.siteName")}),l.jsx(ye,{id:"siteName",placeholder:t("settings.siteNamePlaceholder"),value:n,onChange:G=>r(G.target.value)})]}),l.jsxs("div",{className:e.formGroup,children:[l.jsx(Nr,{htmlFor:"siteUrl",children:t("settings.siteUrl")}),l.jsx(ye,{id:"siteUrl",placeholder:t("settings.siteUrlPlaceholder"),value:i,onChange:G=>o(G.target.value)})]}),l.jsx("div",{className:e.formGroup,children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(Nr,{htmlFor:"maintenanceMode",children:t("settings.maintenanceMode")}),l.jsx(lc,{id:"maintenanceMode",checked:c,onChange:G=>u(G.currentTarget.checked)})]})}),l.jsx("div",{className:e.formGroup,children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx(Nr,{htmlFor:"emailNotifications",children:t("settings.emailNotifications")}),l.jsx(lc,{id:"emailNotifications",checked:d,onChange:G=>f(G.currentTarget.checked)})]})}),l.jsx(pe,{appearance:"primary",onClick:me,disabled:g,children:t(g?"settings.saving":"settings.saveChanges")})]})]}),l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("settings.shipmentCategories")}),description:t("settings.shipmentCategoriesDescription"),action:l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:()=>Re(),children:t("settings.newCategory")})}),l.jsx("div",{style:{padding:"20px"},children:l.jsx("div",{className:e.tableContainer,children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("settings.categoryName")}),l.jsx(we,{children:t("settings.categoryDescription")}),l.jsx(we,{children:t("settings.categoryStatus")}),l.jsx(we,{children:t("settings.categoryActions")})]})}),l.jsx(Bn,{children:S.length===0?l.jsx(Mt,{children:l.jsx(xe,{colSpan:4,children:l.jsx(ie,{children:t("settings.noCategories")})})}):S.map(G=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ie,{weight:"semibold",children:G.name})}),l.jsx(xe,{children:l.jsx(ie,{children:G.description||"-"})}),l.jsx(xe,{children:l.jsx(Ke,{appearance:G.isActive?"filled":"outline",color:G.isActive?"success":"danger",children:G.isActive?t("settings.active"):t("settings.inactive")})}),l.jsx(xe,{children:l.jsxs("div",{className:e.actionButtons,children:[l.jsx(pe,{appearance:"subtle",icon:l.jsx(zd,{}),onClick:()=>Re(G),children:t("settings.edit")}),l.jsx(pe,{appearance:"subtle",icon:G.isActive?l.jsx(Gn,{}):l.jsx(i3,{}),onClick:()=>Ze(G),children:G.isActive?t("settings.deactivate"):t("settings.activate")})]})})]},G.id))})]})})})]}),l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("settings.shipmentRates")}),description:t("settings.shipmentRatesDescription"),action:l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:()=>wt(),children:t("settings.newRate")})}),l.jsx("div",{style:{padding:"20px"},children:l.jsx("div",{className:e.tableContainer,children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("settings.rateName")}),l.jsx(we,{children:t("settings.rateDescription")}),l.jsx(we,{children:t("settings.slaDays")}),l.jsx(we,{children:t("settings.baseCost")}),l.jsx(we,{children:t("settings.rateStatus")}),l.jsx(we,{children:t("settings.rateActions")})]})}),l.jsx(Bn,{children:q.length===0?l.jsx(Mt,{children:l.jsx(xe,{colSpan:6,children:l.jsx(ie,{children:t("settings.noRates")})})}):q.map(G=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ie,{weight:"semibold",children:G.name})}),l.jsx(xe,{children:l.jsx(ie,{children:G.description||"-"})}),l.jsx(xe,{children:l.jsx(ie,{children:G.slaDays})}),l.jsx(xe,{children:l.jsxs(ie,{children:[G.baseCost.toFixed(2)," "]})}),l.jsx(xe,{children:l.jsx(Ke,{appearance:G.isActive?"filled":"outline",color:G.isActive?"success":"danger",children:G.isActive?t("settings.active"):t("settings.inactive")})}),l.jsx(xe,{children:l.jsxs("div",{className:e.actionButtons,children:[l.jsx(pe,{appearance:"subtle",icon:l.jsx(zd,{}),onClick:()=>wt(G),children:t("settings.editRate")}),l.jsx(pe,{appearance:"subtle",icon:G.isActive?l.jsx(Gn,{}):l.jsx(i3,{}),onClick:()=>jt(G),children:G.isActive?t("settings.deactivate"):t("settings.activate")})]})})]},G.id))})]})})})]}),l.jsx(Qn,{open:C,onOpenChange:(G,Pe)=>!Pe.open&&Ee(),children:l.jsxs(or,{children:[l.jsx(mr,{children:t(I?"settings.editCategory":"settings.newCategory")}),l.jsx(ir,{children:l.jsxs($r,{children:[l.jsx(he,{label:t("settings.categoryName"),required:!0,children:l.jsx(ye,{value:P.name,onChange:G=>D({...P,name:G.target.value}),placeholder:t("settings.categoryNamePlaceholder")})}),l.jsx(he,{label:t("settings.categoryDescription"),children:l.jsx(ye,{value:P.description,onChange:G=>D({...P,description:G.target.value}),placeholder:t("settings.categoryDescriptionPlaceholder")})})]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:Ee,children:t("settings.cancel")}),l.jsx(pe,{appearance:"primary",onClick:Ye,disabled:A||!P.name.trim(),children:A?l.jsx(Cn,{size:"tiny"}):t(I?"settings.update":"settings.create")})]})]})}),l.jsx(Qn,{open:j,onOpenChange:(G,Pe)=>!Pe.open&&_t(),children:l.jsxs(or,{children:[l.jsx(mr,{children:t(F?"settings.editRate":"settings.newRate")}),l.jsx(ir,{children:l.jsxs($r,{children:[l.jsxs("div",{className:e.formRow,children:[l.jsx(he,{label:t("settings.rateName"),required:!0,children:l.jsx(ye,{value:H.name,onChange:G=>te({...H,name:G.target.value}),placeholder:t("settings.rateNamePlaceholder")})}),l.jsx(he,{label:t("settings.slaDays"),required:!0,children:l.jsx(ye,{type:"number",min:"1",value:H.slaDays.toString(),onChange:G=>te({...H,slaDays:parseInt(G.target.value)||1})})})]}),l.jsxs("div",{className:e.formRow,children:[l.jsx(he,{label:t("settings.baseCost"),required:!0,children:l.jsx(ye,{type:"number",min:"0",step:"0.01",value:H.baseCost.toString(),onChange:G=>te({...H,baseCost:parseFloat(G.target.value)||0})})}),l.jsx(he,{label:t("settings.rateDescription"),children:l.jsx(ye,{value:H.description,onChange:G=>te({...H,description:G.target.value}),placeholder:t("settings.rateDescriptionPlaceholder")})})]})]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:_t,children:t("settings.cancel")}),l.jsx(pe,{appearance:"primary",onClick:je,disabled:z||!H.name.trim()||H.slaDays<=0||H.baseCost<0,children:z?l.jsx(Cn,{size:"tiny"}):t(F?"settings.update":"settings.create")})]})]})}),l.jsxs(Pr,{children:[l.jsx(Zo,{header:l.jsx(ie,{weight:"semibold",children:t("settings.subscriptionTypes")}),description:t("settings.subscriptionTypesDescription"),action:l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:()=>tt(),children:t("settings.newSubscriptionType")})}),l.jsx("div",{style:{padding:"20px"},children:l.jsx("div",{className:e.tableContainer,children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("settings.subscriptionTypeName")}),l.jsx(we,{children:t("settings.model")}),l.jsx(we,{children:t("settings.tokensPerMonth")}),l.jsx(we,{children:t("settings.messagesPerMonth")}),l.jsx(we,{children:t("settings.tokensPerMessage")}),l.jsx(we,{children:t("settings.price")}),l.jsx(we,{children:t("settings.features")}),l.jsx(we,{children:t("settings.categoryActions")})]})}),l.jsx(Bn,{children:Z.length===0?l.jsx(Mt,{children:l.jsx(xe,{colSpan:8,children:l.jsx(ie,{children:t("settings.noSubscriptionTypes")})})}):Z.map(G=>{var Pe,qe;return l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ie,{weight:"semibold",children:G.name})}),l.jsx(xe,{children:l.jsx(ie,{children:G.allowedModelName})}),l.jsx(xe,{children:l.jsx(ie,{children:((Pe=G.maxTokensPerMonth)==null?void 0:Pe.toLocaleString())||t("settings.unlimited")})}),l.jsx(xe,{children:l.jsx(ie,{children:((qe=G.maxMessagesPerMonth)==null?void 0:qe.toLocaleString())||t("settings.unlimited")})}),l.jsx(xe,{children:l.jsx(ie,{children:G.maxTokensPerMessage.toLocaleString()})}),l.jsx(xe,{children:l.jsx(ie,{children:G.pricePerMonth>0?`${G.pricePerMonth.toFixed(2)} `:t("settings.free")})}),l.jsx(xe,{children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:k.spacingHorizontalXS},children:[G.features&&G.features.length>0?G.features.slice(0,3).map((Bt,Tt)=>l.jsx(Ke,{appearance:"outline",size:"small",children:Bt},Tt)):l.jsx(ie,{size:200,children:"-"}),G.features&&G.features.length>3&&l.jsxs(Ke,{appearance:"outline",size:"small",children:["+",G.features.length-3]})]})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(zd,{}),onClick:()=>tt(G),children:t("settings.editSubscriptionType")})})]},G.id)})})]})})})]}),l.jsx(Qn,{open:oe,onOpenChange:(G,Pe)=>!Pe.open&&ze(),children:l.jsxs(or,{style:{maxWidth:"600px",width:"90vw"},children:[l.jsx(mr,{children:t(Je?"settings.editSubscriptionType":"settings.newSubscriptionType")}),l.jsx(ir,{children:l.jsxs($r,{children:[l.jsxs("div",{className:e.formRow,children:[l.jsx(he,{label:t("settings.subscriptionTypeName"),required:!0,children:l.jsx(ye,{value:le.name,onChange:G=>at({...le,name:G.target.value}),placeholder:t("settings.subscriptionTypeNamePlaceholder")})}),l.jsx(he,{label:t("settings.allowedModel"),required:!0,children:l.jsx(ln,{placeholder:t("settings.allowedModelPlaceholder"),value:le.allowedModelId&&((Zt=re.find(G=>G.id===le.allowedModelId))==null?void 0:Zt.name)||"",onOptionSelect:(G,Pe)=>{at({...le,allowedModelId:Pe.optionValue||""})},children:re.map(G=>l.jsxs(Jt,{value:G.id,text:G.name,children:[G.name," ",G.description?`- ${G.description}`:""]},G.id))})})]}),l.jsxs("div",{className:e.formRow,children:[l.jsx(he,{label:t("settings.maxTokensPerMonth"),children:l.jsx(ye,{type:"number",min:"0",value:((Dt=le.maxTokensPerMonth)==null?void 0:Dt.toString())||"",onChange:G=>at({...le,maxTokensPerMonth:G.target.value?parseInt(G.target.value):void 0}),placeholder:t("settings.maxTokensPerMonth")})}),l.jsx(he,{label:t("settings.maxMessagesPerMonth"),children:l.jsx(ye,{type:"number",min:"0",value:((dt=le.maxMessagesPerMonth)==null?void 0:dt.toString())||"",onChange:G=>at({...le,maxMessagesPerMonth:G.target.value?parseInt(G.target.value):void 0}),placeholder:t("settings.maxMessagesPerMonth")})})]}),l.jsxs("div",{className:e.formRow,children:[l.jsx(he,{label:t("settings.maxTokensPerMessage"),required:!0,children:l.jsx(ye,{type:"number",min:"1",value:le.maxTokensPerMessage.toString(),onChange:G=>at({...le,maxTokensPerMessage:parseInt(G.target.value)||1e3})})}),l.jsx(he,{label:t("settings.pricePerMonth"),required:!0,children:l.jsx(ye,{type:"number",min:"0",step:"0.01",value:le.pricePerMonth.toString(),onChange:G=>at({...le,pricePerMonth:parseFloat(G.target.value)||0})})})]}),l.jsx(he,{label:t("settings.features"),children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:k.spacingVerticalS},children:[l.jsxs("div",{style:{display:"flex",gap:k.spacingHorizontalS},children:[l.jsx(ye,{value:Ge,onChange:G=>We(G.target.value),placeholder:t("settings.addFeaturePlaceholder"),onKeyPress:G=>{G.key==="Enter"&&(G.preventDefault(),nt())},style:{flex:1}}),l.jsx(pe,{onClick:nt,disabled:!Ge.trim(),children:t("settings.addFeature")})]}),le.features.length>0&&l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:k.spacingHorizontalXS},children:le.features.map((G,Pe)=>l.jsxs(Ke,{appearance:"filled",size:"medium",style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS},children:[G,l.jsx(pe,{appearance:"subtle",size:"small",icon:l.jsx(Gn,{}),onClick:()=>Ve(Pe),style:{minWidth:"auto",padding:"2px"}})]},Pe))})]})})]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:ze,children:t("settings.cancel")}),l.jsx(pe,{appearance:"primary",onClick:Et,disabled:ke||!le.name.trim()||!le.allowedModelId.trim()||le.maxTokensPerMessage<=0||le.pricePerMonth<0,children:ke?l.jsx(Cn,{size:"tiny"}):t(Je?"settings.update":"settings.create")})]})]})})]})},$Be=Tr({container:{display:"flex",flexDirection:"column",...it.gap(0),margin:0,padding:0},ribbonMenuContainer:{marginLeft:`calc(-1 * ${k.spacingVerticalXL})`,marginRight:`calc(-1 * ${k.spacingVerticalXL})`,marginTop:`calc(-1 * ${k.spacingVerticalXL})`,marginBottom:k.spacingVerticalL,width:`calc(100% + ${k.spacingVerticalXL} * 2)`},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:k.spacingVerticalM},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},toolbar:{display:"flex",width:"100%",...it.gap(k.spacingHorizontalM),marginBottom:k.spacingVerticalL}}),XBe=()=>{const{t:e}=Ri("backoffice");console.log("[ShipmentRequestsPage] Component rendering - START");const t=$Be(),n=El(),{addGroup:r,removeGroup:i}=Ep(),[o,a]=x.useState([]),[s,c]=x.useState([]),[u,d]=x.useState(!0),[f,p]=x.useState(""),[m,g]=x.useState(null),[v,_]=x.useState(!1),[y,S]=x.useState(new Set);x.useEffect(()=>{let N=!0;return(async()=>{try{if(N&&await w(),N&&r)try{r({id:"shipments-main",label:e("shipments.title"),items:[{id:"new-request",label:e("shipments.newRequest"),icon:l.jsx(Wr,{}),action:()=>n("/shipments/new")}]})}catch(D){console.error("[ShipmentRequestsPage] Error setting up ribbon menu:",D)}}catch(D){console.error("[ShipmentRequestsPage] Error initializing:",D),N&&g(D.message||e("shipments.errorInitializing"))}})(),()=>{N=!1;try{i("shipments-main")}catch{}}},[r,i]),x.useEffect(()=>{C()},[f,o]);const w=async()=>{try{console.log("[ShipmentRequestsPage] Loading data..."),d(!0);const N=await Da.getShipmentRequests().catch(P=>(console.error("[ShipmentRequestsPage] Error loading requests:",P),[]));console.log("[ShipmentRequestsPage] Data loaded:",{requests:(N==null?void 0:N.length)||0}),a(N||[]),c(N||[])}catch(N){console.error("[ShipmentRequestsPage] Error loading shipment data:",N),g(N.message||e("shipments.errorUnknown")),Xn.error(e("shipments.errorLoading"),N.message||e("shipments.errorUnknown")),a([]),c([])}finally{d(!1),console.log("[ShipmentRequestsPage] Loading completed")}},C=()=>{if(!f.trim()){c(o);return}const N=f.toLowerCase(),P=o.filter(D=>{var q;return D.guideNumber.toLowerCase().includes(N)||((q=D.customerName)==null?void 0:q.toLowerCase().includes(N))||D.contactName.toLowerCase().includes(N)||D.originAddress.toLowerCase().includes(N)||D.destinationAddress.toLowerCase().includes(N)});c(P)},M=async N=>{try{const P=await Da.getShipmentLabelPdf(N),D=window.URL.createObjectURL(P);window.open(D,"_blank")}catch(P){Xn.error(e("shipments.errorGeneratingLabel"),P.message)}},A=()=>{_(!v),S(new Set)},E=N=>{S(P=>{const D=new Set(P);return D.has(N)?D.delete(N):D.add(N),D})},I=N=>v||y.has(N);console.log("[ShipmentRequestsPage] Render state:",{isLoading:u,error:m,requestsCount:o.length});try{return u?(console.log("[ShipmentRequestsPage] Rendering skeleton"),l.jsx(uc,{})):m?(console.log("[ShipmentRequestsPage] Rendering error state"),l.jsx("div",{className:t.container,children:l.jsx(bn,{intent:"error",children:l.jsxs(xn,{children:[l.jsxs(ie,{children:[e("common.error"),": ",m.startsWith("common.")||m.startsWith("shipments.")||m.startsWith("customers.")||m.startsWith("offices.")||m.startsWith("subscriptions.")?e(m):m]}),l.jsx(pe,{appearance:"primary",onClick:()=>{g(null),w()},style:{marginTop:k.spacingVerticalM},children:e("shipments.reloadPage")})]})})})):(console.log("[ShipmentRequestsPage] Rendering main content"),l.jsxs("div",{className:t.container,children:[l.jsx("div",{className:t.ribbonMenuContainer,children:l.jsx(Tv,{})}),l.jsx("div",{className:t.header,children:l.jsx(ie,{className:t.title,children:e("shipments.title")})}),l.jsxs("div",{className:t.toolbar,children:[l.jsx(Ls,{placeholder:e("shipments.searchPlaceholder"),value:f,onChange:(N,P)=>p(P.value),style:{flex:1}}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:()=>n("/shipments/new"),children:e("shipments.newRequest")})]}),l.jsx(Pr,{children:l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:e("shipments.guideNumber")}),l.jsx(we,{children:e("shipments.customer")}),l.jsx(we,{children:e("shipments.origin")}),l.jsx(we,{children:e("shipments.destination")}),l.jsx(we,{children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS},children:[l.jsx("span",{children:e("shipments.contact")}),l.jsx(pe,{appearance:"subtle",icon:v?l.jsx(ju,{}):l.jsx(r3,{}),onClick:A,size:"small",title:e(v?"shipments.hideAllContacts":"shipments.showAllContacts")})]})}),l.jsx(we,{children:e("shipments.requestDate")}),l.jsx(we,{children:e("shipments.estimatedDate")}),l.jsx(we,{children:e("shipments.print")})]})}),l.jsx(Bn,{children:s.length===0?l.jsx(Mt,{children:l.jsx(xe,{colSpan:8,children:l.jsx("div",{style:{textAlign:"center",padding:k.spacingVerticalXL},children:l.jsx(ie,{children:e("shipments.noRequests")})})})}):s.map(N=>l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ie,{weight:"semibold",children:N.guideNumber})}),l.jsx(xe,{children:N.customerName||e("shipments.notAvailable")}),l.jsxs(xe,{children:[l.jsx(ie,{children:N.originAddress}),N.originCity&&l.jsx(ie,{size:200,style:{display:"block",color:k.colorNeutralForeground3},children:N.originCity})]}),l.jsxs(xe,{children:[l.jsx(ie,{children:N.destinationAddress}),N.destinationCity&&l.jsx(ie,{size:200,style:{display:"block",color:k.colorNeutralForeground3},children:N.destinationCity})]}),l.jsx(xe,{children:l.jsx("div",{style:{display:"flex",alignItems:"center",gap:k.spacingHorizontalXS},children:I(N.id)?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{flex:1},children:[l.jsx(ie,{children:N.contactName}),N.contactPhone&&l.jsx(ie,{size:200,style:{display:"block",color:k.colorNeutralForeground3},children:N.contactPhone})]}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(ju,{}),onClick:()=>E(N.id),size:"small",title:e("shipments.hideContact")})]}):l.jsx(pe,{appearance:"subtle",icon:l.jsx(r3,{}),onClick:()=>E(N.id),size:"small",title:e("shipments.showContact")})})}),l.jsx(xe,{children:N.requestDate?l.jsx(ie,{children:new Date(N.requestDate).toLocaleString()}):l.jsx(ie,{children:e("shipments.notAvailable")})}),l.jsx(xe,{children:N.estimatedDeliveryDate?l.jsx(ie,{children:new Date(N.estimatedDeliveryDate).toLocaleString()}):l.jsx(ie,{children:e("shipments.notAvailable")})}),l.jsx(xe,{children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(FN,{}),onClick:()=>M(N.id),size:"small",children:e("shipments.label")})})]},N.id))})]})})]}))}catch(N){return console.error("[ShipmentRequestsPage] Render error:",N),l.jsx("div",{style:{padding:k.spacingVerticalXL},children:l.jsx(bn,{intent:"error",children:l.jsxs(xn,{children:[l.jsxs(ie,{children:[e("shipments.errorRendering"),": ",(N==null?void 0:N.message)||e("shipments.errorUnknown")]}),l.jsx(pe,{appearance:"primary",onClick:()=>window.location.reload(),style:{marginTop:k.spacingVerticalM},children:e("shipments.reloadPage")})]})})})}},ZBe=Tr({container:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXL),...it.padding(k.spacingVerticalXXL,k.spacingHorizontalXXL)},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},searchContainer:{display:"flex",...it.gap(k.spacingHorizontalM),alignItems:"center"},tableCard:{...it.padding(k.spacingVerticalL)},formField:{marginBottom:k.spacingVerticalM},usageContainer:{display:"flex",flexDirection:"column",...it.gap(k.spacingVerticalXS),...it.padding(k.spacingVerticalS),backgroundColor:k.colorNeutralBackground2,...it.borderRadius(k.borderRadiusMedium)},usageBar:{display:"flex",alignItems:"center",...it.gap(k.spacingHorizontalS)},usageText:{minWidth:"120px",fontSize:k.fontSizeBase200},badgeContainer:{display:"flex",...it.gap(k.spacingHorizontalXS)}}),KBe=()=>{var ue;const e=ZBe(),{t}=Ri("backoffice"),{dispatchToast:n}=lH(),[r,i]=x.useState([]),[o,a]=x.useState([]),[s,c]=x.useState([]),[u,d]=x.useState(!0),[f,p]=x.useState(""),[m,g]=x.useState(""),[v,_]=x.useState(!1),[y,S]=x.useState(!1),[w,C]=x.useState(!1),[M,A]=x.useState(!1),[E,I]=x.useState(null),[N,P]=x.useState(!1),[D,q]=x.useState(null),[$,j]=x.useState({customerId:"",subscriptionTypeId:"",startDate:new Date().toISOString().split("T")[0]}),O=x.useCallback(async()=>{d(!0),q(null);try{const[oe,be]=await Promise.all([rl.getAllSubscriptionTypes(),Yt.getAllCustomers()]);if(a(oe),c(be),m){const ke=await rl.getCustomerSubscriptions(m);i(ke)}else{const ke=await rl.getAllSubscriptions();i(ke)}}catch(oe){q(oe.message||"Error al cargar los datos"),n(l.jsx(bn,{intent:"error",children:l.jsx(xn,{children:oe.message||"Error al cargar los datos"})}),{intent:"error"})}finally{d(!1)}},[m,n]);x.useEffect(()=>{O()},[O]);const z=r.filter(oe=>{var He;const be=!f||oe.subscriptionTypeName.toLowerCase().includes(f.toLowerCase())||((He=s.find(Je=>Je.id===oe.customerId))==null?void 0:He.name.toLowerCase().includes(f.toLowerCase())),ke=!m||oe.customerId===m;return be&&ke}),W=async()=>{if(!$.customerId||!$.subscriptionTypeId){q("Por favor, complete todos los campos requeridos");return}P(!0),q(null);try{await rl.createSubscription($),n(l.jsx(bn,{intent:"success",children:l.jsx(xn,{children:"Suscripcin creada exitosamente"})}),{intent:"success"}),_(!1),j({customerId:"",subscriptionTypeId:"",startDate:new Date().toISOString().split("T")[0]}),await O()}catch(oe){q(oe.message||"Error al crear la suscripcin")}finally{P(!1)}},F=async()=>{if(E){P(!0),q(null);try{await rl.deactivateSubscription(E.id),n(l.jsx(bn,{intent:"success",children:l.jsx(xn,{children:"Suscripcin desactivada exitosamente"})}),{intent:"success"}),S(!1),I(null),await O()}catch(oe){q(oe.message||"Error al desactivar la suscripcin")}finally{P(!1)}}},V=async()=>{if(E){P(!0),q(null);try{await rl.activateSubscription(E.id),n(l.jsx(bn,{intent:"success",children:l.jsx(xn,{children:"Suscripcin activada exitosamente"})}),{intent:"success"}),C(!1),I(null),await O()}catch(oe){q(oe.message||"Error al activar la suscripcin")}finally{P(!1)}}},H=async()=>{if(E){P(!0),q(null);try{await rl.resetSubscriptionUsage(E.id),n(l.jsx(bn,{intent:"success",children:l.jsx(xn,{children:"Uso de suscripcin reiniciado exitosamente"})}),{intent:"success"}),A(!1),I(null),await O()}catch(oe){q(oe.message||"Error al reiniciar el uso de la suscripcin")}finally{P(!1)}}},te=(oe,be)=>!be||be===0?0:Math.min(oe/be*100,100),Z=oe=>oe>=90?"error":oe>=70?"warning":"success",Q=oe=>new Date(oe).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}),re=oe=>{var be;return((be=s.find(ke=>ke.id===oe))==null?void 0:be.name)||"N/A"};return l.jsxs("div",{className:e.container,children:[l.jsxs("div",{className:e.header,children:[l.jsx(ie,{as:"h1",size:800,weight:"bold",children:t("subscriptions.title")}),l.jsx(pe,{appearance:"primary",icon:l.jsx(Wr,{}),onClick:()=>_(!0),children:t("subscriptions.newSubscription")})]}),D&&l.jsx(bn,{intent:"error",children:l.jsx(xn,{children:D.startsWith("common.")||D.startsWith("customers.")||D.startsWith("offices.")||D.startsWith("subscriptions.")?t(D):D})}),l.jsxs(Pr,{className:e.tableCard,children:[l.jsxs("div",{className:e.searchContainer,children:[l.jsx(Ls,{placeholder:t("subscriptions.searchPlaceholder"),value:f,onChange:(oe,be)=>p(be.value),style:{flex:1}}),l.jsxs(ln,{placeholder:t("subscriptions.filterByCustomer"),value:m?re(m):"",onOptionSelect:(oe,be)=>{g(be.optionValue||"")},style:{width:"250px"},children:[l.jsx(Jt,{value:"",text:t("subscriptions.allCustomers"),children:t("subscriptions.allCustomers")}),s.map(oe=>l.jsx(Jt,{value:oe.id,text:oe.name,children:oe.name},oe.id))]}),l.jsx(pe,{appearance:"subtle",icon:l.jsx(Iu,{}),onClick:O,disabled:u,children:t("subscriptions.refresh")})]}),u?l.jsx("div",{style:{display:"flex",justifyContent:"center",padding:k.spacingVerticalXXL},children:l.jsx(Cn,{size:"large",label:t("subscriptions.loadingSubscriptions")})}):l.jsxs(Rn,{children:[l.jsx(jn,{children:l.jsxs(Mt,{children:[l.jsx(we,{children:t("subscriptions.customer")}),l.jsx(we,{children:t("subscriptions.subscriptionType")}),l.jsx(we,{children:t("subscriptions.model")}),l.jsx(we,{children:t("subscriptions.status")}),l.jsx(we,{children:t("subscriptions.startDate")}),l.jsx(we,{children:t("subscriptions.tokenUsage")}),l.jsx(we,{children:t("subscriptions.messageUsage")}),l.jsx(we,{children:t("subscriptions.actions")})]})}),l.jsx(Bn,{children:z.length===0?l.jsx(Mt,{children:l.jsx(xe,{colSpan:8,align:"center",children:l.jsx(ie,{children:t("subscriptions.noSubscriptionsFound")})})}):z.map(oe=>{var be,ke;return l.jsxs(Mt,{children:[l.jsx(xe,{children:l.jsx(ie,{weight:"semibold",children:re(oe.customerId)})}),l.jsx(xe,{children:l.jsx(Ke,{appearance:"filled",color:"brand",children:oe.subscriptionTypeName})}),l.jsx(xe,{children:l.jsx(ie,{children:oe.allowedModelName})}),l.jsx(xe,{children:l.jsx(Ke,{appearance:"filled",color:oe.isActive?"success":"danger",children:oe.isActive?t("subscriptions.active"):t("subscriptions.inactive")})}),l.jsx(xe,{children:l.jsx(ie,{children:Q(oe.startDate)})}),l.jsx(xe,{children:l.jsx("div",{className:e.usageContainer,children:l.jsxs("div",{className:e.usageBar,children:[l.jsxs(ie,{size:200,className:e.usageText,children:[oe.monthlyUsageTokens.toLocaleString()," / ",((be=oe.maxTokensPerMonth)==null?void 0:be.toLocaleString())||""]}),l.jsx(Lb,{value:te(oe.monthlyUsageTokens,oe.maxTokensPerMonth),max:100,color:Z(te(oe.monthlyUsageTokens,oe.maxTokensPerMonth)),style:{flex:1}}),l.jsx(jb,{content:`${te(oe.monthlyUsageTokens,oe.maxTokensPerMonth).toFixed(1)}% usado`,relationship:"label",children:l.jsx(Nb,{fontSize:14})})]})})}),l.jsx(xe,{children:l.jsx("div",{className:e.usageContainer,children:l.jsxs("div",{className:e.usageBar,children:[l.jsxs(ie,{size:200,className:e.usageText,children:[oe.monthlyUsageMessages.toLocaleString()," / ",((ke=oe.maxMessagesPerMonth)==null?void 0:ke.toLocaleString())||""]}),l.jsx(Lb,{value:te(oe.monthlyUsageMessages,oe.maxMessagesPerMonth),max:100,color:Z(te(oe.monthlyUsageMessages,oe.maxMessagesPerMonth)),style:{flex:1}}),l.jsx(jb,{content:`${te(oe.monthlyUsageMessages,oe.maxMessagesPerMonth).toFixed(1)}% usado`,relationship:"label",children:l.jsx(Nb,{fontSize:14})})]})})}),l.jsx(xe,{children:l.jsxs(Cl,{children:[l.jsx(Os,{disableButtonEnhancement:!0,children:l.jsx(pe,{appearance:"subtle",icon:l.jsx(pv,{})})}),l.jsx(Tl,{children:l.jsxs(Xu,{children:[oe.isActive?l.jsx(zn,{icon:l.jsx(gv,{}),onClick:()=>{I(oe),S(!0)},children:"Desactivar"}):l.jsx(zn,{icon:l.jsx(mv,{}),onClick:()=>{I(oe),C(!0)},children:"Activar"}),l.jsx(zn,{icon:l.jsx(Iu,{}),onClick:()=>{I(oe),A(!0)},children:"Reiniciar Uso"})]})})]})})]},oe.id)})})]})]}),l.jsx(Qn,{open:v,onOpenChange:(oe,be)=>_(be.open),children:l.jsxs(or,{children:[l.jsx(mr,{action:l.jsx(pe,{appearance:"subtle","aria-label":"close",icon:l.jsx(Gn,{}),onClick:()=>_(!1)}),children:"Crear Nueva Suscripcin"}),l.jsxs(ir,{children:[D&&l.jsx(bn,{intent:"error",style:{marginBottom:k.spacingVerticalM},children:l.jsx(xn,{children:D})}),l.jsx(he,{label:t("subscriptions.customer"),required:!0,className:e.formField,children:l.jsx(ln,{placeholder:t("subscriptions.selectCustomer"),value:$.customerId?re($.customerId):"",onOptionSelect:(oe,be)=>{j({...$,customerId:be.optionValue||""})},children:s.map(oe=>l.jsx(Jt,{value:oe.id,text:oe.name,children:oe.name},oe.id))})}),l.jsx(he,{label:t("subscriptions.subscriptionType"),required:!0,className:e.formField,children:l.jsx(ln,{placeholder:t("subscriptions.selectSubscriptionType"),value:$.subscriptionTypeId&&((ue=o.find(oe=>oe.id===$.subscriptionTypeId))==null?void 0:ue.name)||"",onOptionSelect:(oe,be)=>{j({...$,subscriptionTypeId:be.optionValue||""})},children:o.map(oe=>{const be=`${oe.name} - ${oe.allowedModelName} (${oe.pricePerMonth>0?`$${oe.pricePerMonth}/mes`:"Gratis"})`;return l.jsx(Jt,{value:oe.id,text:be,children:be},oe.id)})})}),l.jsx(he,{label:t("subscriptions.startDateLabel"),className:e.formField,children:l.jsx(ye,{type:"date",value:$.startDate||"",onChange:oe=>j({...$,startDate:oe.target.value})})})]}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>_(!1),disabled:N,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:W,disabled:N,children:N?"Creando...":"Crear"})]})]})}),l.jsx(Qn,{open:y,onOpenChange:(oe,be)=>S(be.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Desactivar Suscripcin"}),l.jsx(ir,{children:l.jsxs(ie,{children:["Est seguro de que desea desactivar la suscripcin de"," ",l.jsx("strong",{children:E&&re(E.customerId)}),"?"]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>S(!1),disabled:N,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:F,disabled:N,children:N?"Desactivando...":"Desactivar"})]})]})}),l.jsx(Qn,{open:w,onOpenChange:(oe,be)=>C(be.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Activar Suscripcin"}),l.jsx(ir,{children:l.jsxs(ie,{children:["Est seguro de que desea activar la suscripcin de"," ",l.jsx("strong",{children:E&&re(E.customerId)}),"?",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Nota:"})," Esto desactivar automticamente cualquier otra suscripcin activa del mismo cliente."]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>C(!1),disabled:N,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:V,disabled:N,children:N?"Activando...":"Activar"})]})]})}),l.jsx(Qn,{open:M,onOpenChange:(oe,be)=>A(be.open),children:l.jsxs(or,{children:[l.jsx(mr,{children:"Reiniciar Uso de Suscripcin"}),l.jsx(ir,{children:l.jsxs(ie,{children:["Est seguro de que desea reiniciar el uso mensual de la suscripcin de"," ",l.jsx("strong",{children:E&&re(E.customerId)}),"?",l.jsx("br",{}),l.jsx("br",{}),"Esto establecer los tokens y mensajes usados en 0."]})}),l.jsxs(pr,{children:[l.jsx(pe,{appearance:"secondary",onClick:()=>A(!1),disabled:N,children:"Cancelar"}),l.jsx(pe,{appearance:"primary",onClick:H,disabled:N,children:N?"Reiniciando...":"Reiniciar"})]})]})})]})},YBe=Tr({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:k.colorNeutralBackground2,gap:k.spacingVerticalL},title:{fontSize:k.fontSizeHero800,fontWeight:k.fontWeightSemibold,color:k.colorNeutralForeground1},subtitle:{fontSize:k.fontSizeBase400,color:k.colorNeutralForeground2,textAlign:"center"}}),JBe=()=>{const e=YBe(),t=El(),n=is(),{isAuthenticated:r,isLoading:i,login:o}=Zu(),{t:a}=Ri("backoffice");if(x.useEffect(()=>{var c,u;if(r&&!i){const d=((u=(c=n.state)==null?void 0:c.from)==null?void 0:u.pathname)||"/dashboard";n.pathname!==d&&t(d,{replace:!0})}},[r,i,t,n]),i)return l.jsx("div",{className:e.container,children:l.jsx(Cn,{size:"large"})});const s=()=>{o("/dashboard")};return l.jsxs("div",{className:e.container,children:[l.jsx("h1",{className:e.title,children:a("login.title")}),l.jsx("p",{className:e.subtitle,children:a("login.subtitle")}),l.jsx(pe,{appearance:"primary",size:"large",onClick:s,children:a("login.signIn")})]})},Fl=({children:e,requireAdmin:t=!1})=>{const{isAuthenticated:n,isLoading:r,isAdmin:i}=Zu(),o=is();return r?l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:l.jsx(Cn,{size:"large"})}):!n&&o.pathname!=="/login"?l.jsx(jM,{to:"/login",replace:!0,state:{from:o}}):t&&!i?l.jsx(jM,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:e})};/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iA({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function uB(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function g$(e,t,n="/"){return QBe(e,t,n,!1)}function QBe(e,t,n,r){let i=typeof t=="string"?uB(t):t,o=Fu(i.pathname||"/",n);if(o==null)return null;let a=v$(e);eRe(a);let s=null;for(let c=0;s==null&&c<a.length;++c){let u=dRe(o);s=cRe(a[c],u,r)}return s}function v$(e,t=[],n=[],r="",i=!1){let o=(a,s,c=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;eo(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=dc([r,d.relativePath]),p=n.concat(d);a.children&&a.children.length>0&&(eo(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),v$(a.children,t,p,f,c)),!(a.path==null&&!a.index)&&t.push({path:f,score:sRe(f,a.index),routesMeta:p})};return e.forEach((a,s)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,s);else for(let u of y$(a.path))o(a,s,!0,u)}),t}function y$(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=y$(r.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function eRe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lRe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var tRe=/^:[\w-]+$/,nRe=3,rRe=2,iRe=1,oRe=10,aRe=-2,t4=e=>e==="*";function sRe(e,t){let n=e.split("/"),r=n.length;return n.some(t4)&&(r+=aRe),t&&(r+=rRe),n.filter(i=>!t4(i)).reduce((i,o)=>i+(tRe.test(o)?nRe:o===""?iRe:oRe),r)}function lRe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function cRe(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let c=r[s],u=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=ax({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ax({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:dc([o,f.pathname]),pathnameBase:mRe(dc([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=dc([o,f.pathnameBase]))}return a}function ax(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=uRe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let g=s[p]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function uRe(e,t=!1,n=!0){Sl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,c)=>(r.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function dRe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var b$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fRe=e=>b$.test(e);function hRe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?uB(e):e,o;if(n)if(fRe(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Sl(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=n4(n.substring(1),"/"):o=n4(n,t)}else o=t;return{pathname:o,search:gRe(r),hash:vRe(i)}}function n4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function P2(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pRe(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function x$(e){let t=pRe(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function _$(e,t,n,r=!1){let i;typeof e=="string"?i=uB(e):(i={...e},eo(!i.pathname||!i.pathname.includes("?"),P2("?","pathname","search",i)),eo(!i.pathname||!i.pathname.includes("#"),P2("#","pathname","hash",i)),eo(!i.search||!i.search.includes("#"),P2("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?t[f]:"/"}let c=hRe(i,s),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var dc=e=>e.join("/").replace(/\/\/+/g,"/"),mRe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gRe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vRe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,yRe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bRe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function xRe(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var w$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function S$(e,t){let n=e;if(typeof n!="string"||!b$.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(w$)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),s=Fu(a.pathname,t);a.origin===o.origin&&s!=null?n=s+a.search+a.hash:i=!0}catch{Sl(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var C$=["POST","PUT","PATCH","DELETE"];new Set(C$);var _Re=["GET",...C$];new Set(_Re);var Rp=x.createContext(null);Rp.displayName="DataRouter";var H1=x.createContext(null);H1.displayName="DataRouterState";var wRe=x.createContext(!1),T$=x.createContext({isTransitioning:!1});T$.displayName="ViewTransition";var SRe=x.createContext(new Map);SRe.displayName="Fetchers";var CRe=x.createContext(null);CRe.displayName="Await";var Hs=x.createContext(null);Hs.displayName="Navigation";var dB=x.createContext(null);dB.displayName="Location";var Pc=x.createContext({outlet:null,matches:[],isDataRoute:!1});Pc.displayName="Route";var fB=x.createContext(null);fB.displayName="RouteError";var k$="REACT_ROUTER_ERROR",TRe="REDIRECT",kRe="ROUTE_ERROR_RESPONSE";function ERe(e){if(e.startsWith(`${k$}:${TRe}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function MRe(e){if(e.startsWith(`${k$}:${kRe}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new yRe(t.status,t.statusText,t.data)}catch{}}function ARe(e,{relative:t}={}){eo(V1(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Hs),{hash:i,pathname:o,search:a}=Lv(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:dc([n,o])),r.createHref({pathname:s,search:a,hash:i})}function V1(){return x.useContext(dB)!=null}function Yu(){return eo(V1(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(dB).location}var E$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M$(e){x.useContext(Hs).static||x.useLayoutEffect(e)}function A$(){let{isDataRoute:e}=x.useContext(Pc);return e?qRe():NRe()}function NRe(){eo(V1(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Rp),{basename:t,navigator:n}=x.useContext(Hs),{matches:r}=x.useContext(Pc),{pathname:i}=Yu(),o=JSON.stringify(x$(r)),a=x.useRef(!1);return M$(()=>{a.current=!0}),x.useCallback((c,u={})=>{if(Sl(a.current,E$),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=_$(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:dc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}x.createContext(null);function Lv(e,{relative:t}={}){let{matches:n}=x.useContext(Pc),{pathname:r}=Yu(),i=JSON.stringify(x$(n));return x.useMemo(()=>_$(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function PRe(e,t,n,r,i){eo(V1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(Hs),{matches:a}=x.useContext(Pc),s=a[a.length-1],c=s?s.params:{},u=s?s.pathname:"/",d=s?s.pathnameBase:"/",f=s&&s.route;{let S=f&&f.path||"";P$(u,!f||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Yu(),m;m=p;let g=m.pathname||"/",v=g;if(d!=="/"){let S=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=g$(e,{pathname:v});return Sl(f||_!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Sl(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),zRe(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:dc([d,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:dc([d,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),a,n,r,i)}function BRe(){let e=URe(),t=bRe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,a)}var RRe=x.createElement(BRe,null),N$=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=MRe(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(Pc.Provider,{value:this.props.routeContext},x.createElement(fB.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(jRe,{error:e},t):t}};N$.contextType=wRe;var B2=new WeakMap;function jRe({children:e,error:t}){let{basename:n}=x.useContext(Hs);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=ERe(t.digest);if(r){let i=B2.get(t);if(i)throw i;let o=S$(r.location,n);if(w$&&!B2.get(t))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw B2.set(t,a),a}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function IRe({routeContext:e,match:t,children:n}){let r=x.useContext(Rp);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Pc.Provider,{value:e},n)}function zRe(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n==null?void 0:n.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);eo(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,c=-1;if(n)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}let u=n&&r?(d,f)=>{var p,m;r(d,{location:n.location,params:((m=(p=n.matches)==null?void 0:p[0])==null?void 0:m.params)??{},unstable_pattern:xRe(n.matches),errorInfo:f})}:void 0;return o.reduceRight((d,f,p)=>{let m,g=!1,v=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||RRe,s&&(c<0&&p===0?(P$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):c===p&&(g=!0,_=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),S=()=>{let w;return m?w=v:g?w=_:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(IRe,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?x.createElement(N$,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):S()},null)}function hB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LRe(e){let t=x.useContext(Rp);return eo(t,hB(e)),t}function DRe(e){let t=x.useContext(H1);return eo(t,hB(e)),t}function ORe(e){let t=x.useContext(Pc);return eo(t,hB(e)),t}function pB(e){let t=ORe(e),n=t.matches[t.matches.length-1];return eo(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FRe(){return pB("useRouteId")}function URe(){var r;let e=x.useContext(fB),t=DRe("useRouteError"),n=pB("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function qRe(){let{router:e}=LRe("useNavigate"),t=pB("useNavigate"),n=x.useRef(!1);return M$(()=>{n.current=!0}),x.useCallback(async(i,o={})=>{Sl(n.current,E$),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var r4={};function P$(e,t,n){!t&&!r4[e]&&(r4[e]=!0,Sl(!1,n))}x.memo(HRe);function HRe({routes:e,future:t,state:n,onError:r}){return PRe(e,void 0,n,r,t)}var Zy="get",Ky="application/x-www-form-urlencoded";function W1(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function VRe(e){return W1(e)&&e.tagName.toLowerCase()==="button"}function WRe(e){return W1(e)&&e.tagName.toLowerCase()==="form"}function GRe(e){return W1(e)&&e.tagName.toLowerCase()==="input"}function $Re(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XRe(e,t){return e.button===0&&(!t||t==="_self")&&!$Re(e)}var J0=null;function ZRe(){if(J0===null)try{new FormData(document.createElement("form"),0),J0=!1}catch{J0=!0}return J0}var KRe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function R2(e){return e!=null&&!KRe.has(e)?(Sl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ky}"`),null):e}function YRe(e,t){let n,r,i,o,a;if(WRe(e)){let s=e.getAttribute("action");r=s?Fu(s,t):null,n=e.getAttribute("method")||Zy,i=R2(e.getAttribute("enctype"))||Ky,o=new FormData(e)}else if(VRe(e)||GRe(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||s.getAttribute("action");if(r=c?Fu(c,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Zy,i=R2(e.getAttribute("formenctype"))||R2(s.getAttribute("enctype"))||Ky,o=new FormData(s,e),!ZRe()){let{name:u,type:d,value:f}=e;if(d==="image"){let p=u?`${u}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else u&&o.append(u,f)}}else{if(W1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zy,r=null,i=Ky,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mB(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function JRe(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fu(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function QRe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eje(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tje(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await QRe(o,n);return a.links?a.links():[]}return[]}));return oje(r.flat(1).filter(eje).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function i4(e,t,n,r,i,o){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,s=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>a(c,u)||s(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||s(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function nje(e,t,{includeHydrateFallback:n}={}){return rje(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function rje(e){return[...new Set(e)]}function ije(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function oje(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(ije(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function B$(){let e=x.useContext(Rp);return mB(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aje(){let e=x.useContext(H1);return mB(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gB=x.createContext(void 0);gB.displayName="FrameworkContext";function R$(){let e=x.useContext(gB);return mB(e,"You must render this element inside a <HydratedRouter> element"),e}function sje(e,t){let n=x.useContext(gB),[r,i]=x.useState(!1),[o,a]=x.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=x.useRef(null);x.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let v=y=>{y.forEach(S=>{a(S.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return p.current&&_.observe(p.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,p,{}]:[o,p,{onFocus:Cm(s,m),onBlur:Cm(c,g),onMouseEnter:Cm(u,m),onMouseLeave:Cm(d,g),onTouchStart:Cm(f,m)}]:[!1,p,{}]}function Cm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lje({page:e,...t}){let{router:n}=B$(),r=x.useMemo(()=>g$(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(uje,{page:e,matches:r,...t}):null}function cje(e){let{manifest:t,routeModules:n}=R$(),[r,i]=x.useState([]);return x.useEffect(()=>{let o=!1;return tje(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function uje({page:e,matches:t,...n}){let r=Yu(),{manifest:i,routeModules:o}=R$(),{basename:a}=B$(),{loaderData:s,matches:c}=aje(),u=x.useMemo(()=>i4(e,t,c,i,r,"data"),[e,t,c,i,r]),d=x.useMemo(()=>i4(e,t,c,i,r,"assets"),[e,t,c,i,r]),f=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(t.forEach(y=>{var w;let S=i.routes[y.route.id];!S||!S.hasLoader||(!u.some(C=>C.route.id===y.route.id)&&y.route.id in s&&((w=o[y.route.id])!=null&&w.shouldRevalidate)||S.hasClientLoader?v=!0:g.add(y.route.id))}),g.size===0)return[];let _=JRe(e,a,"data");return v&&g.size>0&&_.searchParams.set("_routes",t.filter(y=>g.has(y.route.id)).map(y=>y.route.id).join(",")),[_.pathname+_.search]},[a,s,r,i,u,t,e,o]),p=x.useMemo(()=>nje(d,i),[d,i]),m=cje(d);return x.createElement(x.Fragment,null,f.map(g=>x.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),p.map(g=>x.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),m.map(({key:g,link:v})=>x.createElement("link",{key:g,nonce:n.nonce,...v})))}function dje(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var fje=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fje&&(window.__reactRouterVersion="7.11.0")}catch{}var j$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I$=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:c,to:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},g){let{basename:v,unstable_useTransitions:_}=x.useContext(Hs),y=typeof u=="string"&&j$.test(u),S=S$(u,v);u=S.to;let w=ARe(u,{relative:i}),[C,M,A]=sje(r,m),E=gje(u,{replace:a,state:s,target:c,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:_});function I(P){t&&t(P),P.defaultPrevented||E(P)}let N=x.createElement("a",{...m,...A,href:S.absoluteURL||w,onClick:S.isExternal||o?t:I,ref:dje(g,M),target:c,"data-discover":!y&&n==="render"?"true":void 0});return C&&!y?x.createElement(x.Fragment,null,N,x.createElement(lje,{page:w})):N});I$.displayName="Link";var hje=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:c,...u},d){let f=Lv(a,{relative:u.relative}),p=Yu(),m=x.useContext(H1),{navigator:g,basename:v}=x.useContext(Hs),_=m!=null&&_je(f)&&s===!0,y=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,S=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(S=S.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&v&&(w=Fu(w,v)||w);const C=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let M=S===y||!i&&S.startsWith(y)&&S.charAt(C)==="/",A=w!=null&&(w===y||!i&&w.startsWith(y)&&w.charAt(y.length)==="/"),E={isActive:M,isPending:A,isTransitioning:_},I=M?t:void 0,N;typeof r=="function"?N=r(E):N=[r,M?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(E):o;return x.createElement(I$,{...u,"aria-current":I,className:N,ref:d,style:P,to:a,viewTransition:s},typeof c=="function"?c(E):c)});hje.displayName="NavLink";var pje=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=Zy,action:s,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p,...m},g)=>{let{unstable_useTransitions:v}=x.useContext(Hs),_=bje(),y=xje(s,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",w=typeof s=="string"&&j$.test(s),C=M=>{if(c&&c(M),M.defaultPrevented)return;M.preventDefault();let A=M.nativeEvent.submitter,E=(A==null?void 0:A.getAttribute("formmethod"))||a,I=()=>_(A||M.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:p});v&&n!==!1?x.startTransition(()=>I()):I()};return x.createElement("form",{ref:g,method:S,action:y,onSubmit:r?c:C,...m,"data-discover":!w&&e==="render"?"true":void 0})});pje.displayName="Form";function mje(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z$(e){let t=x.useContext(Rp);return eo(t,mje(e)),t}function gje(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let u=A$(),d=Yu(),f=Lv(e,{relative:o});return x.useCallback(p=>{if(XRe(p,t)){p.preventDefault();let m=n!==void 0?n:iA(d)===iA(f),g=()=>u(e,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s});c?x.startTransition(()=>g()):g()}},[d,u,f,n,r,t,e,i,o,a,s,c])}var vje=0,yje=()=>`__${String(++vje)}__`;function bje(){let{router:e}=z$("useSubmit"),{basename:t}=x.useContext(Hs),n=FRe(),r=e.fetch,i=e.navigate;return x.useCallback(async(o,a={})=>{let{action:s,method:c,encType:u,formData:d,body:f}=YRe(o,t);if(a.navigate===!1){let p=a.fetcherKey||yje();await r(p,n,a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function xje(e,{relative:t}={}){let{basename:n}=x.useContext(Hs),r=x.useContext(Pc);eo(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Lv(e||".",{relative:t})},a=Yu();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),c=s.getAll("index");if(c.some(d=>d==="")){s.delete("index"),c.filter(f=>f).forEach(f=>s.append("index",f));let d=s.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:dc([n,o.pathname])),iA(o)}function _je(e,{relative:t}={}){let n=x.useContext(T$);eo(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=z$("useViewTransitionState"),i=Lv(e,{relative:t});if(!n.isTransitioning)return!1;let o=Fu(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Fu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ax(i.pathname,a)!=null||ax(i.pathname,o)!=null}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Dv="160",wje=0,o4=1,Sje=2,L$=1,Cje=2,Xl=3,wc=0,Wi=1,ba=2,ra=0,Rh=1,a4=2,s4=3,l4=4,Tje=5,Sd=100,kje=101,Eje=102,c4=103,u4=104,Mje=200,Aje=201,Nje=202,Pje=203,oA=204,aA=205,Bje=206,Rje=207,jje=208,Ije=209,zje=210,Lje=211,Dje=212,Oje=213,Fje=214,Uje=0,D$=1,qje=2,sx=3,Hje=4,Vje=5,Wje=6,Gje=7,O$=0,$je=1,Xje=2,fc=0,Zje=1,Kje=2,Yje=3,Jje=4,Qje=5,e3e=6,F$=300,fp=301,hp=302,sA=303,lA=304,G1=306,cA=1e3,Ms=1001,uA=1002,No=1003,d4=1004,j2=1005,mo=1006,t3e=1007,Kg=1008,Ro=1009,n3e=1010,r3e=1011,vB=1012,U$=1013,rc=1014,gu=1015,Yg=1016,q$=1017,H$=1018,Au=1020,i3e=1021,As=1023,o3e=1024,a3e=1025,Fd=1026,tf=1027,s3e=1028,V$=1029,l3e=1030,W$=1031,G$=1033,I2=33776,z2=33777,L2=33778,D2=33779,f4=35840,h4=35841,p4=35842,m4=35843,$$=36196,g4=37492,v4=37496,y4=37808,b4=37809,x4=37810,_4=37811,w4=37812,S4=37813,C4=37814,T4=37815,k4=37816,E4=37817,M4=37818,A4=37819,N4=37820,P4=37821,O2=36492,B4=36494,R4=36495,c3e=36283,j4=36284,I4=36285,z4=36286,X$=3e3,Ud=3001,Ov=3200,u3e=3201,d3e=0,f3e=1,Yo="",Fn="srgb",Ds="srgb-linear",yB="display-p3",$1="display-p3-linear",lx="linear",Sr="srgb",cx="rec709",ux="p3",Uf=7680,L4=519,h3e=512,p3e=513,m3e=514,Z$=515,g3e=516,v3e=517,y3e=518,b3e=519,D4=35044,O4="300 es",dA=1035,ic=2e3,dx=2001;class Bc{addEventListener(t,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[t]===void 0&&(r[t]=[]),r[t].indexOf(n)===-1&&r[t].push(n)}hasEventListener(t,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[t]!==void 0&&r[t].indexOf(n)!==-1}removeEventListener(t,n){if(this._listeners===void 0)return;const i=this._listeners[t];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const r=this._listeners[t.type];if(r!==void 0){t.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,t);t.target=null}}}const uo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let F4=1234567;const lg=Math.PI/180,Jg=180/Math.PI;function jp(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(uo[e&255]+uo[e>>8&255]+uo[e>>16&255]+uo[e>>24&255]+"-"+uo[t&255]+uo[t>>8&255]+"-"+uo[t>>16&15|64]+uo[t>>24&255]+"-"+uo[n&63|128]+uo[n>>8&255]+"-"+uo[n>>16&255]+uo[n>>24&255]+uo[r&255]+uo[r>>8&255]+uo[r>>16&255]+uo[r>>24&255]).toLowerCase()}function Po(e,t,n){return Math.max(t,Math.min(n,e))}function bB(e,t){return(e%t+t)%t}function x3e(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)}function _3e(e,t,n){return e!==t?(n-e)/(t-e):0}function cg(e,t,n){return(1-n)*e+n*t}function w3e(e,t,n,r){return cg(e,t,1-Math.exp(-n*r))}function S3e(e,t=1){return t-Math.abs(bB(e,t*2)-t)}function C3e(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function T3e(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))}function k3e(e,t){return e+Math.floor(Math.random()*(t-e+1))}function E3e(e,t){return e+Math.random()*(t-e)}function M3e(e){return e*(.5-Math.random())}function A3e(e){e!==void 0&&(F4=e);let t=F4+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function N3e(e){return e*lg}function P3e(e){return e*Jg}function fA(e){return(e&e-1)===0&&e!==0}function B3e(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function fx(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function R3e(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),c=a(n/2),u=o((t+r)/2),d=a((t+r)/2),f=o((t-r)/2),p=a((t-r)/2),m=o((r-t)/2),g=a((r-t)/2);switch(i){case"XYX":e.set(s*d,c*f,c*p,s*u);break;case"YZY":e.set(c*p,s*d,c*f,s*u);break;case"ZXZ":e.set(c*f,c*p,s*d,s*u);break;case"XZX":e.set(s*d,c*g,c*m,s*u);break;case"YXY":e.set(c*m,s*d,c*g,s*u);break;case"ZYZ":e.set(c*g,c*m,s*d,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ih(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function ko(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}const dd={DEG2RAD:lg,RAD2DEG:Jg,generateUUID:jp,clamp:Po,euclideanModulo:bB,mapLinear:x3e,inverseLerp:_3e,lerp:cg,damp:w3e,pingpong:S3e,smoothstep:C3e,smootherstep:T3e,randInt:k3e,randFloat:E3e,randFloatSpread:M3e,seededRandom:A3e,degToRad:N3e,radToDeg:P3e,isPowerOfTwo:fA,ceilPowerOfTwo:B3e,floorPowerOfTwo:fx,setQuaternionFromProperEuler:R3e,normalize:ko,denormalize:ih};class tn{constructor(t=0,n=0){tn.prototype.isVector2=!0,this.x=t,this.y=n}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,n){return this.x=t,this.y=n,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const n=this.x,r=this.y,i=t.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(Po(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y;return n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this}rotateAround(t,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-t.x,a=this.y-t.y;return this.x=o*r-a*i+t.x,this.y=o*i+a*r+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Sn{constructor(t,n,r,i,o,a,s,c,u){Sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,n,r,i,o,a,s,c,u)}set(t,n,r,i,o,a,s,c,u){const d=this.elements;return d[0]=t,d[1]=i,d[2]=s,d[3]=n,d[4]=o,d[5]=c,d[6]=r,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(t,n,r){return t.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const n=t.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],c=r[6],u=r[1],d=r[4],f=r[7],p=r[2],m=r[5],g=r[8],v=i[0],_=i[3],y=i[6],S=i[1],w=i[4],C=i[7],M=i[2],A=i[5],E=i[8];return o[0]=a*v+s*S+c*M,o[3]=a*_+s*w+c*A,o[6]=a*y+s*C+c*E,o[1]=u*v+d*S+f*M,o[4]=u*_+d*w+f*A,o[7]=u*y+d*C+f*E,o[2]=p*v+m*S+g*M,o[5]=p*_+m*w+g*A,o[8]=p*y+m*C+g*E,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=t,n[4]*=t,n[7]*=t,n[2]*=t,n[5]*=t,n[8]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],d=t[8];return n*a*d-n*s*u-r*o*d+r*s*c+i*o*u-i*a*c}invert(){const t=this.elements,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],d=t[8],f=d*a-s*u,p=s*c-d*o,m=u*o-a*c,g=n*f+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return t[0]=f*v,t[1]=(i*u-d*r)*v,t[2]=(s*r-i*a)*v,t[3]=p*v,t[4]=(d*n-i*c)*v,t[5]=(i*o-s*n)*v,t[6]=m*v,t[7]=(r*c-u*n)*v,t[8]=(a*n-r*o)*v,this}transpose(){let t;const n=this.elements;return t=n[1],n[1]=n[3],n[3]=t,t=n[2],n[2]=n[6],n[6]=t,t=n[5],n[5]=n[7],n[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const n=this.elements;return t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8],this}setUvTransform(t,n,r,i,o,a,s){const c=Math.cos(o),u=Math.sin(o);return this.set(r*c,r*u,-r*(c*a+u*s)+a+t,-i*u,i*c,-i*(-u*a+c*s)+s+n,0,0,1),this}scale(t,n){return this.premultiply(F2.makeScale(t,n)),this}rotate(t){return this.premultiply(F2.makeRotation(-t)),this}translate(t,n){return this.premultiply(F2.makeTranslation(t,n)),this}makeTranslation(t,n){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,n,0,0,1),this}makeRotation(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(t,n){return this.set(t,0,0,0,n,0,0,0,1),this}equals(t){const n=this.elements,r=t.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(t,n=0){for(let r=0;r<9;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const F2=new Sn;function K$(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function hx(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function j3e(){const e=hx("canvas");return e.style.display="block",e}const U4={};function ug(e){e in U4||(U4[e]=!0,console.warn(e))}const q4=new Sn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),H4=new Sn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Q0={[Ds]:{transfer:lx,primaries:cx,toReference:e=>e,fromReference:e=>e},[Fn]:{transfer:Sr,primaries:cx,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[$1]:{transfer:lx,primaries:ux,toReference:e=>e.applyMatrix3(H4),fromReference:e=>e.applyMatrix3(q4)},[yB]:{transfer:Sr,primaries:ux,toReference:e=>e.convertSRGBToLinear().applyMatrix3(H4),fromReference:e=>e.applyMatrix3(q4).convertLinearToSRGB()}},I3e=new Set([Ds,$1]),dr={enabled:!0,_workingColorSpace:Ds,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!I3e.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(this.enabled===!1||t===n||!t||!n)return e;const r=Q0[t].toReference,i=Q0[n].fromReference;return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Q0[e].primaries},getTransfer:function(e){return e===Yo?lx:Q0[e].transfer}};function jh(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function U2(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}let qf;class Y${static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{qf===void 0&&(qf=hx("canvas")),qf.width=t.width,qf.height=t.height;const r=qf.getContext("2d");t instanceof ImageData?r.putImageData(t,0,0):r.drawImage(t,0,0,t.width,t.height),n=qf}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const n=hx("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");r.drawImage(t,0,0,t.width,t.height);const i=r.getImageData(0,0,t.width,t.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=jh(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(t.data){const n=t.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(jh(n[r]/255)*255):n[r]=jh(n[r]);return{data:n,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let z3e=0;class J${constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:z3e++}),this.uuid=jp(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(q2(i[a].image)):o.push(q2(i[a]))}else o=q2(i);r.url=o}return n||(t.images[this.uuid]=r),r}}function q2(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?Y$.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let L3e=0;class jo extends Bc{constructor(t=jo.DEFAULT_IMAGE,n=jo.DEFAULT_MAPPING,r=Ms,i=Ms,o=mo,a=Kg,s=As,c=Ro,u=jo.DEFAULT_ANISOTROPY,d=Yo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:L3e++}),this.uuid=jp(),this.name="",this.source=new J$(t),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=c,this.offset=new tn(0,0),this.repeat=new tn(1,1),this.center=new tn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(ug("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Ud?Fn:Yo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=t===void 0||typeof t=="string";if(!n&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==F$)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case cA:t.x=t.x-Math.floor(t.x);break;case Ms:t.x=t.x<0?0:1;break;case uA:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case cA:t.y=t.y-Math.floor(t.y);break;case Ms:t.y=t.y<0?0:1;break;case uA:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ug("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Fn?Ud:X$}set encoding(t){ug("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Ud?Fn:Yo}}jo.DEFAULT_IMAGE=null;jo.DEFAULT_MAPPING=F$;jo.DEFAULT_ANISOTROPY=1;class Ai{constructor(t=0,n=0,r=0,i=1){Ai.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,n,r,i){return this.x=t,this.y=n,this.z=r,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this.w=t.w+n.w,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this.w+=t.w*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this.w=t.w-n.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const n=this.x,r=this.y,i=this.z,o=this.w,a=t.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const n=Math.sqrt(1-t.w*t.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/n,this.y=t.y/n,this.z=t.z/n),this}setAxisAngleFromRotationMatrix(t){let n,r,i,o;const c=t.elements,u=c[0],d=c[4],f=c[8],p=c[1],m=c[5],g=c[9],v=c[2],_=c[6],y=c[10];if(Math.abs(d-p)<.01&&Math.abs(f-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(d+p)<.1&&Math.abs(f+v)<.1&&Math.abs(g+_)<.1&&Math.abs(u+m+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,C=(m+1)/2,M=(y+1)/2,A=(d+p)/4,E=(f+v)/4,I=(g+_)/4;return w>C&&w>M?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=A/r,o=E/r):C>M?C<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(C),r=A/i,o=I/i):M<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(M),r=E/o,i=I/o),this.set(r,i,o,n),this}let S=Math.sqrt((_-g)*(_-g)+(f-v)*(f-v)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(_-g)/S,this.y=(f-v)/S,this.z=(p-d)/S,this.w=Math.acos((u+m+y-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this.w=Math.max(t.w,Math.min(n.w,this.w)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this.w=Math.max(t,Math.min(n,this.w)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this.w+=(t.w-this.w)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this.w=t.w+(n.w-t.w)*r,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this.w=t[n+3],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t[n+3]=this.w,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this.w=t.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class D3e extends Bc{constructor(t=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=t,this.height=n,this.depth=1,this.scissor=new Ai(0,0,t,n),this.scissorTest=!1,this.viewport=new Ai(0,0,t,n);const i={width:t,height:n,depth:1};r.encoding!==void 0&&(ug("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Ud?Fn:Yo),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:mo,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new jo(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(t,n,r=1){(this.width!==t||this.height!==n||this.depth!==r)&&(this.width=t,this.height=n,this.depth=r,this.texture.image.width=t,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,t,n),this.scissor.set(0,0,t,n)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},t.texture.image);return this.texture.source=new J$(n),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Io extends D3e{constructor(t=1,n=1,r={}){super(t,n,r),this.isWebGLRenderTarget=!0}}class Q$ extends jo{constructor(t=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:n,height:r,depth:i},this.magFilter=No,this.minFilter=No,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class O3e extends jo{constructor(t=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:n,height:r,depth:i},this.magFilter=No,this.minFilter=No,this.wrapR=Ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fv{constructor(t=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i}static slerpFlat(t,n,r,i,o,a,s){let c=r[i+0],u=r[i+1],d=r[i+2],f=r[i+3];const p=o[a+0],m=o[a+1],g=o[a+2],v=o[a+3];if(s===0){t[n+0]=c,t[n+1]=u,t[n+2]=d,t[n+3]=f;return}if(s===1){t[n+0]=p,t[n+1]=m,t[n+2]=g,t[n+3]=v;return}if(f!==v||c!==p||u!==m||d!==g){let _=1-s;const y=c*p+u*m+d*g+f*v,S=y>=0?1:-1,w=1-y*y;if(w>Number.EPSILON){const M=Math.sqrt(w),A=Math.atan2(M,y*S);_=Math.sin(_*A)/M,s=Math.sin(s*A)/M}const C=s*S;if(c=c*_+p*C,u=u*_+m*C,d=d*_+g*C,f=f*_+v*C,_===1-s){const M=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=M,u*=M,d*=M,f*=M}}t[n]=c,t[n+1]=u,t[n+2]=d,t[n+3]=f}static multiplyQuaternionsFlat(t,n,r,i,o,a){const s=r[i],c=r[i+1],u=r[i+2],d=r[i+3],f=o[a],p=o[a+1],m=o[a+2],g=o[a+3];return t[n]=s*g+d*f+c*m-u*p,t[n+1]=c*g+d*p+u*f-s*m,t[n+2]=u*g+d*m+s*p-c*f,t[n+3]=d*g-s*f-c*p-u*m,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,n,r,i){return this._x=t,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,n=!0){const r=t._x,i=t._y,o=t._z,a=t._order,s=Math.cos,c=Math.sin,u=s(r/2),d=s(i/2),f=s(o/2),p=c(r/2),m=c(i/2),g=c(o/2);switch(a){case"XYZ":this._x=p*d*f+u*m*g,this._y=u*m*f-p*d*g,this._z=u*d*g+p*m*f,this._w=u*d*f-p*m*g;break;case"YXZ":this._x=p*d*f+u*m*g,this._y=u*m*f-p*d*g,this._z=u*d*g-p*m*f,this._w=u*d*f+p*m*g;break;case"ZXY":this._x=p*d*f-u*m*g,this._y=u*m*f+p*d*g,this._z=u*d*g+p*m*f,this._w=u*d*f-p*m*g;break;case"ZYX":this._x=p*d*f-u*m*g,this._y=u*m*f+p*d*g,this._z=u*d*g-p*m*f,this._w=u*d*f+p*m*g;break;case"YZX":this._x=p*d*f+u*m*g,this._y=u*m*f+p*d*g,this._z=u*d*g-p*m*f,this._w=u*d*f-p*m*g;break;case"XZY":this._x=p*d*f-u*m*g,this._y=u*m*f-p*d*g,this._z=u*d*g+p*m*f,this._w=u*d*f+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,n){const r=n/2,i=Math.sin(r);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(t){const n=t.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],c=n[9],u=n[2],d=n[6],f=n[10],p=r+s+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-c)*m,this._y=(o-u)*m,this._z=(a-i)*m}else if(r>s&&r>f){const m=2*Math.sqrt(1+r-s-f);this._w=(d-c)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(o+u)/m}else if(s>f){const m=2*Math.sqrt(1+s-r-f);this._w=(o-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(c+d)/m}else{const m=2*Math.sqrt(1+f-r-s);this._w=(a-i)/m,this._x=(o+u)/m,this._y=(c+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(t,n){let r=t.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=r):(this._x=0,this._y=-t.z,this._z=t.y,this._w=r)):(this._x=t.y*n.z-t.z*n.y,this._y=t.z*n.x-t.x*n.z,this._z=t.x*n.y-t.y*n.x,this._w=r),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Po(this.dot(t),-1,1)))}rotateTowards(t,n){const r=this.angleTo(t);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,n){const r=t._x,i=t._y,o=t._z,a=t._w,s=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+a*s+i*u-o*c,this._y=i*d+a*c+o*s-r*u,this._z=o*d+a*u+r*c-i*s,this._w=a*d-r*s-i*c-o*u,this._onChangeCallback(),this}slerp(t,n){if(n===0)return this;if(n===1)return this.copy(t);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*t._w+r*t._x+i*t._y+o*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const c=1-s*s;if(c<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*o+n*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,s),f=Math.sin((1-n)*d)/u,p=Math.sin(n*d)/u;return this._w=a*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=o*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(t,n,r){return this.copy(t).slerp(n,r)}random(){const t=Math.random(),n=Math.sqrt(1-t),r=Math.sqrt(t),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,n=0){return this._x=t[n],this._y=t[n+1],this._z=t[n+2],this._w=t[n+3],this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._w,t}fromBufferAttribute(t,n){return this._x=t.getX(n),this._y=t.getY(n),this._z=t.getZ(n),this._w=t.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ie{constructor(t=0,n=0,r=0){Ie.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}set(t,n,r){return r===void 0&&(r=this.z),this.x=t,this.y=n,this.z=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,n){switch(t){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this.z=t.z+n.z,this}addScaledVector(t,n){return this.x+=t.x*n,this.y+=t.y*n,this.z+=t.z*n,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,n){return this.x=t.x-n.x,this.y=t.y-n.y,this.z=t.z-n.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,n){return this.x=t.x*n.x,this.y=t.y*n.y,this.z=t.z*n.z,this}applyEuler(t){return this.applyQuaternion(V4.setFromEuler(t))}applyAxisAngle(t,n){return this.applyQuaternion(V4.setFromAxisAngle(t,n))}applyMatrix3(t){const n=this.x,r=this.y,i=this.z,o=t.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const n=this.x,r=this.y,i=this.z,o=t.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(t){const n=this.x,r=this.y,i=this.z,o=t.x,a=t.y,s=t.z,c=t.w,u=2*(a*i-s*r),d=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+c*u+a*f-s*d,this.y=r+c*d+s*u-o*f,this.z=i+c*f+o*d-a*u,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const n=this.x,r=this.y,i=this.z,o=t.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,n){return this.x=Math.max(t.x,Math.min(n.x,this.x)),this.y=Math.max(t.y,Math.min(n.y,this.y)),this.z=Math.max(t.z,Math.min(n.z,this.z)),this}clampScalar(t,n){return this.x=Math.max(t,Math.min(n,this.x)),this.y=Math.max(t,Math.min(n,this.y)),this.z=Math.max(t,Math.min(n,this.z)),this}clampLength(t,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,n){return this.x+=(t.x-this.x)*n,this.y+=(t.y-this.y)*n,this.z+=(t.z-this.z)*n,this}lerpVectors(t,n,r){return this.x=t.x+(n.x-t.x)*r,this.y=t.y+(n.y-t.y)*r,this.z=t.z+(n.z-t.z)*r,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,n){const r=t.x,i=t.y,o=t.z,a=n.x,s=n.y,c=n.z;return this.x=i*c-o*s,this.y=o*a-r*c,this.z=r*s-i*a,this}projectOnVector(t){const n=t.lengthSq();if(n===0)return this.set(0,0,0);const r=t.dot(this)/n;return this.copy(t).multiplyScalar(r)}projectOnPlane(t){return H2.copy(this).projectOnVector(t),this.sub(H2)}reflect(t){return this.sub(H2.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const n=Math.sqrt(this.lengthSq()*t.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(t)/n;return Math.acos(Po(r,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const n=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return n*n+r*r+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,n,r){const i=Math.sin(n)*t;return this.x=i*Math.sin(r),this.y=Math.cos(n)*t,this.z=i*Math.cos(r),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,n,r){return this.x=t*Math.sin(n),this.y=r,this.z=t*Math.cos(n),this}setFromMatrixPosition(t){const n=t.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(t){const n=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(t,n){return this.fromArray(t.elements,n*4)}setFromMatrix3Column(t,n){return this.fromArray(t.elements,n*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,n=0){return this.x=t[n],this.y=t[n+1],this.z=t[n+2],this}toArray(t=[],n=0){return t[n]=this.x,t[n+1]=this.y,t[n+2]=this.z,t}fromBufferAttribute(t,n){return this.x=t.getX(n),this.y=t.getY(n),this.z=t.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-t**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const H2=new Ie,V4=new Fv;class Uv{constructor(t=new Ie(1/0,1/0,1/0),n=new Ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=n}set(t,n){return this.min.copy(t),this.max.copy(n),this}setFromArray(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n+=3)this.expandByPoint(hs.fromArray(t,n));return this}setFromBufferAttribute(t){this.makeEmpty();for(let n=0,r=t.count;n<r;n++)this.expandByPoint(hs.fromBufferAttribute(t,n));return this}setFromPoints(t){this.makeEmpty();for(let n=0,r=t.length;n<r;n++)this.expandByPoint(t[n]);return this}setFromCenterAndSize(t,n){const r=hs.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}setFromObject(t,n=!1){return this.makeEmpty(),this.expandByObject(t,n)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,n=!1){t.updateWorldMatrix(!1,!1);const r=t.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)t.isMesh===!0?t.getVertexPosition(a,hs):hs.fromBufferAttribute(o,a),hs.applyMatrix4(t.matrixWorld),this.expandByPoint(hs);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),ey.copy(t.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ey.copy(r.boundingBox)),ey.applyMatrix4(t.matrixWorld),this.union(ey)}const i=t.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,n){return n.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,hs),hs.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let n,r;return t.normal.x>0?(n=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(n=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(n+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(n+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(n+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(n+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),n<=-t.constant&&r>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Tm),ty.subVectors(this.max,Tm),Hf.subVectors(t.a,Tm),Vf.subVectors(t.b,Tm),Wf.subVectors(t.c,Tm),Yc.subVectors(Vf,Hf),Jc.subVectors(Wf,Vf),fd.subVectors(Hf,Wf);let n=[0,-Yc.z,Yc.y,0,-Jc.z,Jc.y,0,-fd.z,fd.y,Yc.z,0,-Yc.x,Jc.z,0,-Jc.x,fd.z,0,-fd.x,-Yc.y,Yc.x,0,-Jc.y,Jc.x,0,-fd.y,fd.x,0];return!V2(n,Hf,Vf,Wf,ty)||(n=[1,0,0,0,1,0,0,0,1],!V2(n,Hf,Vf,Wf,ty))?!1:(ny.crossVectors(Yc,Jc),n=[ny.x,ny.y,ny.z],V2(n,Hf,Vf,Wf,ty))}clampPoint(t,n){return n.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,hs).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(hs).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Ul[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Ul[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Ul[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Ul[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Ul[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Ul[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Ul[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Ul[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Ul),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Ul=[new Ie,new Ie,new Ie,new Ie,new Ie,new Ie,new Ie,new Ie],hs=new Ie,ey=new Uv,Hf=new Ie,Vf=new Ie,Wf=new Ie,Yc=new Ie,Jc=new Ie,fd=new Ie,Tm=new Ie,ty=new Ie,ny=new Ie,hd=new Ie;function V2(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){hd.fromArray(e,o);const s=i.x*Math.abs(hd.x)+i.y*Math.abs(hd.y)+i.z*Math.abs(hd.z),c=t.dot(hd),u=n.dot(hd),d=r.dot(hd);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>s)return!1}return!0}const F3e=new Uv,km=new Ie,W2=new Ie;class xB{constructor(t=new Ie,n=-1){this.isSphere=!0,this.center=t,this.radius=n}set(t,n){return this.center.copy(t),this.radius=n,this}setFromPoints(t,n){const r=this.center;n!==void 0?r.copy(n):F3e.setFromPoints(t).getCenter(r);let i=0;for(let o=0,a=t.length;o<a;o++)i=Math.max(i,r.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const n=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=n*n}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,n){const r=this.center.distanceToSquared(t);return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;km.subVectors(t,this.center);const n=km.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(km,i/r),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(W2.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(km.copy(t.center).add(W2)),this.expandByPoint(km.copy(t.center).sub(W2))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ql=new Ie,G2=new Ie,ry=new Ie,Qc=new Ie,$2=new Ie,iy=new Ie,X2=new Ie;class U3e{constructor(t=new Ie,n=new Ie(0,0,-1)){this.origin=t,this.direction=n}set(t,n){return this.origin.copy(t),this.direction.copy(n),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,n){return n.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ql)),this}closestPointToPoint(t,n){n.subVectors(t,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const n=ql.subVectors(t,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(t):(ql.copy(this.origin).addScaledVector(this.direction,n),ql.distanceToSquared(t))}distanceSqToSegment(t,n,r,i){G2.copy(t).add(n).multiplyScalar(.5),ry.copy(n).sub(t).normalize(),Qc.copy(this.origin).sub(G2);const o=t.distanceTo(n)*.5,a=-this.direction.dot(ry),s=Qc.dot(this.direction),c=-Qc.dot(ry),u=Qc.lengthSq(),d=Math.abs(1-a*a);let f,p,m,g;if(d>0)if(f=a*c-s,p=a*s-c,g=o*d,f>=0)if(p>=-g)if(p<=g){const v=1/d;f*=v,p*=v,m=f*(f+a*p+2*s)+p*(a*f+p+2*c)+u}else p=o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*c)+u;else p=-o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*c)+u;else p<=-g?(f=Math.max(0,-(-a*o+s)),p=f>0?-o:Math.min(Math.max(-o,-c),o),m=-f*f+p*(p+2*c)+u):p<=g?(f=0,p=Math.min(Math.max(-o,-c),o),m=p*(p+2*c)+u):(f=Math.max(0,-(a*o+s)),p=f>0?o:Math.min(Math.max(-o,-c),o),m=-f*f+p*(p+2*c)+u);else p=a>0?-o:o,f=Math.max(0,-(a*p+s)),m=-f*f+p*(p+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(G2).addScaledVector(ry,p),m}intersectSphere(t,n){ql.subVectors(t.center,this.origin);const r=ql.dot(this.direction),i=ql.dot(ql)-r*r,o=t.radius*t.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,c=r+a;return c<0?null:s<0?this.at(c,n):this.at(s,n)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const n=t.normal.dot(this.direction);if(n===0)return t.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(t.normal)+t.constant)/n;return r>=0?r:null}intersectPlane(t,n){const r=this.distanceToPlane(t);return r===null?null:this.at(r,n)}intersectsPlane(t){const n=t.distanceToPoint(this.origin);return n===0||t.normal.dot(this.direction)*n<0}intersectBox(t,n){let r,i,o,a,s,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(t.min.x-p.x)*u,i=(t.max.x-p.x)*u):(r=(t.max.x-p.x)*u,i=(t.min.x-p.x)*u),d>=0?(o=(t.min.y-p.y)*d,a=(t.max.y-p.y)*d):(o=(t.max.y-p.y)*d,a=(t.min.y-p.y)*d),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(t.min.z-p.z)*f,c=(t.max.z-p.z)*f):(s=(t.max.z-p.z)*f,c=(t.min.z-p.z)*f),r>c||s>i)||((s>r||r!==r)&&(r=s),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(t){return this.intersectBox(t,ql)!==null}intersectTriangle(t,n,r,i,o){$2.subVectors(n,t),iy.subVectors(r,t),X2.crossVectors($2,iy);let a=this.direction.dot(X2),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Qc.subVectors(this.origin,t);const c=s*this.direction.dot(iy.crossVectors(Qc,iy));if(c<0)return null;const u=s*this.direction.dot($2.cross(Qc));if(u<0||c+u>a)return null;const d=-s*Qc.dot(X2);return d<0?null:this.at(d/a,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class to{constructor(t,n,r,i,o,a,s,c,u,d,f,p,m,g,v,_){to.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,n,r,i,o,a,s,c,u,d,f,p,m,g,v,_)}set(t,n,r,i,o,a,s,c,u,d,f,p,m,g,v,_){const y=this.elements;return y[0]=t,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=a,y[9]=s,y[13]=c,y[2]=u,y[6]=d,y[10]=f,y[14]=p,y[3]=m,y[7]=g,y[11]=v,y[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new to().fromArray(this.elements)}copy(t){const n=this.elements,r=t.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(t){const n=this.elements,r=t.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(t){const n=t.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(t,n,r){return t.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(t,n,r){return this.set(t.x,n.x,r.x,0,t.y,n.y,r.y,0,t.z,n.z,r.z,0,0,0,0,1),this}extractRotation(t){const n=this.elements,r=t.elements,i=1/Gf.setFromMatrixColumn(t,0).length(),o=1/Gf.setFromMatrixColumn(t,1).length(),a=1/Gf.setFromMatrixColumn(t,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(t){const n=this.elements,r=t.x,i=t.y,o=t.z,a=Math.cos(r),s=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(o),f=Math.sin(o);if(t.order==="XYZ"){const p=a*d,m=a*f,g=s*d,v=s*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=m+g*u,n[5]=p-v*u,n[9]=-s*c,n[2]=v-p*u,n[6]=g+m*u,n[10]=a*c}else if(t.order==="YXZ"){const p=c*d,m=c*f,g=u*d,v=u*f;n[0]=p+v*s,n[4]=g*s-m,n[8]=a*u,n[1]=a*f,n[5]=a*d,n[9]=-s,n[2]=m*s-g,n[6]=v+p*s,n[10]=a*c}else if(t.order==="ZXY"){const p=c*d,m=c*f,g=u*d,v=u*f;n[0]=p-v*s,n[4]=-a*f,n[8]=g+m*s,n[1]=m+g*s,n[5]=a*d,n[9]=v-p*s,n[2]=-a*u,n[6]=s,n[10]=a*c}else if(t.order==="ZYX"){const p=a*d,m=a*f,g=s*d,v=s*f;n[0]=c*d,n[4]=g*u-m,n[8]=p*u+v,n[1]=c*f,n[5]=v*u+p,n[9]=m*u-g,n[2]=-u,n[6]=s*c,n[10]=a*c}else if(t.order==="YZX"){const p=a*c,m=a*u,g=s*c,v=s*u;n[0]=c*d,n[4]=v-p*f,n[8]=g*f+m,n[1]=f,n[5]=a*d,n[9]=-s*d,n[2]=-u*d,n[6]=m*f+g,n[10]=p-v*f}else if(t.order==="XZY"){const p=a*c,m=a*u,g=s*c,v=s*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=p*f+v,n[5]=a*d,n[9]=m*f-g,n[2]=g*f-m,n[6]=s*d,n[10]=v*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(t){return this.compose(q3e,t,H3e)}lookAt(t,n,r){const i=this.elements;return ua.subVectors(t,n),ua.lengthSq()===0&&(ua.z=1),ua.normalize(),eu.crossVectors(r,ua),eu.lengthSq()===0&&(Math.abs(r.z)===1?ua.x+=1e-4:ua.z+=1e-4,ua.normalize(),eu.crossVectors(r,ua)),eu.normalize(),oy.crossVectors(ua,eu),i[0]=eu.x,i[4]=oy.x,i[8]=ua.x,i[1]=eu.y,i[5]=oy.y,i[9]=ua.y,i[2]=eu.z,i[6]=oy.z,i[10]=ua.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,n){const r=t.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],c=r[8],u=r[12],d=r[1],f=r[5],p=r[9],m=r[13],g=r[2],v=r[6],_=r[10],y=r[14],S=r[3],w=r[7],C=r[11],M=r[15],A=i[0],E=i[4],I=i[8],N=i[12],P=i[1],D=i[5],q=i[9],$=i[13],j=i[2],O=i[6],z=i[10],W=i[14],F=i[3],V=i[7],H=i[11],te=i[15];return o[0]=a*A+s*P+c*j+u*F,o[4]=a*E+s*D+c*O+u*V,o[8]=a*I+s*q+c*z+u*H,o[12]=a*N+s*$+c*W+u*te,o[1]=d*A+f*P+p*j+m*F,o[5]=d*E+f*D+p*O+m*V,o[9]=d*I+f*q+p*z+m*H,o[13]=d*N+f*$+p*W+m*te,o[2]=g*A+v*P+_*j+y*F,o[6]=g*E+v*D+_*O+y*V,o[10]=g*I+v*q+_*z+y*H,o[14]=g*N+v*$+_*W+y*te,o[3]=S*A+w*P+C*j+M*F,o[7]=S*E+w*D+C*O+M*V,o[11]=S*I+w*q+C*z+M*H,o[15]=S*N+w*$+C*W+M*te,this}multiplyScalar(t){const n=this.elements;return n[0]*=t,n[4]*=t,n[8]*=t,n[12]*=t,n[1]*=t,n[5]*=t,n[9]*=t,n[13]*=t,n[2]*=t,n[6]*=t,n[10]*=t,n[14]*=t,n[3]*=t,n[7]*=t,n[11]*=t,n[15]*=t,this}determinant(){const t=this.elements,n=t[0],r=t[4],i=t[8],o=t[12],a=t[1],s=t[5],c=t[9],u=t[13],d=t[2],f=t[6],p=t[10],m=t[14],g=t[3],v=t[7],_=t[11],y=t[15];return g*(+o*c*f-i*u*f-o*s*p+r*u*p+i*s*m-r*c*m)+v*(+n*c*m-n*u*p+o*a*p-i*a*m+i*u*d-o*c*d)+_*(+n*u*f-n*s*m-o*a*f+r*a*m+o*s*d-r*u*d)+y*(-i*s*d-n*c*f+n*s*p+i*a*f-r*a*p+r*c*d)}transpose(){const t=this.elements;let n;return n=t[1],t[1]=t[4],t[4]=n,n=t[2],t[2]=t[8],t[8]=n,n=t[6],t[6]=t[9],t[9]=n,n=t[3],t[3]=t[12],t[12]=n,n=t[7],t[7]=t[13],t[13]=n,n=t[11],t[11]=t[14],t[14]=n,this}setPosition(t,n,r){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=n,i[14]=r),this}invert(){const t=this.elements,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],g=t[12],v=t[13],_=t[14],y=t[15],S=f*_*u-v*p*u+v*c*m-s*_*m-f*c*y+s*p*y,w=g*p*u-d*_*u-g*c*m+a*_*m+d*c*y-a*p*y,C=d*v*u-g*f*u+g*s*m-a*v*m-d*s*y+a*f*y,M=g*f*c-d*v*c-g*s*p+a*v*p+d*s*_-a*f*_,A=n*S+r*w+i*C+o*M;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/A;return t[0]=S*E,t[1]=(v*p*o-f*_*o-v*i*m+r*_*m+f*i*y-r*p*y)*E,t[2]=(s*_*o-v*c*o+v*i*u-r*_*u-s*i*y+r*c*y)*E,t[3]=(f*c*o-s*p*o-f*i*u+r*p*u+s*i*m-r*c*m)*E,t[4]=w*E,t[5]=(d*_*o-g*p*o+g*i*m-n*_*m-d*i*y+n*p*y)*E,t[6]=(g*c*o-a*_*o-g*i*u+n*_*u+a*i*y-n*c*y)*E,t[7]=(a*p*o-d*c*o+d*i*u-n*p*u-a*i*m+n*c*m)*E,t[8]=C*E,t[9]=(g*f*o-d*v*o-g*r*m+n*v*m+d*r*y-n*f*y)*E,t[10]=(a*v*o-g*s*o+g*r*u-n*v*u-a*r*y+n*s*y)*E,t[11]=(d*s*o-a*f*o-d*r*u+n*f*u+a*r*m-n*s*m)*E,t[12]=M*E,t[13]=(d*v*i-g*f*i+g*r*p-n*v*p-d*r*_+n*f*_)*E,t[14]=(g*s*i-a*v*i-g*r*c+n*v*c+a*r*_-n*s*_)*E,t[15]=(a*f*i-d*s*i+d*r*c-n*f*c-a*r*p+n*s*p)*E,this}scale(t){const n=this.elements,r=t.x,i=t.y,o=t.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(t,n,r){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(t){const n=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(t){const n=Math.cos(t),r=Math.sin(t);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=t.x,s=t.y,c=t.z,u=o*a,d=o*s;return this.set(u*a+r,u*s-i*c,u*c+i*s,0,u*s+i*c,d*s+r,d*c-i*a,0,u*c-i*s,d*c+i*a,o*c*c+r,0,0,0,0,1),this}makeScale(t,n,r){return this.set(t,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(t,n,r,i,o,a){return this.set(1,r,o,0,t,1,a,0,n,i,1,0,0,0,0,1),this}compose(t,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,c=n._w,u=o+o,d=a+a,f=s+s,p=o*u,m=o*d,g=o*f,v=a*d,_=a*f,y=s*f,S=c*u,w=c*d,C=c*f,M=r.x,A=r.y,E=r.z;return i[0]=(1-(v+y))*M,i[1]=(m+C)*M,i[2]=(g-w)*M,i[3]=0,i[4]=(m-C)*A,i[5]=(1-(p+y))*A,i[6]=(_+S)*A,i[7]=0,i[8]=(g+w)*E,i[9]=(_-S)*E,i[10]=(1-(p+v))*E,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,n,r){const i=this.elements;let o=Gf.set(i[0],i[1],i[2]).length();const a=Gf.set(i[4],i[5],i[6]).length(),s=Gf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),t.x=i[12],t.y=i[13],t.z=i[14],ps.copy(this);const u=1/o,d=1/a,f=1/s;return ps.elements[0]*=u,ps.elements[1]*=u,ps.elements[2]*=u,ps.elements[4]*=d,ps.elements[5]*=d,ps.elements[6]*=d,ps.elements[8]*=f,ps.elements[9]*=f,ps.elements[10]*=f,n.setFromRotationMatrix(ps),r.x=o,r.y=a,r.z=s,this}makePerspective(t,n,r,i,o,a,s=ic){const c=this.elements,u=2*o/(n-t),d=2*o/(r-i),f=(n+t)/(n-t),p=(r+i)/(r-i);let m,g;if(s===ic)m=-(a+o)/(a-o),g=-2*a*o/(a-o);else if(s===dx)m=-a/(a-o),g=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=p,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=g,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,n,r,i,o,a,s=ic){const c=this.elements,u=1/(n-t),d=1/(r-i),f=1/(a-o),p=(n+t)*u,m=(r+i)*d;let g,v;if(s===ic)g=(a+o)*f,v=-2*f;else if(s===dx)g=o*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-p,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-m,c[2]=0,c[6]=0,c[10]=v,c[14]=-g,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const n=this.elements,r=t.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(t,n=0){for(let r=0;r<16;r++)this.elements[r]=t[r+n];return this}toArray(t=[],n=0){const r=this.elements;return t[n]=r[0],t[n+1]=r[1],t[n+2]=r[2],t[n+3]=r[3],t[n+4]=r[4],t[n+5]=r[5],t[n+6]=r[6],t[n+7]=r[7],t[n+8]=r[8],t[n+9]=r[9],t[n+10]=r[10],t[n+11]=r[11],t[n+12]=r[12],t[n+13]=r[13],t[n+14]=r[14],t[n+15]=r[15],t}}const Gf=new Ie,ps=new to,q3e=new Ie(0,0,0),H3e=new Ie(1,1,1),eu=new Ie,oy=new Ie,ua=new Ie,W4=new to,G4=new Fv;class X1{constructor(t=0,n=0,r=0,i=X1.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,i=this._order){return this._x=t,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const i=t.elements,o=i[0],a=i[4],s=i[8],c=i[1],u=i[5],d=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Po(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Po(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Po(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Po(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Po(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-Po(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return W4.makeRotationFromQuaternion(t),this.setFromRotationMatrix(W4,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return G4.setFromEuler(this),this.setFromQuaternion(G4,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}X1.DEFAULT_ORDER="XYZ";class eX{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let V3e=0;const $4=new Ie,$f=new Fv,Hl=new to,ay=new Ie,Em=new Ie,W3e=new Ie,G3e=new Fv,X4=new Ie(1,0,0),Z4=new Ie(0,1,0),K4=new Ie(0,0,1),$3e={type:"added"},X3e={type:"removed"};class Ta extends Bc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:V3e++}),this.uuid=jp(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ta.DEFAULT_UP.clone();const t=new Ie,n=new X1,r=new Fv,i=new Ie(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new to},normalMatrix:{value:new Sn}}),this.matrix=new to,this.matrixWorld=new to,this.matrixAutoUpdate=Ta.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ta.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new eX,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return $f.setFromAxisAngle(t,n),this.quaternion.multiply($f),this}rotateOnWorldAxis(t,n){return $f.setFromAxisAngle(t,n),this.quaternion.premultiply($f),this}rotateX(t){return this.rotateOnAxis(X4,t)}rotateY(t){return this.rotateOnAxis(Z4,t)}rotateZ(t){return this.rotateOnAxis(K4,t)}translateOnAxis(t,n){return $4.copy(t).applyQuaternion(this.quaternion),this.position.add($4.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(X4,t)}translateY(t){return this.translateOnAxis(Z4,t)}translateZ(t){return this.translateOnAxis(K4,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Hl.copy(this.matrixWorld).invert())}lookAt(t,n,r){t.isVector3?ay.copy(t):ay.set(t,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Em.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hl.lookAt(Em,ay,this.up):Hl.lookAt(ay,Em,this.up),this.quaternion.setFromRotationMatrix(Hl),i&&(Hl.extractRotation(i.matrixWorld),$f.setFromRotationMatrix(Hl),this.quaternion.premultiply($f.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent($3e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(t);return n!==-1&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(X3e)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Hl.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Hl.multiply(t.parent.matrixWorld)),t.applyMatrix4(Hl),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(t,n);if(a!==void 0)return a}}getObjectsByProperty(t,n,r=[]){this[t]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(t,n,r);return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Em,t,W3e),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Em,G3e,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(t)}traverseAncestors(t){const n=this.parent;n!==null&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||t===!0)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,n){const r=this.parent;if(t===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(t){const n=t===void 0||typeof t=="string",r={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(t),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,c){return s[c.uuid]===void 0&&(s[c.uuid]=c.toJSON(t)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(t.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const c=s.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];o(t.shapes,f)}else o(t.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let c=0,u=this.material.length;c<u;c++)s.push(o(t.materials,this.material[c]));i.material=s}else i.material=o(t.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const c=this.animations[s];i.animations.push(o(t.animations,c))}}if(n){const s=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),f=a(t.shapes),p=a(t.skeletons),m=a(t.animations),g=a(t.nodes);s.length>0&&(r.geometries=s),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function a(s){const c=[];for(const u in s){const d=s[u];delete d.metadata,c.push(d)}return c}}clone(t){return new this.constructor().copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),n===!0)for(let r=0;r<t.children.length;r++){const i=t.children[r];this.add(i.clone())}return this}}Ta.DEFAULT_UP=new Ie(0,1,0);Ta.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ta.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ms=new Ie,Vl=new Ie,Z2=new Ie,Wl=new Ie,Xf=new Ie,Zf=new Ie,Y4=new Ie,K2=new Ie,Y2=new Ie,J2=new Ie;let sy=!1;class ks{constructor(t=new Ie,n=new Ie,r=new Ie){this.a=t,this.b=n,this.c=r}static getNormal(t,n,r,i){i.subVectors(r,n),ms.subVectors(t,n),i.cross(ms);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(t,n,r,i,o){ms.subVectors(i,n),Vl.subVectors(r,n),Z2.subVectors(t,n);const a=ms.dot(ms),s=ms.dot(Vl),c=ms.dot(Z2),u=Vl.dot(Vl),d=Vl.dot(Z2),f=a*u-s*s;if(f===0)return o.set(0,0,0),null;const p=1/f,m=(u*c-s*d)*p,g=(a*d-s*c)*p;return o.set(1-m-g,g,m)}static containsPoint(t,n,r,i){return this.getBarycoord(t,n,r,i,Wl)===null?!1:Wl.x>=0&&Wl.y>=0&&Wl.x+Wl.y<=1}static getUV(t,n,r,i,o,a,s,c){return sy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sy=!0),this.getInterpolation(t,n,r,i,o,a,s,c)}static getInterpolation(t,n,r,i,o,a,s,c){return this.getBarycoord(t,n,r,i,Wl)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(o,Wl.x),c.addScaledVector(a,Wl.y),c.addScaledVector(s,Wl.z),c)}static isFrontFacing(t,n,r,i){return ms.subVectors(r,n),Vl.subVectors(t,n),ms.cross(Vl).dot(i)<0}set(t,n,r){return this.a.copy(t),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(t,n,r,i){return this.a.copy(t[n]),this.b.copy(t[r]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,n,r,i){return this.a.fromBufferAttribute(t,n),this.b.fromBufferAttribute(t,r),this.c.fromBufferAttribute(t,i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return ms.subVectors(this.c,this.b),Vl.subVectors(this.a,this.b),ms.cross(Vl).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ks.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,n){return ks.getBarycoord(t,this.a,this.b,this.c,n)}getUV(t,n,r,i,o){return sy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),sy=!0),ks.getInterpolation(t,this.a,this.b,this.c,n,r,i,o)}getInterpolation(t,n,r,i,o){return ks.getInterpolation(t,this.a,this.b,this.c,n,r,i,o)}containsPoint(t){return ks.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ks.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,n){const r=this.a,i=this.b,o=this.c;let a,s;Xf.subVectors(i,r),Zf.subVectors(o,r),K2.subVectors(t,r);const c=Xf.dot(K2),u=Zf.dot(K2);if(c<=0&&u<=0)return n.copy(r);Y2.subVectors(t,i);const d=Xf.dot(Y2),f=Zf.dot(Y2);if(d>=0&&f<=d)return n.copy(i);const p=c*f-d*u;if(p<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(r).addScaledVector(Xf,a);J2.subVectors(t,o);const m=Xf.dot(J2),g=Zf.dot(J2);if(g>=0&&m<=g)return n.copy(o);const v=m*u-c*g;if(v<=0&&u>=0&&g<=0)return s=u/(u-g),n.copy(r).addScaledVector(Zf,s);const _=d*g-m*f;if(_<=0&&f-d>=0&&m-g>=0)return Y4.subVectors(o,i),s=(f-d)/(f-d+(m-g)),n.copy(i).addScaledVector(Y4,s);const y=1/(_+v+p);return a=v*y,s=p*y,n.copy(r).addScaledVector(Xf,a).addScaledVector(Zf,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const tX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tu={h:0,s:0,l:0},ly={h:0,s:0,l:0};function Q2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}class nr{constructor(t,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,n,r)}set(t,n,r){if(n===void 0&&r===void 0){const i=t;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(t,n,r);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=Fn){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,dr.toWorkingColorSpace(this,n),this}setRGB(t,n,r,i=dr.workingColorSpace){return this.r=t,this.g=n,this.b=r,dr.toWorkingColorSpace(this,i),this}setHSL(t,n,r,i=dr.workingColorSpace){if(t=bB(t,1),n=Po(n,0,1),r=Po(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=Q2(a,o,t+1/3),this.g=Q2(a,o,t),this.b=Q2(a,o,t-1/3)}return dr.toWorkingColorSpace(this,i),this}setStyle(t,n=Fn){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,n);return this}setColorName(t,n=Fn){const r=tX[t.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=jh(t.r),this.g=jh(t.g),this.b=jh(t.b),this}copyLinearToSRGB(t){return this.r=U2(t.r),this.g=U2(t.g),this.b=U2(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Fn){return dr.fromWorkingColorSpace(fo.copy(this),t),Math.round(Po(fo.r*255,0,255))*65536+Math.round(Po(fo.g*255,0,255))*256+Math.round(Po(fo.b*255,0,255))}getHexString(t=Fn){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=dr.workingColorSpace){dr.fromWorkingColorSpace(fo.copy(this),n);const r=fo.r,i=fo.g,o=fo.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let c,u;const d=(s+a)/2;if(s===a)c=0,u=0;else{const f=a-s;switch(u=d<=.5?f/(a+s):f/(2-a-s),a){case r:c=(i-o)/f+(i<o?6:0);break;case i:c=(o-r)/f+2;break;case o:c=(r-i)/f+4;break}c/=6}return t.h=c,t.s=u,t.l=d,t}getRGB(t,n=dr.workingColorSpace){return dr.fromWorkingColorSpace(fo.copy(this),n),t.r=fo.r,t.g=fo.g,t.b=fo.b,t}getStyle(t=Fn){dr.fromWorkingColorSpace(fo.copy(this),t);const n=fo.r,r=fo.g,i=fo.b;return t!==Fn?`color(${t} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(t,n,r){return this.getHSL(tu),this.setHSL(tu.h+t,tu.s+n,tu.l+r)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(tu),t.getHSL(ly);const r=cg(tu.h,ly.h,n),i=cg(tu.s,ly.s,n),o=cg(tu.l,ly.l,n);return this.setHSL(r,i,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const n=this.r,r=this.g,i=this.b,o=t.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const fo=new nr;nr.NAMES=tX;let Z3e=0;class Ip extends Bc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Z3e++}),this.uuid=jp(),this.name="",this.type="Material",this.blending=Rh,this.side=wc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=oA,this.blendDst=aA,this.blendEquation=Sd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nr(0,0,0),this.blendAlpha=0,this.depthFunc=sx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=L4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Uf,this.stencilZFail=Uf,this.stencilZPass=Uf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const n in t){const r=t[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(t){const n=t===void 0||typeof t=="string";n&&(t={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Rh&&(r.blending=this.blending),this.side!==wc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==oA&&(r.blendSrc=this.blendSrc),this.blendDst!==aA&&(r.blendDst=this.blendDst),this.blendEquation!==Sd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==sx&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==L4&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Uf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Uf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Uf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const c=o[s];delete c.metadata,a.push(c)}return a}if(n){const o=i(t.textures),a=i(t.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const n=t.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class nX extends Ip{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=O$,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const pi=new Ie,cy=new tn;class Qa{constructor(t,n,r=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=t!==void 0?t.length/n:0,this.normalized=r,this.usage=D4,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=gu,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,n){this.updateRanges.push({start:t,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,n,r){t*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[t+i]=n.array[r+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)cy.fromBufferAttribute(this,n),cy.applyMatrix3(t),this.setXY(n,cy.x,cy.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)pi.fromBufferAttribute(this,n),pi.applyMatrix3(t),this.setXYZ(n,pi.x,pi.y,pi.z);return this}applyMatrix4(t){for(let n=0,r=this.count;n<r;n++)pi.fromBufferAttribute(this,n),pi.applyMatrix4(t),this.setXYZ(n,pi.x,pi.y,pi.z);return this}applyNormalMatrix(t){for(let n=0,r=this.count;n<r;n++)pi.fromBufferAttribute(this,n),pi.applyNormalMatrix(t),this.setXYZ(n,pi.x,pi.y,pi.z);return this}transformDirection(t){for(let n=0,r=this.count;n<r;n++)pi.fromBufferAttribute(this,n),pi.transformDirection(t),this.setXYZ(n,pi.x,pi.y,pi.z);return this}set(t,n=0){return this.array.set(t,n),this}getComponent(t,n){let r=this.array[t*this.itemSize+n];return this.normalized&&(r=ih(r,this.array)),r}setComponent(t,n,r){return this.normalized&&(r=ko(r,this.array)),this.array[t*this.itemSize+n]=r,this}getX(t){let n=this.array[t*this.itemSize];return this.normalized&&(n=ih(n,this.array)),n}setX(t,n){return this.normalized&&(n=ko(n,this.array)),this.array[t*this.itemSize]=n,this}getY(t){let n=this.array[t*this.itemSize+1];return this.normalized&&(n=ih(n,this.array)),n}setY(t,n){return this.normalized&&(n=ko(n,this.array)),this.array[t*this.itemSize+1]=n,this}getZ(t){let n=this.array[t*this.itemSize+2];return this.normalized&&(n=ih(n,this.array)),n}setZ(t,n){return this.normalized&&(n=ko(n,this.array)),this.array[t*this.itemSize+2]=n,this}getW(t){let n=this.array[t*this.itemSize+3];return this.normalized&&(n=ih(n,this.array)),n}setW(t,n){return this.normalized&&(n=ko(n,this.array)),this.array[t*this.itemSize+3]=n,this}setXY(t,n,r){return t*=this.itemSize,this.normalized&&(n=ko(n,this.array),r=ko(r,this.array)),this.array[t+0]=n,this.array[t+1]=r,this}setXYZ(t,n,r,i){return t*=this.itemSize,this.normalized&&(n=ko(n,this.array),r=ko(r,this.array),i=ko(i,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=i,this}setXYZW(t,n,r,i,o){return t*=this.itemSize,this.normalized&&(n=ko(n,this.array),r=ko(r,this.array),i=ko(i,this.array),o=ko(o,this.array)),this.array[t+0]=n,this.array[t+1]=r,this.array[t+2]=i,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==D4&&(t.usage=this.usage),t}}class rX extends Qa{constructor(t,n,r){super(new Uint16Array(t),n,r)}}class iX extends Qa{constructor(t,n,r){super(new Uint32Array(t),n,r)}}class qd extends Qa{constructor(t,n,r){super(new Float32Array(t),n,r)}}let K3e=0;const za=new to,eE=new Ta,Kf=new Ie,da=new Uv,Mm=new Uv,Di=new Ie;class Ju extends Bc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:K3e++}),this.uuid=jp(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(K$(t)?iX:rX)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,n){return this.attributes[t]=n,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,n,r=0){this.groups.push({start:t,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}applyMatrix4(t){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(t),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Sn().getNormalMatrix(t);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return za.makeRotationFromQuaternion(t),this.applyMatrix4(za),this}rotateX(t){return za.makeRotationX(t),this.applyMatrix4(za),this}rotateY(t){return za.makeRotationY(t),this.applyMatrix4(za),this}rotateZ(t){return za.makeRotationZ(t),this.applyMatrix4(za),this}translate(t,n,r){return za.makeTranslation(t,n,r),this.applyMatrix4(za),this}scale(t,n,r){return za.makeScale(t,n,r),this.applyMatrix4(za),this}lookAt(t){return eE.lookAt(t),eE.updateMatrix(),this.applyMatrix4(eE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kf).negate(),this.translate(Kf.x,Kf.y,Kf.z),this}setFromPoints(t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new qd(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Uv);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ie(-1/0,-1/0,-1/0),new Ie(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];da.setFromBufferAttribute(o),this.morphTargetsRelative?(Di.addVectors(this.boundingBox.min,da.min),this.boundingBox.expandByPoint(Di),Di.addVectors(this.boundingBox.max,da.max),this.boundingBox.expandByPoint(Di)):(this.boundingBox.expandByPoint(da.min),this.boundingBox.expandByPoint(da.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new xB);const t=this.attributes.position,n=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ie,1/0);return}if(t){const r=this.boundingSphere.center;if(da.setFromBufferAttribute(t),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];Mm.setFromBufferAttribute(s),this.morphTargetsRelative?(Di.addVectors(da.min,Mm.min),da.expandByPoint(Di),Di.addVectors(da.max,Mm.max),da.expandByPoint(Di)):(da.expandByPoint(Mm.min),da.expandByPoint(Mm.max))}da.getCenter(r);let i=0;for(let o=0,a=t.count;o<a;o++)Di.fromBufferAttribute(t,o),i=Math.max(i,r.distanceToSquared(Di));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],c=this.morphTargetsRelative;for(let u=0,d=s.count;u<d;u++)Di.fromBufferAttribute(s,u),c&&(Kf.fromBufferAttribute(t,u),Di.add(Kf)),i=Math.max(i,r.distanceToSquared(Di))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,n=this.attributes;if(t===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qa(new Float32Array(4*s),4));const c=this.getAttribute("tangent").array,u=[],d=[];for(let P=0;P<s;P++)u[P]=new Ie,d[P]=new Ie;const f=new Ie,p=new Ie,m=new Ie,g=new tn,v=new tn,_=new tn,y=new Ie,S=new Ie;function w(P,D,q){f.fromArray(i,P*3),p.fromArray(i,D*3),m.fromArray(i,q*3),g.fromArray(a,P*2),v.fromArray(a,D*2),_.fromArray(a,q*2),p.sub(f),m.sub(f),v.sub(g),_.sub(g);const $=1/(v.x*_.y-_.x*v.y);isFinite($)&&(y.copy(p).multiplyScalar(_.y).addScaledVector(m,-v.y).multiplyScalar($),S.copy(m).multiplyScalar(v.x).addScaledVector(p,-_.x).multiplyScalar($),u[P].add(y),u[D].add(y),u[q].add(y),d[P].add(S),d[D].add(S),d[q].add(S))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let P=0,D=C.length;P<D;++P){const q=C[P],$=q.start,j=q.count;for(let O=$,z=$+j;O<z;O+=3)w(r[O+0],r[O+1],r[O+2])}const M=new Ie,A=new Ie,E=new Ie,I=new Ie;function N(P){E.fromArray(o,P*3),I.copy(E);const D=u[P];M.copy(D),M.sub(E.multiplyScalar(E.dot(D))).normalize(),A.crossVectors(I,D);const $=A.dot(d[P])<0?-1:1;c[P*4]=M.x,c[P*4+1]=M.y,c[P*4+2]=M.z,c[P*4+3]=$}for(let P=0,D=C.length;P<D;++P){const q=C[P],$=q.start,j=q.count;for(let O=$,z=$+j;O<z;O+=3)N(r[O+0]),N(r[O+1]),N(r[O+2])}}computeVertexNormals(){const t=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qa(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new Ie,o=new Ie,a=new Ie,s=new Ie,c=new Ie,u=new Ie,d=new Ie,f=new Ie;if(t)for(let p=0,m=t.count;p<m;p+=3){const g=t.getX(p+0),v=t.getX(p+1),_=t.getX(p+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,v),a.fromBufferAttribute(n,_),d.subVectors(a,o),f.subVectors(i,o),d.cross(f),s.fromBufferAttribute(r,g),c.fromBufferAttribute(r,v),u.fromBufferAttribute(r,_),s.add(d),c.add(d),u.add(d),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(v,c.x,c.y,c.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),o.fromBufferAttribute(n,p+1),a.fromBufferAttribute(n,p+2),d.subVectors(a,o),f.subVectors(i,o),d.cross(f),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let n=0,r=t.count;n<r;n++)Di.fromBufferAttribute(t,n),Di.normalize(),t.setXYZ(n,Di.x,Di.y,Di.z)}toNonIndexed(){function t(s,c){const u=s.array,d=s.itemSize,f=s.normalized,p=new u.constructor(c.length*d);let m=0,g=0;for(let v=0,_=c.length;v<_;v++){s.isInterleavedBufferAttribute?m=c[v]*s.data.stride+s.offset:m=c[v]*d;for(let y=0;y<d;y++)p[g++]=u[m++]}return new Qa(p,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ju,r=this.index.array,i=this.attributes;for(const s in i){const c=i[s],u=t(c,r);n.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const c=[],u=o[s];for(let d=0,f=u.length;d<f;d++){const p=u[d],m=t(p,r);c.push(m)}n.morphAttributes[s]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,c=a.length;s<c;s++){const u=a[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(t[u]=c[u]);return t}t.data={attributes:{}};const n=this.index;n!==null&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];t.data.attributes[c]=u.toJSON(t.data)}const i={};let o=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];d.push(m.toJSON(t.data))}d.length>0&&(i[c]=d,o=!0)}o&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=t.name;const r=t.index;r!==null&&this.setIndex(r.clone(n));const i=t.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const o=t.morphAttributes;for(const u in o){const d=[],f=o[u];for(let p=0,m=f.length;p<m;p++)d.push(f[p].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let u=0,d=a.length;u<d;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=t.boundingBox;s!==null&&(this.boundingBox=s.clone());const c=t.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const J4=new to,pd=new U3e,uy=new xB,Q4=new Ie,Yf=new Ie,Jf=new Ie,Qf=new Ie,tE=new Ie,dy=new Ie,fy=new tn,hy=new tn,py=new tn,e6=new Ie,t6=new Ie,n6=new Ie,my=new Ie,gy=new Ie;class fl extends Ta{constructor(t=new Ju,n=new nX){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=n,this.updateMorphTargets()}copy(t,n){return super.copy(t,n),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(t,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,t);const s=this.morphTargetInfluences;if(o&&s){dy.set(0,0,0);for(let c=0,u=o.length;c<u;c++){const d=s[c],f=o[c];d!==0&&(tE.fromBufferAttribute(f,t),a?dy.addScaledVector(tE,d):dy.addScaledVector(tE.sub(n),d))}n.add(dy)}return n}raycast(t,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uy.copy(r.boundingSphere),uy.applyMatrix4(o),pd.copy(t.ray).recast(t.near),!(uy.containsPoint(pd.origin)===!1&&(pd.intersectSphere(uy,Q4)===null||pd.origin.distanceToSquared(Q4)>(t.far-t.near)**2))&&(J4.copy(o).invert(),pd.copy(t.ray).applyMatrix4(J4),!(r.boundingBox!==null&&pd.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(t,n,pd)))}_computeIntersections(t,n,r){let i;const o=this.geometry,a=this.material,s=o.index,c=o.attributes.position,u=o.attributes.uv,d=o.attributes.uv1,f=o.attributes.normal,p=o.groups,m=o.drawRange;if(s!==null)if(Array.isArray(a))for(let g=0,v=p.length;g<v;g++){const _=p[g],y=a[_.materialIndex],S=Math.max(_.start,m.start),w=Math.min(s.count,Math.min(_.start+_.count,m.start+m.count));for(let C=S,M=w;C<M;C+=3){const A=s.getX(C),E=s.getX(C+1),I=s.getX(C+2);i=vy(this,y,t,r,u,d,f,A,E,I),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),v=Math.min(s.count,m.start+m.count);for(let _=g,y=v;_<y;_+=3){const S=s.getX(_),w=s.getX(_+1),C=s.getX(_+2);i=vy(this,a,t,r,u,d,f,S,w,C),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(a))for(let g=0,v=p.length;g<v;g++){const _=p[g],y=a[_.materialIndex],S=Math.max(_.start,m.start),w=Math.min(c.count,Math.min(_.start+_.count,m.start+m.count));for(let C=S,M=w;C<M;C+=3){const A=C,E=C+1,I=C+2;i=vy(this,y,t,r,u,d,f,A,E,I),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),v=Math.min(c.count,m.start+m.count);for(let _=g,y=v;_<y;_+=3){const S=_,w=_+1,C=_+2;i=vy(this,a,t,r,u,d,f,S,w,C),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}}}function Y3e(e,t,n,r,i,o,a,s){let c;if(t.side===Wi?c=r.intersectTriangle(a,o,i,!0,s):c=r.intersectTriangle(i,o,a,t.side===wc,s),c===null)return null;gy.copy(s),gy.applyMatrix4(e.matrixWorld);const u=n.ray.origin.distanceTo(gy);return u<n.near||u>n.far?null:{distance:u,point:gy.clone(),object:e}}function vy(e,t,n,r,i,o,a,s,c,u){e.getVertexPosition(s,Yf),e.getVertexPosition(c,Jf),e.getVertexPosition(u,Qf);const d=Y3e(e,t,n,r,Yf,Jf,Qf,my);if(d){i&&(fy.fromBufferAttribute(i,s),hy.fromBufferAttribute(i,c),py.fromBufferAttribute(i,u),d.uv=ks.getInterpolation(my,Yf,Jf,Qf,fy,hy,py,new tn)),o&&(fy.fromBufferAttribute(o,s),hy.fromBufferAttribute(o,c),py.fromBufferAttribute(o,u),d.uv1=ks.getInterpolation(my,Yf,Jf,Qf,fy,hy,py,new tn),d.uv2=d.uv1),a&&(e6.fromBufferAttribute(a,s),t6.fromBufferAttribute(a,c),n6.fromBufferAttribute(a,u),d.normal=ks.getInterpolation(my,Yf,Jf,Qf,e6,t6,n6,new Ie),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a:s,b:c,c:u,normal:new Ie,materialIndex:0};ks.getNormal(Yf,Jf,Qf,f.normal),d.face=f}return d}class qv extends Ju{constructor(t=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const c=[],u=[],d=[],f=[];let p=0,m=0;g("z","y","x",-1,-1,r,n,t,a,o,0),g("z","y","x",1,-1,r,n,-t,a,o,1),g("x","z","y",1,1,t,r,n,i,a,2),g("x","z","y",1,-1,t,r,-n,i,a,3),g("x","y","z",1,-1,t,n,r,i,o,4),g("x","y","z",-1,-1,t,n,-r,i,o,5),this.setIndex(c),this.setAttribute("position",new qd(u,3)),this.setAttribute("normal",new qd(d,3)),this.setAttribute("uv",new qd(f,2));function g(v,_,y,S,w,C,M,A,E,I,N){const P=C/E,D=M/I,q=C/2,$=M/2,j=A/2,O=E+1,z=I+1;let W=0,F=0;const V=new Ie;for(let H=0;H<z;H++){const te=H*D-$;for(let Z=0;Z<O;Z++){const Q=Z*P-q;V[v]=Q*S,V[_]=te*w,V[y]=j,u.push(V.x,V.y,V.z),V[v]=0,V[_]=0,V[y]=A>0?1:-1,d.push(V.x,V.y,V.z),f.push(Z/E),f.push(1-H/I),W+=1}}for(let H=0;H<I;H++)for(let te=0;te<E;te++){const Z=p+te+O*H,Q=p+te+O*(H+1),re=p+(te+1)+O*(H+1),ue=p+(te+1)+O*H;c.push(Z,Q,ue),c.push(Q,re,ue),F+=6}s.addGroup(m,F,N),m+=F,p+=W}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new qv(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function pp(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Eo(e){const t={};for(let n=0;n<e.length;n++){const r=pp(e[n]);for(const i in r)t[i]=r[i]}return t}function J3e(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function oX(e){return e.getRenderTarget()===null?e.outputColorSpace:dr.workingColorSpace}const Q3e={clone:pp,merge:Eo};var eIe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tIe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class zo extends Ip{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eIe,this.fragmentShader=tIe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=pp(t.uniforms),this.uniformsGroups=J3e(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const n=super.toJSON(t);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class aX extends Ta{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new to,this.projectionMatrix=new to,this.projectionMatrixInverse=new to,this.coordinateSystem=ic}copy(t,n){return super.copy(t,n),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,n){super.updateWorldMatrix(t,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ga extends aX{constructor(t=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const n=.5*this.getFilmHeight()/t;this.fov=Jg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(lg*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Jg*2*Math.atan(Math.tan(lg*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,n,r,i,o,a){this.aspect=t/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let n=t*Math.tan(lg*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/c,n-=a.offsetY*r/u,i*=a.width/c,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const eh=-90,th=1;class nIe extends Ta{constructor(t,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ga(eh,th,t,n);i.layers=this.layers,this.add(i);const o=new Ga(eh,th,t,n);o.layers=this.layers,this.add(o);const a=new Ga(eh,th,t,n);a.layers=this.layers,this.add(a);const s=new Ga(eh,th,t,n);s.layers=this.layers,this.add(s);const c=new Ga(eh,th,t,n);c.layers=this.layers,this.add(c);const u=new Ga(eh,th,t,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const t=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,c]=n;for(const u of n)this.remove(u);if(t===ic)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(t===dx)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const u of n)this.add(u),u.updateMatrixWorld()}update(t,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,c,u,d]=this.children,f=t.getRenderTarget(),p=t.getActiveCubeFace(),m=t.getActiveMipmapLevel(),g=t.xr.enabled;t.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0,i),t.render(n,o),t.setRenderTarget(r,1,i),t.render(n,a),t.setRenderTarget(r,2,i),t.render(n,s),t.setRenderTarget(r,3,i),t.render(n,c),t.setRenderTarget(r,4,i),t.render(n,u),r.texture.generateMipmaps=v,t.setRenderTarget(r,5,i),t.render(n,d),t.setRenderTarget(f,p,m),t.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class sX extends jo{constructor(t,n,r,i,o,a,s,c,u,d){t=t!==void 0?t:[],n=n!==void 0?n:fp,super(t,n,r,i,o,a,s,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class rIe extends Io{constructor(t=1,n={}){super(t,t,n),this.isWebGLCubeRenderTarget=!0;const r={width:t,height:t,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(ug("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Ud?Fn:Yo),this.texture=new sX(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:mo}fromEquirectangularTexture(t,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new qv(5,5,5),o=new zo({name:"CubemapFromEquirect",uniforms:pp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Wi,blending:ra});o.uniforms.tEquirect.value=n;const a=new fl(i,o),s=n.minFilter;return n.minFilter===Kg&&(n.minFilter=mo),new nIe(1,10,this).update(t,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(t,n,r,i){const o=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(n,r,i);t.setRenderTarget(o)}}const nE=new Ie,iIe=new Ie,oIe=new Sn;class xd{constructor(t=new Ie(1,0,0),n=0){this.isPlane=!0,this.normal=t,this.constant=n}set(t,n){return this.normal.copy(t),this.constant=n,this}setComponents(t,n,r,i){return this.normal.set(t,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(t,n){return this.normal.copy(t),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(t,n,r){const i=nE.subVectors(r,n).cross(iIe.subVectors(t,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,n){return n.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,n){const r=t.delta(nE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(t.start)===0?n.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(t.start).addScaledVector(r,o)}intersectsLine(t){const n=this.distanceToPoint(t.start),r=this.distanceToPoint(t.end);return n<0&&r>0||r<0&&n>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,n){const r=n||oIe.getNormalMatrix(t),i=this.coplanarPoint(nE).applyMatrix4(t),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const md=new xB,yy=new Ie;class lX{constructor(t=new xd,n=new xd,r=new xd,i=new xd,o=new xd,a=new xd){this.planes=[t,n,r,i,o,a]}set(t,n,r,i,o,a){const s=this.planes;return s[0].copy(t),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(t){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(t.planes[r]);return this}setFromProjectionMatrix(t,n=ic){const r=this.planes,i=t.elements,o=i[0],a=i[1],s=i[2],c=i[3],u=i[4],d=i[5],f=i[6],p=i[7],m=i[8],g=i[9],v=i[10],_=i[11],y=i[12],S=i[13],w=i[14],C=i[15];if(r[0].setComponents(c-o,p-u,_-m,C-y).normalize(),r[1].setComponents(c+o,p+u,_+m,C+y).normalize(),r[2].setComponents(c+a,p+d,_+g,C+S).normalize(),r[3].setComponents(c-a,p-d,_-g,C-S).normalize(),r[4].setComponents(c-s,p-f,_-v,C-w).normalize(),n===ic)r[5].setComponents(c+s,p+f,_+v,C+w).normalize();else if(n===dx)r[5].setComponents(s,f,v,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),md.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const n=t.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),md.copy(n.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(md)}intersectsSprite(t){return md.center.set(0,0,0),md.radius=.7071067811865476,md.applyMatrix4(t.matrixWorld),this.intersectsSphere(md)}intersectsSphere(t){const n=this.planes,r=t.center,i=-t.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(t){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(yy.x=i.normal.x>0?t.max.x:t.min.x,yy.y=i.normal.y>0?t.max.y:t.min.y,yy.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(yy)<0)return!1}return!0}containsPoint(t){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cX(){let e=null,t=!1,n=null,r=null;function i(o,a){n(o,a),r=e.requestAnimationFrame(i)}return{start:function(){t!==!0&&n!==null&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function aIe(e,t){const n=t.isWebGL2,r=new WeakMap;function i(u,d){const f=u.array,p=u.usage,m=f.byteLength,g=e.createBuffer();e.bindBuffer(d,g),e.bufferData(d,f,p),u.onUploadCallback();let v;if(f instanceof Float32Array)v=e.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)v=e.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=e.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=e.SHORT;else if(f instanceof Uint32Array)v=e.UNSIGNED_INT;else if(f instanceof Int32Array)v=e.INT;else if(f instanceof Int8Array)v=e.BYTE;else if(f instanceof Uint8Array)v=e.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=e.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:m}}function o(u,d,f){const p=d.array,m=d._updateRange,g=d.updateRanges;if(e.bindBuffer(f,u),m.count===-1&&g.length===0&&e.bufferSubData(f,0,p),g.length!==0){for(let v=0,_=g.length;v<_;v++){const y=g[v];n?e.bufferSubData(f,y.start*p.BYTES_PER_ELEMENT,p,y.start,y.count):e.bufferSubData(f,y.start*p.BYTES_PER_ELEMENT,p.subarray(y.start,y.start+y.count))}d.clearUpdateRanges()}m.count!==-1&&(n?e.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):e.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function s(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d&&(e.deleteBuffer(d.buffer),r.delete(u))}function c(u,d){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,d));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,u,d),f.version=u.version}}return{get:a,remove:s,update:c}}class Z1 extends Ju{constructor(t=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:n,widthSegments:r,heightSegments:i};const o=t/2,a=n/2,s=Math.floor(r),c=Math.floor(i),u=s+1,d=c+1,f=t/s,p=n/c,m=[],g=[],v=[],_=[];for(let y=0;y<d;y++){const S=y*p-a;for(let w=0;w<u;w++){const C=w*f-o;g.push(C,-S,0),v.push(0,0,1),_.push(w/s),_.push(1-y/c)}}for(let y=0;y<c;y++)for(let S=0;S<s;S++){const w=S+u*y,C=S+u*(y+1),M=S+1+u*(y+1),A=S+1+u*y;m.push(w,C,A),m.push(C,M,A)}this.setIndex(m),this.setAttribute("position",new qd(g,3)),this.setAttribute("normal",new qd(v,3)),this.setAttribute("uv",new qd(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Z1(t.width,t.height,t.widthSegments,t.heightSegments)}}var sIe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lIe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cIe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,uIe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dIe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,fIe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hIe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pIe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mIe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gIe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,vIe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yIe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bIe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xIe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,_Ie=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,wIe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,SIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,CIe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,TIe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kIe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,EIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,MIe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,AIe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,NIe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,PIe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,BIe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,RIe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,jIe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,IIe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,zIe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,LIe="gl_FragColor = linearToOutputTexel( gl_FragColor );",DIe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,OIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,FIe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,UIe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qIe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,HIe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,VIe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,WIe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,GIe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$Ie=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,XIe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,ZIe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,KIe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,YIe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,JIe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,QIe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,e5e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,t5e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,n5e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,r5e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,i5e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,o5e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,a5e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,s5e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,l5e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,c5e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,u5e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,d5e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,f5e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,h5e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,p5e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,m5e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,g5e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,v5e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,y5e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,b5e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,x5e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,_5e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,w5e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,S5e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,C5e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,T5e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,k5e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,E5e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,M5e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,A5e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,N5e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,P5e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,B5e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,R5e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,j5e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,I5e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,z5e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,L5e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,D5e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,O5e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,F5e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,U5e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,q5e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,H5e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,V5e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,W5e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,G5e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$5e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,X5e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Z5e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,K5e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Y5e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,J5e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Q5e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eze=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tze=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nze=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rze=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ize=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,oze=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const aze=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,sze=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cze=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dze=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fze=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hze=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,pze=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mze=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,gze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vze=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yze=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bze=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xze=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_ze=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wze=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sze=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cze=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Tze=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kze=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Eze=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Mze=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aze=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nze=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Pze=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bze=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Rze=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jze=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ize=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zze=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lze=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dze=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oze=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yn={alphahash_fragment:sIe,alphahash_pars_fragment:lIe,alphamap_fragment:cIe,alphamap_pars_fragment:uIe,alphatest_fragment:dIe,alphatest_pars_fragment:fIe,aomap_fragment:hIe,aomap_pars_fragment:pIe,batching_pars_vertex:mIe,batching_vertex:gIe,begin_vertex:vIe,beginnormal_vertex:yIe,bsdfs:bIe,iridescence_fragment:xIe,bumpmap_pars_fragment:_Ie,clipping_planes_fragment:wIe,clipping_planes_pars_fragment:SIe,clipping_planes_pars_vertex:CIe,clipping_planes_vertex:TIe,color_fragment:kIe,color_pars_fragment:EIe,color_pars_vertex:MIe,color_vertex:AIe,common:NIe,cube_uv_reflection_fragment:PIe,defaultnormal_vertex:BIe,displacementmap_pars_vertex:RIe,displacementmap_vertex:jIe,emissivemap_fragment:IIe,emissivemap_pars_fragment:zIe,colorspace_fragment:LIe,colorspace_pars_fragment:DIe,envmap_fragment:OIe,envmap_common_pars_fragment:FIe,envmap_pars_fragment:UIe,envmap_pars_vertex:qIe,envmap_physical_pars_fragment:e5e,envmap_vertex:HIe,fog_vertex:VIe,fog_pars_vertex:WIe,fog_fragment:GIe,fog_pars_fragment:$Ie,gradientmap_pars_fragment:XIe,lightmap_fragment:ZIe,lightmap_pars_fragment:KIe,lights_lambert_fragment:YIe,lights_lambert_pars_fragment:JIe,lights_pars_begin:QIe,lights_toon_fragment:t5e,lights_toon_pars_fragment:n5e,lights_phong_fragment:r5e,lights_phong_pars_fragment:i5e,lights_physical_fragment:o5e,lights_physical_pars_fragment:a5e,lights_fragment_begin:s5e,lights_fragment_maps:l5e,lights_fragment_end:c5e,logdepthbuf_fragment:u5e,logdepthbuf_pars_fragment:d5e,logdepthbuf_pars_vertex:f5e,logdepthbuf_vertex:h5e,map_fragment:p5e,map_pars_fragment:m5e,map_particle_fragment:g5e,map_particle_pars_fragment:v5e,metalnessmap_fragment:y5e,metalnessmap_pars_fragment:b5e,morphcolor_vertex:x5e,morphnormal_vertex:_5e,morphtarget_pars_vertex:w5e,morphtarget_vertex:S5e,normal_fragment_begin:C5e,normal_fragment_maps:T5e,normal_pars_fragment:k5e,normal_pars_vertex:E5e,normal_vertex:M5e,normalmap_pars_fragment:A5e,clearcoat_normal_fragment_begin:N5e,clearcoat_normal_fragment_maps:P5e,clearcoat_pars_fragment:B5e,iridescence_pars_fragment:R5e,opaque_fragment:j5e,packing:I5e,premultiplied_alpha_fragment:z5e,project_vertex:L5e,dithering_fragment:D5e,dithering_pars_fragment:O5e,roughnessmap_fragment:F5e,roughnessmap_pars_fragment:U5e,shadowmap_pars_fragment:q5e,shadowmap_pars_vertex:H5e,shadowmap_vertex:V5e,shadowmask_pars_fragment:W5e,skinbase_vertex:G5e,skinning_pars_vertex:$5e,skinning_vertex:X5e,skinnormal_vertex:Z5e,specularmap_fragment:K5e,specularmap_pars_fragment:Y5e,tonemapping_fragment:J5e,tonemapping_pars_fragment:Q5e,transmission_fragment:eze,transmission_pars_fragment:tze,uv_pars_fragment:nze,uv_pars_vertex:rze,uv_vertex:ize,worldpos_vertex:oze,background_vert:aze,background_frag:sze,backgroundCube_vert:lze,backgroundCube_frag:cze,cube_vert:uze,cube_frag:dze,depth_vert:fze,depth_frag:hze,distanceRGBA_vert:pze,distanceRGBA_frag:mze,equirect_vert:gze,equirect_frag:vze,linedashed_vert:yze,linedashed_frag:bze,meshbasic_vert:xze,meshbasic_frag:_ze,meshlambert_vert:wze,meshlambert_frag:Sze,meshmatcap_vert:Cze,meshmatcap_frag:Tze,meshnormal_vert:kze,meshnormal_frag:Eze,meshphong_vert:Mze,meshphong_frag:Aze,meshphysical_vert:Nze,meshphysical_frag:Pze,meshtoon_vert:Bze,meshtoon_frag:Rze,points_vert:jze,points_frag:Ize,shadow_vert:zze,shadow_frag:Lze,sprite_vert:Dze,sprite_frag:Oze},kt={common:{diffuse:{value:new nr(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Sn},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Sn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Sn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Sn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Sn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Sn},normalScale:{value:new tn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Sn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Sn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Sn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Sn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0},uvTransform:{value:new Sn}},sprite:{diffuse:{value:new nr(16777215)},opacity:{value:1},center:{value:new tn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Sn},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0}}},al={basic:{uniforms:Eo([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.fog]),vertexShader:yn.meshbasic_vert,fragmentShader:yn.meshbasic_frag},lambert:{uniforms:Eo([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new nr(0)}}]),vertexShader:yn.meshlambert_vert,fragmentShader:yn.meshlambert_frag},phong:{uniforms:Eo([kt.common,kt.specularmap,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,kt.lights,{emissive:{value:new nr(0)},specular:{value:new nr(1118481)},shininess:{value:30}}]),vertexShader:yn.meshphong_vert,fragmentShader:yn.meshphong_frag},standard:{uniforms:Eo([kt.common,kt.envmap,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.roughnessmap,kt.metalnessmap,kt.fog,kt.lights,{emissive:{value:new nr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag},toon:{uniforms:Eo([kt.common,kt.aomap,kt.lightmap,kt.emissivemap,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.gradientmap,kt.fog,kt.lights,{emissive:{value:new nr(0)}}]),vertexShader:yn.meshtoon_vert,fragmentShader:yn.meshtoon_frag},matcap:{uniforms:Eo([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,kt.fog,{matcap:{value:null}}]),vertexShader:yn.meshmatcap_vert,fragmentShader:yn.meshmatcap_frag},points:{uniforms:Eo([kt.points,kt.fog]),vertexShader:yn.points_vert,fragmentShader:yn.points_frag},dashed:{uniforms:Eo([kt.common,kt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yn.linedashed_vert,fragmentShader:yn.linedashed_frag},depth:{uniforms:Eo([kt.common,kt.displacementmap]),vertexShader:yn.depth_vert,fragmentShader:yn.depth_frag},normal:{uniforms:Eo([kt.common,kt.bumpmap,kt.normalmap,kt.displacementmap,{opacity:{value:1}}]),vertexShader:yn.meshnormal_vert,fragmentShader:yn.meshnormal_frag},sprite:{uniforms:Eo([kt.sprite,kt.fog]),vertexShader:yn.sprite_vert,fragmentShader:yn.sprite_frag},background:{uniforms:{uvTransform:{value:new Sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yn.background_vert,fragmentShader:yn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:yn.backgroundCube_vert,fragmentShader:yn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yn.cube_vert,fragmentShader:yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yn.equirect_vert,fragmentShader:yn.equirect_frag},distanceRGBA:{uniforms:Eo([kt.common,kt.displacementmap,{referencePosition:{value:new Ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yn.distanceRGBA_vert,fragmentShader:yn.distanceRGBA_frag},shadow:{uniforms:Eo([kt.lights,kt.fog,{color:{value:new nr(0)},opacity:{value:1}}]),vertexShader:yn.shadow_vert,fragmentShader:yn.shadow_frag}};al.physical={uniforms:Eo([al.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Sn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Sn},clearcoatNormalScale:{value:new tn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Sn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Sn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Sn},sheen:{value:0},sheenColor:{value:new nr(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Sn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Sn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Sn},transmissionSamplerSize:{value:new tn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Sn},attenuationDistance:{value:0},attenuationColor:{value:new nr(0)},specularColor:{value:new nr(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Sn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Sn},anisotropyVector:{value:new tn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Sn}}]),vertexShader:yn.meshphysical_vert,fragmentShader:yn.meshphysical_frag};const by={r:0,b:0,g:0};function Fze(e,t,n,r,i,o,a){const s=new nr(0);let c=o===!0?0:1,u,d,f=null,p=0,m=null;function g(_,y){let S=!1,w=y.isScene===!0?y.background:null;w&&w.isTexture&&(w=(y.backgroundBlurriness>0?n:t).get(w)),w===null?v(s,c):w&&w.isColor&&(v(w,1),S=!0);const C=e.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||S)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),w&&(w.isCubeTexture||w.mapping===G1)?(d===void 0&&(d=new fl(new qv(1,1,1),new zo({name:"BackgroundCubeMaterial",uniforms:pp(al.backgroundCube.uniforms),vertexShader:al.backgroundCube.vertexShader,fragmentShader:al.backgroundCube.fragmentShader,side:Wi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(M,A,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,d.material.toneMapped=dr.getTransfer(w.colorSpace)!==Sr,(f!==w||p!==w.version||m!==e.toneMapping)&&(d.material.needsUpdate=!0,f=w,p=w.version,m=e.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(u===void 0&&(u=new fl(new Z1(2,2),new zo({name:"BackgroundMaterial",uniforms:pp(al.background.uniforms),vertexShader:al.background.vertexShader,fragmentShader:al.background.fragmentShader,side:wc,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=w,u.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,u.material.toneMapped=dr.getTransfer(w.colorSpace)!==Sr,w.matrixAutoUpdate===!0&&w.updateMatrix(),u.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||m!==e.toneMapping)&&(u.material.needsUpdate=!0,f=w,p=w.version,m=e.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function v(_,y){_.getRGB(by,oX(e)),r.buffers.color.setClear(by.r,by.g,by.b,y,a)}return{getClearColor:function(){return s},setClearColor:function(_,y=1){s.set(_),c=y,v(s,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,v(s,c)},render:g}}function Uze(e,t,n,r){const i=e.getParameter(e.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},c=_(null);let u=c,d=!1;function f(j,O,z,W,F){let V=!1;if(a){const H=v(W,z,O);u!==H&&(u=H,m(u.object)),V=y(j,W,z,F),V&&S(j,W,z,F)}else{const H=O.wireframe===!0;(u.geometry!==W.id||u.program!==z.id||u.wireframe!==H)&&(u.geometry=W.id,u.program=z.id,u.wireframe=H,V=!0)}F!==null&&n.update(F,e.ELEMENT_ARRAY_BUFFER),(V||d)&&(d=!1,I(j,O,z,W),F!==null&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(F).buffer))}function p(){return r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function m(j){return r.isWebGL2?e.bindVertexArray(j):o.bindVertexArrayOES(j)}function g(j){return r.isWebGL2?e.deleteVertexArray(j):o.deleteVertexArrayOES(j)}function v(j,O,z){const W=z.wireframe===!0;let F=s[j.id];F===void 0&&(F={},s[j.id]=F);let V=F[O.id];V===void 0&&(V={},F[O.id]=V);let H=V[W];return H===void 0&&(H=_(p()),V[W]=H),H}function _(j){const O=[],z=[],W=[];for(let F=0;F<i;F++)O[F]=0,z[F]=0,W[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:z,attributeDivisors:W,object:j,attributes:{},index:null}}function y(j,O,z,W){const F=u.attributes,V=O.attributes;let H=0;const te=z.getAttributes();for(const Z in te)if(te[Z].location>=0){const re=F[Z];let ue=V[Z];if(ue===void 0&&(Z==="instanceMatrix"&&j.instanceMatrix&&(ue=j.instanceMatrix),Z==="instanceColor"&&j.instanceColor&&(ue=j.instanceColor)),re===void 0||re.attribute!==ue||ue&&re.data!==ue.data)return!0;H++}return u.attributesNum!==H||u.index!==W}function S(j,O,z,W){const F={},V=O.attributes;let H=0;const te=z.getAttributes();for(const Z in te)if(te[Z].location>=0){let re=V[Z];re===void 0&&(Z==="instanceMatrix"&&j.instanceMatrix&&(re=j.instanceMatrix),Z==="instanceColor"&&j.instanceColor&&(re=j.instanceColor));const ue={};ue.attribute=re,re&&re.data&&(ue.data=re.data),F[Z]=ue,H++}u.attributes=F,u.attributesNum=H,u.index=W}function w(){const j=u.newAttributes;for(let O=0,z=j.length;O<z;O++)j[O]=0}function C(j){M(j,0)}function M(j,O){const z=u.newAttributes,W=u.enabledAttributes,F=u.attributeDivisors;z[j]=1,W[j]===0&&(e.enableVertexAttribArray(j),W[j]=1),F[j]!==O&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,O),F[j]=O)}function A(){const j=u.newAttributes,O=u.enabledAttributes;for(let z=0,W=O.length;z<W;z++)O[z]!==j[z]&&(e.disableVertexAttribArray(z),O[z]=0)}function E(j,O,z,W,F,V,H){H===!0?e.vertexAttribIPointer(j,O,z,F,V):e.vertexAttribPointer(j,O,z,W,F,V)}function I(j,O,z,W){if(r.isWebGL2===!1&&(j.isInstancedMesh||W.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;w();const F=W.attributes,V=z.getAttributes(),H=O.defaultAttributeValues;for(const te in V){const Z=V[te];if(Z.location>=0){let Q=F[te];if(Q===void 0&&(te==="instanceMatrix"&&j.instanceMatrix&&(Q=j.instanceMatrix),te==="instanceColor"&&j.instanceColor&&(Q=j.instanceColor)),Q!==void 0){const re=Q.normalized,ue=Q.itemSize,oe=n.get(Q);if(oe===void 0)continue;const be=oe.buffer,ke=oe.type,He=oe.bytesPerElement,Je=r.isWebGL2===!0&&(ke===e.INT||ke===e.UNSIGNED_INT||Q.gpuType===U$);if(Q.isInterleavedBufferAttribute){const rt=Q.data,le=rt.stride,at=Q.offset;if(rt.isInstancedInterleavedBuffer){for(let Ge=0;Ge<Z.locationSize;Ge++)M(Z.location+Ge,rt.meshPerAttribute);j.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=rt.meshPerAttribute*rt.count)}else for(let Ge=0;Ge<Z.locationSize;Ge++)C(Z.location+Ge);e.bindBuffer(e.ARRAY_BUFFER,be);for(let Ge=0;Ge<Z.locationSize;Ge++)E(Z.location+Ge,ue/Z.locationSize,ke,re,le*He,(at+ue/Z.locationSize*Ge)*He,Je)}else{if(Q.isInstancedBufferAttribute){for(let rt=0;rt<Z.locationSize;rt++)M(Z.location+rt,Q.meshPerAttribute);j.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let rt=0;rt<Z.locationSize;rt++)C(Z.location+rt);e.bindBuffer(e.ARRAY_BUFFER,be);for(let rt=0;rt<Z.locationSize;rt++)E(Z.location+rt,ue/Z.locationSize,ke,re,ue*He,ue/Z.locationSize*rt*He,Je)}}else if(H!==void 0){const re=H[te];if(re!==void 0)switch(re.length){case 2:e.vertexAttrib2fv(Z.location,re);break;case 3:e.vertexAttrib3fv(Z.location,re);break;case 4:e.vertexAttrib4fv(Z.location,re);break;default:e.vertexAttrib1fv(Z.location,re)}}}}A()}function N(){q();for(const j in s){const O=s[j];for(const z in O){const W=O[z];for(const F in W)g(W[F].object),delete W[F];delete O[z]}delete s[j]}}function P(j){if(s[j.id]===void 0)return;const O=s[j.id];for(const z in O){const W=O[z];for(const F in W)g(W[F].object),delete W[F];delete O[z]}delete s[j.id]}function D(j){for(const O in s){const z=s[O];if(z[j.id]===void 0)continue;const W=z[j.id];for(const F in W)g(W[F].object),delete W[F];delete z[j.id]}}function q(){$(),d=!0,u!==c&&(u=c,m(u.object))}function $(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:f,reset:q,resetDefaultState:$,dispose:N,releaseStatesOfGeometry:P,releaseStatesOfProgram:D,initAttributes:w,enableAttribute:C,disableUnusedAttributes:A}}function qze(e,t,n,r){const i=r.isWebGL2;let o;function a(d){o=d}function s(d,f){e.drawArrays(o,d,f),n.update(f,o,1)}function c(d,f,p){if(p===0)return;let m,g;if(i)m=e,g="drawArraysInstanced";else if(m=t.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](o,d,f,p),n.update(f,o,p)}function u(d,f,p){if(p===0)return;const m=t.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<p;g++)this.render(d[g],f[g]);else{m.multiDrawArraysWEBGL(o,d,0,f,0,p);let g=0;for(let v=0;v<p;v++)g+=f[v];n.update(g,o,1)}}this.setMode=a,this.render=s,this.renderInstances=c,this.renderMultiDraw=u}function Hze(e,t,n){let r;function i(){if(r!==void 0)return r;if(t.has("EXT_texture_filter_anisotropic")===!0){const E=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(E){if(E==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&e.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const c=o(s);c!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",c,"instead."),s=c);const u=a||t.has("WEBGL_draw_buffers"),d=n.logarithmicDepthBuffer===!0,f=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=e.getParameter(e.MAX_TEXTURE_SIZE),g=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),v=e.getParameter(e.MAX_VERTEX_ATTRIBS),_=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),y=e.getParameter(e.MAX_VARYING_VECTORS),S=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,C=a||t.has("OES_texture_float"),M=w&&C,A=a?e.getParameter(e.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:d,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:_,maxVaryings:y,maxFragmentUniforms:S,vertexTextures:w,floatFragmentTextures:C,floatVertexTextures:M,maxSamples:A}}function Vze(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new xd,s=new Sn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,p){n=d(f,p,0)},this.setState=function(f,p,m){const g=f.clippingPlanes,v=f.clipIntersection,_=f.clipShadows,y=e.get(f);if(!i||g===null||g.length===0||o&&!_)o?d(null):u();else{const S=o?0:r,w=S*4;let C=y.clippingState||null;c.value=C,C=d(g,p,w,m);for(let M=0;M!==w;++M)C[M]=n[M];y.clippingState=C,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=S}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function d(f,p,m,g){const v=f!==null?f.length:0;let _=null;if(v!==0){if(_=c.value,g!==!0||_===null){const y=m+v*4,S=p.matrixWorldInverse;s.getNormalMatrix(S),(_===null||_.length<y)&&(_=new Float32Array(y));for(let w=0,C=m;w!==v;++w,C+=4)a.copy(f[w]).applyMatrix4(S,s),a.normal.toArray(_,C),_[C+3]=a.constant}c.value=_,c.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,_}}function Wze(e){let t=new WeakMap;function n(a,s){return s===sA?a.mapping=fp:s===lA&&(a.mapping=hp),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===sA||s===lA)if(t.has(a)){const c=t.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new rIe(c.height/2);return u.fromEquirectangularTexture(e,a),t.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const c=t.get(s);c!==void 0&&(t.delete(s),c.dispose())}function o(){t=new WeakMap}return{get:r,dispose:o}}class _B extends aX{constructor(t=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(t,n){return super.copy(t,n),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-t,a=r+t,s=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=d*this.view.offsetY,c=s-d*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const n=super.toJSON(t);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const _h=4,r6=[.125,.215,.35,.446,.526,.582],Cd=20,rE=new _B,i6=new nr;let iE=null,oE=0,aE=0;const _d=(1+Math.sqrt(5))/2,nh=1/_d,o6=[new Ie(1,1,1),new Ie(-1,1,1),new Ie(1,1,-1),new Ie(-1,1,-1),new Ie(0,_d,nh),new Ie(0,_d,-nh),new Ie(nh,0,_d),new Ie(-nh,0,_d),new Ie(_d,nh,0),new Ie(-_d,nh,0)];class a6{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,n=0,r=.1,i=100){iE=this._renderer.getRenderTarget(),oE=this._renderer.getActiveCubeFace(),aE=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(t,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t,n=null){return this._fromTexture(t,n)}fromCubemap(t,n=null){return this._fromTexture(t,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=c6(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=l6(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(iE,oE,aE),t.scissorTest=!1,xy(t,0,0,t.width,t.height)}_fromTexture(t,n){t.mapping===fp||t.mapping===hp?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),iE=this._renderer.getRenderTarget(),oE=this._renderer.getActiveCubeFace(),aE=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(t,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:mo,minFilter:mo,generateMipmaps:!1,type:Yg,format:As,colorSpace:Ds,depthBuffer:!1},i=s6(t,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=s6(t,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Gze(o)),this._blurMaterial=$ze(o,t,n)}return i}_compileMaterial(t){const n=new fl(this._lodPlanes[0],t);this._renderer.compile(n,rE)}_sceneToCubeUV(t,n,r,i){const s=new Ga(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,p=d.toneMapping;d.getClearColor(i6),d.toneMapping=fc,d.autoClear=!1;const m=new nX({name:"PMREM.Background",side:Wi,depthWrite:!1,depthTest:!1}),g=new fl(new qv,m);let v=!1;const _=t.background;_?_.isColor&&(m.color.copy(_),t.background=null,v=!0):(m.color.copy(i6),v=!0);for(let y=0;y<6;y++){const S=y%3;S===0?(s.up.set(0,c[y],0),s.lookAt(u[y],0,0)):S===1?(s.up.set(0,0,c[y]),s.lookAt(0,u[y],0)):(s.up.set(0,c[y],0),s.lookAt(0,0,u[y]));const w=this._cubeSize;xy(i,S*w,y>2?w:0,w,w),d.setRenderTarget(i),v&&d.render(g,s),d.render(t,s)}g.geometry.dispose(),g.material.dispose(),d.toneMapping=p,d.autoClear=f,t.background=_}_textureToCubeUV(t,n){const r=this._renderer,i=t.mapping===fp||t.mapping===hp;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=c6()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=l6());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new fl(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=t;const c=this._cubeSize;xy(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(a,rE)}_applyPMREM(t){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=o6[(i-1)%o6.length];this._blur(t,i-1,i,o,a)}n.autoClear=r}_blur(t,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(t,a,n,r,i,"latitudinal",o),this._halfBlur(a,t,r,r,i,"longitudinal",o)}_halfBlur(t,n,r,i,o,a,s){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new fl(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*Cd-1),v=o/g,_=isFinite(o)?1+Math.floor(d*v):Cd;_>Cd&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Cd}`);const y=[];let S=0;for(let E=0;E<Cd;++E){const I=E/v,N=Math.exp(-I*I/2);y.push(N),E===0?S+=N:E<_&&(S+=2*N)}for(let E=0;E<y.length;E++)y[E]=y[E]/S;p.envMap.value=t.texture,p.samples.value=_,p.weights.value=y,p.latitudinal.value=a==="latitudinal",s&&(p.poleAxis.value=s);const{_lodMax:w}=this;p.dTheta.value=g,p.mipInt.value=w-r;const C=this._sizeLods[i],M=3*C*(i>w-_h?i-w+_h:0),A=4*(this._cubeSize-C);xy(n,M,A,3*C,2*C),c.setRenderTarget(n),c.render(f,rE)}}function Gze(e){const t=[],n=[],r=[];let i=e;const o=e-_h+1+r6.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let c=1/s;a>e-_h?c=r6[a-e+_h-1]:a===0&&(c=0),r.push(c);const u=1/(s-2),d=-u,f=1+u,p=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,g=6,v=3,_=2,y=1,S=new Float32Array(v*g*m),w=new Float32Array(_*g*m),C=new Float32Array(y*g*m);for(let A=0;A<m;A++){const E=A%3*2/3-1,I=A>2?0:-1,N=[E,I,0,E+2/3,I,0,E+2/3,I+1,0,E,I,0,E+2/3,I+1,0,E,I+1,0];S.set(N,v*g*A),w.set(p,_*g*A);const P=[A,A,A,A,A,A];C.set(P,y*g*A)}const M=new Ju;M.setAttribute("position",new Qa(S,v)),M.setAttribute("uv",new Qa(w,_)),M.setAttribute("faceIndex",new Qa(C,y)),t.push(M),i>_h&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function s6(e,t,n){const r=new Io(e,t,n);return r.texture.mapping=G1,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function xy(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function $ze(e,t,n){const r=new Float32Array(Cd),i=new Ie(0,1,0);return new zo({name:"SphericalGaussianBlur",defines:{n:Cd,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:wB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ra,depthTest:!1,depthWrite:!1})}function l6(){return new zo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ra,depthTest:!1,depthWrite:!1})}function c6(){return new zo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ra,depthTest:!1,depthWrite:!1})}function wB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Xze(e){let t=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const c=s.mapping,u=c===sA||c===lA,d=c===fp||c===hp;if(u||d)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=t.get(s);return n===null&&(n=new a6(e)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),t.set(s,f),f.texture}else{if(t.has(s))return t.get(s).texture;{const f=s.image;if(u&&f&&f.height>0||d&&f&&i(f)){n===null&&(n=new a6(e));const p=u?n.fromEquirectangular(s):n.fromCubemap(s);return t.set(s,p),s.addEventListener("dispose",o),p.texture}else return null}}}return s}function i(s){let c=0;const u=6;for(let d=0;d<u;d++)s[d]!==void 0&&c++;return c===u}function o(s){const c=s.target;c.removeEventListener("dispose",o);const u=t.get(c);u!==void 0&&(t.delete(c),u.dispose())}function a(){t=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Zze(e){const t={};function n(r){if(t[r]!==void 0)return t[r];let i;switch(r){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(r)}return t[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Kze(e,t,n,r){const i={},o=new WeakMap;function a(f){const p=f.target;p.index!==null&&t.remove(p.index);for(const g in p.attributes)t.remove(p.attributes[g]);for(const g in p.morphAttributes){const v=p.morphAttributes[g];for(let _=0,y=v.length;_<y;_++)t.remove(v[_])}p.removeEventListener("dispose",a),delete i[p.id];const m=o.get(p);m&&(t.remove(m),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function s(f,p){return i[p.id]===!0||(p.addEventListener("dispose",a),i[p.id]=!0,n.memory.geometries++),p}function c(f){const p=f.attributes;for(const g in p)t.update(p[g],e.ARRAY_BUFFER);const m=f.morphAttributes;for(const g in m){const v=m[g];for(let _=0,y=v.length;_<y;_++)t.update(v[_],e.ARRAY_BUFFER)}}function u(f){const p=[],m=f.index,g=f.attributes.position;let v=0;if(m!==null){const S=m.array;v=m.version;for(let w=0,C=S.length;w<C;w+=3){const M=S[w+0],A=S[w+1],E=S[w+2];p.push(M,A,A,E,E,M)}}else if(g!==void 0){const S=g.array;v=g.version;for(let w=0,C=S.length/3-1;w<C;w+=3){const M=w+0,A=w+1,E=w+2;p.push(M,A,A,E,E,M)}}else return;const _=new(K$(p)?iX:rX)(p,1);_.version=v;const y=o.get(f);y&&t.remove(y),o.set(f,_)}function d(f){const p=o.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return o.get(f)}return{get:s,update:c,getWireframeAttribute:d}}function Yze(e,t,n,r){const i=r.isWebGL2;let o;function a(m){o=m}let s,c;function u(m){s=m.type,c=m.bytesPerElement}function d(m,g){e.drawElements(o,g,s,m*c),n.update(g,o,1)}function f(m,g,v){if(v===0)return;let _,y;if(i)_=e,y="drawElementsInstanced";else if(_=t.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[y](o,g,s,m*c,v),n.update(g,o,v)}function p(m,g,v){if(v===0)return;const _=t.get("WEBGL_multi_draw");if(_===null)for(let y=0;y<v;y++)this.render(m[y]/c,g[y]);else{_.multiDrawElementsWEBGL(o,g,0,s,m,0,v);let y=0;for(let S=0;S<v;S++)y+=g[S];n.update(y,o,1)}}this.setMode=a,this.setIndex=u,this.render=d,this.renderInstances=f,this.renderMultiDraw=p}function Jze(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case e.TRIANGLES:n.triangles+=s*(o/3);break;case e.LINES:n.lines+=s*(o/2);break;case e.LINE_STRIP:n.lines+=s*(o-1);break;case e.LINE_LOOP:n.lines+=s*o;break;case e.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Qze(e,t){return e[0]-t[0]}function eLe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function tLe(e,t,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new Ai,s=[];for(let u=0;u<8;u++)s[u]=[u,0];function c(u,d,f){const p=u.morphTargetInfluences;if(t.isWebGL2===!0){const g=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,v=g!==void 0?g.length:0;let _=o.get(d);if(_===void 0||_.count!==v){let O=function(){$.dispose(),o.delete(d),d.removeEventListener("dispose",O)};var m=O;_!==void 0&&_.texture.dispose();const w=d.morphAttributes.position!==void 0,C=d.morphAttributes.normal!==void 0,M=d.morphAttributes.color!==void 0,A=d.morphAttributes.position||[],E=d.morphAttributes.normal||[],I=d.morphAttributes.color||[];let N=0;w===!0&&(N=1),C===!0&&(N=2),M===!0&&(N=3);let P=d.attributes.position.count*N,D=1;P>t.maxTextureSize&&(D=Math.ceil(P/t.maxTextureSize),P=t.maxTextureSize);const q=new Float32Array(P*D*4*v),$=new Q$(q,P,D,v);$.type=gu,$.needsUpdate=!0;const j=N*4;for(let z=0;z<v;z++){const W=A[z],F=E[z],V=I[z],H=P*D*4*z;for(let te=0;te<W.count;te++){const Z=te*j;w===!0&&(a.fromBufferAttribute(W,te),q[H+Z+0]=a.x,q[H+Z+1]=a.y,q[H+Z+2]=a.z,q[H+Z+3]=0),C===!0&&(a.fromBufferAttribute(F,te),q[H+Z+4]=a.x,q[H+Z+5]=a.y,q[H+Z+6]=a.z,q[H+Z+7]=0),M===!0&&(a.fromBufferAttribute(V,te),q[H+Z+8]=a.x,q[H+Z+9]=a.y,q[H+Z+10]=a.z,q[H+Z+11]=V.itemSize===4?a.w:1)}}_={count:v,texture:$,size:new tn(P,D)},o.set(d,_),d.addEventListener("dispose",O)}let y=0;for(let w=0;w<p.length;w++)y+=p[w];const S=d.morphTargetsRelative?1:1-y;f.getUniforms().setValue(e,"morphTargetBaseInfluence",S),f.getUniforms().setValue(e,"morphTargetInfluences",p),f.getUniforms().setValue(e,"morphTargetsTexture",_.texture,n),f.getUniforms().setValue(e,"morphTargetsTextureSize",_.size)}else{const g=p===void 0?0:p.length;let v=r[d.id];if(v===void 0||v.length!==g){v=[];for(let C=0;C<g;C++)v[C]=[C,0];r[d.id]=v}for(let C=0;C<g;C++){const M=v[C];M[0]=C,M[1]=p[C]}v.sort(eLe);for(let C=0;C<8;C++)C<g&&v[C][1]?(s[C][0]=v[C][0],s[C][1]=v[C][1]):(s[C][0]=Number.MAX_SAFE_INTEGER,s[C][1]=0);s.sort(Qze);const _=d.morphAttributes.position,y=d.morphAttributes.normal;let S=0;for(let C=0;C<8;C++){const M=s[C],A=M[0],E=M[1];A!==Number.MAX_SAFE_INTEGER&&E?(_&&d.getAttribute("morphTarget"+C)!==_[A]&&d.setAttribute("morphTarget"+C,_[A]),y&&d.getAttribute("morphNormal"+C)!==y[A]&&d.setAttribute("morphNormal"+C,y[A]),i[C]=E,S+=E):(_&&d.hasAttribute("morphTarget"+C)===!0&&d.deleteAttribute("morphTarget"+C),y&&d.hasAttribute("morphNormal"+C)===!0&&d.deleteAttribute("morphNormal"+C),i[C]=0)}const w=d.morphTargetsRelative?1:1-S;f.getUniforms().setValue(e,"morphTargetBaseInfluence",w),f.getUniforms().setValue(e,"morphTargetInfluences",i)}}return{update:c}}function nLe(e,t,n,r){let i=new WeakMap;function o(c){const u=r.render.frame,d=c.geometry,f=t.get(c,d);if(i.get(f)!==u&&(t.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",s)===!1&&c.addEventListener("dispose",s),i.get(c)!==u&&(n.update(c.instanceMatrix,e.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,e.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const p=c.skeleton;i.get(p)!==u&&(p.update(),i.set(p,u))}return f}function a(){i=new WeakMap}function s(c){const u=c.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}class SB extends jo{constructor(t,n,r,i,o,a,s,c,u,d){if(d=d!==void 0?d:Fd,d!==Fd&&d!==tf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Fd&&(r=rc),r===void 0&&d===tf&&(r=Au),super(null,i,o,a,s,c,d,r,u),this.isDepthTexture=!0,this.image={width:t,height:n},this.magFilter=s!==void 0?s:No,this.minFilter=c!==void 0?c:No,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const n=super.toJSON(t);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const uX=new jo,dX=new SB(1,1);dX.compareFunction=Z$;const fX=new Q$,hX=new O3e,pX=new sX,u6=[],d6=[],f6=new Float32Array(16),h6=new Float32Array(9),p6=new Float32Array(4);function zp(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=u6[i];if(o===void 0&&(o=new Float32Array(i),u6[i]=o),t!==0){r.toArray(o,0);for(let a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function Pi(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Bi(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function K1(e,t){let n=d6[t];n===void 0&&(n=new Int32Array(t),d6[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function rLe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function iLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Pi(n,t))return;e.uniform2fv(this.addr,t),Bi(n,t)}}function oLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Pi(n,t))return;e.uniform3fv(this.addr,t),Bi(n,t)}}function aLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Pi(n,t))return;e.uniform4fv(this.addr,t),Bi(n,t)}}function sLe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Pi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Bi(n,t)}else{if(Pi(n,r))return;p6.set(r),e.uniformMatrix2fv(this.addr,!1,p6),Bi(n,r)}}function lLe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Pi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Bi(n,t)}else{if(Pi(n,r))return;h6.set(r),e.uniformMatrix3fv(this.addr,!1,h6),Bi(n,r)}}function cLe(e,t){const n=this.cache,r=t.elements;if(r===void 0){if(Pi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Bi(n,t)}else{if(Pi(n,r))return;f6.set(r),e.uniformMatrix4fv(this.addr,!1,f6),Bi(n,r)}}function uLe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function dLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Pi(n,t))return;e.uniform2iv(this.addr,t),Bi(n,t)}}function fLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Pi(n,t))return;e.uniform3iv(this.addr,t),Bi(n,t)}}function hLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Pi(n,t))return;e.uniform4iv(this.addr,t),Bi(n,t)}}function pLe(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function mLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Pi(n,t))return;e.uniform2uiv(this.addr,t),Bi(n,t)}}function gLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Pi(n,t))return;e.uniform3uiv(this.addr,t),Bi(n,t)}}function vLe(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Pi(n,t))return;e.uniform4uiv(this.addr,t),Bi(n,t)}}function yLe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);const o=this.type===e.SAMPLER_2D_SHADOW?dX:uX;n.setTexture2D(t||o,i)}function bLe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||hX,i)}function xLe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||pX,i)}function _Le(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||fX,i)}function wLe(e){switch(e){case 5126:return rLe;case 35664:return iLe;case 35665:return oLe;case 35666:return aLe;case 35674:return sLe;case 35675:return lLe;case 35676:return cLe;case 5124:case 35670:return uLe;case 35667:case 35671:return dLe;case 35668:case 35672:return fLe;case 35669:case 35673:return hLe;case 5125:return pLe;case 36294:return mLe;case 36295:return gLe;case 36296:return vLe;case 35678:case 36198:case 36298:case 36306:case 35682:return yLe;case 35679:case 36299:case 36307:return bLe;case 35680:case 36300:case 36308:case 36293:return xLe;case 36289:case 36303:case 36311:case 36292:return _Le}}function SLe(e,t){e.uniform1fv(this.addr,t)}function CLe(e,t){const n=zp(t,this.size,2);e.uniform2fv(this.addr,n)}function TLe(e,t){const n=zp(t,this.size,3);e.uniform3fv(this.addr,n)}function kLe(e,t){const n=zp(t,this.size,4);e.uniform4fv(this.addr,n)}function ELe(e,t){const n=zp(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function MLe(e,t){const n=zp(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ALe(e,t){const n=zp(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function NLe(e,t){e.uniform1iv(this.addr,t)}function PLe(e,t){e.uniform2iv(this.addr,t)}function BLe(e,t){e.uniform3iv(this.addr,t)}function RLe(e,t){e.uniform4iv(this.addr,t)}function jLe(e,t){e.uniform1uiv(this.addr,t)}function ILe(e,t){e.uniform2uiv(this.addr,t)}function zLe(e,t){e.uniform3uiv(this.addr,t)}function LLe(e,t){e.uniform4uiv(this.addr,t)}function DLe(e,t,n){const r=this.cache,i=t.length,o=K1(n,i);Pi(r,o)||(e.uniform1iv(this.addr,o),Bi(r,o));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||uX,o[a])}function OLe(e,t,n){const r=this.cache,i=t.length,o=K1(n,i);Pi(r,o)||(e.uniform1iv(this.addr,o),Bi(r,o));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||hX,o[a])}function FLe(e,t,n){const r=this.cache,i=t.length,o=K1(n,i);Pi(r,o)||(e.uniform1iv(this.addr,o),Bi(r,o));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||pX,o[a])}function ULe(e,t,n){const r=this.cache,i=t.length,o=K1(n,i);Pi(r,o)||(e.uniform1iv(this.addr,o),Bi(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||fX,o[a])}function qLe(e){switch(e){case 5126:return SLe;case 35664:return CLe;case 35665:return TLe;case 35666:return kLe;case 35674:return ELe;case 35675:return MLe;case 35676:return ALe;case 5124:case 35670:return NLe;case 35667:case 35671:return PLe;case 35668:case 35672:return BLe;case 35669:case 35673:return RLe;case 5125:return jLe;case 36294:return ILe;case 36295:return zLe;case 36296:return LLe;case 35678:case 36198:case 36298:case 36306:case 35682:return DLe;case 35679:case 36299:case 36307:return OLe;case 35680:case 36300:case 36308:case 36293:return FLe;case 36289:case 36303:case 36311:case 36292:return ULe}}class HLe{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=wLe(n.type)}}class VLe{constructor(t,n,r){this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=qLe(n.type)}}class WLe{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(t,n[s.id],r)}}}const sE=/(\w+)(\])?(\[|\.)?/g;function m6(e,t){e.seq.push(t),e.map[t.id]=t}function GLe(e,t,n){const r=e.name,i=r.length;for(sE.lastIndex=0;;){const o=sE.exec(r),a=sE.lastIndex;let s=o[1];const c=o[2]==="]",u=o[3];if(c&&(s=s|0),u===void 0||u==="["&&a+2===i){m6(n,u===void 0?new HLe(s,e,t):new VLe(s,e,t));break}else{let f=n.map[s];f===void 0&&(f=new WLe(s),m6(n,f)),n=f}}}class Yy{constructor(t,n){this.seq=[],this.map={};const r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=t.getActiveUniform(n,i),a=t.getUniformLocation(n,o.name);GLe(o,a,this)}}setValue(t,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(t,r,i)}setOptional(t,n,r){const i=n[r];i!==void 0&&this.setValue(t,r,i)}static upload(t,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],c=r[s.id];c.needsUpdate!==!1&&s.setValue(t,c.value,i)}}static seqWithValue(t,n){const r=[];for(let i=0,o=t.length;i!==o;++i){const a=t[i];a.id in n&&r.push(a)}return r}}function g6(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}const $Le=37297;let XLe=0;function ZLe(e,t){const n=e.split(`
`),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===t?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function KLe(e){const t=dr.getPrimaries(dr.workingColorSpace),n=dr.getPrimaries(e);let r;switch(t===n?r="":t===ux&&n===cx?r="LinearDisplayP3ToLinearSRGB":t===cx&&n===ux&&(r="LinearSRGBToLinearDisplayP3"),e){case Ds:case $1:return[r,"LinearTransferOETF"];case Fn:case yB:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[r,"LinearTransferOETF"]}}function v6(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+ZLe(e.getShaderSource(t),a)}else return i}function YLe(e,t){const n=KLe(t);return`vec4 ${e}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function JLe(e,t){let n;switch(t){case Zje:n="Linear";break;case Kje:n="Reinhard";break;case Yje:n="OptimizedCineon";break;case Jje:n="ACESFilmic";break;case e3e:n="AgX";break;case Qje:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function QLe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wh).join(`
`)}function eDe(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(wh).join(`
`)}function tDe(e){const t=[];for(const n in e){const r=e[n];r!==!1&&t.push("#define "+n+" "+r)}return t.join(`
`)}function nDe(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=e.getActiveAttrib(t,i),a=o.name;let s=1;o.type===e.FLOAT_MAT2&&(s=2),o.type===e.FLOAT_MAT3&&(s=3),o.type===e.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:e.getAttribLocation(t,a),locationSize:s}}return n}function wh(e){return e!==""}function y6(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function b6(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const rDe=/^[ \t]*#include +<([\w\d./]+)>/gm;function hA(e){return e.replace(rDe,oDe)}const iDe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function oDe(e,t){let n=yn[t];if(n===void 0){const r=iDe.get(t);if(r!==void 0)n=yn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r);else throw new Error("Can not resolve #include <"+t+">")}return hA(n)}const aDe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function x6(e){return e.replace(aDe,sDe)}function sDe(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function _6(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function lDe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===L$?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===Cje?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Xl&&(t="SHADOWMAP_TYPE_VSM"),t}function cDe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case fp:case hp:t="ENVMAP_TYPE_CUBE";break;case G1:t="ENVMAP_TYPE_CUBE_UV";break}return t}function uDe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case hp:t="ENVMAP_MODE_REFRACTION";break}return t}function dDe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case O$:t="ENVMAP_BLENDING_MULTIPLY";break;case $je:t="ENVMAP_BLENDING_MIX";break;case Xje:t="ENVMAP_BLENDING_ADD";break}return t}function fDe(e){const t=e.envMapCubeUVHeight;if(t===null)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function hDe(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const c=lDe(n),u=cDe(n),d=uDe(n),f=dDe(n),p=fDe(n),m=n.isWebGL2?"":QLe(n),g=eDe(n),v=tDe(o),_=i.createProgram();let y,S,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(wh).join(`
`),y.length>0&&(y+=`
`),S=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(wh).join(`
`),S.length>0&&(S+=`
`)):(y=[_6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wh).join(`
`),S=[m,_6(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==fc?"#define TONE_MAPPING":"",n.toneMapping!==fc?yn.tonemapping_pars_fragment:"",n.toneMapping!==fc?JLe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",yn.colorspace_pars_fragment,YLe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(wh).join(`
`)),a=hA(a),a=y6(a,n),a=b6(a,n),s=hA(s),s=y6(s,n),s=b6(s,n),a=x6(a),s=x6(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,S=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===O4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===O4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const C=w+y+a,M=w+S+s,A=g6(i,i.VERTEX_SHADER,C),E=g6(i,i.FRAGMENT_SHADER,M);i.attachShader(_,A),i.attachShader(_,E),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function I(q){if(e.debug.checkShaderErrors){const $=i.getProgramInfoLog(_).trim(),j=i.getShaderInfoLog(A).trim(),O=i.getShaderInfoLog(E).trim();let z=!0,W=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(z=!1,typeof e.debug.onShaderError=="function")e.debug.onShaderError(i,_,A,E);else{const F=v6(i,A,"vertex"),V=v6(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+$+`
`+F+`
`+V)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(j===""||O==="")&&(W=!1);W&&(q.diagnostics={runnable:z,programLog:$,vertexShader:{log:j,prefix:y},fragmentShader:{log:O,prefix:S}})}i.deleteShader(A),i.deleteShader(E),N=new Yy(i,_),P=nDe(i,_)}let N;this.getUniforms=function(){return N===void 0&&I(this),N};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let D=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(_,$Le)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=XLe++,this.cacheKey=t,this.usedTimes=1,this.program=_,this.vertexShader=A,this.fragmentShader=E,this}let pDe=0;class mDe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.vertexShader,r=t.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(t);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(t){const n=this.materialCache.get(t);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const n=this.materialCache;let r=n.get(t);return r===void 0&&(r=new Set,n.set(t,r)),r}_getShaderStage(t){const n=this.shaderCache;let r=n.get(t);return r===void 0&&(r=new gDe(t),n.set(t,r)),r}}class gDe{constructor(t){this.id=pDe++,this.code=t,this.usedTimes=0}}function vDe(e,t,n,r,i,o,a){const s=new eX,c=new mDe,u=[],d=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(N){return N===0?"uv":`uv${N}`}function _(N,P,D,q,$){const j=q.fog,O=$.geometry,z=N.isMeshStandardMaterial?q.environment:null,W=(N.isMeshStandardMaterial?n:t).get(N.envMap||z),F=W&&W.mapping===G1?W.image.height:null,V=g[N.type];N.precision!==null&&(m=i.getMaxPrecision(N.precision),m!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",m,"instead."));const H=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,te=H!==void 0?H.length:0;let Z=0;O.morphAttributes.position!==void 0&&(Z=1),O.morphAttributes.normal!==void 0&&(Z=2),O.morphAttributes.color!==void 0&&(Z=3);let Q,re,ue,oe;if(V){const Ln=al[V];Q=Ln.vertexShader,re=Ln.fragmentShader}else Q=N.vertexShader,re=N.fragmentShader,c.update(N),ue=c.getVertexShaderID(N),oe=c.getFragmentShaderID(N);const be=e.getRenderTarget(),ke=$.isInstancedMesh===!0,He=$.isBatchedMesh===!0,Je=!!N.map,rt=!!N.matcap,le=!!W,at=!!N.aoMap,Ge=!!N.lightMap,We=!!N.bumpMap,$e=!!N.normalMap,et=!!N.displacementMap,Xe=!!N.emissiveMap,X=!!N.metalnessMap,Y=!!N.roughnessMap,me=N.anisotropy>0,Ne=N.clearcoat>0,Re=N.iridescence>0,Ee=N.sheen>0,Ye=N.transmission>0,Ze=me&&!!N.anisotropyMap,st=Ne&&!!N.clearcoatMap,wt=Ne&&!!N.clearcoatNormalMap,_t=Ne&&!!N.clearcoatRoughnessMap,je=Re&&!!N.iridescenceMap,jt=Re&&!!N.iridescenceThicknessMap,ve=Ee&&!!N.sheenColorMap,tt=Ee&&!!N.sheenRoughnessMap,ze=!!N.specularMap,nt=!!N.specularColorMap,Ve=!!N.specularIntensityMap,Et=Ye&&!!N.transmissionMap,Zt=Ye&&!!N.thicknessMap,Dt=!!N.gradientMap,dt=!!N.alphaMap,G=N.alphaTest>0,Pe=!!N.alphaHash,qe=!!N.extensions,Bt=!!O.attributes.uv1,Tt=!!O.attributes.uv2,bt=!!O.attributes.uv3;let Vt=fc;return N.toneMapped&&(be===null||be.isXRRenderTarget===!0)&&(Vt=e.toneMapping),{isWebGL2:d,shaderID:V,shaderType:N.type,shaderName:N.name,vertexShader:Q,fragmentShader:re,defines:N.defines,customVertexShaderID:ue,customFragmentShaderID:oe,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:m,batching:He,instancing:ke,instancingColor:ke&&$.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:be===null?e.outputColorSpace:be.isXRRenderTarget===!0?be.texture.colorSpace:Ds,map:Je,matcap:rt,envMap:le,envMapMode:le&&W.mapping,envMapCubeUVHeight:F,aoMap:at,lightMap:Ge,bumpMap:We,normalMap:$e,displacementMap:p&&et,emissiveMap:Xe,normalMapObjectSpace:$e&&N.normalMapType===f3e,normalMapTangentSpace:$e&&N.normalMapType===d3e,metalnessMap:X,roughnessMap:Y,anisotropy:me,anisotropyMap:Ze,clearcoat:Ne,clearcoatMap:st,clearcoatNormalMap:wt,clearcoatRoughnessMap:_t,iridescence:Re,iridescenceMap:je,iridescenceThicknessMap:jt,sheen:Ee,sheenColorMap:ve,sheenRoughnessMap:tt,specularMap:ze,specularColorMap:nt,specularIntensityMap:Ve,transmission:Ye,transmissionMap:Et,thicknessMap:Zt,gradientMap:Dt,opaque:N.transparent===!1&&N.blending===Rh,alphaMap:dt,alphaTest:G,alphaHash:Pe,combine:N.combine,mapUv:Je&&v(N.map.channel),aoMapUv:at&&v(N.aoMap.channel),lightMapUv:Ge&&v(N.lightMap.channel),bumpMapUv:We&&v(N.bumpMap.channel),normalMapUv:$e&&v(N.normalMap.channel),displacementMapUv:et&&v(N.displacementMap.channel),emissiveMapUv:Xe&&v(N.emissiveMap.channel),metalnessMapUv:X&&v(N.metalnessMap.channel),roughnessMapUv:Y&&v(N.roughnessMap.channel),anisotropyMapUv:Ze&&v(N.anisotropyMap.channel),clearcoatMapUv:st&&v(N.clearcoatMap.channel),clearcoatNormalMapUv:wt&&v(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_t&&v(N.clearcoatRoughnessMap.channel),iridescenceMapUv:je&&v(N.iridescenceMap.channel),iridescenceThicknessMapUv:jt&&v(N.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&v(N.sheenColorMap.channel),sheenRoughnessMapUv:tt&&v(N.sheenRoughnessMap.channel),specularMapUv:ze&&v(N.specularMap.channel),specularColorMapUv:nt&&v(N.specularColorMap.channel),specularIntensityMapUv:Ve&&v(N.specularIntensityMap.channel),transmissionMapUv:Et&&v(N.transmissionMap.channel),thicknessMapUv:Zt&&v(N.thicknessMap.channel),alphaMapUv:dt&&v(N.alphaMap.channel),vertexTangents:!!O.attributes.tangent&&($e||me),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,vertexUv1s:Bt,vertexUv2s:Tt,vertexUv3s:bt,pointsUvs:$.isPoints===!0&&!!O.attributes.uv&&(Je||dt),fog:!!j,useFog:N.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:$.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:Z,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:N.dithering,shadowMapEnabled:e.shadowMap.enabled&&D.length>0,shadowMapType:e.shadowMap.type,toneMapping:Vt,useLegacyLights:e._useLegacyLights,decodeVideoTexture:Je&&N.map.isVideoTexture===!0&&dr.getTransfer(N.map.colorSpace)===Sr,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===ba,flipSided:N.side===Wi,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:qe&&N.extensions.derivatives===!0,extensionFragDepth:qe&&N.extensions.fragDepth===!0,extensionDrawBuffers:qe&&N.extensions.drawBuffers===!0,extensionShaderTextureLOD:qe&&N.extensions.shaderTextureLOD===!0,extensionClipCullDistance:qe&&N.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()}}function y(N){const P=[];if(N.shaderID?P.push(N.shaderID):(P.push(N.customVertexShaderID),P.push(N.customFragmentShaderID)),N.defines!==void 0)for(const D in N.defines)P.push(D),P.push(N.defines[D]);return N.isRawShaderMaterial===!1&&(S(P,N),w(P,N),P.push(e.outputColorSpace)),P.push(N.customProgramCacheKey),P.join()}function S(N,P){N.push(P.precision),N.push(P.outputColorSpace),N.push(P.envMapMode),N.push(P.envMapCubeUVHeight),N.push(P.mapUv),N.push(P.alphaMapUv),N.push(P.lightMapUv),N.push(P.aoMapUv),N.push(P.bumpMapUv),N.push(P.normalMapUv),N.push(P.displacementMapUv),N.push(P.emissiveMapUv),N.push(P.metalnessMapUv),N.push(P.roughnessMapUv),N.push(P.anisotropyMapUv),N.push(P.clearcoatMapUv),N.push(P.clearcoatNormalMapUv),N.push(P.clearcoatRoughnessMapUv),N.push(P.iridescenceMapUv),N.push(P.iridescenceThicknessMapUv),N.push(P.sheenColorMapUv),N.push(P.sheenRoughnessMapUv),N.push(P.specularMapUv),N.push(P.specularColorMapUv),N.push(P.specularIntensityMapUv),N.push(P.transmissionMapUv),N.push(P.thicknessMapUv),N.push(P.combine),N.push(P.fogExp2),N.push(P.sizeAttenuation),N.push(P.morphTargetsCount),N.push(P.morphAttributeCount),N.push(P.numDirLights),N.push(P.numPointLights),N.push(P.numSpotLights),N.push(P.numSpotLightMaps),N.push(P.numHemiLights),N.push(P.numRectAreaLights),N.push(P.numDirLightShadows),N.push(P.numPointLightShadows),N.push(P.numSpotLightShadows),N.push(P.numSpotLightShadowsWithMaps),N.push(P.numLightProbes),N.push(P.shadowMapType),N.push(P.toneMapping),N.push(P.numClippingPlanes),N.push(P.numClipIntersection),N.push(P.depthPacking)}function w(N,P){s.disableAll(),P.isWebGL2&&s.enable(0),P.supportsVertexTextures&&s.enable(1),P.instancing&&s.enable(2),P.instancingColor&&s.enable(3),P.matcap&&s.enable(4),P.envMap&&s.enable(5),P.normalMapObjectSpace&&s.enable(6),P.normalMapTangentSpace&&s.enable(7),P.clearcoat&&s.enable(8),P.iridescence&&s.enable(9),P.alphaTest&&s.enable(10),P.vertexColors&&s.enable(11),P.vertexAlphas&&s.enable(12),P.vertexUv1s&&s.enable(13),P.vertexUv2s&&s.enable(14),P.vertexUv3s&&s.enable(15),P.vertexTangents&&s.enable(16),P.anisotropy&&s.enable(17),P.alphaHash&&s.enable(18),P.batching&&s.enable(19),N.push(s.mask),s.disableAll(),P.fog&&s.enable(0),P.useFog&&s.enable(1),P.flatShading&&s.enable(2),P.logarithmicDepthBuffer&&s.enable(3),P.skinning&&s.enable(4),P.morphTargets&&s.enable(5),P.morphNormals&&s.enable(6),P.morphColors&&s.enable(7),P.premultipliedAlpha&&s.enable(8),P.shadowMapEnabled&&s.enable(9),P.useLegacyLights&&s.enable(10),P.doubleSided&&s.enable(11),P.flipSided&&s.enable(12),P.useDepthPacking&&s.enable(13),P.dithering&&s.enable(14),P.transmission&&s.enable(15),P.sheen&&s.enable(16),P.opaque&&s.enable(17),P.pointsUvs&&s.enable(18),P.decodeVideoTexture&&s.enable(19),N.push(s.mask)}function C(N){const P=g[N.type];let D;if(P){const q=al[P];D=Q3e.clone(q.uniforms)}else D=N.uniforms;return D}function M(N,P){let D;for(let q=0,$=u.length;q<$;q++){const j=u[q];if(j.cacheKey===P){D=j,++D.usedTimes;break}}return D===void 0&&(D=new hDe(e,P,N,o),u.push(D)),D}function A(N){if(--N.usedTimes===0){const P=u.indexOf(N);u[P]=u[u.length-1],u.pop(),N.destroy()}}function E(N){c.remove(N)}function I(){c.dispose()}return{getParameters:_,getProgramCacheKey:y,getUniforms:C,acquireProgram:M,releaseProgram:A,releaseShaderCache:E,programs:u,dispose:I}}function yDe(){let e=new WeakMap;function t(o){let a=e.get(o);return a===void 0&&(a={},e.set(o,a)),a}function n(o){e.delete(o)}function r(o,a,s){e.get(o)[a]=s}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function bDe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function w6(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function S6(){const e=[];let t=0;const n=[],r=[],i=[];function o(){t=0,n.length=0,r.length=0,i.length=0}function a(f,p,m,g,v,_){let y=e[t];return y===void 0?(y={id:f.id,object:f,geometry:p,material:m,groupOrder:g,renderOrder:f.renderOrder,z:v,group:_},e[t]=y):(y.id=f.id,y.object=f,y.geometry=p,y.material=m,y.groupOrder=g,y.renderOrder=f.renderOrder,y.z=v,y.group=_),t++,y}function s(f,p,m,g,v,_){const y=a(f,p,m,g,v,_);m.transmission>0?r.push(y):m.transparent===!0?i.push(y):n.push(y)}function c(f,p,m,g,v,_){const y=a(f,p,m,g,v,_);m.transmission>0?r.unshift(y):m.transparent===!0?i.unshift(y):n.unshift(y)}function u(f,p){n.length>1&&n.sort(f||bDe),r.length>1&&r.sort(p||w6),i.length>1&&i.sort(p||w6)}function d(){for(let f=t,p=e.length;f<p;f++){const m=e[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:c,finish:d,sort:u}}function xDe(){let e=new WeakMap;function t(r,i){const o=e.get(r);let a;return o===void 0?(a=new S6,e.set(r,[a])):i>=o.length?(a=new S6,o.push(a)):a=o[i],a}function n(){e=new WeakMap}return{get:t,dispose:n}}function _De(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Ie,color:new nr};break;case"SpotLight":n={position:new Ie,direction:new Ie,color:new nr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ie,color:new nr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ie,skyColor:new nr,groundColor:new nr};break;case"RectAreaLight":n={color:new nr,position:new Ie,halfWidth:new Ie,halfHeight:new Ie};break}return e[t.id]=n,n}}}function wDe(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tn,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let SDe=0;function CDe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function TDe(e,t){const n=new _De,r=wDe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)i.probe.push(new Ie);const o=new Ie,a=new to,s=new to;function c(d,f){let p=0,m=0,g=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let v=0,_=0,y=0,S=0,w=0,C=0,M=0,A=0,E=0,I=0,N=0;d.sort(CDe);const P=f===!0?Math.PI:1;for(let q=0,$=d.length;q<$;q++){const j=d[q],O=j.color,z=j.intensity,W=j.distance,F=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)p+=O.r*z*P,m+=O.g*z*P,g+=O.b*z*P;else if(j.isLightProbe){for(let V=0;V<9;V++)i.probe[V].addScaledVector(j.sh.coefficients[V],z);N++}else if(j.isDirectionalLight){const V=n.get(j);if(V.color.copy(j.color).multiplyScalar(j.intensity*P),j.castShadow){const H=j.shadow,te=r.get(j);te.shadowBias=H.bias,te.shadowNormalBias=H.normalBias,te.shadowRadius=H.radius,te.shadowMapSize=H.mapSize,i.directionalShadow[v]=te,i.directionalShadowMap[v]=F,i.directionalShadowMatrix[v]=j.shadow.matrix,C++}i.directional[v]=V,v++}else if(j.isSpotLight){const V=n.get(j);V.position.setFromMatrixPosition(j.matrixWorld),V.color.copy(O).multiplyScalar(z*P),V.distance=W,V.coneCos=Math.cos(j.angle),V.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),V.decay=j.decay,i.spot[y]=V;const H=j.shadow;if(j.map&&(i.spotLightMap[E]=j.map,E++,H.updateMatrices(j),j.castShadow&&I++),i.spotLightMatrix[y]=H.matrix,j.castShadow){const te=r.get(j);te.shadowBias=H.bias,te.shadowNormalBias=H.normalBias,te.shadowRadius=H.radius,te.shadowMapSize=H.mapSize,i.spotShadow[y]=te,i.spotShadowMap[y]=F,A++}y++}else if(j.isRectAreaLight){const V=n.get(j);V.color.copy(O).multiplyScalar(z),V.halfWidth.set(j.width*.5,0,0),V.halfHeight.set(0,j.height*.5,0),i.rectArea[S]=V,S++}else if(j.isPointLight){const V=n.get(j);if(V.color.copy(j.color).multiplyScalar(j.intensity*P),V.distance=j.distance,V.decay=j.decay,j.castShadow){const H=j.shadow,te=r.get(j);te.shadowBias=H.bias,te.shadowNormalBias=H.normalBias,te.shadowRadius=H.radius,te.shadowMapSize=H.mapSize,te.shadowCameraNear=H.camera.near,te.shadowCameraFar=H.camera.far,i.pointShadow[_]=te,i.pointShadowMap[_]=F,i.pointShadowMatrix[_]=j.shadow.matrix,M++}i.point[_]=V,_++}else if(j.isHemisphereLight){const V=n.get(j);V.skyColor.copy(j.color).multiplyScalar(z*P),V.groundColor.copy(j.groundColor).multiplyScalar(z*P),i.hemi[w]=V,w++}}S>0&&(t.isWebGL2?e.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=kt.LTC_FLOAT_1,i.rectAreaLTC2=kt.LTC_FLOAT_2):(i.rectAreaLTC1=kt.LTC_HALF_1,i.rectAreaLTC2=kt.LTC_HALF_2):e.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=kt.LTC_FLOAT_1,i.rectAreaLTC2=kt.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=kt.LTC_HALF_1,i.rectAreaLTC2=kt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const D=i.hash;(D.directionalLength!==v||D.pointLength!==_||D.spotLength!==y||D.rectAreaLength!==S||D.hemiLength!==w||D.numDirectionalShadows!==C||D.numPointShadows!==M||D.numSpotShadows!==A||D.numSpotMaps!==E||D.numLightProbes!==N)&&(i.directional.length=v,i.spot.length=y,i.rectArea.length=S,i.point.length=_,i.hemi.length=w,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=A+E-I,i.spotLightMap.length=E,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=N,D.directionalLength=v,D.pointLength=_,D.spotLength=y,D.rectAreaLength=S,D.hemiLength=w,D.numDirectionalShadows=C,D.numPointShadows=M,D.numSpotShadows=A,D.numSpotMaps=E,D.numLightProbes=N,i.version=SDe++)}function u(d,f){let p=0,m=0,g=0,v=0,_=0;const y=f.matrixWorldInverse;for(let S=0,w=d.length;S<w;S++){const C=d[S];if(C.isDirectionalLight){const M=i.directional[p];M.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(y),p++}else if(C.isSpotLight){const M=i.spot[g];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(C.matrixWorld),o.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(o),M.direction.transformDirection(y),g++}else if(C.isRectAreaLight){const M=i.rectArea[v];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),s.identity(),a.copy(C.matrixWorld),a.premultiply(y),s.extractRotation(a),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(s),M.halfHeight.applyMatrix4(s),v++}else if(C.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),m++}else if(C.isHemisphereLight){const M=i.hemi[_];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(y),_++}}}return{setup:c,setupView:u,state:i}}function C6(e,t){const n=new TDe(e,t),r=[],i=[];function o(){r.length=0,i.length=0}function a(f){r.push(f)}function s(f){i.push(f)}function c(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:c,setupLightsView:u,pushLight:a,pushShadow:s}}function kDe(e,t){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let c;return s===void 0?(c=new C6(e,t),n.set(o,[c])):a>=s.length?(c=new C6(e,t),s.push(c)):c=s[a],c}function i(){n=new WeakMap}return{get:r,dispose:i}}class EDe extends Ip{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ov,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class MDe extends Ip{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const ADe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,NDe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function PDe(e,t,n){let r=new lX;const i=new tn,o=new tn,a=new Ai,s=new EDe({depthPacking:u3e}),c=new MDe,u={},d=n.maxTextureSize,f={[wc]:Wi,[Wi]:wc,[ba]:ba},p=new zo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tn},radius:{value:4}},vertexShader:ADe,fragmentShader:NDe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new Ju;g.setAttribute("position",new Qa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new fl(g,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=L$;let y=this.type;this.render=function(A,E,I){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||A.length===0)return;const N=e.getRenderTarget(),P=e.getActiveCubeFace(),D=e.getActiveMipmapLevel(),q=e.state;q.setBlending(ra),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const $=y!==Xl&&this.type===Xl,j=y===Xl&&this.type!==Xl;for(let O=0,z=A.length;O<z;O++){const W=A[O],F=W.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const V=F.getFrameExtents();if(i.multiply(V),o.copy(F.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(o.x=Math.floor(d/V.x),i.x=o.x*V.x,F.mapSize.x=o.x),i.y>d&&(o.y=Math.floor(d/V.y),i.y=o.y*V.y,F.mapSize.y=o.y)),F.map===null||$===!0||j===!0){const te=this.type!==Xl?{minFilter:No,magFilter:No}:{};F.map!==null&&F.map.dispose(),F.map=new Io(i.x,i.y,te),F.map.texture.name=W.name+".shadowMap",F.camera.updateProjectionMatrix()}e.setRenderTarget(F.map),e.clear();const H=F.getViewportCount();for(let te=0;te<H;te++){const Z=F.getViewport(te);a.set(o.x*Z.x,o.y*Z.y,o.x*Z.z,o.y*Z.w),q.viewport(a),F.updateMatrices(W,te),r=F.getFrustum(),C(E,I,F.camera,W,this.type)}F.isPointLightShadow!==!0&&this.type===Xl&&S(F,I),F.needsUpdate=!1}y=this.type,_.needsUpdate=!1,e.setRenderTarget(N,P,D)};function S(A,E){const I=t.update(v);p.defines.VSM_SAMPLES!==A.blurSamples&&(p.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Io(i.x,i.y)),p.uniforms.shadow_pass.value=A.map.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,e.setRenderTarget(A.mapPass),e.clear(),e.renderBufferDirect(E,null,I,p,v,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,e.setRenderTarget(A.map),e.clear(),e.renderBufferDirect(E,null,I,m,v,null)}function w(A,E,I,N){let P=null;const D=I.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(D!==void 0)P=D;else if(P=I.isPointLight===!0?c:s,e.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const q=P.uuid,$=E.uuid;let j=u[q];j===void 0&&(j={},u[q]=j);let O=j[$];O===void 0&&(O=P.clone(),j[$]=O,E.addEventListener("dispose",M)),P=O}if(P.visible=E.visible,P.wireframe=E.wireframe,N===Xl?P.side=E.shadowSide!==null?E.shadowSide:E.side:P.side=E.shadowSide!==null?E.shadowSide:f[E.side],P.alphaMap=E.alphaMap,P.alphaTest=E.alphaTest,P.map=E.map,P.clipShadows=E.clipShadows,P.clippingPlanes=E.clippingPlanes,P.clipIntersection=E.clipIntersection,P.displacementMap=E.displacementMap,P.displacementScale=E.displacementScale,P.displacementBias=E.displacementBias,P.wireframeLinewidth=E.wireframeLinewidth,P.linewidth=E.linewidth,I.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const q=e.properties.get(P);q.light=I}return P}function C(A,E,I,N,P){if(A.visible===!1)return;if(A.layers.test(E.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===Xl)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,A.matrixWorld);const $=t.update(A),j=A.material;if(Array.isArray(j)){const O=$.groups;for(let z=0,W=O.length;z<W;z++){const F=O[z],V=j[F.materialIndex];if(V&&V.visible){const H=w(A,V,N,P);A.onBeforeShadow(e,A,E,I,$,H,F),e.renderBufferDirect(I,null,$,H,A,F),A.onAfterShadow(e,A,E,I,$,H,F)}}}else if(j.visible){const O=w(A,j,N,P);A.onBeforeShadow(e,A,E,I,$,O,null),e.renderBufferDirect(I,null,$,O,A,null),A.onAfterShadow(e,A,E,I,$,O,null)}}const q=A.children;for(let $=0,j=q.length;$<j;$++)C(q[$],E,I,N,P)}function M(A){A.target.removeEventListener("dispose",M);for(const I in u){const N=u[I],P=A.target.uuid;P in N&&(N[P].dispose(),delete N[P])}}}function BDe(e,t,n){const r=n.isWebGL2;function i(){let G=!1;const Pe=new Ai;let qe=null;const Bt=new Ai(0,0,0,0);return{setMask:function(Tt){qe!==Tt&&!G&&(e.colorMask(Tt,Tt,Tt,Tt),qe=Tt)},setLocked:function(Tt){G=Tt},setClear:function(Tt,bt,Vt,qn,Ln){Ln===!0&&(Tt*=qn,bt*=qn,Vt*=qn),Pe.set(Tt,bt,Vt,qn),Bt.equals(Pe)===!1&&(e.clearColor(Tt,bt,Vt,qn),Bt.copy(Pe))},reset:function(){G=!1,qe=null,Bt.set(-1,0,0,0)}}}function o(){let G=!1,Pe=null,qe=null,Bt=null;return{setTest:function(Tt){Tt?He(e.DEPTH_TEST):Je(e.DEPTH_TEST)},setMask:function(Tt){Pe!==Tt&&!G&&(e.depthMask(Tt),Pe=Tt)},setFunc:function(Tt){if(qe!==Tt){switch(Tt){case Uje:e.depthFunc(e.NEVER);break;case D$:e.depthFunc(e.ALWAYS);break;case qje:e.depthFunc(e.LESS);break;case sx:e.depthFunc(e.LEQUAL);break;case Hje:e.depthFunc(e.EQUAL);break;case Vje:e.depthFunc(e.GEQUAL);break;case Wje:e.depthFunc(e.GREATER);break;case Gje:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}qe=Tt}},setLocked:function(Tt){G=Tt},setClear:function(Tt){Bt!==Tt&&(e.clearDepth(Tt),Bt=Tt)},reset:function(){G=!1,Pe=null,qe=null,Bt=null}}}function a(){let G=!1,Pe=null,qe=null,Bt=null,Tt=null,bt=null,Vt=null,qn=null,Ln=null;return{setTest:function(pn){G||(pn?He(e.STENCIL_TEST):Je(e.STENCIL_TEST))},setMask:function(pn){Pe!==pn&&!G&&(e.stencilMask(pn),Pe=pn)},setFunc:function(pn,Hn,fr){(qe!==pn||Bt!==Hn||Tt!==fr)&&(e.stencilFunc(pn,Hn,fr),qe=pn,Bt=Hn,Tt=fr)},setOp:function(pn,Hn,fr){(bt!==pn||Vt!==Hn||qn!==fr)&&(e.stencilOp(pn,Hn,fr),bt=pn,Vt=Hn,qn=fr)},setLocked:function(pn){G=pn},setClear:function(pn){Ln!==pn&&(e.clearStencil(pn),Ln=pn)},reset:function(){G=!1,Pe=null,qe=null,Bt=null,Tt=null,bt=null,Vt=null,qn=null,Ln=null}}}const s=new i,c=new o,u=new a,d=new WeakMap,f=new WeakMap;let p={},m={},g=new WeakMap,v=[],_=null,y=!1,S=null,w=null,C=null,M=null,A=null,E=null,I=null,N=new nr(0,0,0),P=0,D=!1,q=null,$=null,j=null,O=null,z=null;const W=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,V=0;const H=e.getParameter(e.VERSION);H.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(H)[1]),F=V>=1):H.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),F=V>=2);let te=null,Z={};const Q=e.getParameter(e.SCISSOR_BOX),re=e.getParameter(e.VIEWPORT),ue=new Ai().fromArray(Q),oe=new Ai().fromArray(re);function be(G,Pe,qe,Bt){const Tt=new Uint8Array(4),bt=e.createTexture();e.bindTexture(G,bt),e.texParameteri(G,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(G,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let Vt=0;Vt<qe;Vt++)r&&(G===e.TEXTURE_3D||G===e.TEXTURE_2D_ARRAY)?e.texImage3D(Pe,0,e.RGBA,1,1,Bt,0,e.RGBA,e.UNSIGNED_BYTE,Tt):e.texImage2D(Pe+Vt,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,Tt);return bt}const ke={};ke[e.TEXTURE_2D]=be(e.TEXTURE_2D,e.TEXTURE_2D,1),ke[e.TEXTURE_CUBE_MAP]=be(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ke[e.TEXTURE_2D_ARRAY]=be(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),ke[e.TEXTURE_3D]=be(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),c.setClear(1),u.setClear(0),He(e.DEPTH_TEST),c.setFunc(sx),Xe(!1),X(o4),He(e.CULL_FACE),$e(ra);function He(G){p[G]!==!0&&(e.enable(G),p[G]=!0)}function Je(G){p[G]!==!1&&(e.disable(G),p[G]=!1)}function rt(G,Pe){return m[G]!==Pe?(e.bindFramebuffer(G,Pe),m[G]=Pe,r&&(G===e.DRAW_FRAMEBUFFER&&(m[e.FRAMEBUFFER]=Pe),G===e.FRAMEBUFFER&&(m[e.DRAW_FRAMEBUFFER]=Pe)),!0):!1}function le(G,Pe){let qe=v,Bt=!1;if(G)if(qe=g.get(Pe),qe===void 0&&(qe=[],g.set(Pe,qe)),G.isWebGLMultipleRenderTargets){const Tt=G.texture;if(qe.length!==Tt.length||qe[0]!==e.COLOR_ATTACHMENT0){for(let bt=0,Vt=Tt.length;bt<Vt;bt++)qe[bt]=e.COLOR_ATTACHMENT0+bt;qe.length=Tt.length,Bt=!0}}else qe[0]!==e.COLOR_ATTACHMENT0&&(qe[0]=e.COLOR_ATTACHMENT0,Bt=!0);else qe[0]!==e.BACK&&(qe[0]=e.BACK,Bt=!0);Bt&&(n.isWebGL2?e.drawBuffers(qe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(qe))}function at(G){return _!==G?(e.useProgram(G),_=G,!0):!1}const Ge={[Sd]:e.FUNC_ADD,[kje]:e.FUNC_SUBTRACT,[Eje]:e.FUNC_REVERSE_SUBTRACT};if(r)Ge[c4]=e.MIN,Ge[u4]=e.MAX;else{const G=t.get("EXT_blend_minmax");G!==null&&(Ge[c4]=G.MIN_EXT,Ge[u4]=G.MAX_EXT)}const We={[Mje]:e.ZERO,[Aje]:e.ONE,[Nje]:e.SRC_COLOR,[oA]:e.SRC_ALPHA,[zje]:e.SRC_ALPHA_SATURATE,[jje]:e.DST_COLOR,[Bje]:e.DST_ALPHA,[Pje]:e.ONE_MINUS_SRC_COLOR,[aA]:e.ONE_MINUS_SRC_ALPHA,[Ije]:e.ONE_MINUS_DST_COLOR,[Rje]:e.ONE_MINUS_DST_ALPHA,[Lje]:e.CONSTANT_COLOR,[Dje]:e.ONE_MINUS_CONSTANT_COLOR,[Oje]:e.CONSTANT_ALPHA,[Fje]:e.ONE_MINUS_CONSTANT_ALPHA};function $e(G,Pe,qe,Bt,Tt,bt,Vt,qn,Ln,pn){if(G===ra){y===!0&&(Je(e.BLEND),y=!1);return}if(y===!1&&(He(e.BLEND),y=!0),G!==Tje){if(G!==S||pn!==D){if((w!==Sd||A!==Sd)&&(e.blendEquation(e.FUNC_ADD),w=Sd,A=Sd),pn)switch(G){case Rh:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case a4:e.blendFunc(e.ONE,e.ONE);break;case s4:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case l4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}else switch(G){case Rh:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case a4:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case s4:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case l4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}C=null,M=null,E=null,I=null,N.set(0,0,0),P=0,S=G,D=pn}return}Tt=Tt||Pe,bt=bt||qe,Vt=Vt||Bt,(Pe!==w||Tt!==A)&&(e.blendEquationSeparate(Ge[Pe],Ge[Tt]),w=Pe,A=Tt),(qe!==C||Bt!==M||bt!==E||Vt!==I)&&(e.blendFuncSeparate(We[qe],We[Bt],We[bt],We[Vt]),C=qe,M=Bt,E=bt,I=Vt),(qn.equals(N)===!1||Ln!==P)&&(e.blendColor(qn.r,qn.g,qn.b,Ln),N.copy(qn),P=Ln),S=G,D=!1}function et(G,Pe){G.side===ba?Je(e.CULL_FACE):He(e.CULL_FACE);let qe=G.side===Wi;Pe&&(qe=!qe),Xe(qe),G.blending===Rh&&G.transparent===!1?$e(ra):$e(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.blendColor,G.blendAlpha,G.premultipliedAlpha),c.setFunc(G.depthFunc),c.setTest(G.depthTest),c.setMask(G.depthWrite),s.setMask(G.colorWrite);const Bt=G.stencilWrite;u.setTest(Bt),Bt&&(u.setMask(G.stencilWriteMask),u.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),u.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),me(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),G.alphaToCoverage===!0?He(e.SAMPLE_ALPHA_TO_COVERAGE):Je(e.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(G){q!==G&&(G?e.frontFace(e.CW):e.frontFace(e.CCW),q=G)}function X(G){G!==wje?(He(e.CULL_FACE),G!==$&&(G===o4?e.cullFace(e.BACK):G===Sje?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Je(e.CULL_FACE),$=G}function Y(G){G!==j&&(F&&e.lineWidth(G),j=G)}function me(G,Pe,qe){G?(He(e.POLYGON_OFFSET_FILL),(O!==Pe||z!==qe)&&(e.polygonOffset(Pe,qe),O=Pe,z=qe)):Je(e.POLYGON_OFFSET_FILL)}function Ne(G){G?He(e.SCISSOR_TEST):Je(e.SCISSOR_TEST)}function Re(G){G===void 0&&(G=e.TEXTURE0+W-1),te!==G&&(e.activeTexture(G),te=G)}function Ee(G,Pe,qe){qe===void 0&&(te===null?qe=e.TEXTURE0+W-1:qe=te);let Bt=Z[qe];Bt===void 0&&(Bt={type:void 0,texture:void 0},Z[qe]=Bt),(Bt.type!==G||Bt.texture!==Pe)&&(te!==qe&&(e.activeTexture(qe),te=qe),e.bindTexture(G,Pe||ke[G]),Bt.type=G,Bt.texture=Pe)}function Ye(){const G=Z[te];G!==void 0&&G.type!==void 0&&(e.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)}function Ze(){try{e.compressedTexImage2D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function st(){try{e.compressedTexImage3D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function wt(){try{e.texSubImage2D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function _t(){try{e.texSubImage3D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function je(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function jt(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ve(){try{e.texStorage2D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function tt(){try{e.texStorage3D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function ze(){try{e.texImage2D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function nt(){try{e.texImage3D.apply(e,arguments)}catch(G){console.error("THREE.WebGLState:",G)}}function Ve(G){ue.equals(G)===!1&&(e.scissor(G.x,G.y,G.z,G.w),ue.copy(G))}function Et(G){oe.equals(G)===!1&&(e.viewport(G.x,G.y,G.z,G.w),oe.copy(G))}function Zt(G,Pe){let qe=f.get(Pe);qe===void 0&&(qe=new WeakMap,f.set(Pe,qe));let Bt=qe.get(G);Bt===void 0&&(Bt=e.getUniformBlockIndex(Pe,G.name),qe.set(G,Bt))}function Dt(G,Pe){const Bt=f.get(Pe).get(G);d.get(Pe)!==Bt&&(e.uniformBlockBinding(Pe,Bt,G.__bindingPointIndex),d.set(Pe,Bt))}function dt(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),r===!0&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),p={},te=null,Z={},m={},g=new WeakMap,v=[],_=null,y=!1,S=null,w=null,C=null,M=null,A=null,E=null,I=null,N=new nr(0,0,0),P=0,D=!1,q=null,$=null,j=null,O=null,z=null,ue.set(0,0,e.canvas.width,e.canvas.height),oe.set(0,0,e.canvas.width,e.canvas.height),s.reset(),c.reset(),u.reset()}return{buffers:{color:s,depth:c,stencil:u},enable:He,disable:Je,bindFramebuffer:rt,drawBuffers:le,useProgram:at,setBlending:$e,setMaterial:et,setFlipSided:Xe,setCullFace:X,setLineWidth:Y,setPolygonOffset:me,setScissorTest:Ne,activeTexture:Re,bindTexture:Ee,unbindTexture:Ye,compressedTexImage2D:Ze,compressedTexImage3D:st,texImage2D:ze,texImage3D:nt,updateUBOMapping:Zt,uniformBlockBinding:Dt,texStorage2D:ve,texStorage3D:tt,texSubImage2D:wt,texSubImage3D:_t,compressedTexSubImage2D:je,compressedTexSubImage3D:jt,scissor:Ve,viewport:Et,reset:dt}}function RDe(e,t,n,r,i,o,a){const s=i.isWebGL2,c=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(X,Y){return m?new OffscreenCanvas(X,Y):hx("canvas")}function v(X,Y,me,Ne){let Re=1;if((X.width>Ne||X.height>Ne)&&(Re=Ne/Math.max(X.width,X.height)),Re<1||Y===!0)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap){const Ee=Y?fx:Math.floor,Ye=Ee(Re*X.width),Ze=Ee(Re*X.height);f===void 0&&(f=g(Ye,Ze));const st=me?g(Ye,Ze):f;return st.width=Ye,st.height=Ze,st.getContext("2d").drawImage(X,0,0,Ye,Ze),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+X.width+"x"+X.height+") to ("+Ye+"x"+Ze+")."),st}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+X.width+"x"+X.height+")."),X;return X}function _(X){return fA(X.width)&&fA(X.height)}function y(X){return s?!1:X.wrapS!==Ms||X.wrapT!==Ms||X.minFilter!==No&&X.minFilter!==mo}function S(X,Y){return X.generateMipmaps&&Y&&X.minFilter!==No&&X.minFilter!==mo}function w(X){e.generateMipmap(X)}function C(X,Y,me,Ne,Re=!1){if(s===!1)return Y;if(X!==null){if(e[X]!==void 0)return e[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let Ee=Y;if(Y===e.RED&&(me===e.FLOAT&&(Ee=e.R32F),me===e.HALF_FLOAT&&(Ee=e.R16F),me===e.UNSIGNED_BYTE&&(Ee=e.R8)),Y===e.RED_INTEGER&&(me===e.UNSIGNED_BYTE&&(Ee=e.R8UI),me===e.UNSIGNED_SHORT&&(Ee=e.R16UI),me===e.UNSIGNED_INT&&(Ee=e.R32UI),me===e.BYTE&&(Ee=e.R8I),me===e.SHORT&&(Ee=e.R16I),me===e.INT&&(Ee=e.R32I)),Y===e.RG&&(me===e.FLOAT&&(Ee=e.RG32F),me===e.HALF_FLOAT&&(Ee=e.RG16F),me===e.UNSIGNED_BYTE&&(Ee=e.RG8)),Y===e.RGBA){const Ye=Re?lx:dr.getTransfer(Ne);me===e.FLOAT&&(Ee=e.RGBA32F),me===e.HALF_FLOAT&&(Ee=e.RGBA16F),me===e.UNSIGNED_BYTE&&(Ee=Ye===Sr?e.SRGB8_ALPHA8:e.RGBA8),me===e.UNSIGNED_SHORT_4_4_4_4&&(Ee=e.RGBA4),me===e.UNSIGNED_SHORT_5_5_5_1&&(Ee=e.RGB5_A1)}return(Ee===e.R16F||Ee===e.R32F||Ee===e.RG16F||Ee===e.RG32F||Ee===e.RGBA16F||Ee===e.RGBA32F)&&t.get("EXT_color_buffer_float"),Ee}function M(X,Y,me){return S(X,me)===!0||X.isFramebufferTexture&&X.minFilter!==No&&X.minFilter!==mo?Math.log2(Math.max(Y.width,Y.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?Y.mipmaps.length:1}function A(X){return X===No||X===d4||X===j2?e.NEAREST:e.LINEAR}function E(X){const Y=X.target;Y.removeEventListener("dispose",E),N(Y),Y.isVideoTexture&&d.delete(Y)}function I(X){const Y=X.target;Y.removeEventListener("dispose",I),D(Y)}function N(X){const Y=r.get(X);if(Y.__webglInit===void 0)return;const me=X.source,Ne=p.get(me);if(Ne){const Re=Ne[Y.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&P(X),Object.keys(Ne).length===0&&p.delete(me)}r.remove(X)}function P(X){const Y=r.get(X);e.deleteTexture(Y.__webglTexture);const me=X.source,Ne=p.get(me);delete Ne[Y.__cacheKey],a.memory.textures--}function D(X){const Y=X.texture,me=r.get(X),Ne=r.get(Y);if(Ne.__webglTexture!==void 0&&(e.deleteTexture(Ne.__webglTexture),a.memory.textures--),X.depthTexture&&X.depthTexture.dispose(),X.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(me.__webglFramebuffer[Re]))for(let Ee=0;Ee<me.__webglFramebuffer[Re].length;Ee++)e.deleteFramebuffer(me.__webglFramebuffer[Re][Ee]);else e.deleteFramebuffer(me.__webglFramebuffer[Re]);me.__webglDepthbuffer&&e.deleteRenderbuffer(me.__webglDepthbuffer[Re])}else{if(Array.isArray(me.__webglFramebuffer))for(let Re=0;Re<me.__webglFramebuffer.length;Re++)e.deleteFramebuffer(me.__webglFramebuffer[Re]);else e.deleteFramebuffer(me.__webglFramebuffer);if(me.__webglDepthbuffer&&e.deleteRenderbuffer(me.__webglDepthbuffer),me.__webglMultisampledFramebuffer&&e.deleteFramebuffer(me.__webglMultisampledFramebuffer),me.__webglColorRenderbuffer)for(let Re=0;Re<me.__webglColorRenderbuffer.length;Re++)me.__webglColorRenderbuffer[Re]&&e.deleteRenderbuffer(me.__webglColorRenderbuffer[Re]);me.__webglDepthRenderbuffer&&e.deleteRenderbuffer(me.__webglDepthRenderbuffer)}if(X.isWebGLMultipleRenderTargets)for(let Re=0,Ee=Y.length;Re<Ee;Re++){const Ye=r.get(Y[Re]);Ye.__webglTexture&&(e.deleteTexture(Ye.__webglTexture),a.memory.textures--),r.remove(Y[Re])}r.remove(Y),r.remove(X)}let q=0;function $(){q=0}function j(){const X=q;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),q+=1,X}function O(X){const Y=[];return Y.push(X.wrapS),Y.push(X.wrapT),Y.push(X.wrapR||0),Y.push(X.magFilter),Y.push(X.minFilter),Y.push(X.anisotropy),Y.push(X.internalFormat),Y.push(X.format),Y.push(X.type),Y.push(X.generateMipmaps),Y.push(X.premultiplyAlpha),Y.push(X.flipY),Y.push(X.unpackAlignment),Y.push(X.colorSpace),Y.join()}function z(X,Y){const me=r.get(X);if(X.isVideoTexture&&et(X),X.isRenderTargetTexture===!1&&X.version>0&&me.__version!==X.version){const Ne=X.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(me,X,Y);return}}n.bindTexture(e.TEXTURE_2D,me.__webglTexture,e.TEXTURE0+Y)}function W(X,Y){const me=r.get(X);if(X.version>0&&me.__version!==X.version){ue(me,X,Y);return}n.bindTexture(e.TEXTURE_2D_ARRAY,me.__webglTexture,e.TEXTURE0+Y)}function F(X,Y){const me=r.get(X);if(X.version>0&&me.__version!==X.version){ue(me,X,Y);return}n.bindTexture(e.TEXTURE_3D,me.__webglTexture,e.TEXTURE0+Y)}function V(X,Y){const me=r.get(X);if(X.version>0&&me.__version!==X.version){oe(me,X,Y);return}n.bindTexture(e.TEXTURE_CUBE_MAP,me.__webglTexture,e.TEXTURE0+Y)}const H={[cA]:e.REPEAT,[Ms]:e.CLAMP_TO_EDGE,[uA]:e.MIRRORED_REPEAT},te={[No]:e.NEAREST,[d4]:e.NEAREST_MIPMAP_NEAREST,[j2]:e.NEAREST_MIPMAP_LINEAR,[mo]:e.LINEAR,[t3e]:e.LINEAR_MIPMAP_NEAREST,[Kg]:e.LINEAR_MIPMAP_LINEAR},Z={[h3e]:e.NEVER,[b3e]:e.ALWAYS,[p3e]:e.LESS,[Z$]:e.LEQUAL,[m3e]:e.EQUAL,[y3e]:e.GEQUAL,[g3e]:e.GREATER,[v3e]:e.NOTEQUAL};function Q(X,Y,me){if(me?(e.texParameteri(X,e.TEXTURE_WRAP_S,H[Y.wrapS]),e.texParameteri(X,e.TEXTURE_WRAP_T,H[Y.wrapT]),(X===e.TEXTURE_3D||X===e.TEXTURE_2D_ARRAY)&&e.texParameteri(X,e.TEXTURE_WRAP_R,H[Y.wrapR]),e.texParameteri(X,e.TEXTURE_MAG_FILTER,te[Y.magFilter]),e.texParameteri(X,e.TEXTURE_MIN_FILTER,te[Y.minFilter])):(e.texParameteri(X,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(X,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),(X===e.TEXTURE_3D||X===e.TEXTURE_2D_ARRAY)&&e.texParameteri(X,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),(Y.wrapS!==Ms||Y.wrapT!==Ms)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(X,e.TEXTURE_MAG_FILTER,A(Y.magFilter)),e.texParameteri(X,e.TEXTURE_MIN_FILTER,A(Y.minFilter)),Y.minFilter!==No&&Y.minFilter!==mo&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),Y.compareFunction&&(e.texParameteri(X,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(X,e.TEXTURE_COMPARE_FUNC,Z[Y.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){const Ne=t.get("EXT_texture_filter_anisotropic");if(Y.magFilter===No||Y.minFilter!==j2&&Y.minFilter!==Kg||Y.type===gu&&t.has("OES_texture_float_linear")===!1||s===!1&&Y.type===Yg&&t.has("OES_texture_half_float_linear")===!1)return;(Y.anisotropy>1||r.get(Y).__currentAnisotropy)&&(e.texParameterf(X,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,i.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy)}}function re(X,Y){let me=!1;X.__webglInit===void 0&&(X.__webglInit=!0,Y.addEventListener("dispose",E));const Ne=Y.source;let Re=p.get(Ne);Re===void 0&&(Re={},p.set(Ne,Re));const Ee=O(Y);if(Ee!==X.__cacheKey){Re[Ee]===void 0&&(Re[Ee]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,me=!0),Re[Ee].usedTimes++;const Ye=Re[X.__cacheKey];Ye!==void 0&&(Re[X.__cacheKey].usedTimes--,Ye.usedTimes===0&&P(Y)),X.__cacheKey=Ee,X.__webglTexture=Re[Ee].texture}return me}function ue(X,Y,me){let Ne=e.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(Ne=e.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(Ne=e.TEXTURE_3D);const Re=re(X,Y),Ee=Y.source;n.bindTexture(Ne,X.__webglTexture,e.TEXTURE0+me);const Ye=r.get(Ee);if(Ee.version!==Ye.__version||Re===!0){n.activeTexture(e.TEXTURE0+me);const Ze=dr.getPrimaries(dr.workingColorSpace),st=Y.colorSpace===Yo?null:dr.getPrimaries(Y.colorSpace),wt=Y.colorSpace===Yo||Ze===st?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,Y.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,Y.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);const _t=y(Y)&&_(Y.image)===!1;let je=v(Y.image,_t,!1,i.maxTextureSize);je=Xe(Y,je);const jt=_(je)||s,ve=o.convert(Y.format,Y.colorSpace);let tt=o.convert(Y.type),ze=C(Y.internalFormat,ve,tt,Y.colorSpace,Y.isVideoTexture);Q(Ne,Y,jt);let nt;const Ve=Y.mipmaps,Et=s&&Y.isVideoTexture!==!0&&ze!==$$,Zt=Ye.__version===void 0||Re===!0,Dt=M(Y,je,jt);if(Y.isDepthTexture)ze=e.DEPTH_COMPONENT,s?Y.type===gu?ze=e.DEPTH_COMPONENT32F:Y.type===rc?ze=e.DEPTH_COMPONENT24:Y.type===Au?ze=e.DEPTH24_STENCIL8:ze=e.DEPTH_COMPONENT16:Y.type===gu&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Y.format===Fd&&ze===e.DEPTH_COMPONENT&&Y.type!==vB&&Y.type!==rc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Y.type=rc,tt=o.convert(Y.type)),Y.format===tf&&ze===e.DEPTH_COMPONENT&&(ze=e.DEPTH_STENCIL,Y.type!==Au&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Y.type=Au,tt=o.convert(Y.type))),Zt&&(Et?n.texStorage2D(e.TEXTURE_2D,1,ze,je.width,je.height):n.texImage2D(e.TEXTURE_2D,0,ze,je.width,je.height,0,ve,tt,null));else if(Y.isDataTexture)if(Ve.length>0&&jt){Et&&Zt&&n.texStorage2D(e.TEXTURE_2D,Dt,ze,Ve[0].width,Ve[0].height);for(let dt=0,G=Ve.length;dt<G;dt++)nt=Ve[dt],Et?n.texSubImage2D(e.TEXTURE_2D,dt,0,0,nt.width,nt.height,ve,tt,nt.data):n.texImage2D(e.TEXTURE_2D,dt,ze,nt.width,nt.height,0,ve,tt,nt.data);Y.generateMipmaps=!1}else Et?(Zt&&n.texStorage2D(e.TEXTURE_2D,Dt,ze,je.width,je.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,je.width,je.height,ve,tt,je.data)):n.texImage2D(e.TEXTURE_2D,0,ze,je.width,je.height,0,ve,tt,je.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Et&&Zt&&n.texStorage3D(e.TEXTURE_2D_ARRAY,Dt,ze,Ve[0].width,Ve[0].height,je.depth);for(let dt=0,G=Ve.length;dt<G;dt++)nt=Ve[dt],Y.format!==As?ve!==null?Et?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,dt,0,0,0,nt.width,nt.height,je.depth,ve,nt.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,dt,ze,nt.width,nt.height,je.depth,0,nt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Et?n.texSubImage3D(e.TEXTURE_2D_ARRAY,dt,0,0,0,nt.width,nt.height,je.depth,ve,tt,nt.data):n.texImage3D(e.TEXTURE_2D_ARRAY,dt,ze,nt.width,nt.height,je.depth,0,ve,tt,nt.data)}else{Et&&Zt&&n.texStorage2D(e.TEXTURE_2D,Dt,ze,Ve[0].width,Ve[0].height);for(let dt=0,G=Ve.length;dt<G;dt++)nt=Ve[dt],Y.format!==As?ve!==null?Et?n.compressedTexSubImage2D(e.TEXTURE_2D,dt,0,0,nt.width,nt.height,ve,nt.data):n.compressedTexImage2D(e.TEXTURE_2D,dt,ze,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Et?n.texSubImage2D(e.TEXTURE_2D,dt,0,0,nt.width,nt.height,ve,tt,nt.data):n.texImage2D(e.TEXTURE_2D,dt,ze,nt.width,nt.height,0,ve,tt,nt.data)}else if(Y.isDataArrayTexture)Et?(Zt&&n.texStorage3D(e.TEXTURE_2D_ARRAY,Dt,ze,je.width,je.height,je.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,je.width,je.height,je.depth,ve,tt,je.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,ze,je.width,je.height,je.depth,0,ve,tt,je.data);else if(Y.isData3DTexture)Et?(Zt&&n.texStorage3D(e.TEXTURE_3D,Dt,ze,je.width,je.height,je.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,je.width,je.height,je.depth,ve,tt,je.data)):n.texImage3D(e.TEXTURE_3D,0,ze,je.width,je.height,je.depth,0,ve,tt,je.data);else if(Y.isFramebufferTexture){if(Zt)if(Et)n.texStorage2D(e.TEXTURE_2D,Dt,ze,je.width,je.height);else{let dt=je.width,G=je.height;for(let Pe=0;Pe<Dt;Pe++)n.texImage2D(e.TEXTURE_2D,Pe,ze,dt,G,0,ve,tt,null),dt>>=1,G>>=1}}else if(Ve.length>0&&jt){Et&&Zt&&n.texStorage2D(e.TEXTURE_2D,Dt,ze,Ve[0].width,Ve[0].height);for(let dt=0,G=Ve.length;dt<G;dt++)nt=Ve[dt],Et?n.texSubImage2D(e.TEXTURE_2D,dt,0,0,ve,tt,nt):n.texImage2D(e.TEXTURE_2D,dt,ze,ve,tt,nt);Y.generateMipmaps=!1}else Et?(Zt&&n.texStorage2D(e.TEXTURE_2D,Dt,ze,je.width,je.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,ve,tt,je)):n.texImage2D(e.TEXTURE_2D,0,ze,ve,tt,je);S(Y,jt)&&w(Ne),Ye.__version=Ee.version,Y.onUpdate&&Y.onUpdate(Y)}X.__version=Y.version}function oe(X,Y,me){if(Y.image.length!==6)return;const Ne=re(X,Y),Re=Y.source;n.bindTexture(e.TEXTURE_CUBE_MAP,X.__webglTexture,e.TEXTURE0+me);const Ee=r.get(Re);if(Re.version!==Ee.__version||Ne===!0){n.activeTexture(e.TEXTURE0+me);const Ye=dr.getPrimaries(dr.workingColorSpace),Ze=Y.colorSpace===Yo?null:dr.getPrimaries(Y.colorSpace),st=Y.colorSpace===Yo||Ye===Ze?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,Y.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,Y.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const wt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,_t=Y.image[0]&&Y.image[0].isDataTexture,je=[];for(let dt=0;dt<6;dt++)!wt&&!_t?je[dt]=v(Y.image[dt],!1,!0,i.maxCubemapSize):je[dt]=_t?Y.image[dt].image:Y.image[dt],je[dt]=Xe(Y,je[dt]);const jt=je[0],ve=_(jt)||s,tt=o.convert(Y.format,Y.colorSpace),ze=o.convert(Y.type),nt=C(Y.internalFormat,tt,ze,Y.colorSpace),Ve=s&&Y.isVideoTexture!==!0,Et=Ee.__version===void 0||Ne===!0;let Zt=M(Y,jt,ve);Q(e.TEXTURE_CUBE_MAP,Y,ve);let Dt;if(wt){Ve&&Et&&n.texStorage2D(e.TEXTURE_CUBE_MAP,Zt,nt,jt.width,jt.height);for(let dt=0;dt<6;dt++){Dt=je[dt].mipmaps;for(let G=0;G<Dt.length;G++){const Pe=Dt[G];Y.format!==As?tt!==null?Ve?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G,0,0,Pe.width,Pe.height,tt,Pe.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G,nt,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ve?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G,0,0,Pe.width,Pe.height,tt,ze,Pe.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G,nt,Pe.width,Pe.height,0,tt,ze,Pe.data)}}}else{Dt=Y.mipmaps,Ve&&Et&&(Dt.length>0&&Zt++,n.texStorage2D(e.TEXTURE_CUBE_MAP,Zt,nt,je[0].width,je[0].height));for(let dt=0;dt<6;dt++)if(_t){Ve?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,je[dt].width,je[dt].height,tt,ze,je[dt].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,nt,je[dt].width,je[dt].height,0,tt,ze,je[dt].data);for(let G=0;G<Dt.length;G++){const qe=Dt[G].image[dt].image;Ve?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G+1,0,0,qe.width,qe.height,tt,ze,qe.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G+1,nt,qe.width,qe.height,0,tt,ze,qe.data)}}else{Ve?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,0,0,tt,ze,je[dt]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,0,nt,tt,ze,je[dt]);for(let G=0;G<Dt.length;G++){const Pe=Dt[G];Ve?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G+1,0,0,tt,ze,Pe.image[dt]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+dt,G+1,nt,tt,ze,Pe.image[dt])}}}S(Y,ve)&&w(e.TEXTURE_CUBE_MAP),Ee.__version=Re.version,Y.onUpdate&&Y.onUpdate(Y)}X.__version=Y.version}function be(X,Y,me,Ne,Re,Ee){const Ye=o.convert(me.format,me.colorSpace),Ze=o.convert(me.type),st=C(me.internalFormat,Ye,Ze,me.colorSpace);if(!r.get(Y).__hasExternalTextures){const _t=Math.max(1,Y.width>>Ee),je=Math.max(1,Y.height>>Ee);Re===e.TEXTURE_3D||Re===e.TEXTURE_2D_ARRAY?n.texImage3D(Re,Ee,st,_t,je,Y.depth,0,Ye,Ze,null):n.texImage2D(Re,Ee,st,_t,je,0,Ye,Ze,null)}n.bindFramebuffer(e.FRAMEBUFFER,X),$e(Y)?c.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,Ne,Re,r.get(me).__webglTexture,0,We(Y)):(Re===e.TEXTURE_2D||Re>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,Ne,Re,r.get(me).__webglTexture,Ee),n.bindFramebuffer(e.FRAMEBUFFER,null)}function ke(X,Y,me){if(e.bindRenderbuffer(e.RENDERBUFFER,X),Y.depthBuffer&&!Y.stencilBuffer){let Ne=s===!0?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(me||$e(Y)){const Re=Y.depthTexture;Re&&Re.isDepthTexture&&(Re.type===gu?Ne=e.DEPTH_COMPONENT32F:Re.type===rc&&(Ne=e.DEPTH_COMPONENT24));const Ee=We(Y);$e(Y)?c.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,Ee,Ne,Y.width,Y.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,Ee,Ne,Y.width,Y.height)}else e.renderbufferStorage(e.RENDERBUFFER,Ne,Y.width,Y.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,X)}else if(Y.depthBuffer&&Y.stencilBuffer){const Ne=We(Y);me&&$e(Y)===!1?e.renderbufferStorageMultisample(e.RENDERBUFFER,Ne,e.DEPTH24_STENCIL8,Y.width,Y.height):$e(Y)?c.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,Ne,e.DEPTH24_STENCIL8,Y.width,Y.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,Y.width,Y.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,X)}else{const Ne=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let Re=0;Re<Ne.length;Re++){const Ee=Ne[Re],Ye=o.convert(Ee.format,Ee.colorSpace),Ze=o.convert(Ee.type),st=C(Ee.internalFormat,Ye,Ze,Ee.colorSpace),wt=We(Y);me&&$e(Y)===!1?e.renderbufferStorageMultisample(e.RENDERBUFFER,wt,st,Y.width,Y.height):$e(Y)?c.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,wt,st,Y.width,Y.height):e.renderbufferStorage(e.RENDERBUFFER,st,Y.width,Y.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function He(X,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,X),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Y.depthTexture).__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),z(Y.depthTexture,0);const Ne=r.get(Y.depthTexture).__webglTexture,Re=We(Y);if(Y.depthTexture.format===Fd)$e(Y)?c.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,Ne,0,Re):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,Ne,0);else if(Y.depthTexture.format===tf)$e(Y)?c.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,Ne,0,Re):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function Je(X){const Y=r.get(X),me=X.isWebGLCubeRenderTarget===!0;if(X.depthTexture&&!Y.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");He(Y.__webglFramebuffer,X)}else if(me){Y.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)n.bindFramebuffer(e.FRAMEBUFFER,Y.__webglFramebuffer[Ne]),Y.__webglDepthbuffer[Ne]=e.createRenderbuffer(),ke(Y.__webglDepthbuffer[Ne],X,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer=e.createRenderbuffer(),ke(Y.__webglDepthbuffer,X,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function rt(X,Y,me){const Ne=r.get(X);Y!==void 0&&be(Ne.__webglFramebuffer,X,X.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),me!==void 0&&Je(X)}function le(X){const Y=X.texture,me=r.get(X),Ne=r.get(Y);X.addEventListener("dispose",I),X.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=e.createTexture()),Ne.__version=Y.version,a.memory.textures++);const Re=X.isWebGLCubeRenderTarget===!0,Ee=X.isWebGLMultipleRenderTargets===!0,Ye=_(X)||s;if(Re){me.__webglFramebuffer=[];for(let Ze=0;Ze<6;Ze++)if(s&&Y.mipmaps&&Y.mipmaps.length>0){me.__webglFramebuffer[Ze]=[];for(let st=0;st<Y.mipmaps.length;st++)me.__webglFramebuffer[Ze][st]=e.createFramebuffer()}else me.__webglFramebuffer[Ze]=e.createFramebuffer()}else{if(s&&Y.mipmaps&&Y.mipmaps.length>0){me.__webglFramebuffer=[];for(let Ze=0;Ze<Y.mipmaps.length;Ze++)me.__webglFramebuffer[Ze]=e.createFramebuffer()}else me.__webglFramebuffer=e.createFramebuffer();if(Ee)if(i.drawBuffers){const Ze=X.texture;for(let st=0,wt=Ze.length;st<wt;st++){const _t=r.get(Ze[st]);_t.__webglTexture===void 0&&(_t.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&X.samples>0&&$e(X)===!1){const Ze=Ee?Y:[Y];me.__webglMultisampledFramebuffer=e.createFramebuffer(),me.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let st=0;st<Ze.length;st++){const wt=Ze[st];me.__webglColorRenderbuffer[st]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,me.__webglColorRenderbuffer[st]);const _t=o.convert(wt.format,wt.colorSpace),je=o.convert(wt.type),jt=C(wt.internalFormat,_t,je,wt.colorSpace,X.isXRRenderTarget===!0),ve=We(X);e.renderbufferStorageMultisample(e.RENDERBUFFER,ve,jt,X.width,X.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+st,e.RENDERBUFFER,me.__webglColorRenderbuffer[st])}e.bindRenderbuffer(e.RENDERBUFFER,null),X.depthBuffer&&(me.__webglDepthRenderbuffer=e.createRenderbuffer(),ke(me.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(Re){n.bindTexture(e.TEXTURE_CUBE_MAP,Ne.__webglTexture),Q(e.TEXTURE_CUBE_MAP,Y,Ye);for(let Ze=0;Ze<6;Ze++)if(s&&Y.mipmaps&&Y.mipmaps.length>0)for(let st=0;st<Y.mipmaps.length;st++)be(me.__webglFramebuffer[Ze][st],X,Y,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,st);else be(me.__webglFramebuffer[Ze],X,Y,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+Ze,0);S(Y,Ye)&&w(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ee){const Ze=X.texture;for(let st=0,wt=Ze.length;st<wt;st++){const _t=Ze[st],je=r.get(_t);n.bindTexture(e.TEXTURE_2D,je.__webglTexture),Q(e.TEXTURE_2D,_t,Ye),be(me.__webglFramebuffer,X,_t,e.COLOR_ATTACHMENT0+st,e.TEXTURE_2D,0),S(_t,Ye)&&w(e.TEXTURE_2D)}n.unbindTexture()}else{let Ze=e.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(s?Ze=X.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ze,Ne.__webglTexture),Q(Ze,Y,Ye),s&&Y.mipmaps&&Y.mipmaps.length>0)for(let st=0;st<Y.mipmaps.length;st++)be(me.__webglFramebuffer[st],X,Y,e.COLOR_ATTACHMENT0,Ze,st);else be(me.__webglFramebuffer,X,Y,e.COLOR_ATTACHMENT0,Ze,0);S(Y,Ye)&&w(Ze),n.unbindTexture()}X.depthBuffer&&Je(X)}function at(X){const Y=_(X)||s,me=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let Ne=0,Re=me.length;Ne<Re;Ne++){const Ee=me[Ne];if(S(Ee,Y)){const Ye=X.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,Ze=r.get(Ee).__webglTexture;n.bindTexture(Ye,Ze),w(Ye),n.unbindTexture()}}}function Ge(X){if(s&&X.samples>0&&$e(X)===!1){const Y=X.isWebGLMultipleRenderTargets?X.texture:[X.texture],me=X.width,Ne=X.height;let Re=e.COLOR_BUFFER_BIT;const Ee=[],Ye=X.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,Ze=r.get(X),st=X.isWebGLMultipleRenderTargets===!0;if(st)for(let wt=0;wt<Y.length;wt++)n.bindFramebuffer(e.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+wt,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,Ze.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+wt,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,Ze.__webglFramebuffer);for(let wt=0;wt<Y.length;wt++){Ee.push(e.COLOR_ATTACHMENT0+wt),X.depthBuffer&&Ee.push(Ye);const _t=Ze.__ignoreDepthValues!==void 0?Ze.__ignoreDepthValues:!1;if(_t===!1&&(X.depthBuffer&&(Re|=e.DEPTH_BUFFER_BIT),X.stencilBuffer&&(Re|=e.STENCIL_BUFFER_BIT)),st&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,Ze.__webglColorRenderbuffer[wt]),_t===!0&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[Ye]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[Ye])),st){const je=r.get(Y[wt]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,je,0)}e.blitFramebuffer(0,0,me,Ne,0,0,me,Ne,Re,e.NEAREST),u&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,Ee)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),st)for(let wt=0;wt<Y.length;wt++){n.bindFramebuffer(e.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+wt,e.RENDERBUFFER,Ze.__webglColorRenderbuffer[wt]);const _t=r.get(Y[wt]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,Ze.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+wt,e.TEXTURE_2D,_t,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,Ze.__webglMultisampledFramebuffer)}}function We(X){return Math.min(i.maxSamples,X.samples)}function $e(X){const Y=r.get(X);return s&&X.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function et(X){const Y=a.render.frame;d.get(X)!==Y&&(d.set(X,Y),X.update())}function Xe(X,Y){const me=X.colorSpace,Ne=X.format,Re=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||X.format===dA||me!==Ds&&me!==Yo&&(dr.getTransfer(me)===Sr?s===!1?t.has("EXT_sRGB")===!0&&Ne===As?(X.format=dA,X.minFilter=mo,X.generateMipmaps=!1):Y=Y$.sRGBToLinear(Y):(Ne!==As||Re!==Ro)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",me)),Y}this.allocateTextureUnit=j,this.resetTextureUnits=$,this.setTexture2D=z,this.setTexture2DArray=W,this.setTexture3D=F,this.setTextureCube=V,this.rebindTextures=rt,this.setupRenderTarget=le,this.updateRenderTargetMipmap=at,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=Je,this.setupFrameBufferTexture=be,this.useMultisampledRTT=$e}function jDe(e,t,n){const r=n.isWebGL2;function i(o,a=Yo){let s;const c=dr.getTransfer(a);if(o===Ro)return e.UNSIGNED_BYTE;if(o===q$)return e.UNSIGNED_SHORT_4_4_4_4;if(o===H$)return e.UNSIGNED_SHORT_5_5_5_1;if(o===n3e)return e.BYTE;if(o===r3e)return e.SHORT;if(o===vB)return e.UNSIGNED_SHORT;if(o===U$)return e.INT;if(o===rc)return e.UNSIGNED_INT;if(o===gu)return e.FLOAT;if(o===Yg)return r?e.HALF_FLOAT:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===i3e)return e.ALPHA;if(o===As)return e.RGBA;if(o===o3e)return e.LUMINANCE;if(o===a3e)return e.LUMINANCE_ALPHA;if(o===Fd)return e.DEPTH_COMPONENT;if(o===tf)return e.DEPTH_STENCIL;if(o===dA)return s=t.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===s3e)return e.RED;if(o===V$)return e.RED_INTEGER;if(o===l3e)return e.RG;if(o===W$)return e.RG_INTEGER;if(o===G$)return e.RGBA_INTEGER;if(o===I2||o===z2||o===L2||o===D2)if(c===Sr)if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===I2)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===z2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===L2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===D2)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===I2)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===z2)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===L2)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===D2)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===f4||o===h4||o===p4||o===m4)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===f4)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===h4)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===p4)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===m4)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===$$)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===g4||o===v4)if(s=t.get("WEBGL_compressed_texture_etc"),s!==null){if(o===g4)return c===Sr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===v4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===y4||o===b4||o===x4||o===_4||o===w4||o===S4||o===C4||o===T4||o===k4||o===E4||o===M4||o===A4||o===N4||o===P4)if(s=t.get("WEBGL_compressed_texture_astc"),s!==null){if(o===y4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===b4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===x4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===_4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===w4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===S4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===C4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===T4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===k4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===E4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===M4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===A4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===N4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===P4)return c===Sr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===O2||o===B4||o===R4)if(s=t.get("EXT_texture_compression_bptc"),s!==null){if(o===O2)return c===Sr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===B4)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===R4)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===c3e||o===j4||o===I4||o===z4)if(s=t.get("EXT_texture_compression_rgtc"),s!==null){if(o===O2)return s.COMPRESSED_RED_RGTC1_EXT;if(o===j4)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===I4)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===z4)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===Au?r?e.UNSIGNED_INT_24_8:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):e[o]!==void 0?e[o]:null}return{convert:i}}class IDe extends Ga{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class _y extends Ta{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zDe={type:"move"};class lE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new _y,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new _y,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new _y,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ie),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const n=this._hand;if(n)for(const r of t.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,n,r){let i=null,o=null,a=null;const s=this._targetRay,c=this._grip,u=this._hand;if(t&&n.session.visibilityState!=="visible-blurred"){if(u&&t.hand){a=!0;for(const v of t.hand.values()){const _=n.getJointPose(v,r),y=this._getHandJoint(u,v);_!==null&&(y.matrix.fromArray(_.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=_.radius),y.visible=_!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=d.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else c!==null&&t.gripSpace&&(o=n.getPose(t.gripSpace,r),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));s!==null&&(i=n.getPose(t.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(zDe)))}return s!==null&&(s.visible=i!==null),c!==null&&(c.visible=o!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(t,n){if(t.joints[n.jointName]===void 0){const r=new _y;r.matrixAutoUpdate=!1,r.visible=!1,t.joints[n.jointName]=r,t.add(r)}return t.joints[n.jointName]}}class LDe extends Bc{constructor(t,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",c=1,u=null,d=null,f=null,p=null,m=null,g=null;const v=n.getContextAttributes();let _=null,y=null;const S=[],w=[],C=new tn;let M=null;const A=new Ga;A.layers.enable(1),A.viewport=new Ai;const E=new Ga;E.layers.enable(2),E.viewport=new Ai;const I=[A,E],N=new IDe;N.layers.enable(1),N.layers.enable(2);let P=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Q){let re=S[Q];return re===void 0&&(re=new lE,S[Q]=re),re.getTargetRaySpace()},this.getControllerGrip=function(Q){let re=S[Q];return re===void 0&&(re=new lE,S[Q]=re),re.getGripSpace()},this.getHand=function(Q){let re=S[Q];return re===void 0&&(re=new lE,S[Q]=re),re.getHandSpace()};function q(Q){const re=w.indexOf(Q.inputSource);if(re===-1)return;const ue=S[re];ue!==void 0&&(ue.update(Q.inputSource,Q.frame,u||a),ue.dispatchEvent({type:Q.type,data:Q.inputSource}))}function $(){i.removeEventListener("select",q),i.removeEventListener("selectstart",q),i.removeEventListener("selectend",q),i.removeEventListener("squeeze",q),i.removeEventListener("squeezestart",q),i.removeEventListener("squeezeend",q),i.removeEventListener("end",$),i.removeEventListener("inputsourceschange",j);for(let Q=0;Q<S.length;Q++){const re=w[Q];re!==null&&(w[Q]=null,S[Q].disconnect(re))}P=null,D=null,t.setRenderTarget(_),m=null,p=null,f=null,i=null,y=null,Z.stop(),r.isPresenting=!1,t.setPixelRatio(M),t.setSize(C.width,C.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Q){o=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Q){s=Q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(Q){u=Q},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(Q){if(i=Q,i!==null){if(_=t.getRenderTarget(),i.addEventListener("select",q),i.addEventListener("selectstart",q),i.addEventListener("selectend",q),i.addEventListener("squeeze",q),i.addEventListener("squeezestart",q),i.addEventListener("squeezeend",q),i.addEventListener("end",$),i.addEventListener("inputsourceschange",j),v.xrCompatible!==!0&&await n.makeXRCompatible(),M=t.getPixelRatio(),t.getSize(C),i.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const re={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,n,re),i.updateRenderState({baseLayer:m}),t.setPixelRatio(1),t.setSize(m.framebufferWidth,m.framebufferHeight,!1),y=new Io(m.framebufferWidth,m.framebufferHeight,{format:As,type:Ro,colorSpace:t.outputColorSpace,stencilBuffer:v.stencil})}else{let re=null,ue=null,oe=null;v.depth&&(oe=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,re=v.stencil?tf:Fd,ue=v.stencil?Au:rc);const be={colorFormat:n.RGBA8,depthFormat:oe,scaleFactor:o};f=new XRWebGLBinding(i,n),p=f.createProjectionLayer(be),i.updateRenderState({layers:[p]}),t.setPixelRatio(1),t.setSize(p.textureWidth,p.textureHeight,!1),y=new Io(p.textureWidth,p.textureHeight,{format:As,type:Ro,depthTexture:new SB(p.textureWidth,p.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,re),stencilBuffer:v.stencil,colorSpace:t.outputColorSpace,samples:v.antialias?4:0});const ke=t.properties.get(y);ke.__ignoreDepthValues=p.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await i.requestReferenceSpace(s),Z.setContext(i),Z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function j(Q){for(let re=0;re<Q.removed.length;re++){const ue=Q.removed[re],oe=w.indexOf(ue);oe>=0&&(w[oe]=null,S[oe].disconnect(ue))}for(let re=0;re<Q.added.length;re++){const ue=Q.added[re];let oe=w.indexOf(ue);if(oe===-1){for(let ke=0;ke<S.length;ke++)if(ke>=w.length){w.push(ue),oe=ke;break}else if(w[ke]===null){w[ke]=ue,oe=ke;break}if(oe===-1)break}const be=S[oe];be&&be.connect(ue)}}const O=new Ie,z=new Ie;function W(Q,re,ue){O.setFromMatrixPosition(re.matrixWorld),z.setFromMatrixPosition(ue.matrixWorld);const oe=O.distanceTo(z),be=re.projectionMatrix.elements,ke=ue.projectionMatrix.elements,He=be[14]/(be[10]-1),Je=be[14]/(be[10]+1),rt=(be[9]+1)/be[5],le=(be[9]-1)/be[5],at=(be[8]-1)/be[0],Ge=(ke[8]+1)/ke[0],We=He*at,$e=He*Ge,et=oe/(-at+Ge),Xe=et*-at;re.matrixWorld.decompose(Q.position,Q.quaternion,Q.scale),Q.translateX(Xe),Q.translateZ(et),Q.matrixWorld.compose(Q.position,Q.quaternion,Q.scale),Q.matrixWorldInverse.copy(Q.matrixWorld).invert();const X=He+et,Y=Je+et,me=We-Xe,Ne=$e+(oe-Xe),Re=rt*Je/Y*X,Ee=le*Je/Y*X;Q.projectionMatrix.makePerspective(me,Ne,Re,Ee,X,Y),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert()}function F(Q,re){re===null?Q.matrixWorld.copy(Q.matrix):Q.matrixWorld.multiplyMatrices(re.matrixWorld,Q.matrix),Q.matrixWorldInverse.copy(Q.matrixWorld).invert()}this.updateCamera=function(Q){if(i===null)return;N.near=E.near=A.near=Q.near,N.far=E.far=A.far=Q.far,(P!==N.near||D!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),P=N.near,D=N.far);const re=Q.parent,ue=N.cameras;F(N,re);for(let oe=0;oe<ue.length;oe++)F(ue[oe],re);ue.length===2?W(N,A,E):N.projectionMatrix.copy(A.projectionMatrix),V(Q,N,re)};function V(Q,re,ue){ue===null?Q.matrix.copy(re.matrixWorld):(Q.matrix.copy(ue.matrixWorld),Q.matrix.invert(),Q.matrix.multiply(re.matrixWorld)),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.updateMatrixWorld(!0),Q.projectionMatrix.copy(re.projectionMatrix),Q.projectionMatrixInverse.copy(re.projectionMatrixInverse),Q.isPerspectiveCamera&&(Q.fov=Jg*2*Math.atan(1/Q.projectionMatrix.elements[5]),Q.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(p===null&&m===null))return c},this.setFoveation=function(Q){c=Q,p!==null&&(p.fixedFoveation=Q),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Q)};let H=null;function te(Q,re){if(d=re.getViewerPose(u||a),g=re,d!==null){const ue=d.views;m!==null&&(t.setRenderTargetFramebuffer(y,m.framebuffer),t.setRenderTarget(y));let oe=!1;ue.length!==N.cameras.length&&(N.cameras.length=0,oe=!0);for(let be=0;be<ue.length;be++){const ke=ue[be];let He=null;if(m!==null)He=m.getViewport(ke);else{const rt=f.getViewSubImage(p,ke);He=rt.viewport,be===0&&(t.setRenderTargetTextures(y,rt.colorTexture,p.ignoreDepthValues?void 0:rt.depthStencilTexture),t.setRenderTarget(y))}let Je=I[be];Je===void 0&&(Je=new Ga,Je.layers.enable(be),Je.viewport=new Ai,I[be]=Je),Je.matrix.fromArray(ke.transform.matrix),Je.matrix.decompose(Je.position,Je.quaternion,Je.scale),Je.projectionMatrix.fromArray(ke.projectionMatrix),Je.projectionMatrixInverse.copy(Je.projectionMatrix).invert(),Je.viewport.set(He.x,He.y,He.width,He.height),be===0&&(N.matrix.copy(Je.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),oe===!0&&N.cameras.push(Je)}}for(let ue=0;ue<S.length;ue++){const oe=w[ue],be=S[ue];oe!==null&&be!==void 0&&be.update(oe,re,u||a)}H&&H(Q,re),re.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:re}),g=null}const Z=new cX;Z.setAnimationLoop(te),this.setAnimationLoop=function(Q){H=Q},this.dispose=function(){}}}function DDe(e,t){function n(_,y){_.matrixAutoUpdate===!0&&_.updateMatrix(),y.value.copy(_.matrix)}function r(_,y){y.color.getRGB(_.fogColor.value,oX(e)),y.isFog?(_.fogNear.value=y.near,_.fogFar.value=y.far):y.isFogExp2&&(_.fogDensity.value=y.density)}function i(_,y,S,w,C){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(_,y):y.isMeshToonMaterial?(o(_,y),f(_,y)):y.isMeshPhongMaterial?(o(_,y),d(_,y)):y.isMeshStandardMaterial?(o(_,y),p(_,y),y.isMeshPhysicalMaterial&&m(_,y,C)):y.isMeshMatcapMaterial?(o(_,y),g(_,y)):y.isMeshDepthMaterial?o(_,y):y.isMeshDistanceMaterial?(o(_,y),v(_,y)):y.isMeshNormalMaterial?o(_,y):y.isLineBasicMaterial?(a(_,y),y.isLineDashedMaterial&&s(_,y)):y.isPointsMaterial?c(_,y,S,w):y.isSpriteMaterial?u(_,y):y.isShadowMaterial?(_.color.value.copy(y.color),_.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(_,y){_.opacity.value=y.opacity,y.color&&_.diffuse.value.copy(y.color),y.emissive&&_.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(_.map.value=y.map,n(y.map,_.mapTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,n(y.alphaMap,_.alphaMapTransform)),y.bumpMap&&(_.bumpMap.value=y.bumpMap,n(y.bumpMap,_.bumpMapTransform),_.bumpScale.value=y.bumpScale,y.side===Wi&&(_.bumpScale.value*=-1)),y.normalMap&&(_.normalMap.value=y.normalMap,n(y.normalMap,_.normalMapTransform),_.normalScale.value.copy(y.normalScale),y.side===Wi&&_.normalScale.value.negate()),y.displacementMap&&(_.displacementMap.value=y.displacementMap,n(y.displacementMap,_.displacementMapTransform),_.displacementScale.value=y.displacementScale,_.displacementBias.value=y.displacementBias),y.emissiveMap&&(_.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,_.emissiveMapTransform)),y.specularMap&&(_.specularMap.value=y.specularMap,n(y.specularMap,_.specularMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest);const S=t.get(y).envMap;if(S&&(_.envMap.value=S,_.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=y.reflectivity,_.ior.value=y.ior,_.refractionRatio.value=y.refractionRatio),y.lightMap){_.lightMap.value=y.lightMap;const w=e._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=y.lightMapIntensity*w,n(y.lightMap,_.lightMapTransform)}y.aoMap&&(_.aoMap.value=y.aoMap,_.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,_.aoMapTransform))}function a(_,y){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,y.map&&(_.map.value=y.map,n(y.map,_.mapTransform))}function s(_,y){_.dashSize.value=y.dashSize,_.totalSize.value=y.dashSize+y.gapSize,_.scale.value=y.scale}function c(_,y,S,w){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,_.size.value=y.size*S,_.scale.value=w*.5,y.map&&(_.map.value=y.map,n(y.map,_.uvTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,n(y.alphaMap,_.alphaMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest)}function u(_,y){_.diffuse.value.copy(y.color),_.opacity.value=y.opacity,_.rotation.value=y.rotation,y.map&&(_.map.value=y.map,n(y.map,_.mapTransform)),y.alphaMap&&(_.alphaMap.value=y.alphaMap,n(y.alphaMap,_.alphaMapTransform)),y.alphaTest>0&&(_.alphaTest.value=y.alphaTest)}function d(_,y){_.specular.value.copy(y.specular),_.shininess.value=Math.max(y.shininess,1e-4)}function f(_,y){y.gradientMap&&(_.gradientMap.value=y.gradientMap)}function p(_,y){_.metalness.value=y.metalness,y.metalnessMap&&(_.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,_.metalnessMapTransform)),_.roughness.value=y.roughness,y.roughnessMap&&(_.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,_.roughnessMapTransform)),t.get(y).envMap&&(_.envMapIntensity.value=y.envMapIntensity)}function m(_,y,S){_.ior.value=y.ior,y.sheen>0&&(_.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),_.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(_.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,_.sheenColorMapTransform)),y.sheenRoughnessMap&&(_.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,_.sheenRoughnessMapTransform))),y.clearcoat>0&&(_.clearcoat.value=y.clearcoat,_.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(_.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,_.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(_.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Wi&&_.clearcoatNormalScale.value.negate())),y.iridescence>0&&(_.iridescence.value=y.iridescence,_.iridescenceIOR.value=y.iridescenceIOR,_.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(_.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,_.iridescenceMapTransform)),y.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),y.transmission>0&&(_.transmission.value=y.transmission,_.transmissionSamplerMap.value=S.texture,_.transmissionSamplerSize.value.set(S.width,S.height),y.transmissionMap&&(_.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,_.transmissionMapTransform)),_.thickness.value=y.thickness,y.thicknessMap&&(_.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=y.attenuationDistance,_.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(_.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(_.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=y.specularIntensity,_.specularColor.value.copy(y.specularColor),y.specularColorMap&&(_.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,_.specularColorMapTransform)),y.specularIntensityMap&&(_.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,y){y.matcap&&(_.matcap.value=y.matcap)}function v(_,y){const S=t.get(y).light;_.referencePosition.value.setFromMatrixPosition(S.matrixWorld),_.nearDistance.value=S.shadow.camera.near,_.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function ODe(e,t,n,r){let i={},o={},a=[];const s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(S,w){const C=w.program;r.uniformBlockBinding(S,C)}function u(S,w){let C=i[S.id];C===void 0&&(g(S),C=d(S),i[S.id]=C,S.addEventListener("dispose",_));const M=w.program;r.updateUBOMapping(S,M);const A=t.render.frame;o[S.id]!==A&&(p(S),o[S.id]=A)}function d(S){const w=f();S.__bindingPointIndex=w;const C=e.createBuffer(),M=S.__size,A=S.usage;return e.bindBuffer(e.UNIFORM_BUFFER,C),e.bufferData(e.UNIFORM_BUFFER,M,A),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,w,C),C}function f(){for(let S=0;S<s;S++)if(a.indexOf(S)===-1)return a.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const w=i[S.id],C=S.uniforms,M=S.__cache;e.bindBuffer(e.UNIFORM_BUFFER,w);for(let A=0,E=C.length;A<E;A++){const I=Array.isArray(C[A])?C[A]:[C[A]];for(let N=0,P=I.length;N<P;N++){const D=I[N];if(m(D,A,N,M)===!0){const q=D.__offset,$=Array.isArray(D.value)?D.value:[D.value];let j=0;for(let O=0;O<$.length;O++){const z=$[O],W=v(z);typeof z=="number"||typeof z=="boolean"?(D.__data[0]=z,e.bufferSubData(e.UNIFORM_BUFFER,q+j,D.__data)):z.isMatrix3?(D.__data[0]=z.elements[0],D.__data[1]=z.elements[1],D.__data[2]=z.elements[2],D.__data[3]=0,D.__data[4]=z.elements[3],D.__data[5]=z.elements[4],D.__data[6]=z.elements[5],D.__data[7]=0,D.__data[8]=z.elements[6],D.__data[9]=z.elements[7],D.__data[10]=z.elements[8],D.__data[11]=0):(z.toArray(D.__data,j),j+=W.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,q,D.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function m(S,w,C,M){const A=S.value,E=w+"_"+C;if(M[E]===void 0)return typeof A=="number"||typeof A=="boolean"?M[E]=A:M[E]=A.clone(),!0;{const I=M[E];if(typeof A=="number"||typeof A=="boolean"){if(I!==A)return M[E]=A,!0}else if(I.equals(A)===!1)return I.copy(A),!0}return!1}function g(S){const w=S.uniforms;let C=0;const M=16;for(let E=0,I=w.length;E<I;E++){const N=Array.isArray(w[E])?w[E]:[w[E]];for(let P=0,D=N.length;P<D;P++){const q=N[P],$=Array.isArray(q.value)?q.value:[q.value];for(let j=0,O=$.length;j<O;j++){const z=$[j],W=v(z),F=C%M;F!==0&&M-F<W.boundary&&(C+=M-F),q.__data=new Float32Array(W.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=C,C+=W.storage}}}const A=C%M;return A>0&&(C+=M-A),S.__size=C,S.__cache={},this}function v(S){const w={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function _(S){const w=S.target;w.removeEventListener("dispose",_);const C=a.indexOf(w.__bindingPointIndex);a.splice(C,1),e.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function y(){for(const S in i)e.deleteBuffer(i[S]);a=[],i={},o={}}return{bind:c,update:u,dispose:y}}class mX{constructor(t={}){const{canvas:n=j3e(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1}=t;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=a;const m=new Uint32Array(4),g=new Int32Array(4);let v=null,_=null;const y=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Fn,this._useLegacyLights=!1,this.toneMapping=fc,this.toneMappingExposure=1;const w=this;let C=!1,M=0,A=0,E=null,I=-1,N=null;const P=new Ai,D=new Ai;let q=null;const $=new nr(0);let j=0,O=n.width,z=n.height,W=1,F=null,V=null;const H=new Ai(0,0,O,z),te=new Ai(0,0,O,z);let Z=!1;const Q=new lX;let re=!1,ue=!1,oe=null;const be=new to,ke=new tn,He=new Ie,Je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function rt(){return E===null?W:1}let le=r;function at(ne,_e){for(let Ae=0;Ae<ne.length;Ae++){const se=ne[Ae],ge=n.getContext(se,_e);if(ge!==null)return ge}return null}try{const ne={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Dv}`),n.addEventListener("webglcontextlost",dt,!1),n.addEventListener("webglcontextrestored",G,!1),n.addEventListener("webglcontextcreationerror",Pe,!1),le===null){const _e=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&_e.shift(),le=at(_e,ne),le===null)throw at(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&le instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),le.getShaderPrecisionFormat===void 0&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let Ge,We,$e,et,Xe,X,Y,me,Ne,Re,Ee,Ye,Ze,st,wt,_t,je,jt,ve,tt,ze,nt,Ve,Et;function Zt(){Ge=new Zze(le),We=new Hze(le,Ge,t),Ge.init(We),nt=new jDe(le,Ge,We),$e=new BDe(le,Ge,We),et=new Jze(le),Xe=new yDe,X=new RDe(le,Ge,$e,Xe,We,nt,et),Y=new Wze(w),me=new Xze(w),Ne=new aIe(le,We),Ve=new Uze(le,Ge,Ne,We),Re=new Kze(le,Ne,et,Ve),Ee=new nLe(le,Re,Ne,et),ve=new tLe(le,We,X),_t=new Vze(Xe),Ye=new vDe(w,Y,me,Ge,We,Ve,_t),Ze=new DDe(w,Xe),st=new xDe,wt=new kDe(Ge,We),jt=new Fze(w,Y,me,$e,Ee,p,c),je=new PDe(w,Ee,We),Et=new ODe(le,et,We,$e),tt=new qze(le,Ge,et,We),ze=new Yze(le,Ge,et,We),et.programs=Ye.programs,w.capabilities=We,w.extensions=Ge,w.properties=Xe,w.renderLists=st,w.shadowMap=je,w.state=$e,w.info=et}Zt();const Dt=new LDe(w,le);this.xr=Dt,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const ne=Ge.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=Ge.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(ne){ne!==void 0&&(W=ne,this.setSize(O,z,!1))},this.getSize=function(ne){return ne.set(O,z)},this.setSize=function(ne,_e,Ae=!0){if(Dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=ne,z=_e,n.width=Math.floor(ne*W),n.height=Math.floor(_e*W),Ae===!0&&(n.style.width=ne+"px",n.style.height=_e+"px"),this.setViewport(0,0,ne,_e)},this.getDrawingBufferSize=function(ne){return ne.set(O*W,z*W).floor()},this.setDrawingBufferSize=function(ne,_e,Ae){O=ne,z=_e,W=Ae,n.width=Math.floor(ne*Ae),n.height=Math.floor(_e*Ae),this.setViewport(0,0,ne,_e)},this.getCurrentViewport=function(ne){return ne.copy(P)},this.getViewport=function(ne){return ne.copy(H)},this.setViewport=function(ne,_e,Ae,se){ne.isVector4?H.set(ne.x,ne.y,ne.z,ne.w):H.set(ne,_e,Ae,se),$e.viewport(P.copy(H).multiplyScalar(W).floor())},this.getScissor=function(ne){return ne.copy(te)},this.setScissor=function(ne,_e,Ae,se){ne.isVector4?te.set(ne.x,ne.y,ne.z,ne.w):te.set(ne,_e,Ae,se),$e.scissor(D.copy(te).multiplyScalar(W).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(ne){$e.setScissorTest(Z=ne)},this.setOpaqueSort=function(ne){F=ne},this.setTransparentSort=function(ne){V=ne},this.getClearColor=function(ne){return ne.copy(jt.getClearColor())},this.setClearColor=function(){jt.setClearColor.apply(jt,arguments)},this.getClearAlpha=function(){return jt.getClearAlpha()},this.setClearAlpha=function(){jt.setClearAlpha.apply(jt,arguments)},this.clear=function(ne=!0,_e=!0,Ae=!0){let se=0;if(ne){let ge=!1;if(E!==null){const ae=E.texture.format;ge=ae===G$||ae===W$||ae===V$}if(ge){const ae=E.texture.type,Le=ae===Ro||ae===rc||ae===vB||ae===Au||ae===q$||ae===H$,De=jt.getClearColor(),ht=jt.getClearAlpha(),Gt=De.r,yt=De.g,St=De.b;Le?(m[0]=Gt,m[1]=yt,m[2]=St,m[3]=ht,le.clearBufferuiv(le.COLOR,0,m)):(g[0]=Gt,g[1]=yt,g[2]=St,g[3]=ht,le.clearBufferiv(le.COLOR,0,g))}else se|=le.COLOR_BUFFER_BIT}_e&&(se|=le.DEPTH_BUFFER_BIT),Ae&&(se|=le.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),le.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",dt,!1),n.removeEventListener("webglcontextrestored",G,!1),n.removeEventListener("webglcontextcreationerror",Pe,!1),st.dispose(),wt.dispose(),Xe.dispose(),Y.dispose(),me.dispose(),Ee.dispose(),Ve.dispose(),Et.dispose(),Ye.dispose(),Dt.dispose(),Dt.removeEventListener("sessionstart",Ln),Dt.removeEventListener("sessionend",pn),oe&&(oe.dispose(),oe=null),Hn.stop()};function dt(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function G(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const ne=et.autoReset,_e=je.enabled,Ae=je.autoUpdate,se=je.needsUpdate,ge=je.type;Zt(),et.autoReset=ne,je.enabled=_e,je.autoUpdate=Ae,je.needsUpdate=se,je.type=ge}function Pe(ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function qe(ne){const _e=ne.target;_e.removeEventListener("dispose",qe),Bt(_e)}function Bt(ne){Tt(ne),Xe.remove(ne)}function Tt(ne){const _e=Xe.get(ne).programs;_e!==void 0&&(_e.forEach(function(Ae){Ye.releaseProgram(Ae)}),ne.isShaderMaterial&&Ye.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,_e,Ae,se,ge,ae){_e===null&&(_e=Je);const Le=ge.isMesh&&ge.matrixWorld.determinant()<0,De=Er(ne,_e,Ae,se,ge);$e.setMaterial(se,Le);let ht=Ae.index,Gt=1;if(se.wireframe===!0){if(ht=Re.getWireframeAttribute(Ae),ht===void 0)return;Gt=2}const yt=Ae.drawRange,St=Ae.attributes.position;let rn=yt.start*Gt,$t=(yt.start+yt.count)*Gt;ae!==null&&(rn=Math.max(rn,ae.start*Gt),$t=Math.min($t,(ae.start+ae.count)*Gt)),ht!==null?(rn=Math.max(rn,0),$t=Math.min($t,ht.count)):St!=null&&(rn=Math.max(rn,0),$t=Math.min($t,St.count));const nn=$t-rn;if(nn<0||nn===1/0)return;Ve.setup(ge,se,De,Ae,ht);let tr,en=tt;if(ht!==null&&(tr=Ne.get(ht),en=ze,en.setIndex(tr)),ge.isMesh)se.wireframe===!0?($e.setLineWidth(se.wireframeLinewidth*rt()),en.setMode(le.LINES)):en.setMode(le.TRIANGLES);else if(ge.isLine){let Ot=se.linewidth;Ot===void 0&&(Ot=1),$e.setLineWidth(Ot*rt()),ge.isLineSegments?en.setMode(le.LINES):ge.isLineLoop?en.setMode(le.LINE_LOOP):en.setMode(le.LINE_STRIP)}else ge.isPoints?en.setMode(le.POINTS):ge.isSprite&&en.setMode(le.TRIANGLES);if(ge.isBatchedMesh)en.renderMultiDraw(ge._multiDrawStarts,ge._multiDrawCounts,ge._multiDrawCount);else if(ge.isInstancedMesh)en.renderInstances(rn,nn,ge.count);else if(Ae.isInstancedBufferGeometry){const Ot=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,sn=Math.min(Ae.instanceCount,Ot);en.renderInstances(rn,nn,sn)}else en.render(rn,nn)};function bt(ne,_e,Ae){ne.transparent===!0&&ne.side===ba&&ne.forceSinglePass===!1?(ne.side=Wi,ne.needsUpdate=!0,An(ne,_e,Ae),ne.side=wc,ne.needsUpdate=!0,An(ne,_e,Ae),ne.side=ba):An(ne,_e,Ae)}this.compile=function(ne,_e,Ae=null){Ae===null&&(Ae=ne),_=wt.get(Ae),_.init(),S.push(_),Ae.traverseVisible(function(ge){ge.isLight&&ge.layers.test(_e.layers)&&(_.pushLight(ge),ge.castShadow&&_.pushShadow(ge))}),ne!==Ae&&ne.traverseVisible(function(ge){ge.isLight&&ge.layers.test(_e.layers)&&(_.pushLight(ge),ge.castShadow&&_.pushShadow(ge))}),_.setupLights(w._useLegacyLights);const se=new Set;return ne.traverse(function(ge){const ae=ge.material;if(ae)if(Array.isArray(ae))for(let Le=0;Le<ae.length;Le++){const De=ae[Le];bt(De,Ae,ge),se.add(De)}else bt(ae,Ae,ge),se.add(ae)}),S.pop(),_=null,se},this.compileAsync=function(ne,_e,Ae=null){const se=this.compile(ne,_e,Ae);return new Promise(ge=>{function ae(){if(se.forEach(function(Le){Xe.get(Le).currentProgram.isReady()&&se.delete(Le)}),se.size===0){ge(ne);return}setTimeout(ae,10)}Ge.get("KHR_parallel_shader_compile")!==null?ae():setTimeout(ae,10)})};let Vt=null;function qn(ne){Vt&&Vt(ne)}function Ln(){Hn.stop()}function pn(){Hn.start()}const Hn=new cX;Hn.setAnimationLoop(qn),typeof self<"u"&&Hn.setContext(self),this.setAnimationLoop=function(ne){Vt=ne,Dt.setAnimationLoop(ne),ne===null?Hn.stop():Hn.start()},Dt.addEventListener("sessionstart",Ln),Dt.addEventListener("sessionend",pn),this.render=function(ne,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Dt.enabled===!0&&Dt.isPresenting===!0&&(Dt.cameraAutoUpdate===!0&&Dt.updateCamera(_e),_e=Dt.getCamera()),ne.isScene===!0&&ne.onBeforeRender(w,ne,_e,E),_=wt.get(ne,S.length),_.init(),S.push(_),be.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),Q.setFromProjectionMatrix(be),ue=this.localClippingEnabled,re=_t.init(this.clippingPlanes,ue),v=st.get(ne,y.length),v.init(),y.push(v),fr(ne,_e,0,w.sortObjects),v.finish(),w.sortObjects===!0&&v.sort(F,V),this.info.render.frame++,re===!0&&_t.beginShadows();const Ae=_.state.shadowsArray;if(je.render(Ae,ne,_e),re===!0&&_t.endShadows(),this.info.autoReset===!0&&this.info.reset(),jt.render(v,ne),_.setupLights(w._useLegacyLights),_e.isArrayCamera){const se=_e.cameras;for(let ge=0,ae=se.length;ge<ae;ge++){const Le=se[ge];di(v,ne,Le,Le.viewport)}}else di(v,ne,_e);E!==null&&(X.updateMultisampleRenderTarget(E),X.updateRenderTargetMipmap(E)),ne.isScene===!0&&ne.onAfterRender(w,ne,_e),Ve.resetDefaultState(),I=-1,N=null,S.pop(),S.length>0?_=S[S.length-1]:_=null,y.pop(),y.length>0?v=y[y.length-1]:v=null};function fr(ne,_e,Ae,se){if(ne.visible===!1)return;if(ne.layers.test(_e.layers)){if(ne.isGroup)Ae=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(_e);else if(ne.isLight)_.pushLight(ne),ne.castShadow&&_.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||Q.intersectsSprite(ne)){se&&He.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(be);const Le=Ee.update(ne),De=ne.material;De.visible&&v.push(ne,Le,De,Ae,He.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||Q.intersectsObject(ne))){const Le=Ee.update(ne),De=ne.material;if(se&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),He.copy(ne.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),He.copy(Le.boundingSphere.center)),He.applyMatrix4(ne.matrixWorld).applyMatrix4(be)),Array.isArray(De)){const ht=Le.groups;for(let Gt=0,yt=ht.length;Gt<yt;Gt++){const St=ht[Gt],rn=De[St.materialIndex];rn&&rn.visible&&v.push(ne,Le,rn,Ae,He.z,St)}}else De.visible&&v.push(ne,Le,De,Ae,He.z,null)}}const ae=ne.children;for(let Le=0,De=ae.length;Le<De;Le++)fr(ae[Le],_e,Ae,se)}function di(ne,_e,Ae,se){const ge=ne.opaque,ae=ne.transmissive,Le=ne.transparent;_.setupLightsView(Ae),re===!0&&_t.setGlobalState(w.clippingPlanes,Ae),ae.length>0&&kr(ge,ae,_e,Ae),se&&$e.viewport(P.copy(se)),ge.length>0&&xt(ge,_e,Ae),ae.length>0&&xt(ae,_e,Ae),Le.length>0&&xt(Le,_e,Ae),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1)}function kr(ne,_e,Ae,se){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;const ae=We.isWebGL2;oe===null&&(oe=new Io(1,1,{generateMipmaps:!0,type:Ge.has("EXT_color_buffer_half_float")?Yg:Ro,minFilter:Kg,samples:ae?4:0})),w.getDrawingBufferSize(ke),ae?oe.setSize(ke.x,ke.y):oe.setSize(fx(ke.x),fx(ke.y));const Le=w.getRenderTarget();w.setRenderTarget(oe),w.getClearColor($),j=w.getClearAlpha(),j<1&&w.setClearColor(16777215,.5),w.clear();const De=w.toneMapping;w.toneMapping=fc,xt(ne,Ae,se),X.updateMultisampleRenderTarget(oe),X.updateRenderTargetMipmap(oe);let ht=!1;for(let Gt=0,yt=_e.length;Gt<yt;Gt++){const St=_e[Gt],rn=St.object,$t=St.geometry,nn=St.material,tr=St.group;if(nn.side===ba&&rn.layers.test(se.layers)){const en=nn.side;nn.side=Wi,nn.needsUpdate=!0,Ur(rn,Ae,se,$t,nn,tr),nn.side=en,nn.needsUpdate=!0,ht=!0}}ht===!0&&(X.updateMultisampleRenderTarget(oe),X.updateRenderTargetMipmap(oe)),w.setRenderTarget(Le),w.setClearColor($,j),w.toneMapping=De}function xt(ne,_e,Ae){const se=_e.isScene===!0?_e.overrideMaterial:null;for(let ge=0,ae=ne.length;ge<ae;ge++){const Le=ne[ge],De=Le.object,ht=Le.geometry,Gt=se===null?Le.material:se,yt=Le.group;De.layers.test(Ae.layers)&&Ur(De,_e,Ae,ht,Gt,yt)}}function Ur(ne,_e,Ae,se,ge,ae){ne.onBeforeRender(w,_e,Ae,se,ge,ae),ne.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),ge.onBeforeRender(w,_e,Ae,se,ne,ae),ge.transparent===!0&&ge.side===ba&&ge.forceSinglePass===!1?(ge.side=Wi,ge.needsUpdate=!0,w.renderBufferDirect(Ae,_e,se,ge,ne,ae),ge.side=wc,ge.needsUpdate=!0,w.renderBufferDirect(Ae,_e,se,ge,ne,ae),ge.side=ba):w.renderBufferDirect(Ae,_e,se,ge,ne,ae),ne.onAfterRender(w,_e,Ae,se,ge,ae)}function An(ne,_e,Ae){_e.isScene!==!0&&(_e=Je);const se=Xe.get(ne),ge=_.state.lights,ae=_.state.shadowsArray,Le=ge.state.version,De=Ye.getParameters(ne,ge.state,ae,_e,Ae),ht=Ye.getProgramCacheKey(De);let Gt=se.programs;se.environment=ne.isMeshStandardMaterial?_e.environment:null,se.fog=_e.fog,se.envMap=(ne.isMeshStandardMaterial?me:Y).get(ne.envMap||se.environment),Gt===void 0&&(ne.addEventListener("dispose",qe),Gt=new Map,se.programs=Gt);let yt=Gt.get(ht);if(yt!==void 0){if(se.currentProgram===yt&&se.lightsStateVersion===Le)return Yr(ne,De),yt}else De.uniforms=Ye.getUniforms(ne),ne.onBuild(Ae,De,w),ne.onBeforeCompile(De,w),yt=Ye.acquireProgram(De,ht),Gt.set(ht,yt),se.uniforms=De.uniforms;const St=se.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(St.clippingPlanes=_t.uniform),Yr(ne,De),se.needsLights=qr(ne),se.lightsStateVersion=Le,se.needsLights&&(St.ambientLightColor.value=ge.state.ambient,St.lightProbe.value=ge.state.probe,St.directionalLights.value=ge.state.directional,St.directionalLightShadows.value=ge.state.directionalShadow,St.spotLights.value=ge.state.spot,St.spotLightShadows.value=ge.state.spotShadow,St.rectAreaLights.value=ge.state.rectArea,St.ltc_1.value=ge.state.rectAreaLTC1,St.ltc_2.value=ge.state.rectAreaLTC2,St.pointLights.value=ge.state.point,St.pointLightShadows.value=ge.state.pointShadow,St.hemisphereLights.value=ge.state.hemi,St.directionalShadowMap.value=ge.state.directionalShadowMap,St.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,St.spotShadowMap.value=ge.state.spotShadowMap,St.spotLightMatrix.value=ge.state.spotLightMatrix,St.spotLightMap.value=ge.state.spotLightMap,St.pointShadowMap.value=ge.state.pointShadowMap,St.pointShadowMatrix.value=ge.state.pointShadowMatrix),se.currentProgram=yt,se.uniformsList=null,yt}function Vn(ne){if(ne.uniformsList===null){const _e=ne.currentProgram.getUniforms();ne.uniformsList=Yy.seqWithValue(_e.seq,ne.uniforms)}return ne.uniformsList}function Yr(ne,_e){const Ae=Xe.get(ne);Ae.outputColorSpace=_e.outputColorSpace,Ae.batching=_e.batching,Ae.instancing=_e.instancing,Ae.instancingColor=_e.instancingColor,Ae.skinning=_e.skinning,Ae.morphTargets=_e.morphTargets,Ae.morphNormals=_e.morphNormals,Ae.morphColors=_e.morphColors,Ae.morphTargetsCount=_e.morphTargetsCount,Ae.numClippingPlanes=_e.numClippingPlanes,Ae.numIntersection=_e.numClipIntersection,Ae.vertexAlphas=_e.vertexAlphas,Ae.vertexTangents=_e.vertexTangents,Ae.toneMapping=_e.toneMapping}function Er(ne,_e,Ae,se,ge){_e.isScene!==!0&&(_e=Je),X.resetTextureUnits();const ae=_e.fog,Le=se.isMeshStandardMaterial?_e.environment:null,De=E===null?w.outputColorSpace:E.isXRRenderTarget===!0?E.texture.colorSpace:Ds,ht=(se.isMeshStandardMaterial?me:Y).get(se.envMap||Le),Gt=se.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,yt=!!Ae.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),St=!!Ae.morphAttributes.position,rn=!!Ae.morphAttributes.normal,$t=!!Ae.morphAttributes.color;let nn=fc;se.toneMapped&&(E===null||E.isXRRenderTarget===!0)&&(nn=w.toneMapping);const tr=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,en=tr!==void 0?tr.length:0,Ot=Xe.get(se),sn=_.state.lights;if(re===!0&&(ue===!0||ne!==N)){const hr=ne===N&&se.id===I;_t.setState(se,ne,hr)}let Ut=!1;se.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==sn.state.version||Ot.outputColorSpace!==De||ge.isBatchedMesh&&Ot.batching===!1||!ge.isBatchedMesh&&Ot.batching===!0||ge.isInstancedMesh&&Ot.instancing===!1||!ge.isInstancedMesh&&Ot.instancing===!0||ge.isSkinnedMesh&&Ot.skinning===!1||!ge.isSkinnedMesh&&Ot.skinning===!0||ge.isInstancedMesh&&Ot.instancingColor===!0&&ge.instanceColor===null||ge.isInstancedMesh&&Ot.instancingColor===!1&&ge.instanceColor!==null||Ot.envMap!==ht||se.fog===!0&&Ot.fog!==ae||Ot.numClippingPlanes!==void 0&&(Ot.numClippingPlanes!==_t.numPlanes||Ot.numIntersection!==_t.numIntersection)||Ot.vertexAlphas!==Gt||Ot.vertexTangents!==yt||Ot.morphTargets!==St||Ot.morphNormals!==rn||Ot.morphColors!==$t||Ot.toneMapping!==nn||We.isWebGL2===!0&&Ot.morphTargetsCount!==en)&&(Ut=!0):(Ut=!0,Ot.__version=se.version);let fi=Ot.currentProgram;Ut===!0&&(fi=An(se,_e,ge));let Mr=!1,lr=!1,ji=!1;const At=fi.getUniforms(),fn=Ot.uniforms;if($e.useProgram(fi.program)&&(Mr=!0,lr=!0,ji=!0),se.id!==I&&(I=se.id,lr=!0),Mr||N!==ne){At.setValue(le,"projectionMatrix",ne.projectionMatrix),At.setValue(le,"viewMatrix",ne.matrixWorldInverse);const hr=At.map.cameraPosition;hr!==void 0&&hr.setValue(le,He.setFromMatrixPosition(ne.matrixWorld)),We.logarithmicDepthBuffer&&At.setValue(le,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&At.setValue(le,"isOrthographic",ne.isOrthographicCamera===!0),N!==ne&&(N=ne,lr=!0,ji=!0)}if(ge.isSkinnedMesh){At.setOptional(le,ge,"bindMatrix"),At.setOptional(le,ge,"bindMatrixInverse");const hr=ge.skeleton;hr&&(We.floatVertexTextures?(hr.boneTexture===null&&hr.computeBoneTexture(),At.setValue(le,"boneTexture",hr.boneTexture,X)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}ge.isBatchedMesh&&(At.setOptional(le,ge,"batchingTexture"),At.setValue(le,"batchingTexture",ge._matricesTexture,X));const Ii=Ae.morphAttributes;if((Ii.position!==void 0||Ii.normal!==void 0||Ii.color!==void 0&&We.isWebGL2===!0)&&ve.update(ge,Ae,fi),(lr||Ot.receiveShadow!==ge.receiveShadow)&&(Ot.receiveShadow=ge.receiveShadow,At.setValue(le,"receiveShadow",ge.receiveShadow)),se.isMeshGouraudMaterial&&se.envMap!==null&&(fn.envMap.value=ht,fn.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),lr&&(At.setValue(le,"toneMappingExposure",w.toneMappingExposure),Ot.needsLights&&Pn(fn,ji),ae&&se.fog===!0&&Ze.refreshFogUniforms(fn,ae),Ze.refreshMaterialUniforms(fn,se,W,z,oe),Yy.upload(le,Vn(Ot),fn,X)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(Yy.upload(le,Vn(Ot),fn,X),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&At.setValue(le,"center",ge.center),At.setValue(le,"modelViewMatrix",ge.modelViewMatrix),At.setValue(le,"normalMatrix",ge.normalMatrix),At.setValue(le,"modelMatrix",ge.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const hr=se.uniformsGroups;for(let xr=0,Oo=hr.length;xr<Oo;xr++)if(We.isWebGL2){const $i=hr[xr];Et.update($i,fi),Et.bind($i,fi)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return fi}function Pn(ne,_e){ne.ambientLightColor.needsUpdate=_e,ne.lightProbe.needsUpdate=_e,ne.directionalLights.needsUpdate=_e,ne.directionalLightShadows.needsUpdate=_e,ne.pointLights.needsUpdate=_e,ne.pointLightShadows.needsUpdate=_e,ne.spotLights.needsUpdate=_e,ne.spotLightShadows.needsUpdate=_e,ne.rectAreaLights.needsUpdate=_e,ne.hemisphereLights.needsUpdate=_e}function qr(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(ne,_e,Ae){Xe.get(ne.texture).__webglTexture=_e,Xe.get(ne.depthTexture).__webglTexture=Ae;const se=Xe.get(ne);se.__hasExternalTextures=!0,se.__hasExternalTextures&&(se.__autoAllocateDepthBuffer=Ae===void 0,se.__autoAllocateDepthBuffer||Ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),se.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ne,_e){const Ae=Xe.get(ne);Ae.__webglFramebuffer=_e,Ae.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(ne,_e=0,Ae=0){E=ne,M=_e,A=Ae;let se=!0,ge=null,ae=!1,Le=!1;if(ne){const ht=Xe.get(ne);ht.__useDefaultFramebuffer!==void 0?($e.bindFramebuffer(le.FRAMEBUFFER,null),se=!1):ht.__webglFramebuffer===void 0?X.setupRenderTarget(ne):ht.__hasExternalTextures&&X.rebindTextures(ne,Xe.get(ne.texture).__webglTexture,Xe.get(ne.depthTexture).__webglTexture);const Gt=ne.texture;(Gt.isData3DTexture||Gt.isDataArrayTexture||Gt.isCompressedArrayTexture)&&(Le=!0);const yt=Xe.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(yt[_e])?ge=yt[_e][Ae]:ge=yt[_e],ae=!0):We.isWebGL2&&ne.samples>0&&X.useMultisampledRTT(ne)===!1?ge=Xe.get(ne).__webglMultisampledFramebuffer:Array.isArray(yt)?ge=yt[Ae]:ge=yt,P.copy(ne.viewport),D.copy(ne.scissor),q=ne.scissorTest}else P.copy(H).multiplyScalar(W).floor(),D.copy(te).multiplyScalar(W).floor(),q=Z;if($e.bindFramebuffer(le.FRAMEBUFFER,ge)&&We.drawBuffers&&se&&$e.drawBuffers(ne,ge),$e.viewport(P),$e.scissor(D),$e.setScissorTest(q),ae){const ht=Xe.get(ne.texture);le.framebufferTexture2D(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,le.TEXTURE_CUBE_MAP_POSITIVE_X+_e,ht.__webglTexture,Ae)}else if(Le){const ht=Xe.get(ne.texture),Gt=_e||0;le.framebufferTextureLayer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0,ht.__webglTexture,Ae||0,Gt)}I=-1},this.readRenderTargetPixels=function(ne,_e,Ae,se,ge,ae,Le){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let De=Xe.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Le!==void 0&&(De=De[Le]),De){$e.bindFramebuffer(le.FRAMEBUFFER,De);try{const ht=ne.texture,Gt=ht.format,yt=ht.type;if(Gt!==As&&nt.convert(Gt)!==le.getParameter(le.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const St=yt===Yg&&(Ge.has("EXT_color_buffer_half_float")||We.isWebGL2&&Ge.has("EXT_color_buffer_float"));if(yt!==Ro&&nt.convert(yt)!==le.getParameter(le.IMPLEMENTATION_COLOR_READ_TYPE)&&!(yt===gu&&(We.isWebGL2||Ge.has("OES_texture_float")||Ge.has("WEBGL_color_buffer_float")))&&!St){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=ne.width-se&&Ae>=0&&Ae<=ne.height-ge&&le.readPixels(_e,Ae,se,ge,nt.convert(Gt),nt.convert(yt),ae)}finally{const ht=E!==null?Xe.get(E).__webglFramebuffer:null;$e.bindFramebuffer(le.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(ne,_e,Ae=0){const se=Math.pow(2,-Ae),ge=Math.floor(_e.image.width*se),ae=Math.floor(_e.image.height*se);X.setTexture2D(_e,0),le.copyTexSubImage2D(le.TEXTURE_2D,Ae,0,0,ne.x,ne.y,ge,ae),$e.unbindTexture()},this.copyTextureToTexture=function(ne,_e,Ae,se=0){const ge=_e.image.width,ae=_e.image.height,Le=nt.convert(Ae.format),De=nt.convert(Ae.type);X.setTexture2D(Ae,0),le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,Ae.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,Ae.unpackAlignment),_e.isDataTexture?le.texSubImage2D(le.TEXTURE_2D,se,ne.x,ne.y,ge,ae,Le,De,_e.image.data):_e.isCompressedTexture?le.compressedTexSubImage2D(le.TEXTURE_2D,se,ne.x,ne.y,_e.mipmaps[0].width,_e.mipmaps[0].height,Le,_e.mipmaps[0].data):le.texSubImage2D(le.TEXTURE_2D,se,ne.x,ne.y,Le,De,_e.image),se===0&&Ae.generateMipmaps&&le.generateMipmap(le.TEXTURE_2D),$e.unbindTexture()},this.copyTextureToTexture3D=function(ne,_e,Ae,se,ge=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ae=ne.max.x-ne.min.x+1,Le=ne.max.y-ne.min.y+1,De=ne.max.z-ne.min.z+1,ht=nt.convert(se.format),Gt=nt.convert(se.type);let yt;if(se.isData3DTexture)X.setTexture3D(se,0),yt=le.TEXTURE_3D;else if(se.isDataArrayTexture||se.isCompressedArrayTexture)X.setTexture2DArray(se,0),yt=le.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}le.pixelStorei(le.UNPACK_FLIP_Y_WEBGL,se.flipY),le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.premultiplyAlpha),le.pixelStorei(le.UNPACK_ALIGNMENT,se.unpackAlignment);const St=le.getParameter(le.UNPACK_ROW_LENGTH),rn=le.getParameter(le.UNPACK_IMAGE_HEIGHT),$t=le.getParameter(le.UNPACK_SKIP_PIXELS),nn=le.getParameter(le.UNPACK_SKIP_ROWS),tr=le.getParameter(le.UNPACK_SKIP_IMAGES),en=Ae.isCompressedTexture?Ae.mipmaps[ge]:Ae.image;le.pixelStorei(le.UNPACK_ROW_LENGTH,en.width),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,en.height),le.pixelStorei(le.UNPACK_SKIP_PIXELS,ne.min.x),le.pixelStorei(le.UNPACK_SKIP_ROWS,ne.min.y),le.pixelStorei(le.UNPACK_SKIP_IMAGES,ne.min.z),Ae.isDataTexture||Ae.isData3DTexture?le.texSubImage3D(yt,ge,_e.x,_e.y,_e.z,ae,Le,De,ht,Gt,en.data):Ae.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),le.compressedTexSubImage3D(yt,ge,_e.x,_e.y,_e.z,ae,Le,De,ht,en.data)):le.texSubImage3D(yt,ge,_e.x,_e.y,_e.z,ae,Le,De,ht,Gt,en),le.pixelStorei(le.UNPACK_ROW_LENGTH,St),le.pixelStorei(le.UNPACK_IMAGE_HEIGHT,rn),le.pixelStorei(le.UNPACK_SKIP_PIXELS,$t),le.pixelStorei(le.UNPACK_SKIP_ROWS,nn),le.pixelStorei(le.UNPACK_SKIP_IMAGES,tr),ge===0&&se.generateMipmaps&&le.generateMipmap(yt),$e.unbindTexture()},this.initTexture=function(ne){ne.isCubeTexture?X.setTextureCube(ne,0):ne.isData3DTexture?X.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?X.setTexture2DArray(ne,0):X.setTexture2D(ne,0),$e.unbindTexture()},this.resetState=function(){M=0,A=0,E=null,$e.reset(),Ve.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ic}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const n=this.getContext();n.drawingBufferColorSpace=t===yB?"display-p3":"srgb",n.unpackColorSpace=dr.workingColorSpace===$1?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Fn?Ud:X$}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===Ud?Fn:Ds}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}class FDe extends mX{}FDe.prototype.isWebGL1Renderer=!0;class pA extends Ta{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,n){return super.copy(t,n),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const n=super.toJSON(t);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class Wn{constructor(t){this.value=t}clone(){return new Wn(this.value.clone===void 0?this.value:this.value.clone())}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Dv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Dv);/**
 * postprocessing v6.38.2 build Mon Dec 22 2025
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2025 Raoul van Rschen
 * @license Zlib
 */var cE=1/1e3,UDe=1e3,qDe=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return this._delta*cE}get fixedDelta(){return this._fixedDelta*cE}set fixedDelta(e){this._fixedDelta=e*UDe}get elapsed(){return this._elapsed*cE}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(e!==void 0?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},HDe=(()=>{const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]),n=new Ju;return n.setAttribute("position",new Qa(e,3)),n.setAttribute("uv",new Qa(t,2)),n})(),Vs=class mA{static get fullscreenGeometry(){return HDe}constructor(t="Pass",n=new pA,r=new _B){this.name=t,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(t){if(this.rtt===t){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!t}}set mainScene(t){}set mainCamera(t){}setRenderer(t){this.renderer=t}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(t){let n=this.screen;n!==null?n.material=t:(n=new fl(mA.fullscreenGeometry,t),n.frustumCulled=!1,this.scene===null&&(this.scene=new pA),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(t){this.fullscreenMaterial=t}getDepthTexture(){return null}setDepthTexture(t,n=Ov){}render(t,n,r,i,o){throw new Error("Render method not implemented!")}setSize(t,n){}initialize(t,n,r){}dispose(){for(const t of Object.keys(this)){const n=this[t];(n instanceof Io||n instanceof Ip||n instanceof jo||n instanceof mA)&&this[t].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},VDe=class extends Vs{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,r,i){const o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},WDe=`#ifdef COLOR_WRITE
#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#endif
#ifdef DEPTH_WRITE
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
#ifdef USE_WEIGHTS
uniform vec4 channelWeights;
#endif
uniform float opacity;varying vec2 vUv;void main(){
#ifdef COLOR_WRITE
vec4 texel=texture2D(inputBuffer,vUv);
#ifdef USE_WEIGHTS
texel*=channelWeights;
#endif
gl_FragColor=opacity*texel;
#ifdef COLOR_SPACE_CONVERSION
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
#else
gl_FragColor=vec4(0.0);
#endif
#ifdef DEPTH_WRITE
gl_FragDepth=readDepth(vUv);
#endif
}`,gX="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",vX=class extends zo{constructor(){super({name:"CopyMaterial",defines:{COLOR_SPACE_CONVERSION:"1",DEPTH_PACKING:"0",COLOR_WRITE:"1"},uniforms:{inputBuffer:new Wn(null),depthBuffer:new Wn(null),channelWeights:new Wn(null),opacity:new Wn(1)},blending:ra,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:WDe,vertexShader:gX}),this.depthFunc=D$}get inputBuffer(){return this.uniforms.inputBuffer.value}set inputBuffer(e){const t=e!==null;this.colorWrite!==t&&(t?this.defines.COLOR_WRITE=!0:delete this.defines.COLOR_WRITE,this.colorWrite=t,this.needsUpdate=!0),this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){const t=e!==null;this.depthWrite!==t&&(t?this.defines.DEPTH_WRITE=!0:delete this.defines.DEPTH_WRITE,this.depthTest=t,this.depthWrite=t,this.needsUpdate=!0),this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}get colorSpaceConversion(){return this.defines.COLOR_SPACE_CONVERSION!==void 0}set colorSpaceConversion(e){this.colorSpaceConversion!==e&&(e?this.defines.COLOR_SPACE_CONVERSION=!0:delete this.defines.COLOR_SPACE_CONVERSION,this.needsUpdate=!0)}get channelWeights(){return this.uniforms.channelWeights.value}set channelWeights(e){e!==null?(this.defines.USE_WEIGHTS="1",this.uniforms.channelWeights.value=e):delete this.defines.USE_WEIGHTS,this.needsUpdate=!0}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},GDe=class extends Vs{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new vX,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new Io(1,1,{minFilter:mo,magFilter:mo,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==Ro?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e!==null&&e.outputColorSpace===Fn&&(this.renderTarget.texture.colorSpace=Fn))}},T6=new nr,yX=class extends Vs{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,r,i){const o=this.overrideClearColor,a=this.overrideClearAlpha,s=e.getClearAlpha(),c=o!==null,u=a>=0;c?(e.getClearColor(T6),e.setClearColor(o,u?a:s)):u&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),c?e.setClearColor(T6,s):u&&e.setClearAlpha(s)}},$De=class extends Vs{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new yX(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,r,i){const o=e.getContext(),a=e.state.buffers,s=this.scene,c=this.camera,u=this.clearPass,d=this.inverted?0:1,f=1-d;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.stencil.setFunc(o.ALWAYS,d,4294967295),a.stencil.setClear(f),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(e,null):(u.render(e,t),u.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,c)):(e.setRenderTarget(t),e.render(s,c),e.setRenderTarget(n),e.render(s,c)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(o.EQUAL,1,4294967295),a.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.stencil.setLocked(!0)}},XDe=class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:r=0,frameBufferType:i}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,n,i,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new GDe,this.depthTexture=null,this.passes=[],this.timer=new qDe,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const t=e.getSize(new tn),n=e.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===Ro&&e.outputColorSpace===Fn&&(this.inputBuffer.texture.colorSpace=Fn,this.outputBuffer.texture.colorSpace=Fn,this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const i of this.passes)i.initialize(e,n,r)}}replaceRenderer(e,t=!0){const n=this.renderer,r=n.domElement.parentNode;return this.setRenderer(e),t&&r!==null&&(r.removeChild(n.domElement),r.appendChild(e.domElement)),n}createDepthTexture(){const e=this.depthTexture=new SB;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=tf,e.type=Au):e.type=rc,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,r){const i=this.renderer,o=i===null?new tn:i.getDrawingBufferSize(new tn),a={minFilter:mo,magFilter:mo,stencilBuffer:t,depthBuffer:e,type:n},s=new Io(o.width,o.height,a);return r>0&&(s.samples=r),n===Ro&&i!==null&&i.outputColorSpace===Fn&&(s.texture.colorSpace=Fn),s.texture.name="EffectComposer.Buffer",s.texture.generateMipmaps=!1,s}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const n=this.passes,r=this.renderer,i=r.getDrawingBufferSize(new tn),o=r.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(r),e.setSize(i.width,i.height),e.initialize(r,o,a),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const s=this.createDepthTexture();for(e of n)e.setDepthTexture(s)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,n=t.indexOf(e);if(n!==-1&&t.splice(n,1).length>0){if(this.depthTexture!==null){const o=(s,c)=>s||c.needsDepthTexture;t.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,n=this.copyPass;let r=this.inputBuffer,i=this.outputBuffer,o=!1,a,s,c;e===void 0&&(this.timer.update(),e=this.timer.getDelta());for(const u of this.passes)u.enabled&&(u.render(t,r,i,e,o),u.needsSwap&&(o&&(n.renderToScreen=u.renderToScreen,a=t.getContext(),s=t.state.buffers.stencil,s.setFunc(a.NOTEQUAL,1,4294967295),n.render(t,r,i,e,o),s.setFunc(a.EQUAL,1,4294967295)),c=r,r=i,i=c),u instanceof $De?o=!0:u instanceof VDe&&(o=!1))}setSize(e,t,n){const r=this.renderer,i=r.getSize(new tn);(e===void 0||t===void 0)&&(e=i.width,t=i.height),(i.width!==e||i.height!==t)&&r.setSize(e,t,n);const o=r.getDrawingBufferSize(new tn);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),Vs.fullscreenGeometry.dispose()}},Nu={NONE:0,DEPTH:1,CONVOLUTION:2},Zn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},ZDe=class{constructor(){this.shaderParts=new Map([[Zn.FRAGMENT_HEAD,null],[Zn.FRAGMENT_MAIN_UV,null],[Zn.FRAGMENT_MAIN_IMAGE,null],[Zn.VERTEX_HEAD,null],[Zn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Nu.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Ds}},uE=!1,k6=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let n;if(t.material.flatShading)switch(t.material.side){case ba:n=this.materialsFlatShadedDoubleSide;break;case Wi:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(t.material.side){case ba:n=this.materialsDoubleSide;break;case Wi:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=n[2]:t.isInstancedMesh?t.material=n[1]:t.material=n[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof zo))return e.clone();const t=e.uniforms,n=new Map;for(const i in t){const o=t[i].value;o.isRenderTargetTexture&&(t[i].value=null,n.set(i,o))}const r=e.clone();for(const i of n)t[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const n of t)n.uniforms=Object.assign({},e.uniforms),n.side=wc;t[2].skinning=!0,this.materialsBackSide=t.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},e.uniforms),r.side=Wi,r}),this.materialsDoubleSide=t.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},e.uniforms),r.side=ba,r}),this.materialsFlatShaded=t.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=t.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r.side=Wi,r}),this.materialsFlatShadedDoubleSide=t.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},e.uniforms),r.flatShading=!0,r.side=ba,r})}}render(e,t,n){const r=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,uE){const i=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(const o of i)o[0].material=o[1];this.meshCount!==i.size&&i.clear()}else{const i=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=i}e.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return uE}static set workaroundEnabled(e){uE=e}},nu=-1,hl=class extends Bc{constructor(e,t=nu,n=nu,r=1){super(),this.resizable=e,this.baseSize=new tn(1,1),this.preferredSize=new tn(t,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new tn,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const e=this.baseSize,t=this.preferredSize,n=this.effectiveSize,r=this.scale;t.width!==nu?n.width=t.width:t.height!==nu?n.width=Math.round(t.height*(e.width/Math.max(e.height,1))):n.width=Math.round(e.width*r),t.height!==nu?n.height=t.height:t.width!==nu?n.height=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n.height=Math.round(e.height*r)}get width(){return this.effectiveSize.width}set width(e){this.preferredWidth=e}get height(){return this.effectiveSize.height}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferredSize.setScalar(nu),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.baseSize.width}set baseWidth(e){this.baseSize.width!==e&&(this.baseSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(e){this.baseWidth=e}get baseHeight(){return this.baseSize.height}set baseHeight(e){this.baseSize.height!==e&&(this.baseSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.baseSize.width!==e||this.baseSize.height!==t)&&(this.baseSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(e){this.preferredSize.width!==e&&(this.preferredSize.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferredSize.height}set preferredHeight(e){this.preferredSize.height!==e&&(this.preferredSize.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferredSize.width!==e||this.preferredSize.height!==t)&&(this.preferredSize.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(e){this.s=e.scale,this.baseSize.set(e.baseWidth,e.baseHeight),this.preferredSize.set(e.preferredWidth,e.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return nu}},Nn={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},KDe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",YDe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,src.a*opacity);}",JDe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=(dst.rgb+src.rgb)*0.5;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",QDe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.xy,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",eOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=mix(step(0.0,b)*(1.0-min(vec3(1.0),(1.0-a)/max(b,1e-9))),vec3(1.0),step(1.0,a));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",tOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=dst.rgb,b=src.rgb;vec3 c=step(0.0,a)*mix(min(vec3(1.0),a/max(1.0-b,1e-9)),vec3(1.0),step(1.0,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",nOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",rOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=abs(dst.rgb-src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",iOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb/max(src.rgb,1e-9);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",oOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-2.0*dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",aOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb,1.0);vec3 b=min(src.rgb,1.0);vec3 c=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,b));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",sOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=step(1.0,dst.rgb+src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",lOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(b.x,a.yz));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",cOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",uOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=src.rgb*max(1.0-dst.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",dOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb,src.rgb);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",fOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",hOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=min(dst.rgb+src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",pOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=clamp(2.0*src.rgb+dst.rgb-1.0,0.0,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",mOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.xy,b.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",gOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb*src.rgb;return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",vOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(1.0-abs(1.0-dst.rgb-src.rgb),0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",yOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return mix(dst,src,opacity);}",bOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=2.0*src.rgb*dst.rgb;vec3 b=1.0-2.0*(1.0-src.rgb)*(1.0-dst.rgb);vec3 c=mix(a,b,step(0.5,dst.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",xOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 c=mix(mix(src2,dst.rgb,step(0.5*dst.rgb,src.rgb)),max(src2-1.0,vec3(0.0)),step(dst.rgb,src2-1.0));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",_Oe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=min(dst.rgb*dst.rgb/max(1.0-src.rgb,1e-9),1.0);vec3 c=mix(a,src.rgb,step(1.0,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",wOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 a=RGBToHSL(dst.rgb);vec3 b=RGBToHSL(src.rgb);vec3 c=HSLToRGB(vec3(a.x,b.y,a.z));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",SOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=dst.rgb+src.rgb-min(dst.rgb*src.rgb,1.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",COe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 src2=2.0*src.rgb;vec3 d=dst.rgb+(src2-1.0);vec3 w=step(0.5,src.rgb);vec3 a=dst.rgb-(1.0-src2)*dst.rgb*(1.0-dst.rgb);vec3 b=mix(d*(sqrt(dst.rgb)-dst.rgb),d*dst.rgb*((16.0*dst.rgb-12.0)*dst.rgb+3.0),w*(1.0-step(0.25,dst.rgb)));vec3 c=mix(a,b,w);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",TOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){return src;}",kOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=max(dst.rgb-src.rgb,0.0);return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",EOe="vec4 blend(const in vec4 dst,const in vec4 src,const in float opacity){vec3 c=mix(max(1.0-min((1.0-dst.rgb)/(2.0*src.rgb),1.0),0.0),min(dst.rgb/(2.0*(1.0-src.rgb)),1.0),step(0.5,src.rgb));return mix(dst,vec4(c,max(dst.a,src.a)),opacity);}",MOe=new Map([[Nn.ADD,KDe],[Nn.ALPHA,YDe],[Nn.AVERAGE,JDe],[Nn.COLOR,QDe],[Nn.COLOR_BURN,eOe],[Nn.COLOR_DODGE,tOe],[Nn.DARKEN,nOe],[Nn.DIFFERENCE,rOe],[Nn.DIVIDE,iOe],[Nn.DST,null],[Nn.EXCLUSION,oOe],[Nn.HARD_LIGHT,aOe],[Nn.HARD_MIX,sOe],[Nn.HUE,lOe],[Nn.INVERT,cOe],[Nn.INVERT_RGB,uOe],[Nn.LIGHTEN,dOe],[Nn.LINEAR_BURN,fOe],[Nn.LINEAR_DODGE,hOe],[Nn.LINEAR_LIGHT,pOe],[Nn.LUMINOSITY,mOe],[Nn.MULTIPLY,gOe],[Nn.NEGATION,vOe],[Nn.NORMAL,yOe],[Nn.OVERLAY,bOe],[Nn.PIN_LIGHT,xOe],[Nn.REFLECT,_Oe],[Nn.SATURATION,wOe],[Nn.SCREEN,SOe],[Nn.SOFT_LIGHT,COe],[Nn.SRC,TOe],[Nn.SUBTRACT,kOe],[Nn.VIVID_LIGHT,EOe]]),AOe=class extends Bc{constructor(e,t=1){super(),this._blendFunction=e,this.opacity=new Wn(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return MOe.get(this.blendFunction)}},bX=class extends Bc{constructor(e,t,{attributes:n=Nu.NONE,blendFunction:r=Nn.NORMAL,defines:i=new Map,uniforms:o=new Map,extensions:a=null,vertexShader:s=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=s,this.defines=i,this.uniforms=o,this.extensions=a,this.blendMode=new AOe(r),this.blendMode.addEventListener("change",c=>this.setChanged()),this._inputColorSpace=Ds,this._outputColorSpace=Yo}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Ov){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof Io||t instanceof Ip||t instanceof jo||t instanceof Vs)&&this[e].dispose()}}},CB={MEDIUM:2,LARGE:3},NOe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,POe="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",BOe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],ROe=class extends zo{constructor(e=new Ai){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Wn(null),texelSize:new Wn(new Ai),scale:new Wn(1),kernel:new Wn(0)},blending:ra,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:NOe,vertexShader:POe}),this.setTexelSize(e.x,e.y),this.kernelSize=CB.MEDIUM}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get kernelSequence(){return BOe[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t,e*.5,t*.5)}setSize(e,t){const n=1/e,r=1/t;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},jOe=class extends Vs{constructor({kernelSize:e=CB.MEDIUM,resolutionScale:t=.5,width:n=hl.AUTO_SIZE,height:r=hl.AUTO_SIZE,resolutionX:i=n,resolutionY:o=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Io(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const a=this.resolution=new hl(this,i,o,t);a.addEventListener("change",s=>this.setSize(a.baseWidth,a.baseHeight)),this._blurMaterial=new ROe,this._blurMaterial.kernelSize=e,this.copyMaterial=new vX}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(e){this._blurMaterial=e}get dithering(){return this.copyMaterial.dithering}set dithering(e){this.copyMaterial.dithering=e}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(e){this.blurMaterial.kernelSize=e}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,n,r,i){const o=this.scene,a=this.camera,s=this.renderTargetA,c=this.renderTargetB,u=this.blurMaterial,d=u.kernelSequence;let f=t;this.fullscreenMaterial=u;for(let p=0,m=d.length;p<m;++p){const g=p&1?c:s;u.kernel=d[p],u.inputBuffer=f.texture,e.setRenderTarget(g),e.render(o,a),f=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,e.setRenderTarget(this.renderToScreen?null:n),e.render(o,a)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(e,t)}initialize(e,t,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==Ro?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e!==null&&e.outputColorSpace===Fn&&(this.renderTargetA.texture.colorSpace=Fn,this.renderTargetB.texture.colorSpace=Fn))}static get AUTO_SIZE(){return hl.AUTO_SIZE}},IOe=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);float mask=1.0;
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);mask=low*high;
#elif defined(THRESHOLD)
mask=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=texel*mask;
#else
gl_FragColor=vec4(l*mask);
#endif
}`,zOe=class extends zo{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Dv.replace(/\D+/g,"")},uniforms:{inputBuffer:new Wn(null),threshold:new Wn(0),smoothing:new Wn(1),range:new Wn(null)},blending:ra,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:IOe,vertexShader:gX}),this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},LOe=class extends Vs{constructor({renderTarget:e,luminanceRange:t,colorOutput:n,resolutionScale:r=1,width:i=hl.AUTO_SIZE,height:o=hl.AUTO_SIZE,resolutionX:a=i,resolutionY:s=o}={}){super("LuminancePass"),this.fullscreenMaterial=new zOe(n,t),this.needsSwap=!1,this.renderTarget=e,this.renderTarget===void 0&&(this.renderTarget=new Io(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const c=this.resolution=new hl(this,a,s,r);c.addEventListener("change",u=>this.setSize(c.baseWidth,c.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,n,r,i){const o=this.fullscreenMaterial;o.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height)}initialize(e,t,n){n!==void 0&&n!==Ro&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},DOe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,OOe="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",FOe=class extends zo{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Wn(null),texelSize:new Wn(new tn)},blending:ra,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:DOe,vertexShader:OOe})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},UOe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,qOe="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",HOe=class extends zo{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Wn(null),supportBuffer:new Wn(null),texelSize:new Wn(new tn),radius:new Wn(.85)},blending:ra,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:UOe,vertexShader:qOe})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}set supportBuffer(e){this.uniforms.supportBuffer.value=e}get radius(){return this.uniforms.radius.value}set radius(e){this.uniforms.radius.value=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},VOe=class extends Vs{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Io(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new FOe,this.upsamplingMaterial=new HOe,this.resolution=new tn}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(e){if(this.levels!==e){const t=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<e;++n){const r=t.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(t);for(let n=1,r=e-1;n<r;++n){const i=t.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(e){this.upsamplingMaterial.radius=e}render(e,t,n,r,i){const{scene:o,camera:a}=this,{downsamplingMaterial:s,upsamplingMaterial:c}=this,{downsamplingMipmaps:u,upsamplingMipmaps:d}=this;let f=t;this.fullscreenMaterial=s;for(let p=0,m=u.length;p<m;++p){const g=u[p];s.setSize(f.width,f.height),s.inputBuffer=f.texture,e.setRenderTarget(g),e.render(o,a),f=g}this.fullscreenMaterial=c;for(let p=d.length-1;p>=0;--p){const m=d[p];c.setSize(f.width,f.height),c.inputBuffer=f.texture,c.supportBuffer=u[p].texture,e.setRenderTarget(m),e.render(o,a),f=m}}setSize(e,t){const n=this.resolution;n.set(e,t);let r=n.width,i=n.height;for(let o=0,a=this.downsamplingMipmaps.length;o<a;++o)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[o].setSize(r,i),o<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[o].setSize(r,i)}initialize(e,t,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==Ro)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(e!==null&&e.outputColorSpace===Fn)for(const i of r)i.texture.colorSpace=Fn}}dispose(){super.dispose();for(const e of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))e.dispose()}},WOe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,GOe=class extends bX{constructor({blendFunction:e=Nn.SCREEN,luminanceThreshold:t=1,luminanceSmoothing:n=.03,mipmapBlur:r=!0,intensity:i=1,radius:o=.85,levels:a=8,kernelSize:s=CB.LARGE,resolutionScale:c=.5,width:u=hl.AUTO_SIZE,height:d=hl.AUTO_SIZE,resolutionX:f=u,resolutionY:p=d}={}){super("BloomEffect",WOe,{blendFunction:e,uniforms:new Map([["map",new Wn(null)],["intensity",new Wn(i)]])}),this.renderTarget=new Io(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new jOe({kernelSize:s}),this.luminancePass=new LOe({colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new VOe,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=o,this.mipmapBlurPass.levels=a,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const m=this.resolution=new hl(this,f,p,c);m.addEventListener("change",g=>this.setSize(m.baseWidth,m.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(e,t),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,i.renderTarget):this.blurPass.render(e,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(e,t):this.blurPass.render(e,t,r)}setSize(e,t){const n=this.resolution;n.setBaseSize(e,t),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(e,t),this.mipmapBlurPass.setSize(e,t)}initialize(e,t,n){this.blurPass.initialize(e,t,n),this.luminancePass.initialize(e,t,n),this.mipmapBlurPass.initialize(e,t,n),n!==void 0&&(this.renderTarget.texture.type=n,e!==null&&e.outputColorSpace===Fn&&(this.renderTarget.texture.colorSpace=Fn))}},$Oe=`#ifdef RADIAL_MODULATION
uniform float modulationOffset;
#endif
varying float vActive;varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=inputColor.ra;vec2 ba=inputColor.ba;
#ifdef RADIAL_MODULATION
const vec2 center=vec2(0.5);float d=distance(uv,center)*2.0;d=max(d-modulationOffset,0.0);if(vActive>0.0&&d>0.0){ra=texture2D(inputBuffer,mix(uv,vUvR,d)).ra;ba=texture2D(inputBuffer,mix(uv,vUvB,d)).ba;}
#else
if(vActive>0.0){ra=texture2D(inputBuffer,vUvR).ra;ba=texture2D(inputBuffer,vUvB).ba;}
#endif
outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}`,XOe="uniform vec2 offset;varying float vActive;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vActive=(shift.x!=0.0||shift.y!=0.0)?1.0:0.0;vUvR=uv+shift;vUvB=uv-shift;}",ZOe=class extends bX{constructor({offset:e=new tn(.001,5e-4),radialModulation:t=!1,modulationOffset:n=.15}={}){super("ChromaticAberrationEffect",$Oe,{vertexShader:XOe,attributes:Nu.CONVOLUTION,uniforms:new Map([["offset",new Wn(e)],["modulationOffset",new Wn(n)]])}),this.radialModulation=t}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}get radialModulation(){return this.defines.has("RADIAL_MODULATION")}set radialModulation(e){e?this.defines.set("RADIAL_MODULATION","1"):this.defines.delete("RADIAL_MODULATION"),this.setChanged()}get modulationOffset(){return this.uniforms.get("modulationOffset").value}set modulationOffset(e){this.uniforms.get("modulationOffset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},KOe=class extends Vs{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new yX,this.overrideMaterialManager=n===null?null:new k6(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new k6(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,r,i){const o=this.scene,a=this.camera,s=this.selection,c=a.layers.mask,u=o.background,d=e.shadowMap.autoUpdate,f=this.renderToScreen?null:t;s!==null&&a.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,o,a):e.render(o,a),a.layers.mask=c,o.background=u,e.shadowMap.autoUpdate=d}},YOe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#if defined(USE_LOGARITHMIC_DEPTH_BUFFER) || defined(LOG_DEPTH)
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#elif defined(USE_REVERSED_DEPTH_BUFFER)
depth=1.0-depth;
#endif
return depth;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,JOe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",QOe=class extends zo{constructor(e,t,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Dv.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Wn(null),depthBuffer:new Wn(null),resolution:new Wn(new tn),texelSize:new Wn(new tn),cameraNear:new Wn(.3),cameraFar:new Wn(1e3),aspect:new Wn(1),time:new Wn(0)},blending:ra,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Ov){this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader=YOe.replace(Zn.FRAGMENT_HEAD,e.get(Zn.FRAGMENT_HEAD)||"").replace(Zn.FRAGMENT_MAIN_UV,e.get(Zn.FRAGMENT_MAIN_UV)||"").replace(Zn.FRAGMENT_MAIN_IMAGE,e.get(Zn.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=JOe.replace(Zn.VERTEX_HEAD,e.get(Zn.VERTEX_HEAD)||"").replace(Zn.VERTEX_MAIN_SUPPORT,e.get(Zn.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Ga?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return Zn}};function E6(e,t,n){for(const r of t){const i="$1"+e+r.charAt(0).toUpperCase()+r.slice(1),o=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const a of n.entries())a[1]!==null&&n.set(a[0],a[1].replace(o,i))}}function eFe(e,t,n){let r=t.getFragmentShader(),i=t.getVertexShader();const o=r!==void 0&&/mainImage/.test(r),a=r!==void 0&&/mainUv/.test(r);if(n.attributes|=t.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${t.name})`);if(a&&n.attributes&Nu.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!o&&!a)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const s=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,c=n.shaderParts;let u=c.get(Zn.FRAGMENT_HEAD)||"",d=c.get(Zn.FRAGMENT_MAIN_UV)||"",f=c.get(Zn.FRAGMENT_MAIN_IMAGE)||"",p=c.get(Zn.VERTEX_HEAD)||"",m=c.get(Zn.VERTEX_MAIN_SUPPORT)||"";const g=new Set,v=new Set;if(a&&(d+=`	${e}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const S=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);m+=`	${e}MainSupport(`,m+=S?`vUv);
`:`);
`;for(const w of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const C of w[1].split(/\s*,\s*/))n.varyings.add(C),g.add(C),v.add(C);for(const w of i.matchAll(s))v.add(w[1])}for(const S of r.matchAll(s))v.add(S[1]);for(const S of t.defines.keys())v.add(S.replace(/\([\w\s,]*\)/g,""));for(const S of t.uniforms.keys())v.add(S);v.delete("while"),v.delete("for"),v.delete("if"),t.uniforms.forEach((S,w)=>n.uniforms.set(e+w.charAt(0).toUpperCase()+w.slice(1),S)),t.defines.forEach((S,w)=>n.defines.set(e+w.charAt(0).toUpperCase()+w.slice(1),S));const _=new Map([["fragment",r],["vertex",i]]);E6(e,v,n.defines),E6(e,v,_),r=_.get("fragment"),i=_.get("vertex");const y=t.blendMode;if(n.blendModes.set(y.blendFunction,y),o){t.inputColorSpace!==null&&t.inputColorSpace!==n.colorSpace&&(f+=t.inputColorSpace===Fn?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),t.outputColorSpace!==Yo?n.colorSpace=t.outputColorSpace:t.inputColorSpace!==null&&(n.colorSpace=t.inputColorSpace);const S=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${e}MainImage(color0, UV, `,n.attributes&Nu.DEPTH&&S.test(r)&&(f+="depth, ",n.readDepth=!0),f+=`color1);
	`;const w=e+"BlendOpacity";n.uniforms.set(w,y.opacity),f+=`color0 = blend${y.blendFunction}(color0, color1, ${w});

	`,u+=`uniform float ${w};

`}if(u+=r+`
`,i!==null&&(p+=i+`
`),c.set(Zn.FRAGMENT_HEAD,u),c.set(Zn.FRAGMENT_MAIN_UV,d),c.set(Zn.FRAGMENT_MAIN_IMAGE,f),c.set(Zn.VERTEX_HEAD,p),c.set(Zn.VERTEX_MAIN_SUPPORT,m),t.extensions!==null)for(const S of t.extensions)n.extensions.add(S)}}var tFe=class extends Vs{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new QOe(null,null,null,e),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(t),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const t of this.effects)t.removeEventListener("change",this.listener);this.effects=e.sort((t,n)=>n.attributes-t.attributes);for(const t of this.effects)t.addEventListener("change",this.listener)}updateMaterial(){const e=new ZDe;let t=0;for(const a of this.effects)if(a.blendMode.blendFunction===Nn.DST)e.attributes|=a.getAttributes()&Nu.DEPTH;else{if(e.attributes&a.getAttributes()&Nu.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${a.name})`);eFe("e"+t++,a,e)}let n=e.shaderParts.get(Zn.FRAGMENT_HEAD),r=e.shaderParts.get(Zn.FRAGMENT_MAIN_IMAGE),i=e.shaderParts.get(Zn.FRAGMENT_MAIN_UV);const o=/\bblend\b/g;for(const a of e.blendModes.values())n+=a.getShaderCode().replace(o,`blend${a.blendFunction}`)+`
`;e.attributes&Nu.DEPTH?(e.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,e.colorSpace===Fn&&(r+=`color0 = sRGBToLinear(color0);
	`),e.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(Zn.FRAGMENT_HEAD,n),e.shaderParts.set(Zn.FRAGMENT_MAIN_IMAGE,r),e.shaderParts.set(Zn.FRAGMENT_MAIN_UV,i);for(const[a,s]of e.shaderParts)s!==null&&e.shaderParts.set(a,s.trim().replace(/^#/,`
#`));this.skipRendering=t===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Ov){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,r,i){for(const o of this.effects)o.update(e,t,r);if(!this.skipRendering||this.renderToScreen){const o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=r*this.timeScale,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(const r of this.effects)r.initialize(e,t,n);this.updateMaterial(),n!==void 0&&n!==Ro&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}};const nFe=`
varying vec2 vUv;
void main(){
  vUv = uv;
  gl_Position = vec4(position.xy, 0.0, 1.0);
}
`,rFe=`
precision highp float;
uniform vec3 iResolution;
uniform float iTime;
uniform vec2 uSkew;
uniform float uTilt;
uniform float uYaw;
uniform float uLineThickness;
uniform vec3 uLinesColor;
uniform vec3 uScanColor;
uniform float uGridScale;
uniform float uLineStyle;
uniform float uLineJitter;
uniform float uScanOpacity;
uniform float uScanDirection;
uniform float uNoise;
uniform float uBloomOpacity;
uniform float uScanGlow;
uniform float uScanSoftness;
uniform float uPhaseTaper;
uniform float uScanDuration;
uniform float uScanDelay;
varying vec2 vUv;
uniform float uScanStarts[8];
uniform float uScanCount;
const int MAX_SCANS = 8;

float smoother01(float a, float b, float x){
  float t = clamp((x - a) / max(1e-5, (b - a)), 0.0, 1.0);
  return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}

void mainImage(out vec4 fragColor, in vec2 fragCoord)
{
    vec2 p = (2.0 * fragCoord - iResolution.xy) / iResolution.y;
    vec3 ro = vec3(0.0);
    vec3 rd = normalize(vec3(p, 2.0));
    float cR = cos(uTilt), sR = sin(uTilt);
    rd.xy = mat2(cR, -sR, sR, cR) * rd.xy;
    float cY = cos(uYaw), sY = sin(uYaw);
    rd.xz = mat2(cY, -sY, sY, cY) * rd.xz;
    vec2 skew = clamp(uSkew, vec2(-0.7), vec2(0.7));
    rd.xy += skew * rd.z;
    vec3 color = vec3(0.0);
  float minT = 1e20;
  float gridScale = max(1e-5, uGridScale);
    float fadeStrength = 2.0;
    vec2 gridUV = vec2(0.0);
  float hitIsY = 1.0;
    for (int i = 0; i < 4; i++)
    {
        float isY = float(i < 2);
        float pos = mix(-0.2, 0.2, float(i)) * isY + mix(-0.5, 0.5, float(i - 2)) * (1.0 - isY);
        float num = pos - (isY * ro.y + (1.0 - isY) * ro.x);
        float den = isY * rd.y + (1.0 - isY) * rd.x;
        float t = num / den;
        vec3 h = ro + rd * t;
        float depthBoost = smoothstep(0.0, 3.0, h.z);
        h.xy += skew * 0.15 * depthBoost;
    bool use = t > 0.0 && t < minT;
    gridUV = use ? mix(h.zy, h.xz, isY) / gridScale : gridUV;
    minT = use ? t : minT;
    hitIsY = use ? isY : hitIsY;
    }
    vec3 hit = ro + rd * minT;
    float dist = length(hit - ro);
  float jitterAmt = clamp(uLineJitter, 0.0, 1.0);
  if (jitterAmt > 0.0) {
    vec2 j = vec2(
      sin(gridUV.y * 2.7 + iTime * 1.8),
      cos(gridUV.x * 2.3 - iTime * 1.6)
    ) * (0.15 * jitterAmt);
    gridUV += j;
  }
  float fx = fract(gridUV.x);
  float fy = fract(gridUV.y);
  float ax = min(fx, 1.0 - fx);
  float ay = min(fy, 1.0 - fy);
  float wx = fwidth(gridUV.x);
  float wy = fwidth(gridUV.y);
  float halfPx = max(0.0, uLineThickness) * 0.5;
  float tx = halfPx * wx;
  float ty = halfPx * wy;
  float aax = wx;
  float aay = wy;
  float lineX = 1.0 - smoothstep(tx, tx + aax, ax);
  float lineY = 1.0 - smoothstep(ty, ty + aay, ay);
  if (uLineStyle > 0.5) {
    float dashRepeat = 4.0;
    float dashDuty = 0.5;
    float vy = fract(gridUV.y * dashRepeat);
    float vx = fract(gridUV.x * dashRepeat);
    float dashMaskY = step(vy, dashDuty);
    float dashMaskX = step(vx, dashDuty);
    if (uLineStyle < 1.5) {
      lineX *= dashMaskY;
      lineY *= dashMaskX;
    } else {
      float dotRepeat = 6.0;
      float dotWidth = 0.18;
      float cy = abs(fract(gridUV.y * dotRepeat) - 0.5);
      float cx = abs(fract(gridUV.x * dotRepeat) - 0.5);
      float dotMaskY = 1.0 - smoothstep(dotWidth, dotWidth + fwidth(gridUV.y * dotRepeat), cy);
      float dotMaskX = 1.0 - smoothstep(dotWidth, dotWidth + fwidth(gridUV.x * dotRepeat), cx);
      lineX *= dotMaskY;
      lineY *= dotMaskX;
    }
  }
  float primaryMask = max(lineX, lineY);
  vec2 gridUV2 = (hitIsY > 0.5 ? hit.xz : hit.zy) / gridScale;
  if (jitterAmt > 0.0) {
    vec2 j2 = vec2(
      cos(gridUV2.y * 2.1 - iTime * 1.4),
      sin(gridUV2.x * 2.5 + iTime * 1.7)
    ) * (0.15 * jitterAmt);
    gridUV2 += j2;
  }
  float fx2 = fract(gridUV2.x);
  float fy2 = fract(gridUV2.y);
  float ax2 = min(fx2, 1.0 - fx2);
  float ay2 = min(fy2, 1.0 - fy2);
  float wx2 = fwidth(gridUV2.x);
  float wy2 = fwidth(gridUV2.y);
  float tx2 = halfPx * wx2;
  float ty2 = halfPx * wy2;
  float aax2 = wx2;
  float aay2 = wy2;
  float lineX2 = 1.0 - smoothstep(tx2, tx2 + aax2, ax2);
  float lineY2 = 1.0 - smoothstep(ty2, ty2 + aay2, ay2);
  if (uLineStyle > 0.5) {
    float dashRepeat2 = 4.0;
    float dashDuty2 = 0.5;
    float vy2m = fract(gridUV2.y * dashRepeat2);
    float vx2m = fract(gridUV2.x * dashRepeat2);
    float dashMaskY2 = step(vy2m, dashDuty2);
    float dashMaskX2 = step(vx2m, dashDuty2);
    if (uLineStyle < 1.5) {
      lineX2 *= dashMaskY2;
      lineY2 *= dashMaskX2;
    } else {
      float dotRepeat2 = 6.0;
      float dotWidth2 = 0.18;
      float cy2 = abs(fract(gridUV2.y * dotRepeat2) - 0.5);
      float cx2 = abs(fract(gridUV2.x * dotRepeat2) - 0.5);
      float dotMaskY2 = 1.0 - smoothstep(dotWidth2, dotWidth2 + fwidth(gridUV2.y * dotRepeat2), cy2);
      float dotMaskX2 = 1.0 - smoothstep(dotWidth2, dotWidth2 + fwidth(gridUV2.x * dotRepeat2), cx2);
      lineX2 *= dotMaskY2;
      lineY2 *= dotMaskX2;
    }
  }
    float altMask = max(lineX2, lineY2);
    float edgeDistX = min(abs(hit.x - (-0.5)), abs(hit.x - 0.5));
    float edgeDistY = min(abs(hit.y - (-0.2)), abs(hit.y - 0.2));
    float edgeDist = mix(edgeDistY, edgeDistX, hitIsY);
    float edgeGate = 1.0 - smoothstep(gridScale * 0.5, gridScale * 2.0, edgeDist);
    altMask *= edgeGate;
  float lineMask = max(primaryMask, altMask);
    float fade = exp(-dist * fadeStrength);
    float dur = max(0.05, uScanDuration);
    float del = max(0.0, uScanDelay);
    float scanZMax = 2.0;
    float widthScale = max(0.1, uScanGlow);
    float sigma = max(0.001, 0.18 * widthScale * uScanSoftness);
    float sigmaA = sigma * 2.0;
    float combinedPulse = 0.0;
    float combinedAura = 0.0;
    float cycle = dur + del;
    float tCycle = mod(iTime, cycle);
    float scanPhase = clamp((tCycle - del) / dur, 0.0, 1.0);
    float phase = scanPhase;
    if (uScanDirection > 0.5 && uScanDirection < 1.5) {
      phase = 1.0 - phase;
    } else if (uScanDirection > 1.5) {
      float t2 = mod(max(0.0, iTime - del), 2.0 * dur);
      phase = (t2 < dur) ? (t2 / dur) : (1.0 - (t2 - dur) / dur);
    }
    float scanZ = phase * scanZMax;
    float dz = abs(hit.z - scanZ);
    float lineBand = exp(-0.5 * (dz * dz) / (sigma * sigma));
    float taper = clamp(uPhaseTaper, 0.0, 0.49);
    float headW = taper;
    float tailW = taper;
    float headFade = smoother01(0.0, headW, phase);
    float tailFade = 1.0 - smoother01(1.0 - tailW, 1.0, phase);
    float phaseWindow = headFade * tailFade;
    float pulseBase = lineBand * phaseWindow;
    combinedPulse += pulseBase * clamp(uScanOpacity, 0.0, 1.0);
    float auraBand = exp(-0.5 * (dz * dz) / (sigmaA * sigmaA));
    combinedAura += (auraBand * 0.25) * phaseWindow * clamp(uScanOpacity, 0.0, 1.0);
    for (int i = 0; i < MAX_SCANS; i++) {
      if (float(i) >= uScanCount) break;
      float tActiveI = iTime - uScanStarts[i];
      float phaseI = clamp(tActiveI / dur, 0.0, 1.0);
      if (uScanDirection > 0.5 && uScanDirection < 1.5) {
        phaseI = 1.0 - phaseI;
      } else if (uScanDirection > 1.5) {
        phaseI = (phaseI < 0.5) ? (phaseI * 2.0) : (1.0 - (phaseI - 0.5) * 2.0);
      }
      float scanZI = phaseI * scanZMax;
      float dzI = abs(hit.z - scanZI);
      float lineBandI = exp(-0.5 * (dzI * dzI) / (sigma * sigma));
      float headFadeI = smoother01(0.0, headW, phaseI);
      float tailFadeI = 1.0 - smoother01(1.0 - tailW, 1.0, phaseI);
      float phaseWindowI = headFadeI * tailFadeI;
      combinedPulse += lineBandI * phaseWindowI * clamp(uScanOpacity, 0.0, 1.0);
      float auraBandI = exp(-0.5 * (dzI * dzI) / (sigmaA * sigmaA));
      combinedAura += (auraBandI * 0.25) * phaseWindowI * clamp(uScanOpacity, 0.0, 1.0);
    }
  float lineVis = lineMask;
  vec3 gridCol = uLinesColor * lineVis * fade;
  vec3 scanCol = uScanColor * combinedPulse;
  vec3 scanAura = uScanColor * combinedAura;
    color = gridCol + scanCol + scanAura;
  float n = fract(sin(dot(gl_FragCoord.xy + vec2(iTime * 123.4), vec2(12.9898,78.233))) * 43758.5453123);
  color += (n - 0.5) * uNoise;
  color = clamp(color, 0.0, 1.0);
  float alpha = clamp(max(lineVis, combinedPulse), 0.0, 1.0);
  float gx = 1.0 - smoothstep(tx * 2.0, tx * 2.0 + aax * 2.0, ax);
  float gy = 1.0 - smoothstep(ty * 2.0, ty * 2.0 + aay * 2.0, ay);
  float halo = max(gx, gy) * fade;
  alpha = max(alpha, halo * clamp(uBloomOpacity, 0.0, 1.0));
  fragColor = vec4(color, alpha);
}

void main(){
  vec4 c;
  mainImage(c, vUv * iResolution.xy);
  gl_FragColor = c;
}
`,iFe=({enableWebcam:e=!1,showPreview:t=!1,modelsPath:n="https://cdn.jsdelivr.net/gh/justadudewhohacks/face-api.js@0.22.2/weights",sensitivity:r=.55,lineThickness:i=1,linesColor:o="#392e4e",scanColor:a="#FF9FFC",scanOpacity:s=.4,gridScale:c=.1,lineStyle:u="solid",lineJitter:d=.1,scanDirection:f="pingpong",enablePost:p=!0,bloomIntensity:m=0,bloomThreshold:g=0,bloomSmoothing:v=0,chromaticAberration:_=.002,noiseIntensity:y=.01,scanGlow:S=.5,scanSoftness:w=2,scanPhaseTaper:C=.9,scanDuration:M=2,scanDelay:A=2,enableGyro:E=!1,scanOnClick:I=!1,snapBackDelay:N=250,className:P,style:D})=>{const q=x.useRef(null),$=x.useRef(null),j=x.useRef(null),O=x.useRef(null),z=x.useRef(null),W=x.useRef(null),F=x.useRef(null),V=x.useRef(new tn(0,0)),H=x.useRef(0),te=x.useRef(0),Z=x.useRef(new tn(0,0)),Q=x.useRef(new tn(0,0)),re=x.useRef(0),ue=x.useRef(0),oe=x.useRef(0),be=x.useRef(0),ke=8,He=x.useRef([]),Je=Xe=>{const X=He.current.slice();if(X.length>=ke&&X.shift(),X.push(Xe),He.current=X,j.current){const Y=j.current.uniforms,me=new Array(ke).fill(0);for(let Ne=0;Ne<X.length&&Ne<ke;Ne++)me[Ne]=X[Ne];Y.uScanStarts.value=me,Y.uScanCount.value=X.length}},rt=dd.clamp(r,0,1),le=dd.lerp(.06,.2,rt),at=dd.lerp(.12,.3,rt),Ge=dd.lerp(.1,.28,rt),We=dd.lerp(.45,.12,rt),$e=1/0,et=dd.lerp(1.2,1.6,rt);return x.useEffect(()=>{const Xe=q.current;if(!Xe)return;let X=null;const Y=Ee=>{X&&(clearTimeout(X),X=null);const Ye=Xe.getBoundingClientRect(),Ze=(Ee.clientX-Ye.left)/Ye.width*2-1,st=-((Ee.clientY-Ye.top)/Ye.height*2-1);V.current.set(Ze,st)},me=async()=>{const Ee=performance.now()/1e3;I&&Je(Ee)},Ne=()=>{X&&(clearTimeout(X),X=null)},Re=()=>{X&&clearTimeout(X),X=window.setTimeout(()=>{V.current.set(0,0),H.current=0,te.current=0},Math.max(0,N||0))};return Xe.addEventListener("mousemove",Y),Xe.addEventListener("mouseenter",Ne),I&&Xe.addEventListener("click",me),Xe.addEventListener("mouseleave",Re),()=>{Xe.removeEventListener("mousemove",Y),Xe.removeEventListener("mouseenter",Ne),Xe.removeEventListener("mouseleave",Re),I&&Xe.removeEventListener("click",me),X&&clearTimeout(X)}},[N,I,r]),x.useEffect(()=>{const Xe=q.current;if(!Xe)return;const X=new mX({antialias:!0,alpha:!0});$.current=X,X.setPixelRatio(Math.min(window.devicePixelRatio||1,2)),X.setSize(Xe.clientWidth,Xe.clientHeight),X.outputColorSpace=Fn,X.toneMapping=fc,X.autoClear=!1,X.setClearColor(0,0),Xe.appendChild(X.domElement);const Y={iResolution:{value:new Ie(Xe.clientWidth,Xe.clientHeight,X.getPixelRatio())},iTime:{value:0},uSkew:{value:new tn(0,0)},uTilt:{value:0},uYaw:{value:0},uLineThickness:{value:i},uLinesColor:{value:wy(o)},uScanColor:{value:wy(a)},uGridScale:{value:c},uLineStyle:{value:u==="dashed"?1:u==="dotted"?2:0},uLineJitter:{value:Math.max(0,Math.min(1,d||0))},uScanOpacity:{value:s},uNoise:{value:y},uBloomOpacity:{value:m},uScanGlow:{value:S},uScanSoftness:{value:w},uPhaseTaper:{value:C},uScanDuration:{value:M},uScanDelay:{value:A},uScanDirection:{value:f==="backward"?1:f==="pingpong"?2:0},uScanStarts:{value:new Array(ke).fill(0)},uScanCount:{value:0}},me=new zo({uniforms:Y,vertexShader:nFe,fragmentShader:rFe,transparent:!0,depthWrite:!1,depthTest:!1});j.current=me;const Ne=new pA,Re=new _B(-1,1,1,-1,0,1),Ee=new fl(new Z1(2,2),me);Ne.add(Ee);let Ye=null;if(p){Ye=new XDe(X),O.current=Ye;const _t=new KOe(Ne,Re);Ye.addPass(_t);const je=new GOe({intensity:1,luminanceThreshold:g,luminanceSmoothing:v});je.blendMode.opacity.value=Math.max(0,m),z.current=je;const jt=new ZOe({offset:new tn(_,_),radialModulation:!0,modulationOffset:0});W.current=jt;const ve=new tFe(Re,je,jt);ve.renderToScreen=!0,Ye.addPass(ve)}const Ze=()=>{X.setSize(Xe.clientWidth,Xe.clientHeight),me.uniforms.iResolution.value.set(Xe.clientWidth,Xe.clientHeight,X.getPixelRatio()),O.current&&O.current.setSize(Xe.clientWidth,Xe.clientHeight)};window.addEventListener("resize",Ze);let st=performance.now();const wt=()=>{const _t=performance.now(),je=Math.max(0,Math.min(.1,(_t-st)/1e3));st=_t,Z.current.copy(oFe(Z.current,V.current,Q.current,We,$e,je));const jt=M6(re.current,H.current,{v:ue.current},We,$e,je);re.current=jt.value,ue.current=jt.v;const ve=M6(oe.current,te.current,{v:be.current},We,$e,je);oe.current=ve.value,be.current=ve.v;const tt=new tn(Z.current.x*le,-Z.current.y*et*le);me.uniforms.uSkew.value.set(tt.x,tt.y),me.uniforms.uTilt.value=re.current*at,me.uniforms.uYaw.value=dd.clamp(oe.current*Ge,-.6,.6),me.uniforms.iTime.value=_t/1e3,X.clear(!0,!0,!0),O.current?O.current.render(je):X.render(Ne,Re),F.current=requestAnimationFrame(wt)};return F.current=requestAnimationFrame(wt),()=>{F.current&&cancelAnimationFrame(F.current),window.removeEventListener("resize",Ze),me.dispose(),Ee.geometry.dispose(),O.current&&(O.current.dispose(),O.current=null),X.dispose(),Xe.contains(X.domElement)&&Xe.removeChild(X.domElement)}},[r,i,o,a,s,c,u,d,f,p]),x.useEffect(()=>{const Xe=j.current;if(Xe){const X=Xe.uniforms;X.uLineThickness.value=i,X.uLinesColor.value.copy(wy(o)),X.uScanColor.value.copy(wy(a)),X.uGridScale.value=c,X.uLineStyle.value=u==="dashed"?1:u==="dotted"?2:0,X.uLineJitter.value=Math.max(0,Math.min(1,d||0)),X.uBloomOpacity.value=Math.max(0,m),X.uNoise.value=Math.max(0,y),X.uScanGlow.value=S,X.uScanOpacity.value=Math.max(0,Math.min(1,s)),X.uScanDirection.value=f==="backward"?1:f==="pingpong"?2:0,X.uScanSoftness.value=w,X.uPhaseTaper.value=C,X.uScanDuration.value=Math.max(.05,M),X.uScanDelay.value=Math.max(0,A)}z.current&&(z.current.blendMode.opacity.value=Math.max(0,m),z.current.luminanceMaterial.threshold=g,z.current.luminanceMaterial.smoothing=v),W.current&&W.current.offset.set(_,_)},[i,o,a,c,u,d,m,g,v,_,y,S,s,f,w,C,M,A]),l.jsx("div",{ref:q,className:`gridscan${P?` ${P}`:""}`,style:D})};function wy(e){return new nr(e).convertSRGBToLinear()}function oFe(e,t,n,r,i,o){r=Math.max(1e-4,r);const a=2/r,s=a*o,c=1/(1+s+.48*s*s+.235*s*s*s);let u=e.clone().sub(t);const d=t.clone(),f=i*r;u.length()>f&&u.setLength(f);const p=e.clone().sub(u),m=n.clone().addScaledVector(u,a).multiplyScalar(o);n.sub(m.clone().multiplyScalar(a)),n.multiplyScalar(c);const g=p.clone().add(u.add(m).multiplyScalar(c)),v=d.clone().sub(e),_=g.clone().sub(d);return v.dot(_)>0&&(g.copy(d),n.set(0,0)),g}function M6(e,t,n,r,i,o){r=Math.max(1e-4,r);const a=2/r,s=a*o,c=1/(1+s+.48*s*s+.235*s*s*s);let u=e-t;const d=t,f=i*r;u=Math.sign(u)*Math.min(Math.abs(u),f);const p=e-u,m=(n.v+a*u)*o;n.v=(n.v-a*m)*c;let g=p+(u+m)*c;const v=d-e,_=g-d;return v*_>0&&(g=d,n.v=0),{value:g,v:n.v}}const aFe=()=>{const e=A$(),t=Yu(),{t:n}=Ri("common"),r={title:"Page not found",message:"The page you are looking for does not exist or has been moved.",goHome:"Go to Dashboard",goBack:"Go Back"},i=(d,f)=>{try{const p=n(d,{defaultValue:f,returnObjects:!1});return!p||p===d||p.startsWith("notFound.")?f:p}catch{return f}},o=()=>{const d=t.pathname;return d.includes("/dashboard")||d.includes("/backoffice")?"/dashboard":"/"},a=()=>{e(o())},s=i("notFound.title",r.title),c=i("notFound.message",r.message),u=o()==="/dashboard"?i("notFound.goHome",r.goHome):i("notFound.goBack",r.goBack);return l.jsxs("div",{className:"not-found-page",children:[l.jsx("div",{className:"not-found-page__background",children:l.jsx(iFe,{sensitivity:.55,lineThickness:1,linesColor:"#392e4e",gridScale:.1,scanColor:"#FF9FFC",scanOpacity:.4,enablePost:!0,bloomIntensity:.6,chromaticAberration:.002,noiseIntensity:.01})}),l.jsxs("div",{className:"not-found-page__content",children:[l.jsx("div",{className:"not-found-page__glitch","data-text":"404",children:"404"}),l.jsx("h2",{className:"not-found-page__title",children:s}),l.jsx("p",{className:"not-found-page__message",children:c}),l.jsx("button",{className:"not-found-page__button",onClick:a,children:u})]})]})},sFe="/backoffice",lFe=()=>l.jsxs(l.Fragment,{children:[l.jsx(fH,{}),l.jsx(cbe,{basename:sFe,children:l.jsxs(Fye,{children:[l.jsx(La,{path:"/login",element:l.jsx(JBe,{})}),l.jsx(La,{path:"/",element:l.jsx(Fl,{children:l.jsx(jM,{to:"/dashboard",replace:!0})})}),l.jsx(La,{path:"/dashboard",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(x1e,{})})})}),l.jsx(La,{path:"/users",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(M1e,{})})})}),l.jsx(La,{path:"/tenants",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(PBe,{})})})}),l.jsx(La,{path:"/customers",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(zBe,{})})})}),l.jsx(La,{path:"/offices",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(HBe,{})})})}),l.jsx(La,{path:"/settings",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(GBe,{})})})}),l.jsx(La,{path:"/shipments",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(XBe,{})})})}),l.jsx(La,{path:"/subscriptions",element:l.jsx(Fl,{children:l.jsx($c,{children:l.jsx(KBe,{})})})}),l.jsx(La,{path:"*",element:l.jsx(aFe,{})})]})})]}),cFe="Welcome",uFe="Login",dFe="Logout",fFe="Loading...",hFe="Error",pFe="Success",mFe="Save",gFe="Cancel",vFe="Edit",yFe="Create",bFe="Search",xFe="Filter",_Fe="Refresh",wFe="Close",SFe="Back",CFe="Next",TFe="Previous",kFe="Submit",EFe="Confirm",MFe="Yes",AFe="No",NFe="Name",PFe="Email",BFe="Phone",RFe="Address",jFe="Description",IFe="Actions",zFe="No data available",LFe="Language",DFe={welcome:cFe,login:uFe,logout:dFe,loading:fFe,error:hFe,success:pFe,save:mFe,cancel:gFe,delete:"Delete",edit:vFe,create:yFe,search:bFe,filter:xFe,refresh:_Fe,close:wFe,back:SFe,next:CFe,previous:TFe,submit:kFe,confirm:EFe,yes:MFe,no:AFe,name:NFe,email:PFe,phone:BFe,address:RFe,description:jFe,actions:IFe,noData:zFe,language:LFe},OFe="Bienvenido",FFe="Iniciar sesin",UFe="Cerrar sesin",qFe="Cargando...",HFe="Error",VFe="xito",WFe="Guardar",GFe="Cancelar",$Fe="Editar",XFe="Crear",ZFe="Buscar",KFe="Filtrar",YFe="Actualizar",JFe="Cerrar",QFe="Atrs",e4e="Siguiente",t4e="Anterior",n4e="Enviar",r4e="Confirmar",i4e="S",o4e="No",a4e="Nombre",s4e="Correo electrnico",l4e="Telfono",c4e="Direccin",u4e="Descripcin",d4e="Acciones",f4e="No hay datos disponibles",h4e="Idioma",p4e={welcome:OFe,login:FFe,logout:UFe,loading:qFe,error:HFe,success:VFe,save:WFe,cancel:GFe,delete:"Eliminar",edit:$Fe,create:XFe,search:ZFe,filter:KFe,refresh:YFe,close:JFe,back:QFe,next:e4e,previous:t4e,submit:n4e,confirm:r4e,yes:i4e,no:o4e,name:a4e,email:s4e,phone:l4e,address:c4e,description:u4e,actions:d4e,noData:f4e,language:h4e},m4e="Willkommen",g4e="Anmelden",v4e="Abmelden",y4e="Ldt...",b4e="Fehler",x4e="Erfolg",_4e="Speichern",w4e="Abbrechen",S4e="Bearbeiten",C4e="Erstellen",T4e="Suchen",k4e="Filtern",E4e="Aktualisieren",M4e="Schlieen",A4e="Zurck",N4e="Weiter",P4e="Vorherige",B4e="Absenden",R4e="Besttigen",j4e="Ja",I4e="Nein",z4e="Name",L4e="E-Mail",D4e="Telefon",O4e="Adresse",F4e="Beschreibung",U4e="Aktionen",q4e="Keine Daten verfgbar",H4e="Sprache",V4e={welcome:m4e,login:g4e,logout:v4e,loading:y4e,error:b4e,success:x4e,save:_4e,cancel:w4e,delete:"Lschen",edit:S4e,create:C4e,search:T4e,filter:k4e,refresh:E4e,close:M4e,back:A4e,next:N4e,previous:P4e,submit:B4e,confirm:R4e,yes:j4e,no:I4e,name:z4e,email:L4e,phone:D4e,address:O4e,description:F4e,actions:U4e,noData:q4e,language:H4e},W4e="Bienvenue",G4e="Se connecter",$4e="Se dconnecter",X4e="Chargement...",Z4e="Erreur",K4e="Succs",Y4e="Enregistrer",J4e="Annuler",Q4e="Modifier",e6e="Crer",t6e="Rechercher",n6e="Filtrer",r6e="Actualiser",i6e="Fermer",o6e="Retour",a6e="Suivant",s6e="Prcdent",l6e="Soumettre",c6e="Confirmer",u6e="Oui",d6e="Non",f6e="Nom",h6e="Courriel",p6e="Tlphone",m6e="Adresse",g6e="Description",v6e="Actions",y6e="Aucune donne disponible",b6e="Langue",x6e={welcome:W4e,login:G4e,logout:$4e,loading:X4e,error:Z4e,success:K4e,save:Y4e,cancel:J4e,delete:"Supprimer",edit:Q4e,create:e6e,search:t6e,filter:n6e,refresh:r6e,close:i6e,back:o6e,next:a6e,previous:s6e,submit:l6e,confirm:c6e,yes:u6e,no:d6e,name:f6e,email:h6e,phone:p6e,address:m6e,description:g6e,actions:v6e,noData:y6e,language:b6e},_6e="",w6e="",S6e="",C6e="...",T6e="",k6e="",E6e="",M6e="",A6e="",N6e="",P6e="",B6e="",R6e="",j6e="",I6e="",z6e="",L6e="",D6e="",O6e="",F6e="",U6e="",q6e="",H6e="",V6e="",W6e="",G6e="",$6e="",X6e="",Z6e="",K6e={welcome:_6e,login:w6e,logout:S6e,loading:C6e,error:T6e,success:k6e,save:E6e,cancel:M6e,delete:"",edit:A6e,create:N6e,search:P6e,filter:B6e,refresh:R6e,close:j6e,back:I6e,next:z6e,previous:L6e,submit:D6e,confirm:O6e,yes:F6e,no:U6e,name:q6e,email:H6e,phone:V6e,address:W6e,description:G6e,actions:$6e,noData:X6e,language:Z6e},Y6e={title:"Dashboard",welcome:"Welcome, {{name}}!",refresh:"Refresh",refreshTree:"Refresh Tree",customers:"Customers",customersDescription:"Total customers in the system",tenants:"Tenants",tenantsDescription:"Total tenants in the system",users:"Users",usersDescription:"Total users in the system",offices:"Offices",officesDescription:"Total offices in the system",officeMap:"Office Map",officeMapDescription:"Location of all offices on the map",hierarchicalStructure:"Hierarchical Structure",hierarchicalStructureDescription:"Customers, tenants, offices and users organized hierarchically",recentActivity:"Recent Activity",recentActivityDescription:"Latest system activities",recentActivityEmpty:"Recent activity will appear here...",loadingMap:"Loading map...",noOfficesAvailable:"No offices available to display on the map",loadingHierarchicalStructure:"Loading hierarchical structure...",noDataAvailable:"No data available to display"},J6e={mainMenu:"Main Menu",dashboard:"Dashboard",customers:"Customers",tenants:"Tenants",offices:"Offices",shipments:"Shipments",users:"Users",settings:"Settings",subscriptions:"Subscriptions"},Q6e={search:"Search",new:"New",calendar:"Calendar",notifications:"Notifications",settings:"Settings"},eUe={file:"File",view:"View",help:"Help",new:"New",open:"Open",save:"Save",settings:"Settings",refresh:"Refresh",toggleSidebar:"Toggle Sidebar",documentation:"Documentation",about:"About"},tUe={title:"Customers",searchPlaceholder:"Search by name, identification or country...",refresh:"Refresh",refreshTitle:"Refresh customer list",tableView:"Table View",interactiveView:"Interactive View",noCustomersFound:"No customers found",dragToRoot:"Drag here to convert to root customer (without parent)",loadingCustomers:"Loading customers...",reorderingCustomer:"Reordering customer...",new:"New",level:"Level",name:"Name",identification:"Identification",country:"Country",city:"City",phone:"Phone",email:"Email",tenants:"Tenants",offices:"Offices",users:"Users",status:"Status",actions:"Actions",rootCustomer:"Root customer",suspended:"Suspended",active:"Active",inactive:"Inactive",viewDetails:"View details",edit:"Edit Customer",addOffice:"Add Office",addTenant:"Add Tenant",viewUsers:"View users",sendNotification:"Send notification",assignToCustomer:"Assign to another customer",activate:"Activate",suspend:"Suspend",delete:"Delete",contactData:"Contact Data",phoneLabel:"Phone:",emailLabel:"Email:",cityLabel:"City:",addressLabel:"Address:",customerUsers:"Customer Users",loadingUsers:"Loading users...",interactiveViewTitle:"Interactive View: Customers  Tenants  Users",interactiveViewLevel:"Level: Customers (1)  Tenants (2)  Users (3)",loadingInteractiveView:"Loading interactive view...",noDataForInteractiveView:"No data available to display in interactive view",details:"Customer Details",skipDefaultStructure:"Skip default structure creation",skipDefaultStructureMessage:"Default tenant, office and user will not be created.",createDefaultTenantMessage:"A default tenant will be automatically created for this customer.",hasParent:"The new customer will be a child of another customer",parentCustomer:"Parent Customer",stateProvince:"State/Province",detailsTab:"Details",tenantsTab:"Tenants",officesTab:"Offices",usersTab:"Users",newOffice:"New Office",newTenant:"New Tenant",newUser:"New User",assignTenant:"Assign Tenant",selectTenant:"Select Tenant",loadingTenants:"Loading tenants...",selectTenantPlaceholder:"Select a tenant",noTenantsAvailable:"No tenants available to assign. All existing tenants are already assigned to other customers.",tenantNamePlaceholder:"Tenant name",address:"Address",addressPlaceholder:"Address",postalCode:"Postal Code",postalCodePlaceholder:"Postal Code",userEmailPlaceholder:"User email",userNamePlaceholder:"User name",contactEmailPlaceholder:"Contact email",auth0IdOptional:"Auth0 ID (optional)",auth0IdPlaceholder:"Will be generated automatically if left empty",assigning:"Assigning...",assign:"Assign"},nUe={title:"Offices",searchPlaceholder:"Search by name, customer, address or city...",refresh:"Refresh",refreshTitle:"Refresh office list",tableView:"Table View",interactiveView:"Interactive View",noOfficesFound:"No offices found",loadingOffices:"Loading offices...",loadingInteractiveView:"Loading interactive view...",noDataForInteractiveView:"No data available to display in interactive view",interactiveViewTitle:"Interactive View: Offices  Users",name:"Name",country:"Country",city:"City",contactData:"Contact Data",location:"Location",customers:"Customers",tenants:"Tenants",users:"Users",status:"Status",actions:"Actions",viewEditLocation:"View/Edit location",addLocation:"Add location",associatedCustomers:"Associated Customers",new:"New",userName:"Name",userEmail:"Email",userRole:"Role",userStatus:"Status",namePlaceholder:"Office name",selectCountry:"Select country",edit:"Edit Office",details:"Office Details",detailsTab:"Details",usersTab:"Users",tenantDetails:"Tenant Details",customerDetails:"Customer Details"},rUe={title:"Subscription Management",newSubscription:"New Subscription",searchPlaceholder:"Search by subscription type or customer...",filterByCustomer:"Filter by customer",allCustomers:"All customers",refresh:"Refresh",loadingSubscriptions:"Loading subscriptions...",noSubscriptionsFound:"No subscriptions found",customer:"Customer",subscriptionType:"Subscription Type",model:"Model",status:"Status",startDate:"Start Date",tokenUsage:"Token Usage",messageUsage:"Message Usage",actions:"Actions",active:"Active",inactive:"Inactive",selectCustomer:"Select customer",selectSubscriptionType:"Select subscription type",startDateLabel:"Start Date"},iUe={networkError:"Network error: Unable to connect to the server",requestTimeout:"Request timeout",notAvailable:"N/A",close:"Close",loading:"Loading...",error:"Error",success:"Success",confirmClose:"Are you sure you want to close? Unsaved data will be lost.",confirmCancel:"Are you sure you want to cancel? Unsaved data will be lost.",confirmCancelChanges:"Are you sure you want to cancel? Unsaved changes will be lost.",editTenant:"Edit Tenant",editUser:"Edit User",editCustomer:"Edit Customer",editOffice:"Edit Office",officeDetails:"Office Details",address:"Address",city:"City",stateProvince:"State/Province",postalCode:"Postal Code",phone:"Phone",email:"Email",created:"Created",updated:"Updated",suspended:"Suspended",active:"Active",inactive:"Inactive"},oUe={title:"Jarvis - AI Assistant",openChat:"Open Jarvis chat",close:"Close",monthlyUsage:"Monthly usage",tokens:"Tokens",messages:"Messages",greeting:"Hello, I'm Jarvis",greetingDescription:"I can help you query information, solve logistics problems and analyze system data. How can I help you?",thinking:"Jarvis is thinking...",placeholder:"Type your message...",send:"Send",sendMessage:"Send message",errorSending:"Error sending message. Please try again.",limit95:"You have reached 95% of your monthly limit. Consider upgrading your subscription.",limit90:"You have reached 90% of your monthly limit.",limit80:"You have reached 80% of your monthly limit.",contactSupport:"Please contact support to activate or upgrade your subscription."},aUe={signOut:"Sign out",viewAccount:"View account",openAnotherMailbox:"Open another mailbox",otherAccounts:"Other accounts",signInDifferent:"Sign in with a different account"},sUe={title:"Tenants",searchPlaceholder:"Search by name or customer...",refresh:"Refresh",refreshTitle:"Refresh tenant list",tableView:"Table View",interactiveView:"Interactive View",noTenantsFound:"No tenants found",loadingTenants:"Loading tenants...",loadingInteractiveView:"Loading interactive view...",noDataForInteractiveView:"No data available to display in interactive view",interactiveViewTitle:"Interactive View: Tenants  Users",name:"Name",customer:"Customer",tenant:"Tenant",offices:"Offices",users:"Users",status:"Status",actions:"Actions",new:"New",details:"Tenant Details",created:"Created",updated:"Updated",suspended:"Suspended",active:"Active",inactive:"Inactive",assigning:"Assigning...",assign:"Assign"},lUe={title:"Users",searchPlaceholder:"Search by email, name or role...",refresh:"Refresh",refreshTitle:"Refresh user list",noUsersFound:"No users found",loadingUsers:"Loading users...",name:"Name",phone:"Phone",tenants:"Tenants",offices:"Offices",role:"Role",status:"Status",auth0Id:"Auth0 ID",creationDate:"Creation Date",actions:"Actions",associatedTenants:"Associated Tenants",associatedOffices:"Associated Offices",assignOfficeAndTenant:"Assign office and tenant",administrator:"Administrator",user:"User",suspended:"Suspended",active:"Active",inactive:"Inactive",viewDetails:"View details",edit:"Edit",activate:"Activate",suspend:"Suspend",delete:"Delete",newUser:"New User",editUser:"Edit User",userDetails:"User Details",email:"Email",contactEmail:"Contact Email",auth0IdOptional:"Auth0 ID (optional)",auth0IdPlaceholder:"Will be generated automatically if left empty",created:"Created",updated:"Updated",cancel:"Cancel",create:"Create",creating:"Creating...",save:"Save",saving:"Saving...",close:"Close",confirmClose:"Are you sure you want to close? Unsaved data will be lost.",confirmCancel:"Are you sure you want to cancel? Unsaved data will be lost.",confirmCancelChanges:"Are you sure you want to cancel? Unsaved changes will be lost.",editTenant:"Edit Tenant",editCustomer:"Edit Customer",editOffice:"Edit Office",confirmDeletion:"Confirm deletion",confirmDeletionMessage:'Are you sure you want to delete the user "{{name}}"? This action cannot be undone.',customerDetails:"Customer Details",identification:"Identification",country:"Country",stateProvince:"State/Province",city:"City",tenantCount:"Tenants",userCount:"Users",changeUserCustomer:"Change User Customer",changeUserCustomerMessage:'Select a new customer for user "{{name}}". When changing the customer, the associated office and tenant will also be updated.',currentCustomer:"Current customer: {{name}}",changing:"Changing...",changeCustomer:"Change Customer",assignTenantAndOffice:"Assign Tenant and Office",noOfficesForTenant:"No offices available for this tenant",initializeDefault:"Initialize Default",initializing:"Initializing...",initializeDefaultDescription:"Creates a default customer, tenant and office and assigns them to this user",assigning:"Assigning...",assign:"Assign",noOfficesAvailableForTenant:"No offices available for this tenant",errorLoadingUsers:"Error loading users",errorCreatingUser:"Error creating user",errorSavingUser:"Error saving user",errorDeletingUser:"Error deleting user",errorSuspendingUser:"Error suspending user",errorActivatingUser:"Error activating user",errorLoadingCustomerDetails:"Error loading customer details",errorOpeningChangeCustomerDialog:"Error opening change customer dialog",errorChangingUserCustomer:"Error changing user customer",errorInitializingDefault:"Error initializing default",errorAssigningTenantAndOffice:"Error assigning tenant and office",emailRequired:"Email is required",mustSelectCustomer:"Must select a customer",sameCustomerSelected:"Selected customer is the same as the current one",mustSelectTenant:"Must select a tenant",tenantNotFound:"Tenant not found",noUserSelected:"No user selected",noCountriesAvailable:"No countries available. Please contact administrator.",errorCreatingCustomer:"Error creating customer: invalid server response",errorCreatingCustomerNoId:"Error creating customer: no valid ID received",couldNotCreateDefaultTenant:"Could not create default tenant",couldNotGetCreatedTenant:"Could not get created tenant"},cUe={title:"Dev Cracks Backoffice",subtitle:"Sign in to access the administration panel",signIn:"Sign In"},uUe={title:"Settings",generalSettings:"General Settings",generalSettingsDescription:"General system settings",siteLogo:"Site Logo (URL)",siteLogoPlaceholder:"https://example.com/logo.png",siteName:"Site Name",siteNamePlaceholder:"Dev Cracks",siteUrl:"Site URL",siteUrlPlaceholder:"https://devcracks.com",maintenanceMode:"Maintenance Mode",emailNotifications:"Email Notifications",saveChanges:"Save Changes",saving:"Saving...",shipmentCategories:"Shipment Categories",shipmentCategoriesDescription:"Manage shipment categories available for this tenant",newCategory:"New Category",editCategory:"Edit Category",categoryName:"Name",categoryNamePlaceholder:"E.g: Document, Package, etc.",categoryDescription:"Description",categoryDescriptionPlaceholder:"Enter category description",categoryStatus:"Status",categoryActions:"Actions",active:"Active",inactive:"Inactive",activate:"Activate",deactivate:"Deactivate",edit:"Edit",noCategories:"No categories registered",shipmentRates:"Shipment Rates",shipmentRatesDescription:"Manage shipment rates available for this tenant",newRate:"New Rate",editRate:"Edit Rate",rateName:"Name",rateNamePlaceholder:"E.g: Standard, Express, etc.",rateDescription:"Description",rateDescriptionPlaceholder:"Enter rate description",slaDays:"SLA (days)",baseCost:"Base Cost",rateStatus:"Status",rateActions:"Actions",noRates:"No rates registered",create:"Create",update:"Update",cancel:"Cancel",subscriptionTypes:"Subscription Types",subscriptionTypesDescription:"Manage subscription types available in the system",newSubscriptionType:"New Type",editSubscriptionType:"Edit Subscription Type",subscriptionTypeName:"Name",subscriptionTypeNamePlaceholder:"E.g: Basic, Premium, etc.",allowedModel:"Allowed Model",allowedModelPlaceholder:"Select OpenAI model",maxTokensPerMonth:"Max Tokens/Month",maxMessagesPerMonth:"Max Messages/Month",maxTokensPerMessage:"Max Tokens/Message",pricePerMonth:"Monthly Price ()",features:"Features",addFeature:"Add",addFeaturePlaceholder:"Add feature",noSubscriptionTypes:"No subscription types registered",model:"Model",tokensPerMonth:"Tokens/Month",messagesPerMonth:"Messages/Month",tokensPerMessage:"Tokens/Message",price:"Price/Month",free:"Free",unlimited:""},dUe={title:"Shipment Requests",newRequest:"New Request",searchPlaceholder:"Search by guide number, customer, contact or address...",guideNumber:"Guide Number",customer:"Customer",origin:"Origin",destination:"Destination",contact:"Contact",showAllContacts:"Show all contacts",hideAllContacts:"Hide all contacts",showContact:"Show contact",hideContact:"Hide contact",requestDate:"Request Date",estimatedDate:"Estimated Date",print:"Print",label:"Label",noRequests:"No requests registered",errorInitializing:"Error initializing page",errorLoading:"Error loading data",errorUnknown:"Unknown error",errorRendering:"Error rendering page",reloadPage:"Reload Page",errorGeneratingLabel:"Error generating label",notAvailable:"N/A"},fUe={title:"New Shipment Request",back:"Back",customerData:"Customer Data",customer:"Customer",originData:"Origin Data",originAddress:"Origin Address",originCity:"Origin City",originStateProvince:"Origin State/Province",originPostalCode:"Origin Postal Code",originCountry:"Origin Country",destinationData:"Destination Data",destinationAddress:"Destination Address",destinationCity:"Destination City",destinationStateProvince:"Destination State/Province",destinationPostalCode:"Destination Postal Code",destinationCountry:"Destination Country",contactData:"Contact Data",contactName:"Contact Name",phone:"Phone",email:"Email",copyFromCustomer:"Copy Customer Data",shipmentDetails:"Shipment Details",weight:"Weight (kg)",width:"Width (cm)",height:"Height (cm)",depth:"Depth (cm)",category:"Category",fragile:"Fragile",insured:"Insured",insuredValue:"Insured Value",rate:"Rate",selectRate:"Select Rate",ratePreview:"Preview:",estimatedDeliveryDate:"Estimated delivery date",estimatedCost:"Estimated cost",create:"Create Request",creating:"Creating...",cancel:"Cancel",errorInitializing:"Error initializing page",errorLoading:"Error loading data",errorUnknown:"Unknown error",errorCreating:"Error creating request",successCreating:"Request created successfully"},hUe={selectLanguage:"Select language"},pUe={title:"Settings",searchPlaceholder:"Search settings",close:"Close",account:"Account",general:"General",mail:"Mail",calendar:"Calendar",people:"People",languageAndTime:"Language and time",appearance:"Appearance",notifications:"Notifications",accessibility:"Accessibility",distributionGroups:"Distribution groups",privacyAndData:"Privacy and data",search:"Search",cantFindSettings:`Can't find some of your General settings? Categories, Mobile devices and Storage have moved to the new "Account" tab.`,clickHere:"Click here",toViewAccountTab:'to view the new "Account" tab.',syncAcrossMicrosoft365:"Sync across Microsoft 365",syncDescription:"You can choose to use Outlook with the same settings used in your other Microsoft apps.",useMicrosoft365Settings:"Use my Microsoft 365 settings",viewManageMicrosoft365:"View and manage your Microsoft 365 settings",outlookSettings:"Outlook settings",languageCountryRegion:"Language (Country/Region)",dateFormat:"Date format",dateFormatExample:"(for example, September 1, 2026 is displayed as follows)",timeFormat:"Time format",timeZone:"Time zone",change:"Change",theme:"Theme",chooseTheme:"Choose your preferred theme",light:"Light",dark:"Dark",system:"System",emailNotifications:"Email notifications",emailNotificationsDescription:"Receive email notifications for important updates",browserNotifications:"Browser notifications",browserNotificationsDescription:"Show notifications in your browser",myUserInformation:"My Information as User",myUserInformationDescription:"Information of your user account",myCustomerInformation:"My Information as Customer",myCustomerInformationDescription:"Information of your customer account",name:"Name",email:"Email",contactEmail:"Contact Email",phone:"Phone",role:"Role",status:"Status",userId:"User ID",customerId:"Customer ID",identification:"Identification",country:"Country",stateProvince:"State/Province",city:"City",parentCustomer:"Parent Customer",administrator:"Administrator",user:"User",active:"Active",inactive:"Inactive",suspended:"Suspended",notSpecified:"Not specified",loadingCustomerInfo:"Loading customer information...",couldNotLoadUserInfo:"Could not load user information",couldNotLoadCustomerInfo:"Could not load customer information",configurationFor:"Configuration options for",willBeAvailable:"will be available here."},mUe={title:"Notifications",markAllAsRead:"Mark all as read",noNotifications:"No notifications",viewAllNotifications:"View all notifications",dismiss:"Dismiss",allNotifications:"All notifications",close:"Close",newUserRegistered:"New user registered",newUserRegisteredMessage:"A new user has been registered in the system",systemUpdate:"System update",systemUpdateMessage:"System update has been completed successfully",securityWarning:"Security warning",securityWarningMessage:"An unauthorized access attempt was detected",timeAgo:{justNow:"Just now",minutesAgo:"{{count}} minute ago",minutesAgo_plural:"{{count}} minutes ago",hoursAgo:"{{count}} hour ago",hoursAgo_plural:"{{count}} hours ago",daysAgo:"{{count}} day ago",daysAgo_plural:"{{count}} days ago"}},gUe={dashboard:Y6e,layout:J6e,ribbonBar:Q6e,ribbonMenu:eUe,customers:tUe,offices:nUe,subscriptions:rUe,common:iUe,jarvis:oUe,userAccount:aUe,tenants:sUe,users:lUe,login:cUe,settings:uUe,shipments:dUe,newShipmentRequest:fUe,languageSelector:hUe,settingsDialog:pUe,notifications:mUe},vUe={title:"Panel de Control",welcome:"Bienvenido, {{name}}!",refresh:"Actualizar",refreshTree:"Actualizar rbol",customers:"Clientes",customersDescription:"Total de clientes en el sistema",tenants:"Tenants",tenantsDescription:"Total de tenants en el sistema",users:"Usuarios",usersDescription:"Total de usuarios en el sistema",offices:"Sedes",officesDescription:"Total de sedes en el sistema",officeMap:"Mapa de Sedes",officeMapDescription:"Ubicacin de todas las sedes en el mapa",hierarchicalStructure:"Estructura Jerrquica",hierarchicalStructureDescription:"Clientes, tenants, sedes y usuarios organizados jerrquicamente",recentActivity:"Actividad Reciente",recentActivityDescription:"ltimas actividades del sistema",recentActivityEmpty:"La actividad reciente aparecer aqu...",loadingMap:"Cargando mapa...",noOfficesAvailable:"No hay sedes disponibles para mostrar en el mapa",loadingHierarchicalStructure:"Cargando estructura jerrquica...",noDataAvailable:"No hay datos disponibles para mostrar"},yUe={mainMenu:"Men Principal",dashboard:"Panel de Control",customers:"Clientes",tenants:"Tenants",offices:"Sedes",shipments:"Envos",users:"Usuarios",settings:"Configuracin",subscriptions:"Suscripciones"},bUe={search:"Buscar",new:"Nuevo",calendar:"Calendario",notifications:"Notificaciones",settings:"Configuracin"},xUe={file:"Archivo",view:"Ver",help:"Ayuda",new:"Nuevo",open:"Abrir",save:"Guardar",settings:"Configuracin",refresh:"Actualizar",toggleSidebar:"Alternar barra lateral",documentation:"Documentacin",about:"Acerca de"},_Ue={title:"Clientes",searchPlaceholder:"Buscar por nombre, identificacin o pas...",refresh:"Actualizar",refreshTitle:"Actualizar lista de clientes",tableView:"Vista de Tabla",interactiveView:"Vista Interactiva",noCustomersFound:"No se encontraron clientes",dragToRoot:"Arrastra aqu para convertir en cliente raz (sin padre)",loadingCustomers:"Cargando clientes...",reorderingCustomer:"Reubicando cliente...",new:"Nuevo",level:"Nivel",name:"Nombre",identification:"Identificacin",country:"Pas",city:"Ciudad",phone:"Telfono",email:"Email",tenants:"Tenants",offices:"Sedes",users:"Usuarios",status:"Estado",actions:"Acciones",rootCustomer:"Cliente raz",suspended:"Suspendido",active:"Activo",inactive:"Inactivo",viewDetails:"Ver detalles",edit:"Editar",addOffice:"Agregar Sede",addTenant:"Agregar Tenant",viewUsers:"Ver usuarios",sendNotification:"Enviar notificacin",assignToCustomer:"Asignar a otro cliente",activate:"Activar",suspend:"Suspender",delete:"Eliminar",contactData:"Datos de Contacto",phoneLabel:"Telfono:",emailLabel:"Email:",cityLabel:"Ciudad:",addressLabel:"Direccin:",customerUsers:"Usuarios del Cliente",loadingUsers:"Cargando usuarios...",interactiveViewTitle:"Vista Interactiva: Clientes  Tenants  Usuarios",interactiveViewLevel:"Nivel: Clientes (1)  Tenants (2)  Usuarios (3)",loadingInteractiveView:"Cargando vista interactiva...",noDataForInteractiveView:"No hay datos para mostrar en la vista interactiva"},wUe={title:"Sedes",searchPlaceholder:"Buscar por nombre, cliente, direccin o ciudad...",refresh:"Actualizar",refreshTitle:"Actualizar lista de sedes",tableView:"Vista de Tabla",interactiveView:"Vista Interactiva",noOfficesFound:"No se encontraron sedes",loadingOffices:"Cargando sedes...",loadingInteractiveView:"Cargando vista interactiva...",noDataForInteractiveView:"No hay datos para mostrar en la vista interactiva",interactiveViewTitle:"Vista Interactiva: Sedes  Usuarios",name:"Nombre",country:"Pas",city:"Ciudad",contactData:"Datos Contacto",location:"Ubicacin",customers:"Clientes",tenants:"Tenants",users:"Usuarios",status:"Estado",actions:"Acciones",viewEditLocation:"Ver/Editar ubicacin",addLocation:"Agregar ubicacin",associatedCustomers:"Clientes Asociados",new:"Nuevo",userName:"Nombre",userEmail:"Email",userRole:"Rol",userStatus:"Estado",namePlaceholder:"Nombre de la sede",selectCountry:"Seleccionar pas",edit:"Editar Sede",details:"Detalles de la Sede",detailsTab:"Detalles",usersTab:"Usuarios",tenantDetails:"Detalles del Tenant",customerDetails:"Detalles del Cliente"},SUe={title:"Gestin de Suscripciones",newSubscription:"Nueva Suscripcin",searchPlaceholder:"Buscar por tipo de suscripcin o cliente...",filterByCustomer:"Filtrar por cliente",allCustomers:"Todos los clientes",refresh:"Actualizar",loadingSubscriptions:"Cargando suscripciones...",noSubscriptionsFound:"No se encontraron suscripciones",customer:"Cliente",subscriptionType:"Tipo de Suscripcin",model:"Modelo",status:"Estado",startDate:"Fecha Inicio",tokenUsage:"Uso de Tokens",messageUsage:"Uso de Mensajes",actions:"Acciones",active:"Activa",inactive:"Inactiva",selectCustomer:"Seleccionar cliente",selectSubscriptionType:"Seleccionar tipo de suscripcin",startDateLabel:"Fecha de Inicio"},CUe={networkError:"Error de red: No se puede conectar al servidor",requestTimeout:"Tiempo de espera agotado",notAvailable:"N/A",close:"Cerrar",loading:"Cargando...",error:"Error",success:"xito",confirmClose:"Est seguro de que desea cerrar? Se perdern los datos no guardados.",confirmCancel:"Est seguro de que desea cancelar? Se perdern los datos no guardados.",confirmCancelChanges:"Est seguro de que desea cancelar? Se perdern los cambios no guardados.",editTenant:"Editar Tenant",editUser:"Editar Usuario",editCustomer:"Editar Cliente",editOffice:"Editar Sede",officeDetails:"Detalles de la Sede",address:"Direccin",city:"Ciudad",stateProvince:"Estado/Provincia",postalCode:"Cdigo Postal",phone:"Telfono",email:"Correo electrnico",created:"Creado",updated:"Actualizado",suspended:"Suspendido",active:"Activo",inactive:"Inactivo"},TUe={title:"Jarvis - Asistente IA",openChat:"Abrir chat de Jarvis",close:"Cerrar",monthlyUsage:"Uso mensual",tokens:"Tokens",messages:"Mensajes",greeting:"Hola, soy Jarvis",greetingDescription:"Puedo ayudarte a consultar informacin, resolver problemas de logstica y analizar datos del sistema. En qu puedo ayudarte?",thinking:"Jarvis est pensando...",placeholder:"Escribe tu mensaje...",send:"Enviar",sendMessage:"Enviar mensaje",errorSending:"Error al enviar el mensaje. Por favor, intenta nuevamente.",limit95:"Has alcanzado el 95% de tu lmite mensual. Considera actualizar tu suscripcin.",limit90:"Has alcanzado el 90% de tu lmite mensual.",limit80:"Has alcanzado el 80% de tu lmite mensual.",contactSupport:"Por favor, contacta con soporte para activar o actualizar tu suscripcin."},kUe={signOut:"Cerrar sesin",viewAccount:"Ver cuenta",openAnotherMailbox:"Abrir otro buzn",otherAccounts:"Otras cuentas",signInDifferent:"Iniciar sesin con una cuenta diferente"},EUe={title:"Tenants",searchPlaceholder:"Buscar por nombre o cliente...",refresh:"Actualizar",refreshTitle:"Actualizar lista de tenants",tableView:"Vista de Tabla",interactiveView:"Vista Interactiva",noTenantsFound:"No se encontraron tenants",loadingTenants:"Cargando tenants...",loadingInteractiveView:"Cargando vista interactiva...",noDataForInteractiveView:"No hay datos para mostrar en la vista interactiva",interactiveViewTitle:"Vista Interactiva: Tenants  Usuarios",name:"Nombre",customer:"Cliente",tenant:"Tenant",offices:"Sedes",users:"Usuarios",status:"Estado",actions:"Acciones",new:"Nuevo",details:"Detalles del Tenant",created:"Creado",updated:"Actualizado",suspended:"Suspendido",active:"Activo",inactive:"Inactivo",assigning:"Asignando...",assign:"Asignar"},MUe={title:"Usuarios",searchPlaceholder:"Buscar por correo, nombre o rol...",refresh:"Actualizar",refreshTitle:"Actualizar lista de usuarios",noUsersFound:"No se encontraron usuarios",loadingUsers:"Cargando usuarios...",name:"Nombre",phone:"Telfono",tenants:"Tenants",offices:"Sedes",role:"Rol",status:"Estado",auth0Id:"ID de Auth0",creationDate:"Fecha de Creacin",actions:"Acciones",associatedTenants:"Tenants Asociados",associatedOffices:"Sedes Asociadas",assignOfficeAndTenant:"Asignar sede y tenant",administrator:"Administrador",user:"Usuario",suspended:"Suspendido",active:"Activo",inactive:"Inactivo",viewDetails:"Ver detalles",edit:"Editar",activate:"Activar",suspend:"Suspender",delete:"Eliminar",newUser:"Nuevo Usuario",editUser:"Editar Usuario",userDetails:"Detalles del Usuario",email:"Correo Electrnico",contactEmail:"Correo de Contacto",auth0IdOptional:"ID de Auth0 (opcional)",auth0IdPlaceholder:"Se generar automticamente si se deja vaco",created:"Creado",updated:"Actualizado",cancel:"Cancelar",create:"Crear",creating:"Creando...",save:"Guardar",saving:"Guardando...",confirmDeletion:"Confirmar eliminacin",confirmDeletionMessage:'Est seguro de que desea eliminar al usuario "{{name}}"? Esta accin no se puede deshacer.',customerDetails:"Detalles del Cliente",identification:"Identificacin",country:"Pas",stateProvince:"Estado/Provincia",city:"Ciudad",tenantCount:"Tenants",userCount:"Usuarios",changeUserCustomer:"Cambiar Cliente del Usuario",changeUserCustomerMessage:'Seleccione un nuevo cliente para el usuario "{{name}}". Al cambiar el cliente, la sede y el tenant asociados tambin se actualizarn.',currentCustomer:"Cliente actual: {{name}}",changing:"Cambiando...",changeCustomer:"Cambiar Cliente",assignTenantAndOffice:"Asignar Tenant y Sede",initializeDefault:"Inicializar por Defecto",initializing:"Inicializando...",initializeDefaultDescription:"Crea un cliente, tenant y sede por defecto y los asigna a este usuario",assigning:"Asignando...",assign:"Asignar",noOfficesAvailableForTenant:"No hay sedes disponibles para este tenant",errorLoadingUsers:"Error al cargar usuarios",errorCreatingUser:"Error al crear usuario",errorSavingUser:"Error al guardar usuario",errorDeletingUser:"Error al eliminar usuario",errorSuspendingUser:"Error al suspender usuario",errorActivatingUser:"Error al activar usuario",errorLoadingCustomerDetails:"Error al cargar detalles del cliente",errorOpeningChangeCustomerDialog:"Error al abrir dilogo de cambio de cliente",errorChangingUserCustomer:"Error al cambiar cliente del usuario",errorInitializingDefault:"Error al inicializar por defecto",errorAssigningTenantAndOffice:"Error al asignar tenant y sede",emailRequired:"El correo electrnico es obligatorio",mustSelectCustomer:"Debe seleccionar un cliente",sameCustomerSelected:"El cliente seleccionado es el mismo que el actual",mustSelectTenant:"Debe seleccionar un tenant",tenantNotFound:"Tenant no encontrado",noUserSelected:"No se ha seleccionado ningn usuario",noCountriesAvailable:"No hay pases disponibles. Por favor, contacte al administrador.",errorCreatingCustomer:"Error al crear cliente: respuesta del servidor invlida",errorCreatingCustomerNoId:"Error al crear cliente: no se recibi un ID vlido",couldNotCreateDefaultTenant:"No se pudo crear el tenant por defecto",couldNotGetCreatedTenant:"No se pudo obtener el tenant creado"},AUe={title:"Dev Cracks Backoffice",subtitle:"Inicia sesin para acceder al panel de administracin",signIn:"Iniciar Sesin"},NUe={title:"Configuracin",generalSettings:"Configuracin General",generalSettingsDescription:"Ajustes generales del sistema",siteLogo:"Logo del Sitio (URL)",siteLogoPlaceholder:"https://example.com/logo.png",siteName:"Nombre del Sitio",siteNamePlaceholder:"Dev Cracks",siteUrl:"URL del Sitio",siteUrlPlaceholder:"https://devcracks.com",maintenanceMode:"Modo Mantenimiento",emailNotifications:"Notificaciones por Email",saveChanges:"Guardar Cambios",saving:"Guardando...",shipmentCategories:"Categoras de Envo",shipmentCategoriesDescription:"Gestiona las categoras de envo disponibles para este tenant",newCategory:"Nueva Categora",editCategory:"Editar Categora",categoryName:"Nombre",categoryNamePlaceholder:"Ej: Documento, Paquete, etc.",categoryDescription:"Descripcin",categoryDescriptionPlaceholder:"Ingrese la descripcin de la categora",categoryStatus:"Estado",categoryActions:"Acciones",active:"Activa",inactive:"Inactiva",activate:"Activar",deactivate:"Desactivar",edit:"Editar",noCategories:"No hay categoras registradas",shipmentRates:"Tarifas de Envo",shipmentRatesDescription:"Gestiona las tarifas de envo disponibles para este tenant",newRate:"Nueva Tarifa",editRate:"Editar Tarifa",rateName:"Nombre",rateNamePlaceholder:"Ej: Estndar, Express, etc.",rateDescription:"Descripcin",rateDescriptionPlaceholder:"Ingrese la descripcin de la tarifa",slaDays:"SLA (das)",baseCost:"Costo Base",rateStatus:"Estado",rateActions:"Acciones",noRates:"No hay tarifas registradas",create:"Crear",update:"Actualizar",cancel:"Cancelar",subscriptionTypes:"Tipos de Suscripcin",subscriptionTypesDescription:"Gestiona los tipos de suscripcin disponibles en el sistema",newSubscriptionType:"Nuevo Tipo",editSubscriptionType:"Editar Tipo de Suscripcin",subscriptionTypeName:"Nombre",subscriptionTypeNamePlaceholder:"Ej: Bsico, Premium, etc.",allowedModel:"Modelo Permitido",allowedModelPlaceholder:"Seleccionar modelo de OpenAI",maxTokensPerMonth:"Tokens Mximos/Mes",maxMessagesPerMonth:"Mensajes Mximos/Mes",maxTokensPerMessage:"Tokens Mximos/Mensaje",pricePerMonth:"Precio Mensual ()",features:"Caractersticas",addFeature:"Agregar",addFeaturePlaceholder:"Agregar caracterstica",noSubscriptionTypes:"No hay tipos de suscripcin registrados",model:"Modelo",tokensPerMonth:"Tokens/Mes",messagesPerMonth:"Mensajes/Mes",tokensPerMessage:"Tokens/Mensaje",price:"Precio/Mes",free:"Gratis",unlimited:""},PUe={title:"Solicitudes de Recogida",newRequest:"Nueva Solicitud",searchPlaceholder:"Buscar por nmero de gua, cliente, contacto o direccin...",guideNumber:"Nmero de Gua",customer:"Cliente",origin:"Origen",destination:"Destino",contact:"Contacto",showAllContacts:"Mostrar todos los contactos",hideAllContacts:"Ocultar todos los contactos",showContact:"Mostrar contacto",hideContact:"Ocultar contacto",requestDate:"Fecha de Solicitud",estimatedDate:"Fecha Estimada",print:"Imprimir",label:"Etiqueta",noRequests:"No hay solicitudes registradas",errorInitializing:"Error al inicializar la pgina",errorLoading:"Error al cargar datos",errorUnknown:"Error desconocido",errorRendering:"Error al renderizar la pgina",reloadPage:"Recargar Pgina",errorGeneratingLabel:"Error al generar etiqueta",notAvailable:"N/A"},BUe={title:"Nueva Solicitud de Envo",back:"Volver",customerData:"Datos del Cliente",customer:"Cliente",originData:"Datos de Origen",originAddress:"Direccin Origen",originCity:"Ciudad Origen",originStateProvince:"Estado/Provincia Origen",originPostalCode:"Cdigo Postal Origen",originCountry:"Pas Origen",destinationData:"Datos de Destino",destinationAddress:"Direccin Destino",destinationCity:"Ciudad Destino",destinationStateProvince:"Estado/Provincia Destino",destinationPostalCode:"Cdigo Postal Destino",destinationCountry:"Pas Destino",contactData:"Datos de Contacto",contactName:"Nombre de Contacto",phone:"Telfono",email:"Email",copyFromCustomer:"Copiar Datos del Cliente",shipmentDetails:"Detalles del Envo",weight:"Peso (kg)",width:"Ancho (cm)",height:"Alto (cm)",depth:"Profundidad (cm)",category:"Categora",fragile:"Frgil",insured:"Asegurado",insuredValue:"Valor Asegurado",rate:"Tarifa",selectRate:"Seleccionar Tarifa",ratePreview:"Vista Previa:",estimatedDeliveryDate:"Fecha estimada de entrega",estimatedCost:"Costo estimado",create:"Crear Solicitud",creating:"Creando...",cancel:"Cancelar",errorInitializing:"Error al inicializar la pgina",errorLoading:"Error al cargar datos",errorUnknown:"Error desconocido",errorCreating:"Error al crear solicitud",successCreating:"Solicitud creada exitosamente"},RUe={selectLanguage:"Seleccionar idioma"},jUe={title:"Configuracin",searchPlaceholder:"Buscar configuracin",close:"Cerrar",account:"Cuenta",general:"General",mail:"Correo",calendar:"Calendario",people:"Personas",languageAndTime:"Idioma y hora",appearance:"Apariencia",notifications:"Notificaciones",accessibility:"Accesibilidad",distributionGroups:"Grupos de distribucin",privacyAndData:"Privacidad y datos",search:"Bsqueda",cantFindSettings:'No encuentras algunas de tus configuraciones generales? Categoras, Dispositivos mviles y Almacenamiento se han movido a la nueva pestaa "Cuenta".',clickHere:"Haz clic aqu",toViewAccountTab:'para ver la nueva pestaa "Cuenta".',syncAcrossMicrosoft365:"Sincronizar en Microsoft 365",syncDescription:"Puedes elegir usar Outlook con la misma configuracin que usas en tus otras aplicaciones de Microsoft.",useMicrosoft365Settings:"Usar mi configuracin de Microsoft 365",viewManageMicrosoft365:"Ver y administrar tu configuracin de Microsoft 365",outlookSettings:"Configuracin de Outlook",languageCountryRegion:"Idioma (Pas/Regin)",dateFormat:"Formato de fecha",dateFormatExample:"(por ejemplo, el 1 de septiembre de 2026 se muestra de la siguiente manera)",timeFormat:"Formato de hora",timeZone:"Zona horaria",change:"Cambiar",theme:"Tema",chooseTheme:"Elige tu tema preferido",light:"Claro",dark:"Oscuro",system:"Sistema",emailNotifications:"Notificaciones por correo electrnico",emailNotificationsDescription:"Recibir notificaciones por correo electrnico para actualizaciones importantes",browserNotifications:"Notificaciones del navegador",browserNotificationsDescription:"Mostrar notificaciones en tu navegador",myUserInformation:"Mi Informacin como Usuario",myUserInformationDescription:"Informacin de tu cuenta de usuario",myCustomerInformation:"Mi Informacin como Cliente",myCustomerInformationDescription:"Informacin de tu cuenta de cliente",name:"Nombre",email:"Correo electrnico",contactEmail:"Correo electrnico de contacto",phone:"Telfono",role:"Rol",status:"Estado",userId:"ID de Usuario",customerId:"ID de Cliente",identification:"Identificacin",country:"Pas",stateProvince:"Estado/Provincia",city:"Ciudad",parentCustomer:"Cliente Padre",administrator:"Administrador",user:"Usuario",active:"Activo",inactive:"Inactivo",suspended:"Suspendido",notSpecified:"No especificado",loadingCustomerInfo:"Cargando informacin del cliente...",couldNotLoadUserInfo:"No se pudo cargar la informacin del usuario",couldNotLoadCustomerInfo:"No se pudo cargar la informacin del cliente",configurationFor:"Las opciones de configuracin para",willBeAvailable:"estarn disponibles aqu."},IUe={title:"Notificaciones",markAllAsRead:"Marcar todas como ledas",noNotifications:"No hay notificaciones",viewAllNotifications:"Ver todas las notificaciones",dismiss:"Descartar",allNotifications:"Todas las notificaciones",close:"Cerrar",newUserRegistered:"Nuevo usuario registrado",newUserRegisteredMessage:"Se ha registrado un nuevo usuario en el sistema",systemUpdate:"Actualizacin del sistema",systemUpdateMessage:"Se ha completado la actualizacin del sistema exitosamente",securityWarning:"Advertencia de seguridad",securityWarningMessage:"Se detect un intento de acceso no autorizado",timeAgo:{justNow:"Hace unos momentos",minutesAgo:"Hace {{count}} minuto",minutesAgo_plural:"Hace {{count}} minutos",hoursAgo:"Hace {{count}} hora",hoursAgo_plural:"Hace {{count}} horas",daysAgo:"Hace {{count}} da",daysAgo_plural:"Hace {{count}} das"}},zUe={dashboard:vUe,layout:yUe,ribbonBar:bUe,ribbonMenu:xUe,customers:_Ue,offices:wUe,subscriptions:SUe,common:CUe,jarvis:TUe,userAccount:kUe,tenants:EUe,users:MUe,login:AUe,settings:NUe,shipments:PUe,newShipmentRequest:BUe,languageSelector:RUe,settingsDialog:jUe,notifications:IUe},LUe={title:"Dashboard",welcome:"Willkommen, {{name}}!",refresh:"Aktualisieren",refreshTree:"Baum aktualisieren",customers:"Kunden",customersDescription:"Gesamtanzahl der Kunden im System",tenants:"Mandanten",tenantsDescription:"Gesamtanzahl der Mandanten im System",users:"Benutzer",usersDescription:"Gesamtanzahl der Benutzer im System",offices:"Bros",officesDescription:"Gesamtanzahl der Bros im System",officeMap:"Bro-Karte",officeMapDescription:"Standort aller Bros auf der Karte",hierarchicalStructure:"Hierarchische Struktur",hierarchicalStructureDescription:"Kunden, Mandanten, Bros und Benutzer hierarchisch organisiert",recentActivity:"Letzte Aktivitten",recentActivityDescription:"Neueste Systemaktivitten",recentActivityEmpty:"Aktuelle Aktivitten werden hier angezeigt...",loadingMap:"Karte wird geladen...",noOfficesAvailable:"Keine Bros verfgbar, die auf der Karte angezeigt werden knnen",loadingHierarchicalStructure:"Hierarchische Struktur wird geladen...",noDataAvailable:"Keine Daten verfgbar zum Anzeigen"},DUe={mainMenu:"Hauptmen",dashboard:"Dashboard",customers:"Kunden",tenants:"Mandanten",offices:"Bros",shipments:"Sendungen",users:"Benutzer",settings:"Einstellungen",subscriptions:"Abonnements"},OUe={search:"Suchen",new:"Neu",calendar:"Kalender",notifications:"Benachrichtigungen",settings:"Einstellungen"},FUe={file:"Datei",view:"Ansicht",help:"Hilfe",new:"Neu",open:"ffnen",save:"Speichern",settings:"Einstellungen",refresh:"Aktualisieren",toggleSidebar:"Seitenleiste umschalten",documentation:"Dokumentation",about:"ber"},UUe={title:"Kunden",searchPlaceholder:"Suche nach Name, Identifikation oder Land...",refresh:"Aktualisieren",refreshTitle:"Kundenliste aktualisieren",tableView:"Tabellenansicht",interactiveView:"Interaktive Ansicht",noCustomersFound:"Keine Kunden gefunden",dragToRoot:"Hierher ziehen, um in Stammkunde (ohne Eltern) umzuwandeln",loadingCustomers:"Kunden werden geladen...",reorderingCustomer:"Kunde wird neu angeordnet...",new:"Neu",level:"Ebene",name:"Name",identification:"Identifikation",country:"Land",city:"Stadt",phone:"Telefon",email:"E-Mail",tenants:"Mandanten",offices:"Bros",users:"Benutzer",status:"Status",actions:"Aktionen",rootCustomer:"Stammkunde",suspended:"Gesperrt",active:"Aktiv",inactive:"Inaktiv",viewDetails:"Details anzeigen",edit:"Bearbeiten",addOffice:"Bro hinzufgen",addTenant:"Mandant hinzufgen",viewUsers:"Benutzer anzeigen",sendNotification:"Benachrichtigung senden",assignToCustomer:"Einem anderen Kunden zuweisen",activate:"Aktivieren",suspend:"Sperren",delete:"Lschen",contactData:"Kontaktdaten",phoneLabel:"Telefon:",emailLabel:"E-Mail:",cityLabel:"Stadt:",addressLabel:"Adresse:",customerUsers:"Kundenbenutzer",loadingUsers:"Benutzer werden geladen...",interactiveViewTitle:"Interaktive Ansicht: Kunden  Mandanten  Benutzer",interactiveViewLevel:"Ebene: Kunden (1)  Mandanten (2)  Benutzer (3)",loadingInteractiveView:"Interaktive Ansicht wird geladen...",noDataForInteractiveView:"Keine Daten verfgbar fr die interaktive Ansicht",details:"Kundendetails",skipDefaultStructure:"Standardstruktur-Erstellung berspringen",skipDefaultStructureMessage:"Standard-Mandant, Bro und Benutzer werden nicht erstellt.",createDefaultTenantMessage:"Ein Standard-Mandant wird automatisch fr diesen Kunden erstellt.",hasParent:"Der neue Kunde wird ein Kind eines anderen Kunden sein",parentCustomer:"Hauptkunde",detailsTab:"Details",tenantsTab:"Mandanten",officesTab:"Bros",usersTab:"Benutzer",newOffice:"Neues Bro",newTenant:"Neuer Mandant",newUser:"Neuer Benutzer",assignTenant:"Mandant zuweisen",selectTenant:"Mandant auswhlen",loadingTenants:"Mandanten werden geladen...",selectTenantPlaceholder:"Whlen Sie einen Mandanten aus",noTenantsAvailable:"Keine Mandanten zum Zuweisen verfgbar. Alle vorhandenen Mandanten sind bereits anderen Kunden zugewiesen.",tenantNamePlaceholder:"Mandantenname",addressPlaceholder:"Adresse",postalCodePlaceholder:"Postleitzahl",userEmailPlaceholder:"Benutzer-E-Mail",userNamePlaceholder:"Benutzername",contactEmailPlaceholder:"Kontakt-E-Mail",auth0IdOptional:"Auth0-ID (optional)",auth0IdPlaceholder:"Wird automatisch generiert, wenn leer gelassen",assigning:"Zuweisen...",assign:"Zuweisen"},qUe={title:"Bros",searchPlaceholder:"Suche nach Name, Kunde, Adresse oder Stadt...",refresh:"Aktualisieren",refreshTitle:"Broliste aktualisieren",tableView:"Tabellenansicht",interactiveView:"Interaktive Ansicht",noOfficesFound:"Keine Bros gefunden",loadingOffices:"Bros werden geladen...",loadingInteractiveView:"Interaktive Ansicht wird geladen...",noDataForInteractiveView:"Keine Daten verfgbar fr die interaktive Ansicht",interactiveViewTitle:"Interaktive Ansicht: Bros  Benutzer",name:"Name",country:"Land",city:"Stadt",contactData:"Kontaktdaten",location:"Standort",customers:"Kunden",tenants:"Mandanten",users:"Benutzer",status:"Status",actions:"Aktionen",viewEditLocation:"Standort anzeigen/bearbeiten",addLocation:"Standort hinzufgen",associatedCustomers:"Zugeordnete Kunden",new:"Neu",userName:"Name",userEmail:"E-Mail",userRole:"Rolle",userStatus:"Status",namePlaceholder:"Broname",selectCountry:"Land auswhlen",edit:"Bro bearbeiten",details:"Bro-Details",detailsTab:"Details",usersTab:"Benutzer",tenantDetails:"Mandanten-Details",customerDetails:"Kundendetails"},HUe={title:"Abonnementverwaltung",newSubscription:"Neues Abonnement",searchPlaceholder:"Suche nach Abonnementtyp oder Kunde...",filterByCustomer:"Nach Kunde filtern",allCustomers:"Alle Kunden",refresh:"Aktualisieren",loadingSubscriptions:"Abonnements werden geladen...",noSubscriptionsFound:"Keine Abonnements gefunden",customer:"Kunde",subscriptionType:"Abonnementtyp",model:"Modell",status:"Status",startDate:"Startdatum",tokenUsage:"Token-Verbrauch",messageUsage:"Nachrichtenverbrauch",actions:"Aktionen",active:"Aktiv",inactive:"Inaktiv",selectCustomer:"Kunde auswhlen",selectSubscriptionType:"Abonnementtyp auswhlen",startDateLabel:"Startdatum"},VUe={networkError:"Netzwerkfehler: Verbindung zum Server nicht mglich",requestTimeout:"Anfrage-Timeout",notAvailable:"N/V",close:"Schlieen",loading:"Wird geladen...",error:"Fehler",success:"Erfolg",confirmClose:"Sind Sie sicher, dass Sie schlieen mchten? Nicht gespeicherte Daten gehen verloren.",confirmCancel:"Sind Sie sicher, dass Sie abbrechen mchten? Nicht gespeicherte Daten gehen verloren.",confirmCancelChanges:"Sind Sie sicher, dass Sie abbrechen mchten? Nicht gespeicherte nderungen gehen verloren.",editTenant:"Tenant bearbeiten",editUser:"Benutzer bearbeiten",editCustomer:"Kunde bearbeiten",editOffice:"Sitz bearbeiten",officeDetails:"Sitz-Details",address:"Adresse",city:"Stadt",stateProvince:"Bundesland/Provinz",postalCode:"Postleitzahl",phone:"Telefon",email:"E-Mail",created:"Erstellt",updated:"Aktualisiert",suspended:"Gesperrt",active:"Aktiv",inactive:"Inaktiv"},WUe={title:"Jarvis - KI-Assistent",openChat:"Jarvis-Chat ffnen",close:"Schlieen",monthlyUsage:"Monatliche Nutzung",tokens:"Tokens",messages:"Nachrichten",greeting:"Hallo, ich bin Jarvis",greetingDescription:"Ich kann Ihnen helfen, Informationen abzufragen, Logistikprobleme zu lsen und Systemdaten zu analysieren. Wie kann ich Ihnen helfen?",thinking:"Jarvis denkt nach...",placeholder:"Geben Sie Ihre Nachricht ein...",send:"Senden",sendMessage:"Nachricht senden",errorSending:"Fehler beim Senden der Nachricht. Bitte versuchen Sie es erneut.",limit95:"Sie haben 95% Ihres monatlichen Limits erreicht. Erwgen Sie ein Upgrade Ihres Abonnements.",limit90:"Sie haben 90% Ihres monatlichen Limits erreicht.",limit80:"Sie haben 80% Ihres monatlichen Limits erreicht.",contactSupport:"Bitte kontaktieren Sie den Support, um Ihr Abonnement zu aktivieren oder zu aktualisieren."},GUe={signOut:"Abmelden",viewAccount:"Konto anzeigen",openAnotherMailbox:"Anderen Posteingang ffnen",otherAccounts:"Andere Konten",signInDifferent:"Mit einem anderen Konto anmelden"},$Ue={title:"Mandanten",searchPlaceholder:"Suche nach Name oder Kunde...",refresh:"Aktualisieren",refreshTitle:"Mandantenliste aktualisieren",tableView:"Tabellenansicht",interactiveView:"Interaktive Ansicht",noTenantsFound:"Keine Mandanten gefunden",loadingTenants:"Mandanten werden geladen...",loadingInteractiveView:"Interaktive Ansicht wird geladen...",noDataForInteractiveView:"Keine Daten verfgbar fr die interaktive Ansicht",interactiveViewTitle:"Interaktive Ansicht: Mandanten  Benutzer",name:"Name",customer:"Kunde",tenant:"Mandant",offices:"Bros",users:"Benutzer",status:"Status",actions:"Aktionen",new:"Neu",details:"Mandanten-Details",created:"Erstellt",updated:"Aktualisiert",suspended:"Gesperrt",active:"Aktiv",inactive:"Inaktiv",assigning:"Zuweisen...",assign:"Zuweisen"},XUe={title:"Benutzer",searchPlaceholder:"Suche nach E-Mail, Name oder Rolle...",refresh:"Aktualisieren",refreshTitle:"Benutzerliste aktualisieren",noUsersFound:"Keine Benutzer gefunden",loadingUsers:"Benutzer werden geladen...",name:"Name",phone:"Telefon",tenants:"Mandanten",offices:"Bros",role:"Rolle",status:"Status",auth0Id:"Auth0-ID",creationDate:"Erstellungsdatum",actions:"Aktionen",associatedTenants:"Zugeordnete Mandanten",associatedOffices:"Zugeordnete Bros",assignOfficeAndTenant:"Bro und Mandant zuordnen",administrator:"Administrator",user:"Benutzer",suspended:"Gesperrt",active:"Aktiv",inactive:"Inaktiv",viewDetails:"Details anzeigen",edit:"Bearbeiten",activate:"Aktivieren",suspend:"Sperren",delete:"Lschen",newUser:"Neuer Benutzer",editUser:"Benutzer bearbeiten",userDetails:"Benutzerdetails",email:"E-Mail",contactEmail:"Kontakt-E-Mail",auth0IdOptional:"Auth0-ID (optional)",auth0IdPlaceholder:"Wird automatisch generiert, wenn leer gelassen",created:"Erstellt",updated:"Aktualisiert",cancel:"Abbrechen",create:"Erstellen",creating:"Wird erstellt...",save:"Speichern",saving:"Wird gespeichert...",confirmDeletion:"Lschung besttigen",confirmDeletionMessage:'Sind Sie sicher, dass Sie den Benutzer "{{name}}" lschen mchten? Diese Aktion kann nicht rckgngig gemacht werden.',customerDetails:"Kundendetails",identification:"Identifikation",country:"Land",stateProvince:"Bundesland/Provinz",city:"Stadt",tenantCount:"Mandanten",userCount:"Benutzer",changeUserCustomer:"Kunde des Benutzers ndern",changeUserCustomerMessage:'Whlen Sie einen neuen Kunden fr den Benutzer "{{name}}". Beim ndern des Kunden werden auch das zugeordnete Bro und der Mandant aktualisiert.',currentCustomer:"Aktueller Kunde: {{name}}",changing:"Wird gendert...",changeCustomer:"Kunde ndern",assignTenantAndOffice:"Mandant und Bro zuordnen",initializeDefault:"Standard initialisieren",initializing:"Wird initialisiert...",initializeDefaultDescription:"Erstellt einen Standardkunden, Mandanten und Bro und ordnet sie diesem Benutzer zu",assigning:"Wird zugeordnet...",assign:"Zuordnen",noOfficesAvailableForTenant:"Keine Bros fr diesen Mandanten verfgbar",errorLoadingUsers:"Fehler beim Laden der Benutzer",errorCreatingUser:"Fehler beim Erstellen des Benutzers",errorSavingUser:"Fehler beim Speichern des Benutzers",errorDeletingUser:"Fehler beim Lschen des Benutzers",errorSuspendingUser:"Fehler beim Sperren des Benutzers",errorActivatingUser:"Fehler beim Aktivieren des Benutzers",errorLoadingCustomerDetails:"Fehler beim Laden der Kundendetails",errorOpeningChangeCustomerDialog:"Fehler beim ffnen des Dialogfelds zum ndern des Kunden",errorChangingUserCustomer:"Fehler beim ndern des Kunden des Benutzers",errorInitializingDefault:"Fehler beim Initialisieren der Standardeinstellungen",errorAssigningTenantAndOffice:"Fehler beim Zuordnen von Mandant und Bro",emailRequired:"E-Mail ist erforderlich",mustSelectCustomer:"Es muss ein Kunde ausgewhlt werden",sameCustomerSelected:"Der ausgewhlte Kunde ist derselbe wie der aktuelle",mustSelectTenant:"Es muss ein Mandant ausgewhlt werden",tenantNotFound:"Mandant nicht gefunden",noUserSelected:"Kein Benutzer ausgewhlt",noCountriesAvailable:"Keine Lnder verfgbar. Bitte kontaktieren Sie den Administrator.",errorCreatingCustomer:"Fehler beim Erstellen des Kunden: Ungltige Serverantwort",errorCreatingCustomerNoId:"Fehler beim Erstellen des Kunden: Keine gltige ID erhalten",couldNotCreateDefaultTenant:"Standard-Mandant konnte nicht erstellt werden",couldNotGetCreatedTenant:"Erstellter Mandant konnte nicht abgerufen werden"},ZUe={title:"Dev Cracks Backoffice",subtitle:"Melden Sie sich an, um auf das Administrationspanel zuzugreifen",signIn:"Anmelden"},KUe={title:"Einstellungen",generalSettings:"Allgemeine Einstellungen",generalSettingsDescription:"Allgemeine Systemeinstellungen",siteLogo:"Site-Logo (URL)",siteLogoPlaceholder:"https://example.com/logo.png",siteName:"Site-Name",siteNamePlaceholder:"Dev Cracks",siteUrl:"Site-URL",siteUrlPlaceholder:"https://devcracks.com",maintenanceMode:"Wartungsmodus",emailNotifications:"E-Mail-Benachrichtigungen",saveChanges:"nderungen speichern",saving:"Speichern...",shipmentCategories:"Versandkategorien",shipmentCategoriesDescription:"Verwalten Sie die Versandkategorien, die fr diesen Mandanten verfgbar sind",newCategory:"Neue Kategorie",editCategory:"Kategorie bearbeiten",categoryName:"Name",categoryNamePlaceholder:"Z.B: Dokument, Paket, etc.",categoryDescription:"Beschreibung",categoryDescriptionPlaceholder:"Kategoriebeschreibung eingeben",categoryStatus:"Status",categoryActions:"Aktionen",active:"Aktiv",inactive:"Inaktiv",activate:"Aktivieren",deactivate:"Deaktivieren",edit:"Bearbeiten",noCategories:"Keine Kategorien registriert",shipmentRates:"Versandtarife",shipmentRatesDescription:"Verwalten Sie die Versandtarife, die fr diesen Mandanten verfgbar sind",newRate:"Neuer Tarif",editRate:"Tarif bearbeiten",rateName:"Name",rateNamePlaceholder:"Z.B: Standard, Express, etc.",rateDescription:"Beschreibung",rateDescriptionPlaceholder:"Tarifbeschreibung eingeben",slaDays:"SLA (Tage)",baseCost:"Grundkosten",rateStatus:"Status",rateActions:"Aktionen",noRates:"Keine Tarife registriert",create:"Erstellen",update:"Aktualisieren",cancel:"Abbrechen",subscriptionTypes:"Abonnementtypen",subscriptionTypesDescription:"Verwalten Sie die im System verfgbaren Abonnementtypen",newSubscriptionType:"Neuer Typ",editSubscriptionType:"Abonnementtyp bearbeiten",subscriptionTypeName:"Name",subscriptionTypeNamePlaceholder:"Z.B: Basis, Premium, etc.",allowedModel:"Erlaubtes Modell",allowedModelPlaceholder:"OpenAI-Modell auswhlen",maxTokensPerMonth:"Max. Tokens/Monat",maxMessagesPerMonth:"Max. Nachrichten/Monat",maxTokensPerMessage:"Max. Tokens/Nachricht",pricePerMonth:"Monatspreis ()",features:"Funktionen",addFeature:"Hinzufgen",addFeaturePlaceholder:"Funktion hinzufgen",noSubscriptionTypes:"Keine Abonnementtypen registriert",model:"Modell",tokensPerMonth:"Tokens/Monat",messagesPerMonth:"Nachrichten/Monat",tokensPerMessage:"Tokens/Nachricht",price:"Preis/Monat",free:"Kostenlos",unlimited:""},YUe={title:"Versandanfragen",newRequest:"Neue Anfrage",searchPlaceholder:"Suche nach Fhrungsnummer, Kunde, Kontakt oder Adresse...",guideNumber:"Fhrungsnummer",customer:"Kunde",origin:"Ursprung",destination:"Ziel",contact:"Kontakt",showAllContacts:"Alle Kontakte anzeigen",hideAllContacts:"Alle Kontakte ausblenden",showContact:"Kontakt anzeigen",hideContact:"Kontakt ausblenden",requestDate:"Anfragedatum",estimatedDate:"Geschtztes Datum",print:"Drucken",label:"Etikett",noRequests:"Keine Anfragen registriert",errorInitializing:"Fehler beim Initialisieren der Seite",errorLoading:"Fehler beim Laden der Daten",errorUnknown:"Unbekannter Fehler",errorRendering:"Fehler beim Rendern der Seite",reloadPage:"Seite neu laden",errorGeneratingLabel:"Fehler beim Generieren des Etiketts",notAvailable:"N/V"},JUe={selectLanguage:"Sprache auswhlen"},QUe={title:"Einstellungen",searchPlaceholder:"Einstellungen suchen",close:"Schlieen",account:"Konto",general:"Allgemein",mail:"E-Mail",calendar:"Kalender",people:"Personen",languageAndTime:"Sprache und Zeit",appearance:"Darstellung",notifications:"Benachrichtigungen",accessibility:"Barrierefreiheit",distributionGroups:"Verteilungsgruppen",privacyAndData:"Datenschutz und Daten",search:"Suche",cantFindSettings:'Knnen Sie einige Ihrer allgemeinen Einstellungen nicht finden? Kategorien, mobile Gerte und Speicher wurden in die neue Registerkarte "Konto" verschoben.',clickHere:"Klicken Sie hier",toViewAccountTab:'um die neue Registerkarte "Konto" anzuzeigen.',syncAcrossMicrosoft365:"Synchronisierung in Microsoft 365",syncDescription:"Sie knnen Outlook mit denselben Einstellungen verwenden, die Sie in Ihren anderen Microsoft-Apps verwenden.",useMicrosoft365Settings:"Meine Microsoft 365-Einstellungen verwenden",viewManageMicrosoft365:"Ihre Microsoft 365-Einstellungen anzeigen und verwalten",outlookSettings:"Outlook-Einstellungen",languageCountryRegion:"Sprache (Land/Region)",dateFormat:"Datumsformat",dateFormatExample:"(z. B. wird der 1. September 2026 wie folgt angezeigt)",timeFormat:"Zeitformat",timeZone:"Zeitzone",change:"ndern",theme:"Design",chooseTheme:"Whlen Sie Ihr bevorzugtes Design",light:"Hell",dark:"Dunkel",system:"System",emailNotifications:"E-Mail-Benachrichtigungen",emailNotificationsDescription:"E-Mail-Benachrichtigungen fr wichtige Updates erhalten",browserNotifications:"Browser-Benachrichtigungen",browserNotificationsDescription:"Benachrichtigungen in Ihrem Browser anzeigen",myUserInformation:"Meine Informationen als Benutzer",myUserInformationDescription:"Informationen zu Ihrem Benutzerkonto",myCustomerInformation:"Meine Informationen als Kunde",myCustomerInformationDescription:"Informationen zu Ihrem Kundenkonto",name:"Name",email:"E-Mail",contactEmail:"Kontakt-E-Mail",phone:"Telefon",role:"Rolle",status:"Status",userId:"Benutzer-ID",customerId:"Kunden-ID",identification:"Identifikation",country:"Land",stateProvince:"Bundesland/Provinz",city:"Stadt",parentCustomer:"Hauptkunde",administrator:"Administrator",user:"Benutzer",active:"Aktiv",inactive:"Inaktiv",suspended:"Gesperrt",notSpecified:"Nicht angegeben",loadingCustomerInfo:"Kundeninformationen werden geladen...",couldNotLoadUserInfo:"Benutzerinformationen konnten nicht geladen werden",couldNotLoadCustomerInfo:"Kundeninformationen konnten nicht geladen werden",configurationFor:"Konfigurationsoptionen fr",willBeAvailable:"werden hier verfgbar sein."},e8e={title:"Benachrichtigungen",markAllAsRead:"Alle als gelesen markieren",noNotifications:"Keine Benachrichtigungen",viewAllNotifications:"Alle Benachrichtigungen anzeigen",dismiss:"Verwerfen",allNotifications:"Alle Benachrichtigungen",close:"Schlieen",newUserRegistered:"Neuer Benutzer registriert",newUserRegisteredMessage:"Ein neuer Benutzer wurde im System registriert",systemUpdate:"Systemaktualisierung",systemUpdateMessage:"Die Systemaktualisierung wurde erfolgreich abgeschlossen",securityWarning:"Sicherheitswarnung",securityWarningMessage:"Ein unbefugter Zugriffsversuch wurde erkannt",timeAgo:{justNow:"Gerade eben",minutesAgo:"Vor {{count}} Minute",minutesAgo_plural:"Vor {{count}} Minuten",hoursAgo:"Vor {{count}} Stunde",hoursAgo_plural:"Vor {{count}} Stunden",daysAgo:"Vor {{count}} Tag",daysAgo_plural:"Vor {{count}} Tagen"}},t8e={dashboard:LUe,layout:DUe,ribbonBar:OUe,ribbonMenu:FUe,customers:UUe,offices:qUe,subscriptions:HUe,common:VUe,jarvis:WUe,userAccount:GUe,tenants:$Ue,users:XUe,login:ZUe,settings:KUe,shipments:YUe,languageSelector:JUe,settingsDialog:QUe,notifications:e8e},n8e={title:"Tableau de bord",welcome:"Bienvenue, {{name}}!",refresh:"Actualiser",refreshTree:"Actualiser l'arbre",customers:"Clients",customersDescription:"Total des clients dans le systme",tenants:"Locataires",tenantsDescription:"Total des locataires dans le systme",users:"Utilisateurs",usersDescription:"Total des utilisateurs dans le systme",offices:"Bureaux",officesDescription:"Total des bureaux dans le systme",officeMap:"Carte des bureaux",officeMapDescription:"Emplacement de tous les bureaux sur la carte",hierarchicalStructure:"Structure hirarchique",hierarchicalStructureDescription:"Clients, locataires, bureaux et utilisateurs organiss hirarchiquement",recentActivity:"Activit rcente",recentActivityDescription:"Dernires activits du systme",recentActivityEmpty:"L'activit rcente apparatra ici...",loadingMap:"Chargement de la carte...",noOfficesAvailable:"Aucun bureau disponible  afficher sur la carte",loadingHierarchicalStructure:"Chargement de la structure hirarchique...",noDataAvailable:"Aucune donne disponible  afficher"},r8e={mainMenu:"Menu principal",dashboard:"Tableau de bord",customers:"Clients",tenants:"Locataires",offices:"Bureaux",shipments:"Expditions",users:"Utilisateurs",settings:"Paramtres",subscriptions:"Abonnements"},i8e={search:"Rechercher",new:"Nouveau",calendar:"Calendrier",notifications:"Notifications",settings:"Paramtres"},o8e={file:"Fichier",view:"Vue",help:"Aide",new:"Nouveau",open:"Ouvrir",save:"Enregistrer",settings:"Paramtres",refresh:"Actualiser",toggleSidebar:"Basculer la barre latrale",documentation:"Documentation",about:" propos"},a8e={title:"Clients",searchPlaceholder:"Rechercher par nom, identification ou pays...",refresh:"Actualiser",refreshTitle:"Actualiser la liste des clients",tableView:"Vue tableau",interactiveView:"Vue interactive",noCustomersFound:"Aucun client trouv",dragToRoot:"Glissez ici pour convertir en client racine (sans parent)",loadingCustomers:"Chargement des clients...",reorderingCustomer:"Rorganisation du client...",new:"Nouveau",level:"Niveau",name:"Nom",identification:"Identification",country:"Pays",city:"Ville",phone:"Tlphone",email:"Courriel",tenants:"Locataires",offices:"Bureaux",users:"Utilisateurs",status:"Statut",actions:"Actions",rootCustomer:"Client racine",suspended:"Suspendu",active:"Actif",inactive:"Inactif",viewDetails:"Voir les dtails",edit:"Modifier",addOffice:"Ajouter un bureau",addTenant:"Ajouter un locataire",viewUsers:"Voir les utilisateurs",sendNotification:"Envoyer une notification",assignToCustomer:"Assigner  un autre client",activate:"Activer",suspend:"Suspendre",delete:"Supprimer",contactData:"Donnes de contact",phoneLabel:"Tlphone :",emailLabel:"Courriel :",cityLabel:"Ville :",addressLabel:"Adresse :",customerUsers:"Utilisateurs du client",loadingUsers:"Chargement des utilisateurs...",interactiveViewTitle:"Vue interactive : Clients  Locataires  Utilisateurs",interactiveViewLevel:"Niveau : Clients (1)  Locataires (2)  Utilisateurs (3)",loadingInteractiveView:"Chargement de la vue interactive...",noDataForInteractiveView:"Aucune donne disponible  afficher dans la vue interactive",details:"Dtails du client",skipDefaultStructure:"Ignorer la cration de structure par dfaut",skipDefaultStructureMessage:"Le locataire, le bureau et l'utilisateur par dfaut ne seront pas crs.",createDefaultTenantMessage:"Un locataire par dfaut sera automatiquement cr pour ce client.",hasParent:"Le nouveau client sera un enfant d'un autre client",parentCustomer:"Client parent",detailsTab:"Dtails",tenantsTab:"Locataires",officesTab:"Bureaux",usersTab:"Utilisateurs",newOffice:"Nouveau bureau",newTenant:"Nouveau locataire",newUser:"Nouvel utilisateur",assignTenant:"Assigner un locataire",selectTenant:"Slectionner un locataire",loadingTenants:"Chargement des locataires...",selectTenantPlaceholder:"Slectionnez un locataire",noTenantsAvailable:"Aucun locataire disponible  assigner. Tous les locataires existants sont dj assigns  d'autres clients.",tenantNamePlaceholder:"Nom du locataire",addressPlaceholder:"Adresse",postalCodePlaceholder:"Code postal",userEmailPlaceholder:"E-mail de l'utilisateur",userNamePlaceholder:"Nom d'utilisateur",contactEmailPlaceholder:"E-mail de contact",auth0IdOptional:"ID Auth0 (optionnel)",auth0IdPlaceholder:"Sera gnr automatiquement si laiss vide",assigning:"Assignation...",assign:"Assigner"},s8e={title:"Bureaux",searchPlaceholder:"Rechercher par nom, client, adresse ou ville...",refresh:"Actualiser",refreshTitle:"Actualiser la liste des bureaux",tableView:"Vue tableau",interactiveView:"Vue interactive",noOfficesFound:"Aucun bureau trouv",loadingOffices:"Chargement des bureaux...",loadingInteractiveView:"Chargement de la vue interactive...",noDataForInteractiveView:"Aucune donne disponible  afficher dans la vue interactive",interactiveViewTitle:"Vue interactive : Bureaux  Utilisateurs",name:"Nom",country:"Pays",city:"Ville",contactData:"Donnes de contact",location:"Emplacement",customers:"Clients",tenants:"Locataires",users:"Utilisateurs",status:"Statut",actions:"Actions",viewEditLocation:"Voir/Modifier l'emplacement",addLocation:"Ajouter un emplacement",associatedCustomers:"Clients associs",new:"Nouveau",userName:"Nom",userEmail:"Courriel",userRole:"Rle",userStatus:"Statut",namePlaceholder:"Nom du bureau",selectCountry:"Slectionner un pays",edit:"Modifier le bureau",details:"Dtails du bureau",detailsTab:"Dtails",usersTab:"Utilisateurs",tenantDetails:"Dtails du locataire",customerDetails:"Dtails du client"},l8e={title:"Gestion des abonnements",newSubscription:"Nouvel abonnement",searchPlaceholder:"Rechercher par type d'abonnement ou client...",filterByCustomer:"Filtrer par client",allCustomers:"Tous les clients",refresh:"Actualiser",loadingSubscriptions:"Chargement des abonnements...",noSubscriptionsFound:"Aucun abonnement trouv",customer:"Client",subscriptionType:"Type d'abonnement",model:"Modle",status:"Statut",startDate:"Date de dbut",tokenUsage:"Utilisation des tokens",messageUsage:"Utilisation des messages",actions:"Actions",active:"Actif",inactive:"Inactif",selectCustomer:"Slectionner un client",selectSubscriptionType:"Slectionner un type d'abonnement",startDateLabel:"Date de dbut"},c8e={networkError:"Erreur rseau : Impossible de se connecter au serveur",requestTimeout:"Dlai d'attente de la requte",notAvailable:"N/D",close:"Fermer",loading:"Chargement...",error:"Erreur",success:"Succs",confirmClose:"tes-vous sr de vouloir fermer ? Les donnes non enregistres seront perdues.",confirmCancel:"tes-vous sr de vouloir annuler ? Les donnes non enregistres seront perdues.",confirmCancelChanges:"tes-vous sr de vouloir annuler ? Les modifications non enregistres seront perdues.",editTenant:"Modifier le locataire",editUser:"Modifier l'utilisateur",editCustomer:"Modifier le client",editOffice:"Modifier le bureau",officeDetails:"Dtails du bureau",address:"Adresse",city:"Ville",stateProvince:"tat/Province",postalCode:"Code postal",phone:"Tlphone",email:"E-mail",created:"Cr",updated:"Mis  jour",suspended:"Suspendu",active:"Actif",inactive:"Inactif"},u8e={title:"Jarvis - Assistant IA",openChat:"Ouvrir le chat Jarvis",close:"Fermer",monthlyUsage:"Utilisation mensuelle",tokens:"Tokens",messages:"Messages",greeting:"Bonjour, je suis Jarvis",greetingDescription:"Je peux vous aider  consulter des informations, rsoudre des problmes de logistique et analyser les donnes du systme. Comment puis-je vous aider?",thinking:"Jarvis rflchit...",placeholder:"Tapez votre message...",send:"Envoyer",sendMessage:"Envoyer le message",errorSending:"Erreur lors de l'envoi du message. Veuillez ressayer.",limit95:"Vous avez atteint 95% de votre limite mensuelle. Envisagez de mettre  niveau votre abonnement.",limit90:"Vous avez atteint 90% de votre limite mensuelle.",limit80:"Vous avez atteint 80% de votre limite mensuelle.",contactSupport:"Veuillez contacter le support pour activer ou mettre  jour votre abonnement."},d8e={signOut:"Se dconnecter",viewAccount:"Voir le compte",openAnotherMailbox:"Ouvrir une autre bote aux lettres",otherAccounts:"Autres comptes",signInDifferent:"Se connecter avec un compte diffrent"},f8e={title:"Locataires",searchPlaceholder:"Rechercher par nom ou client...",refresh:"Actualiser",refreshTitle:"Actualiser la liste des locataires",tableView:"Vue tableau",interactiveView:"Vue interactive",noTenantsFound:"Aucun locataire trouv",loadingTenants:"Chargement des locataires...",loadingInteractiveView:"Chargement de la vue interactive...",noDataForInteractiveView:"Aucune donne disponible  afficher dans la vue interactive",interactiveViewTitle:"Vue interactive : Locataires  Utilisateurs",name:"Nom",customer:"Client",offices:"Bureaux",users:"Utilisateurs",status:"Statut",actions:"Actions",new:"Nouveau"},h8e={title:"Utilisateurs",searchPlaceholder:"Rechercher par e-mail, nom ou rle...",refresh:"Actualiser",refreshTitle:"Actualiser la liste des utilisateurs",noUsersFound:"Aucun utilisateur trouv",loadingUsers:"Chargement des utilisateurs...",name:"Nom",phone:"Tlphone",tenants:"Locataires",offices:"Bureaux",role:"Rle",status:"Statut",auth0Id:"ID Auth0",creationDate:"Date de cration",actions:"Actions",associatedTenants:"Locataires associs",associatedOffices:"Bureaux associs",assignOfficeAndTenant:"Assigner un bureau et un locataire",administrator:"Administrateur",user:"Utilisateur",suspended:"Suspendu",active:"Actif",inactive:"Inactif",viewDetails:"Voir les dtails",edit:"Modifier",activate:"Activer",suspend:"Suspendre",delete:"Supprimer",newUser:"Nouvel utilisateur",editUser:"Modifier l'utilisateur",userDetails:"Dtails de l'utilisateur",email:"Courriel",contactEmail:"Courriel de contact",auth0IdOptional:"ID Auth0 (optionnel)",auth0IdPlaceholder:"Sera gnr automatiquement si laiss vide",created:"Cr",updated:"Mis  jour",cancel:"Annuler",create:"Crer",creating:"Cration...",save:"Enregistrer",saving:"Enregistrement...",confirmDeletion:"Confirmer la suppression",confirmDeletionMessage:`tes-vous sr de vouloir supprimer l'utilisateur "{{name}}"? Cette action ne peut pas tre annule.`,customerDetails:"Dtails du client",identification:"Identification",country:"Pays",stateProvince:"tat/Province",city:"Ville",tenantCount:"Locataires",userCount:"Utilisateurs",changeUserCustomer:"Changer le client de l'utilisateur",changeUserCustomerMessage:`Slectionnez un nouveau client pour l'utilisateur "{{name}}". Lors du changement de client, le bureau et le locataire associs seront galement mis  jour.`,currentCustomer:"Client actuel : {{name}}",changing:"Changement...",changeCustomer:"Changer le client",assignTenantAndOffice:"Assigner un locataire et un bureau",noOfficesForTenant:"Aucun bureau disponible pour ce locataire",initializeDefault:"Initialiser par dfaut",initializing:"Initialisation...",initializeDefaultDescription:"Cre un client, un locataire et un bureau par dfaut et les assigne  cet utilisateur",assigning:"Assignation...",assign:"Assigner",selectUserToAssign:"Slectionner un utilisateur  assigner",noOfficesAvailableForTenant:"Aucun bureau disponible pour ce locataire",errorLoadingUsers:"Erreur lors du chargement des utilisateurs",errorCreatingUser:"Erreur lors de la cration de l'utilisateur",errorSavingUser:"Erreur lors de l'enregistrement de l'utilisateur",errorDeletingUser:"Erreur lors de la suppression de l'utilisateur",errorSuspendingUser:"Erreur lors de la suspension de l'utilisateur",errorActivatingUser:"Erreur lors de l'activation de l'utilisateur",errorLoadingCustomerDetails:"Erreur lors du chargement des dtails du client",errorOpeningChangeCustomerDialog:"Erreur lors de l'ouverture de la bote de dialogue de changement de client",errorChangingUserCustomer:"Erreur lors du changement de client de l'utilisateur",errorInitializingDefault:"Erreur lors de l'initialisation par dfaut",errorAssigningTenantAndOffice:"Erreur lors de l'assignation du locataire et du bureau",emailRequired:"Le courriel est requis",mustSelectCustomer:"Vous devez slectionner un client",sameCustomerSelected:"Le client slectionn est le mme que l'actuel",mustSelectTenant:"Vous devez slectionner un locataire",tenantNotFound:"Locataire non trouv",noUserSelected:"Aucun utilisateur slectionn",noCountriesAvailable:"Aucun pays disponible. Veuillez contacter l'administrateur.",errorCreatingCustomer:"Erreur lors de la cration du client : rponse du serveur invalide",errorCreatingCustomerNoId:"Erreur lors de la cration du client : aucun ID valide reu",couldNotCreateDefaultTenant:"Impossible de crer le locataire par dfaut",couldNotGetCreatedTenant:"Impossible d'obtenir le locataire cr"},p8e={title:"Dev Cracks Backoffice",subtitle:"Connectez-vous pour accder au panneau d'administration",signIn:"Se connecter"},m8e={title:"Paramtres",generalSettings:"Paramtres gnraux",generalSettingsDescription:"Paramtres gnraux du systme",siteLogo:"Logo du site (URL)",siteLogoPlaceholder:"https://example.com/logo.png",siteName:"Nom du site",siteNamePlaceholder:"Dev Cracks",siteUrl:"URL du site",siteUrlPlaceholder:"https://devcracks.com",maintenanceMode:"Mode maintenance",emailNotifications:"Notifications par e-mail",saveChanges:"Enregistrer les modifications",saving:"Enregistrement...",shipmentCategories:"Catgories d'expdition",shipmentCategoriesDescription:"Grer les catgories d'expdition disponibles pour ce locataire",newCategory:"Nouvelle catgorie",editCategory:"Modifier la catgorie",categoryName:"Nom",categoryNamePlaceholder:"Ex: Document, Colis, etc.",categoryDescription:"Description",categoryDescriptionPlaceholder:"Entrez la description de la catgorie",categoryStatus:"Statut",categoryActions:"Actions",active:"Actif",inactive:"Inactif",activate:"Activer",deactivate:"Dsactiver",edit:"Modifier",noCategories:"Aucune catgorie enregistre",shipmentRates:"Tarifs d'expdition",shipmentRatesDescription:"Grer les tarifs d'expdition disponibles pour ce locataire",newRate:"Nouveau tarif",editRate:"Modifier le tarif",rateName:"Nom",rateNamePlaceholder:"Ex: Standard, Express, etc.",rateDescription:"Description",rateDescriptionPlaceholder:"Entrez la description du tarif",slaDays:"SLA (jours)",baseCost:"Cot de base",rateStatus:"Statut",rateActions:"Actions",noRates:"Aucun tarif enregistr",create:"Crer",update:"Mettre  jour",cancel:"Annuler",subscriptionTypes:"Types d'abonnement",subscriptionTypesDescription:"Grer les types d'abonnement disponibles dans le systme",newSubscriptionType:"Nouveau type",editSubscriptionType:"Modifier le type d'abonnement",subscriptionTypeName:"Nom",subscriptionTypeNamePlaceholder:"Ex: Basique, Premium, etc.",allowedModel:"Modle autoris",allowedModelPlaceholder:"Slectionner le modle OpenAI",maxTokensPerMonth:"Tokens max/mois",maxMessagesPerMonth:"Messages max/mois",maxTokensPerMessage:"Tokens max/message",pricePerMonth:"Prix mensuel ()",features:"Caractristiques",addFeature:"Ajouter",addFeaturePlaceholder:"Ajouter une caractristique",noSubscriptionTypes:"Aucun type d'abonnement enregistr",model:"Modle",tokensPerMonth:"Tokens/mois",messagesPerMonth:"Messages/mois",tokensPerMessage:"Tokens/message",price:"Prix/mois",free:"Gratuit",unlimited:""},g8e={title:"Demandes d'expdition",newRequest:"Nouvelle demande",searchPlaceholder:"Rechercher par numro de guide, client, contact ou adresse...",guideNumber:"Numro de guide",customer:"Client",origin:"Origine",destination:"Destination",contact:"Contact",showAllContacts:"Afficher tous les contacts",hideAllContacts:"Masquer tous les contacts",showContact:"Afficher le contact",hideContact:"Masquer le contact",requestDate:"Date de demande",estimatedDate:"Date estime",print:"Imprimer",label:"tiquette",noRequests:"Aucune demande enregistre",errorInitializing:"Erreur lors de l'initialisation de la page",errorLoading:"Erreur lors du chargement des donnes",errorUnknown:"Erreur inconnue",errorRendering:"Erreur lors du rendu de la page",reloadPage:"Recharger la page",errorGeneratingLabel:"Erreur lors de la gnration de l'tiquette",notAvailable:"N/D"},v8e={selectLanguage:"Slectionner la langue"},y8e={title:"Paramtres",searchPlaceholder:"Rechercher des paramtres",close:"Fermer",account:"Compte",general:"Gnral",mail:"Courrier",calendar:"Calendrier",people:"Personnes",languageAndTime:"Langue et heure",appearance:"Apparence",notifications:"Notifications",accessibility:"Accessibilit",distributionGroups:"Groupes de distribution",privacyAndData:"Confidentialit et donnes",search:"Recherche",cantFindSettings:'Vous ne trouvez pas certains de vos paramtres gnraux ? Catgories, Appareils mobiles et Stockage ont t dplacs vers le nouvel onglet "Compte".',clickHere:"Cliquez ici",toViewAccountTab:'pour voir le nouvel onglet "Compte".',syncAcrossMicrosoft365:"Synchroniser dans Microsoft 365",syncDescription:"Vous pouvez choisir d'utiliser Outlook avec les mmes paramtres que vos autres applications Microsoft.",useMicrosoft365Settings:"Utiliser mes paramtres Microsoft 365",viewManageMicrosoft365:"Afficher et grer vos paramtres Microsoft 365",outlookSettings:"Paramtres Outlook",languageCountryRegion:"Langue (Pays/Rgion)",dateFormat:"Format de date",dateFormatExample:"(par exemple, le 1er septembre 2026 s'affiche comme suit)",timeFormat:"Format d'heure",timeZone:"Fuseau horaire",change:"Modifier",theme:"Thme",chooseTheme:"Choisissez votre thme prfr",light:"Clair",dark:"Sombre",system:"Systme",emailNotifications:"Notifications par e-mail",emailNotificationsDescription:"Recevoir des notifications par e-mail pour les mises  jour importantes",browserNotifications:"Notifications du navigateur",browserNotificationsDescription:"Afficher les notifications dans votre navigateur",myUserInformation:"Mes informations en tant qu'utilisateur",myUserInformationDescription:"Informations de votre compte utilisateur",myCustomerInformation:"Mes informations en tant que client",myCustomerInformationDescription:"Informations de votre compte client",name:"Nom",email:"E-mail",contactEmail:"E-mail de contact",phone:"Tlphone",role:"Rle",status:"Statut",userId:"ID utilisateur",customerId:"ID client",identification:"Identification",country:"Pays",stateProvince:"tat/Province",city:"Ville",parentCustomer:"Client parent",administrator:"Administrateur",user:"Utilisateur",active:"Actif",inactive:"Inactif",suspended:"Suspendu",notSpecified:"Non spcifi",loadingCustomerInfo:"Chargement des informations client...",couldNotLoadUserInfo:"Impossible de charger les informations utilisateur",couldNotLoadCustomerInfo:"Impossible de charger les informations client",configurationFor:"Les options de configuration pour",willBeAvailable:"seront disponibles ici."},b8e={title:"Notifications",markAllAsRead:"Tout marquer comme lu",noNotifications:"Aucune notification",viewAllNotifications:"Voir toutes les notifications",dismiss:"Rejeter",allNotifications:"Toutes les notifications",close:"Fermer",newUserRegistered:"Nouvel utilisateur enregistr",newUserRegisteredMessage:"Un nouvel utilisateur a t enregistr dans le systme",systemUpdate:"Mise  jour du systme",systemUpdateMessage:"La mise  jour du systme a t complte avec succs",securityWarning:"Avertissement de scurit",securityWarningMessage:"Une tentative d'accs non autoris a t dtecte",timeAgo:{justNow:" l'instant",minutesAgo:"Il y a {{count}} minute",minutesAgo_plural:"Il y a {{count}} minutes",hoursAgo:"Il y a {{count}} heure",hoursAgo_plural:"Il y a {{count}} heures",daysAgo:"Il y a {{count}} jour",daysAgo_plural:"Il y a {{count}} jours"}},x8e={dashboard:n8e,layout:r8e,ribbonBar:i8e,ribbonMenu:o8e,customers:a8e,offices:s8e,subscriptions:l8e,common:c8e,jarvis:u8e,userAccount:d8e,tenants:f8e,users:h8e,login:p8e,settings:m8e,shipments:g8e,languageSelector:v8e,settingsDialog:y8e,notifications:b8e},_8e={title:"",welcome:"{{name}}",refresh:"",refreshTree:"",customers:"",customersDescription:"",tenants:"",tenantsDescription:"",users:"",usersDescription:"",offices:"",officesDescription:"",officeMap:"",officeMapDescription:"",hierarchicalStructure:"",hierarchicalStructureDescription:"",recentActivity:"",recentActivityDescription:"",recentActivityEmpty:"...",loadingMap:"...",noOfficesAvailable:"",loadingHierarchicalStructure:"...",noDataAvailable:""},w8e={mainMenu:"",dashboard:"",customers:"",tenants:"",offices:"",shipments:"",users:"",settings:"",subscriptions:""},S8e={search:"",new:"",calendar:"",notifications:"",settings:""},C8e={file:"",view:"",help:"",new:"",open:"",save:"",settings:"",refresh:"",toggleSidebar:"",documentation:"",about:""},T8e={title:"",searchPlaceholder:"...",refresh:"",refreshTitle:"",tableView:"",interactiveView:"",noCustomersFound:"",dragToRoot:"",loadingCustomers:"...",reorderingCustomer:"...",new:"",level:"",name:"",identification:"",country:"",city:"",phone:"",email:"",tenants:"",offices:"",users:"",status:"",actions:"",rootCustomer:"",suspended:"",active:"",inactive:"",viewDetails:"",edit:"",addOffice:"",addTenant:"",viewUsers:"",sendNotification:"",assignToCustomer:"",activate:"",suspend:"",delete:"",contactData:"",phoneLabel:"",emailLabel:"",cityLabel:"",addressLabel:"",customerUsers:"",loadingUsers:"...",interactiveViewTitle:"    ",interactiveViewLevel:" (1)   (2)   (3)",loadingInteractiveView:"...",noDataForInteractiveView:"",details:"",skipDefaultStructure:"",skipDefaultStructureMessage:"",createDefaultTenantMessage:"",hasParent:"",parentCustomer:"",detailsTab:"",tenantsTab:"",officesTab:"",usersTab:"",newOffice:"",newTenant:"",newUser:"",assignTenant:"",selectTenant:"",loadingTenants:"...",selectTenantPlaceholder:"",noTenantsAvailable:"",tenantNamePlaceholder:"",addressPlaceholder:"",postalCodePlaceholder:"",userEmailPlaceholder:"",userNamePlaceholder:"",contactEmailPlaceholder:"",auth0IdOptional:"Auth0 ID",auth0IdPlaceholder:"",assigning:"...",assign:""},k8e={title:"",searchPlaceholder:"...",refresh:"",refreshTitle:"",tableView:"",interactiveView:"",noOfficesFound:"",loadingOffices:"...",loadingInteractiveView:"...",noDataForInteractiveView:"",interactiveViewTitle:"  ",name:"",country:"",city:"",contactData:"",location:"",customers:"",tenants:"",users:"",status:"",actions:"",viewEditLocation:"/",addLocation:"",associatedCustomers:"",new:"",userName:"",userEmail:"",userRole:"",userStatus:""},E8e={title:"",newSubscription:"",searchPlaceholder:"...",filterByCustomer:"",allCustomers:"",refresh:"",loadingSubscriptions:"...",noSubscriptionsFound:"",customer:"",subscriptionType:"",model:"",status:"",startDate:"",tokenUsage:"",messageUsage:"",actions:"",active:"",inactive:"",selectCustomer:"",selectSubscriptionType:"",startDateLabel:""},M8e={networkError:"",requestTimeout:"",notAvailable:"",close:"",loading:"...",error:"",success:"",confirmClose:"",confirmCancel:"",confirmCancelChanges:"",editTenant:"",editUser:"",editCustomer:"",editOffice:"",officeDetails:"",address:"",city:"",stateProvince:"/",postalCode:"",phone:"",email:"",created:"",updated:"",suspended:"",active:"",inactive:""},A8e={title:"Jarvis - AI",openChat:"Jarvis",close:"",monthlyUsage:"",tokens:"",messages:"",greeting:"Jarvis",greetingDescription:"",thinking:"Jarvis...",placeholder:"...",send:"",sendMessage:"",errorSending:"",limit95:"95%",limit90:"90%",limit80:"80%",contactSupport:""},N8e={signOut:"",viewAccount:"",openAnotherMailbox:"",otherAccounts:"",signInDifferent:""},P8e={title:"",searchPlaceholder:"...",refresh:"",refreshTitle:"",tableView:"",interactiveView:"",noTenantsFound:"",loadingTenants:"...",loadingInteractiveView:"...",noDataForInteractiveView:"",interactiveViewTitle:"  ",name:"",customer:"",tenant:"",offices:"",users:"",status:"",actions:"",new:"",details:"",created:"",updated:"",suspended:"",active:"",inactive:"",assigning:"...",assign:""},B8e={title:"",searchPlaceholder:"...",refresh:"",refreshTitle:"",noUsersFound:"",loadingUsers:"...",name:"",phone:"",tenants:"",offices:"",role:"",status:"",auth0Id:"Auth0 ID",creationDate:"",actions:"",associatedTenants:"",associatedOffices:"",assignOfficeAndTenant:"",administrator:"",user:"",suspended:"",active:"",inactive:"",viewDetails:"",edit:"",activate:"",suspend:"",delete:"",newUser:"",editUser:"",userDetails:"",email:"",contactEmail:"",auth0IdOptional:"Auth0 ID",auth0IdPlaceholder:"",created:"",updated:"",cancel:"",create:"",creating:"...",save:"",saving:"...",confirmDeletion:"",confirmDeletionMessage:' "{{name}}" ',customerDetails:"",identification:"",country:"",stateProvince:"/",city:"",tenantCount:"",userCount:"",changeUserCustomer:"",changeUserCustomerMessage:' "{{name}}" ',currentCustomer:"{{name}}",changing:"...",changeCustomer:"",assignTenantAndOffice:"",initializeDefault:"",initializing:"...",initializeDefaultDescription:"",assigning:"...",assign:"",noOfficesForTenant:"",selectUserToAssign:"",errorLoadingUsers:"",errorCreatingUser:"",errorSavingUser:"",errorDeletingUser:"",errorSuspendingUser:"",errorActivatingUser:"",errorLoadingCustomerDetails:"",errorOpeningChangeCustomerDialog:"",errorChangingUserCustomer:"",errorInitializingDefault:"",errorAssigningTenantAndOffice:"",emailRequired:"",mustSelectCustomer:"",sameCustomerSelected:"",mustSelectTenant:"",tenantNotFound:"",noUserSelected:"",noCountriesAvailable:"",errorCreatingCustomer:"",errorCreatingCustomerNoId:"ID",couldNotCreateDefaultTenant:"",couldNotGetCreatedTenant:""},R8e={title:"Dev Cracks Backoffice",subtitle:"",signIn:""},j8e={title:"",generalSettings:"",generalSettingsDescription:"",siteLogo:" (URL)",siteLogoPlaceholder:"https://example.com/logo.png",siteName:"",siteNamePlaceholder:"Dev Cracks",siteUrl:" URL",siteUrlPlaceholder:"https://devcracks.com",maintenanceMode:"",emailNotifications:"",saveChanges:"",saving:"...",shipmentCategories:"",shipmentCategoriesDescription:"",newCategory:"",editCategory:"",categoryName:"",categoryNamePlaceholder:"",categoryDescription:"",categoryDescriptionPlaceholder:"",categoryStatus:"",categoryActions:"",active:"",inactive:"",activate:"",deactivate:"",edit:"",noCategories:"",shipmentRates:"",shipmentRatesDescription:"",newRate:"",editRate:"",rateName:"",rateNamePlaceholder:"",rateDescription:"",rateDescriptionPlaceholder:"",slaDays:"SLA ()",baseCost:"",rateStatus:"",rateActions:"",noRates:"",create:"",update:"",cancel:"",subscriptionTypes:"",subscriptionTypesDescription:"",newSubscriptionType:"",editSubscriptionType:"",subscriptionTypeName:"",subscriptionTypeNamePlaceholder:"",allowedModel:"",allowedModelPlaceholder:" OpenAI ",maxTokensPerMonth:"",maxMessagesPerMonth:"",maxTokensPerMessage:"",pricePerMonth:" ()",features:"",addFeature:"",addFeaturePlaceholder:"",noSubscriptionTypes:"",model:"",tokensPerMonth:"/",messagesPerMonth:"/",tokensPerMessage:"/",price:"/",free:"",unlimited:""},I8e={title:"",newRequest:"",searchPlaceholder:"...",guideNumber:"",customer:"",origin:"",destination:"",contact:"",showAllContacts:"",hideAllContacts:"",showContact:"",hideContact:"",requestDate:"",estimatedDate:"",print:"",label:"",noRequests:"",errorInitializing:"",errorLoading:"",errorUnknown:"",errorRendering:"",reloadPage:"",errorGeneratingLabel:"",notAvailable:""},z8e={selectLanguage:""},L8e={title:"",searchPlaceholder:"",close:"",account:"",general:"",mail:"",calendar:"",people:"",languageAndTime:"",appearance:"",notifications:"",accessibility:"",distributionGroups:"",privacyAndData:"",search:"",cantFindSettings:'""',clickHere:"",toViewAccountTab:'""',syncAcrossMicrosoft365:" Microsoft 365 ",syncDescription:" Outlook Microsoft ",useMicrosoft365Settings:" Microsoft 365 ",viewManageMicrosoft365:" Microsoft 365 ",outlookSettings:"Outlook ",languageCountryRegion:"/",dateFormat:"",dateFormatExample:"202691",timeFormat:"",timeZone:"",change:"",theme:"",chooseTheme:"",light:"",dark:"",system:"",emailNotifications:"",emailNotificationsDescription:"",browserNotifications:"",browserNotificationsDescription:"",myUserInformation:"",myUserInformationDescription:"",myCustomerInformation:"",myCustomerInformationDescription:"",name:"",email:"",contactEmail:"",phone:"",role:"",status:"",userId:"ID",customerId:"ID",identification:"",country:"",stateProvince:"/",city:"",parentCustomer:"",administrator:"",user:"",active:"",inactive:"",suspended:"",notSpecified:"",loadingCustomerInfo:"...",couldNotLoadUserInfo:"",couldNotLoadCustomerInfo:"",configurationFor:"",willBeAvailable:""},D8e={title:"",markAllAsRead:"",noNotifications:"",viewAllNotifications:"",dismiss:"",allNotifications:"",close:"",newUserRegistered:"",newUserRegisteredMessage:"",systemUpdate:"",systemUpdateMessage:"",securityWarning:"",securityWarningMessage:"",timeAgo:{justNow:"",minutesAgo:"{{count}} ",minutesAgo_plural:"{{count}} ",hoursAgo:"{{count}} ",hoursAgo_plural:"{{count}} ",daysAgo:"{{count}} ",daysAgo_plural:"{{count}} "}},O8e={dashboard:_8e,layout:w8e,ribbonBar:S8e,ribbonMenu:C8e,customers:T8e,offices:k8e,subscriptions:E8e,common:M8e,jarvis:A8e,userAccount:N8e,tenants:P8e,users:B8e,login:R8e,settings:j8e,shipments:I8e,languageSelector:z8e,settingsDialog:L8e,notifications:D8e},F8e={en:{common:DFe,backoffice:gUe},es:{common:p4e,backoffice:zUe},de:{common:V4e,backoffice:t8e},fr:{common:x6e,backoffice:x8e},zh:{common:K6e,backoffice:O8e}},U8e=qxe(F8e,"backoffice"),q8e=({children:e})=>l.jsx(Bbe,{i18n:U8e,children:e});console.log("Backoffice starting...",{domain:Ql.domain,clientId:"***configured***",redirectUri:Ql.authorizationParams.redirect_uri});dE.createRoot(document.getElementById("root")).render(l.jsx(Hd.StrictMode,{children:l.jsx(q8e,{children:l.jsx(qY,{domain:Ql.domain,clientId:Ql.clientId,authorizationParams:Ql.authorizationParams,cacheLocation:"localstorage",useRefreshTokens:!0,onRedirectCallback:e=>{console.log("Auth0 redirect callback",e)},skipRedirectCallback:!1,children:l.jsx(_9,{theme:Gre,children:l.jsx(Obe,{children:l.jsx(Fbe,{children:l.jsx(w1e,{children:l.jsx(lFe,{})})})})})})})}));
